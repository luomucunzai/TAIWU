using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Linq;
using System.Text;
using Config;
using Config.ConfigCells;
using Config.ConfigCells.Character;
using GameData.ArchiveData;
using GameData.Combat.Math;
using GameData.Common;
using GameData.Common.Binary;
using GameData.Common.SingleValueCollection;
using GameData.DLC;
using GameData.DLC.FiveLoong;
using GameData.DLC.Shared;
using GameData.Dependencies;
using GameData.DomainEvents;
using GameData.Domains.Adventure;
using GameData.Domains.Building;
using GameData.Domains.Building.SamsaraPlatformRecord;
using GameData.Domains.Building.ShopEvent;
using GameData.Domains.Character;
using GameData.Domains.Character.Ai;
using GameData.Domains.Character.Ai.PrioritizedAction;
using GameData.Domains.Character.AvatarSystem;
using GameData.Domains.Character.Display;
using GameData.Domains.Character.Relation;
using GameData.Domains.Character.Relation.RelationTree;
using GameData.Domains.Combat;
using GameData.Domains.CombatSkill;
using GameData.Domains.Global;
using GameData.Domains.Information;
using GameData.Domains.Item;
using GameData.Domains.Item.Display;
using GameData.Domains.Item.Filters;
using GameData.Domains.LegendaryBook;
using GameData.Domains.LifeRecord;
using GameData.Domains.Map;
using GameData.Domains.Merchant;
using GameData.Domains.Organization;
using GameData.Domains.Organization.Display;
using GameData.Domains.Organization.SettlementPrisonRecord;
using GameData.Domains.Organization.SettlementTreasuryRecord;
using GameData.Domains.Organization.TaiwuVillageStoragesRecord;
using GameData.Domains.SpecialEffect;
using GameData.Domains.SpecialEffect.CombatSkill;
using GameData.Domains.Taiwu;
using GameData.Domains.Taiwu.Debate;
using GameData.Domains.Taiwu.Profession;
using GameData.Domains.Taiwu.Profession.SkillsData;
using GameData.Domains.Taiwu.VillagerRole;
using GameData.Domains.TaiwuEvent;
using GameData.Domains.TaiwuEvent.Enum;
using GameData.Domains.TaiwuEvent.EventHelper;
using GameData.Domains.TaiwuEvent.MonthlyEventActions;
using GameData.Domains.World;
using GameData.Domains.World.MonthlyEvent;
using GameData.Domains.World.Notification;
using GameData.Domains.World.SectMainStory;
using GameData.Domains.World.Task;
using GameData.Domains.World.TravelingEvent;
using GameData.GameDataBridge;
using GameData.Serializer;
using GameData.Utilities;
using NLog;
using Redzen.Random;
using TaiwuModdingLib.Core.Utils;

namespace GameData.Domains.Extra;

[GameDataDomain(19)]
public class ExtraDomain : BaseGameDataDomain
{
	private static readonly Logger Logger = LogManager.GetCurrentClassLogger();

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private bool _isDreamBack;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, AbridgedCharacter> _abridgedDreamBackCharacters;

	[DomainData(DomainDataType.Binary, true, false, true, false)]
	private ReadonlyLifeRecords _dreamBackLifeRecords;

	[DomainData(DomainDataType.Binary, true, false, false, false)]
	private readonly RawDataBlock _dreamBackArchiveBackup;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private ulong _dreamBackUnlockStates;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private AbridgedCharacter _overwrittenTaiwu;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private GenealogyObsoleted _dreamBackGenealogyObsoleted;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private Genealogy _dreamBackGenealogy;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<short, ConflictCombatSkill> _conflictCombatSkills;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<long, SpecialEffectWrapper> _conflictEffectWrappers;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private AbridgedCharacter _dreamBackTaiwu;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private int _finalDateBeforeDreamBack;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private EventArgBox _dreamBackGlobalEventArgBox;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private EventArgBox _dreamBackDlcEventArgBox;

	[DomainData(DomainDataType.ElementList, true, false, false, false, ArrayElementsCount = 15)]
	private EventArgBox[] _dreamBackSectMainStoryEventArgBox;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private List<int> _dreamBackPreviousTaiwuCharIds;

	[DomainData(DomainDataType.Binary, true, false, false, false)]
	private RawDataBlock _killedByYufuCharactersBinary;

	private CrossArchiveGameData _unhandledCrossArchiveGameData;

	private RelatedCharacters _dreamBackRelatedCharacters;

	private RelatedCharactersForRelations _dreamBackRelatedCharsForRelations;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private int _actionPointCurrMonth;

	private Dictionary<int, (int, int)> _caravanActionPointTransfer = new Dictionary<int, (int, int)>();

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, IntPair> _taiwuAddOneWayRelationCoolDown;

	private const int MonthsMonthNotificationsKept = 12;

	private const int TaiwuAddOneWayRelationCoolDown = 3;

	private const int BaseActionPointPerMonth = 300;

	[Obsolete]
	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private int _actionPointPrevMonth;

	[Obsolete]
	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private int _actionPointPreserved;

	private const int MaxNormalAnimalInArea = 12;

	public static readonly List<List<short>> AnimalCharIdGroups = new List<List<short>>
	{
		new List<short> { 213, 222 },
		new List<short> { 214, 223 },
		new List<short> { 211, 220 },
		new List<short> { 216, 225 },
		new List<short> { 217, 226 },
		new List<short> { 210, 219 },
		new List<short> { 212, 221 },
		new List<short> { 215, 224 },
		new List<short> { 218, 227 }
	};

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, GameData.Domains.Character.Animal> _animals;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private int _nextAnimalId;

	public Dictionary<short, Dictionary<short, List<int>>> LocationAnimalMap = new Dictionary<short, Dictionary<short, List<int>>>();

	public Dictionary<ItemKey, int> ItemKeyAnimalMap = new Dictionary<ItemKey, int>();

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<ulong, ArtisanOrder> _buildingArtisanOrders;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, ArtisanOrder> _npcArtisanOrders;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<int> _stoneRoomCharList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _autoWorkBlockIndexList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _autoSoldBlockIndexList;

	[Obsolete]
	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _shopArrangeResultFirstList;

	[Obsolete]
	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _autoExpandBlockIndexList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _autoCheckInResidenceList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _autoCheckInComfortableList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<sbyte> _xiangshuIdInKungfuPracticeRoom;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _legaciesBuildingTemplateIdList;

	[Obsolete]
	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<BuildingBlockKey> _legaciesBuildingList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<int> _unlockedWorkingVillagers;

	[Obsolete]
	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, GameData.Utilities.ShortList> _villageWorkQualificationImprove;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, GameData.Utilities.ShortList> _shopVillagerQualificationImprove;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<ulong, int> _buildingMoneyPrestigeSuccessRateCompensation;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<ulong, RecruitCharacterDataList> _recruitCharacterDataLists;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<CricketCollectionData> _cricketCollectionDataList;

	[DomainData(DomainDataType.Binary, true, false, true, true)]
	private readonly SamsaraPlatformRecordCollection _samsaraPlatformRecordCollection;

	private int _samsaraPlatformRecordCommittedOffset;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<ulong, BuildingBlockDataEx> _buildingBlockDataEx;

	[DomainData(DomainDataType.SingleValue, true, false, true, true, ArrayElementsCount = 9)]
	private BuildingOptionAutoGiveMemberPreset[] _buildingArrangementSettingPresetData;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, sbyte> _taiwuVillagerPotentialData;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, BuildingResourceOutputSetting> _buildingResourceOutputSettings;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _woodenXiangshuAvatarSelectedFeatures;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<Location, SerializableList<BuildingAreaEffectProgress>> _buildingAreaEffectProgresses;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private BuildingDefaultStoreLocation _buildingDefaultStoreLocation;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<sbyte, sbyte> _taiwuVillageVowOrgTemplateCrossArchiveDict;

	private List<(sbyte templateId, sbyte level)> TaiwuVillageVowOrgTemplateIdList = new List<(sbyte, sbyte)>();

	private static readonly List<ItemSourceType> ResourceBuildingItemSources = new List<ItemSourceType>
	{
		ItemSourceType.Inventory,
		ItemSourceType.Warehouse,
		ItemSourceType.Treasury
	};

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, short> _caravanStayDays;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, CaravanExtraData> _caravanExtraDataDict;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private int _protectCaravanTime;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, int> _carrierTamePoint;

	[Obsolete]
	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, Location> _fleeCarrierLocation;

	private const int FleeTamePointLimitation = 90;

	private const int BetrayDivider = 2;

	private const int TamePointIncrementMin = 1;

	private const int TamePointIncrementMax = 11;

	private const int TamePointIncrementAdvanceMonth = 10;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<IntPair, int> _worldCharacterExtraTitles;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, AiActionAdjusts> _characterAiActionRestrictions;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private CharacterSet _dejaVuEventCharacters;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, ulong> _extraExternalRelationStates;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, AiExtraActionCooldowns> _characterAiActionCooldowns;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, PrioritizedActionCooldownList> _characterPrioritizedActionCooldowns;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<IntPair, int> _characterTemporaryFeatures;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, DarkAshCounterData> _characterDarkAshCounterData;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private int _fuyuFaith;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<IntPair, AiActionAdjusts> _characterAiActionSuccessRateAdjusts;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private readonly Dictionary<int, IntList> _characterExtraNeiliAllocationProgress;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<IntPair, int> _taiwuInteractionCooldowns;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly HashSetAsDictionary<int> _savedSouls;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, int> _characterCustomDisplayNames;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, AvatarData> _characterAvatarSnapshot;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, AvatarExtraData> _characterAvatarExtraDataDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<short, int> _pregeneratedFixedEnemies;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, byte> _characterPoisonImmunities;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, ShortPair> _characterRevealedHobbies;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<IntPair, int> _mixedPoisonEffectTriggerDates;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, int> _characterConsummateLevelProgresses;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, CharacterSet> _characterSpecialGroup;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, CharacterCombatSkillConfiguration> _characterCombatSkillConfigurations;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, CombatSkillPlan> _characterEquippedCombatSkills;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, FollowMovementInfo> _followMovementCharacters;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, Inventory> _taiwuGiftItems;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<CombatSkillKey, SerializableList<SkillBreakPlateBonus>> _characterSkillBreakBonuses;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private int KongsangCharacterFeaturePoisonedProb;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, short> _dyingCharacters;

	private const string DyingCharacterHandlerSuffix = "DyingHandler";

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<RelationKey, ushort> _removedSpecialRelations;

	private static readonly List<sbyte> TeammateCommandNormal = new List<sbyte>();

	private static readonly Dictionary<sbyte, sbyte> TeammateCommandAdvanceMapping = new Dictionary<sbyte, sbyte>();

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, SByteList> _charTeammateCommandDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, SByteList> _advancedTeammateCommandDict;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<int> _changedTeammateCharIds;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, int> _nicknameDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, int> _choosyRemainUpgradeRateDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, int> _choosyRemainUpgradeCountDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private readonly HashSetAsDictionary<short> _ownedClothingSet;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, short> _clothingDisplayModifications;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private WeaveClothingDisplaySetting _weaveClothingDisplaySetting;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private sbyte _changeTrickIndex;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private sbyte _changeTrickBodyPart;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private bool _changeTrickIsFlaw;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private bool _enemyUnyieldingFallen;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private bool _disableEnemyAi;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private short _lastTargetDistance;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private bool _exorcismEnabled;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, GameData.Utilities.ShortList> _characterMasteredCombatSkills;

	[DomainData(DomainDataType.ElementList, true, false, false, false, ArrayElementsCount = 9)]
	private readonly GameData.Utilities.ShortList[] _masteredCombatSkillPlans;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private Dictionary<short, short> _combatSkillJumpThreshold;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private byte _unlockedCombatSkillPlanCount;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<CombatSkillKey, int> _combatSkillProficiencies;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly HashSetAsDictionary<short> _proficiencyEnoughSkills;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<int> _exchangedSpecialWeaponList;

	private const sbyte CricketSmartOdds = 20;

	private const sbyte CricketIdentifyRequireWinCount = 20;

	private const sbyte CricketUpgradeRequireWinCount = 100;

	private static readonly Dictionary<ECricketPartsType, List<short>> CricketUpgradeRandomPool = new Dictionary<ECricketPartsType, List<short>>
	{
		[ECricketPartsType.Cyan] = new List<short> { 14, 11, 18 },
		[ECricketPartsType.Yellow] = new List<short> { 2, 4, 13, 16 },
		[ECricketPartsType.Purple] = new List<short> { 12, 6 },
		[ECricketPartsType.Red] = new List<short> { 1, 7, 15, 20 },
		[ECricketPartsType.Black] = new List<short> { 10, 9, 21 },
		[ECricketPartsType.White] = new List<short> { 3, 5, 8, 17, 19 }
	};

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, bool> _cricketIsSmart;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, bool> _cricketIsIdentified;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private Dictionary<int, short> _cricketExtraAge;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private int _lastCricketPlanIndex;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private List<CricketCombatPlan> _cricketCombatPlans;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private int _taiwuSelectedDebateCardType;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private EventArgBox _dlcArgBox;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private Dictionary<ulong, EventArgBox> _dlcArgBoxes;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private Dictionary<ulong, DlcEntryWrapper> _dlcEntries;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<DreamBackLocationData> _dreamBackLocationData;

	private Dictionary<int, short> _dreamBackLifeRecordsTaiwuRelatedCharacters;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly HashSetAsDictionary<int> _handledOneShotEvents;

	[DomainData(DomainDataType.ElementList, true, false, false, false, ArrayElementsCount = 15)]
	private readonly EventArgBox[] _sectMainStoryEventArgBoxes;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<ulong, GameData.Domains.Building.Feast> _feasts;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _unlockedFeastTypes;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<int> _followingNpcList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private readonly Dictionary<int, int> _followingNickNameMap;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, SecretInformationCharacterUsedCount> _characterSecretInformationUsedCounts;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, Location> _secretInformationOccurredLocations;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private readonly SortedSetAsDictionary<int> _secretInformationBroadcastList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, SecretInformationShopCharacterData> _secretInformationShopCharacterData;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private TaiwuInformationReceivedHistories _taiwuInformationReceivedHistories;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, LoveDataItem> _loveDataDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly HashSetAsDictionary<int> _previousLoverSet;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly HashSetAsDictionary<int> _confessLoveFailedSet;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<ItemKey, LoveTokenDataItem> _loveTokenDataDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, FullPoisonEffects> _fullPoisonEffects;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<TemplateKey, int> _itemPriceFluctuation;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<JiaoPool> _jiaoPools;

	[DomainData(DomainDataType.SingleValue, false, false, true, true)]
	private IntPair _jiaoPoolStatus;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, GameData.DLC.FiveLoong.Jiao> _jiaos;

	private readonly HashSet<int> _jiaoFostered = new HashSet<int>();

	private readonly Dictionary<ItemKey, int> _jiaoKeyToId = new Dictionary<ItemKey, int>();

	private readonly Dictionary<int, int> _jiaoEvolutionChoice = new Dictionary<int, int>();

	private readonly Dictionary<int, List<short>> _jiaoEvolutionPool = new Dictionary<int, List<short>>();

	private readonly Dictionary<GameData.DLC.FiveLoong.Jiao, ItemSourceType> _taiwuJiaos = new Dictionary<GameData.DLC.FiveLoong.Jiao, ItemSourceType>();

	private const int JiaoFleeRequiredFosterMonth = 3;

	private const int QualifiedPropertyMaxPercent = 75;

	private const int JiaoFleeLocationStep = 3;

	private const int BabysitAggressiveTamePointRequired = 75;

	private const int BabysitNegativeTamePointRequired = 50;

	private const int ActionPointConsumedWhenPetting = 100;

	private static readonly int[] PropertyToChildrenOfLoong = new int[9] { 2, 5, 3, 6, 1, 8, 4, 0, 7 };

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<JiaoPoolRecordList> _jiaoPoolRecords;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, int> _legendaryBookShockedMonths;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private readonly Dictionary<sbyte, IntPair> _prevLegendaryBookOwnerCopies;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private CharacterSet _legendaryBookConsumedCharIds;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<sbyte, CharacterSet> _contestForLegendaryBookChars;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private CharacterSet _legendaryBookHiddenCharIds;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private sbyte _firstLegendaryBookDelay;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<sbyte, CharacterSet> _previousLegendaryBookOwners;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<sbyte, LifeSkillCombatCardCollection> _lifeSkillCombatCardDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<sbyte, LifeSkillCombatCardCollection> _lifeSkillCombatUsedCardDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<short, LifeSkillCombatReadBookPageData> _lifeSkillCombatReadBookPageDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<sbyte, LifeSkillCombatCardCollection> _lifeSkillCombatNewCardDict;

	private LifeSkillCombatCardCollection _aiLifeSkillCombatCard;

	private int _aiCharId;

	private const int PrimaryUsedCardCount = 18;

	private const int MiddleUsedCardCount = 9;

	private const int HighUsedCardCount = 3;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly HashSetAsDictionary<Location> _locationMarkHashSet;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, ChildrenOfLoong> _childrenOfLoong;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, LoongInfo> _fiveLoongDict;

	private Dictionary<ItemKey, int> _childrenOfLoongKeyToId = new Dictionary<ItemKey, int>();

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private int _stationInited;

	[DomainData(DomainDataType.Binary, true, false, true, true)]
	private TravelingEventCollection _travelingEventCollection;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private List<short> _prevTriggeredTravelingEvents;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<ItemKey> _gainsInTravel;

	[Obsolete]
	[DomainData(DomainDataType.ElementList, true, false, true, false, ArrayElementsCount = 139)]
	private AnimalAreaData[] _animalAreaData;

	[Obsolete]
	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private List<HunterAnimalKeyBroken> _hunterAnimals;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private List<IntList> _enemyNestInitializationDates;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<Location, int> _blockRecoveryUnlockDates;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<short, int> _areaSpiritualDebt;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<short, CricketPlaceExtraData> _cricketPlaceExtraData;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private bool _isDirectTraveling;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private KidnappedTravelData _kidnappedTravelData;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<Location, MapPickupCollection> _pickupDict;

	private int _travelingEventsCommittedOffset;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, sbyte> _merchantCharToType;

	[Obsolete("use new archive data MerchantExtraGoodsData instead, do not delete this")]
	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, MerchantExtraGoods> _merchantCharToExtraGoods;

	[Obsolete]
	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<sbyte, Debts> _merchantTypeToDebts;

	[Obsolete]
	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, MerchantBuyBackDebt> _merchantBuyBackDict;

	[Obsolete]
	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, MerchantBuyBackDebt> _caravanBuyBackDict;

	[Obsolete]
	[DomainData(DomainDataType.ElementList, true, false, true, true, ArrayElementsCount = 7)]
	private MerchantBuyBackDebt[] _merchantMaxLevelBuyBackData;

	[DomainData(DomainDataType.ElementList, true, false, true, true, ArrayElementsCount = 7)]
	private MerchantOverFavorData[] _merchantOverFavorDataArray;

	[DomainData(DomainDataType.ElementList, true, false, true, true, ArrayElementsCount = 7)]
	private MerchantData[] _branchMerchantData;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, MerchantExtraGoodsData> _merchantExtraGoods;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<int, MonthlyNotificationCollection> _previousMonthlyNotifications;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private int _lastMonthNotificationsIndex;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, NotificationSortingGroup> _monthlyNotificationSortingGroups;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private List<MaxApprovingRateTempBonus> _maxApprovingRateTemporaryBonus;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private List<short> _prevMartialArtTournamentWinners;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, SettlementTreasuryRecordCollection> _settlementTreasuryRecordCollections;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, SettlementPrisonRecordCollection> _settlementPrisonRecordCollections;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, VillagerRoleWrapper> _villagerRoles;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private VillagerRoleRecords _villagerRoleRecords;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, ulong> _villagerRoleAutoActionStates;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private readonly Dictionary<short, int> _villagerRoleNickNameMap;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<short, int> _villagerRoleMaxUnlockCounts;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, sbyte> _villagerLastInfluencePowerGrade;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, VillagerTreasuryNeed> _villagerTreasuryNeeds;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<short, IntList> _taiwuWantedFirstInteractOrganizationMember;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<short, SerializableList<PunishmentSeverityCustomizeData>> _cityPunishmentSeverityCustomizeDict;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private sbyte _farmerAutoCollectStorageType;

	[Obsolete]
	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, ObsoleteProfessionData> _obsoleteTaiwuProfessions;

	[Obsolete]
	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private int _taiwuCurrProfessionId;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private readonly Dictionary<int, ProfessionData> _taiwuProfessions;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private TaiwuProfessionSkillSlots _taiwuProfessionSkillSlots;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly HashSetAsDictionary<IntPair> _triggeredAddSeniorityPoints;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, ProfessionDataList> _characterProfessions;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private bool _isExtraProfessionSkillUnlocked;

	public bool NoProfessionChangeCoolDown;

	public bool NoProfessionSkillCooldown;

	public bool NoProfessionSkillCost;

	public List<int> ProfessionSkillUnlockedCache;

	public Dictionary<Location, List<short>> MartialArtistCreateRandomEnemyDict;

	private readonly Dictionary<int, int> _addingProfessionSeniorityData = new Dictionary<int, int>();

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<ulong, ResourceBlockExtraData> _resourceBlockExtraData;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, SecretInformationOccurrence> _secretInformationOccurrence;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, SecretInformationHandle> _secretInformationHandleMap;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, IntList> _secretInformationCharacterOwn;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, SecretInformationCharacterRelationshipSnapshotCollection> _secretInformationCharacterRelationshipSnapshotCollectionMap;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<int, SecretInformationCharacterExtraInfoCollection> _secretInformationSecretInformationCharacterExtraInfoCollectionMap;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<SecretInformationBroadcastTipsData> _secretInformationBroadcastNotifyList;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<SecretInformationBroadcastTipsExtraData> _secretInformationBroadcastNotifyExtraList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<sbyte> _informationSettings;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<Location> _sectXuehouBloodLightLocations;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private SectShaolinDemonSlayerData _sectShaolinDemonSlayerData;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<SectStoryFairyland> _sectWudangFairylandData;

	[Obsolete("Use _sectWudangHeavenlyTreeList instead.")]
	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private SectStoryHeavenlyTree _sectWudangHeavenlyTree;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<SectStoryHeavenlyTreeExtendable> _sectWudangHeavenlyTreeList;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<Location> _sectWudangLingBaoLight;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<Location> _sectWudangLingBaoDark;

	[DomainData(DomainDataType.ElementList, true, false, false, false, ArrayElementsCount = 3)]
	[Obsolete("This field is deprecated and will be removed in the future, but is kept for compatibility purposes.")]
	private long[] _sectYuanshanDemonEffectIds;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<int> _shixiangBarbarianMasterIdList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private long _sectEmeiExp;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<short, SectEmeiBreakBonusData> _sectEmeiBreakBonusData;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<short, SkillBreakBonusCollection> _sectEmeiSkillBreakBonus;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<short, GameData.Utilities.ShortList> _sectEmeiBreakBonusTemplateIds;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<Location> _sectEmeiBloodLocations;

	private readonly HashSet<int> _sectEmeiInsaneCharacterIds = new HashSet<int>();

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _sectXuannvUnlockedMusicList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private bool _sectXuannvPlayerIsEnabled;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private short _sectXuannvPlayerMusicId = -1;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private sbyte _sectXuannvPlayerPlayMode;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<int, int> _mirrorCharacters;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _sectXuannvEvaluatedMusicList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private SectWuxianWugJugData _sectWuxianWugJugPoisons;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, PossessionData> _sectJingangPossessionCharacters;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<SectStoryThreeCorpsesCharacter> _sectRanshanThreeCorpses;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private SectBaihuaLifeLinkData _sectBaihuaLifeLinkData;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, IntList> _sectFulongOrgMemberChickens;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<int> _sectFulongLoseFeatherChickens;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<FulongInFlameArea> _sectFulongInFlameAreas;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, IntPair> _sectFulongOutLaws;

	private IntPair _sectFulongOutLawInEvent;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, GearMate> _sectZhujianGearMates;

	private int _sectZhujianLastTimeAccessGearMateRepairCount = 0;

	private Dictionary<int, GearMateRepairCount> _sectZhujianGearMateRepairCount = new Dictionary<int, GearMateRepairCount>();

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<SectStoryThiefData> _sectZhujianThiefList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, sbyte> _sectZhujianAreaMerchantTypeDict;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private SectStorySpecialMerchant _sectStorySpecialMerchant;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<SectStoryThreeVitalsCharacter> _sectYuanshanThreeVitals;

	private int _sectYuanshanCurrentVitalIndex;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<short, SerializableList<SettlementMemberFeature>> _settlementMemberFeatures;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<short, SettlementPrison> _settlementPrisons;

	public const int OldAreaSpiritualDebtUpper = 1000;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	[Obsolete]
	private readonly Dictionary<short, SettlementExtraData> _settlementExtraData;

	[Obsolete]
	private readonly Dictionary<short, ResourceInts> _settlementSupportingBlockResourceTotal = new Dictionary<short, ResourceInts>();

	[DomainData(DomainDataType.SingleValueCollection, false, false, true, true)]
	[Obsolete]
	private readonly Dictionary<Location, ResourceInts> _locationSupportingBlockResourceTotal = new Dictionary<Location, ResourceInts>();

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private CharacterSet _manualChangeEquipGroupCharIds;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, SByteList> _hideSkeletonEquipSlots;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<int, GameData.Utilities.ShortList> _combatSkillOrderPlans;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private sbyte _voiceWeaponInnerRatio;

	private int _listeningTaiwuCharId = -1;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<int> _readingEventBookIdList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	[Obsolete]
	private Dictionary<int, GameData.Utilities.ShortList> _readingEventReferenceBooks;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<short, IntPair> _clearedSkillPlateStepInfo;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, GameData.Domains.Taiwu.SkillBreakPlate> _skillBreakPlates;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private NeiliAllocation _taiwuMaxNeiliAllocation;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private sbyte _readInLifeSkillCombatCount;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private Dictionary<int, EquipmentPlan> _groupCharacterEquipmentRecord;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private ItemKey _emptyToolKey;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private Dictionary<ItemKey, IntList> _bookStrategiesExpireTime;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private short _activeLoopingProgress;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private short _activeReadingProgress;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	[Obsolete]
	private List<sbyte> _qiArtStrategyList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, SByteList> _qiArtStrategyMap;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	[Obsolete]
	private List<int> _qiArtStrategyExpireTimeList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, IntList> _qiArtStrategyExpireTimeMap;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _loopingEventSkillIdList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, SByteList> _availableQiArtStrategyMap;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<short> _referenceSkillList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, SByteList> _availableReadingStrategyMap;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private sbyte _loopInLifeSkillCombatCount;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private sbyte _loopInCombatCount;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private List<int> _interactedCharacterList;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private bool _hasGetShuiHuoYingQiGongSkillBookByArchiveFix;

	[Obsolete]
	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, sbyte> _friendOrFamilyInteractionCooldownDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<short, int> _taiwuExtraBonuses;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private readonly Dictionary<short, CharacterPropertyBonus> _taiwuPropertyPermanentBonuses;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private List<short> _selectedUniqueLegacies;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, short> _legacyPointTimesDict;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<int, int> _villagerSkillLegacyPointDict;

	private const sbyte MaxBreakPlateCountPerSkill = 3;

	private const sbyte LegendaryBookSkillSlotCount = 9;

	private const sbyte LegendaryBookSingleBranchBonusCount = 12;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<sbyte, sbyte> _legendaryBookBreakPlateCounts;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private Dictionary<short, SkillBreakPlateList> _combatSkillBreakPlateList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<short, SkillBreakPlateObsoleteList> _combatSkillBreakPlateObsoleteList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<short, IntList> _combatSkillBreakPlateLastClearTimeList;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<short, IntList> _combatSkillBreakPlateLastForceBreakoutStepsCount;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<short, sbyte> _combatSkillCurrBreakPlateIndex;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<sbyte, ItemKey> _legendaryBookWeaponSlot;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<sbyte, long> _legendaryBookWeaponEffectId;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<sbyte, GameData.Utilities.ShortList> _legendaryBookSkillSlot;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, false)]
	private Dictionary<sbyte, LongList> _legendaryBookSkillEffectId;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private SByteList _legendaryBookBonusCountYin;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private SByteList _legendaryBookBonusCountYang;

	private (sbyte skillType, bool isYin, GameData.Domains.Character.Character enemyChar) _unlockCombatInfo;

	private bool _keepLegendaryWeaponSlotOnItemRemovedFlag;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<TaskData> _extraTriggeredTasks;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private List<int> _taskSortingOrder;

	[DomainData(DomainDataType.ElementList, true, false, true, false, ArrayElementsCount = 90)]
	private TreasureMaterialData[] _brokenAreaMaterials;

	[DomainData(DomainDataType.SingleValue, true, false, false, false)]
	private int _treasureMaterialFailedTimes;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<short, SettlementTreasury> _settlementTreasuries;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private readonly Dictionary<short, SettlementLayeredTreasuries> _settlementLayeredTreasuries;

	[Obsolete("Data of it is transferred to _stockStorage. Now it only exists for fixing archive data. ")]
	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<ItemKey, int> _treasuryItems;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	private readonly Dictionary<ItemKey, int> _troughItems;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private TaiwuVillageStorage _stockStorage;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	[Obsolete]
	private TaiwuVillageStorage _craftStorage;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	[Obsolete]
	private TaiwuVillageStorage _medicineStorage;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	[Obsolete]
	private TaiwuVillageStorage _foodStorage;

	[DomainData(DomainDataType.SingleValue, true, false, true, true)]
	private TaiwuVillageStoragesRecordCollection _taiwuVillageStoragesRecordCollection;

	[DomainData(DomainDataType.SingleValueCollection, true, false, false, false)]
	[Obsolete]
	private Dictionary<sbyte, VillagerRoleActionSetting> _taiwuVillageStorageSettingDict;

	[DomainData(DomainDataType.SingleValue, true, false, true, false)]
	private GameVersionInfo _worldVersionInfo;

	[DomainData(DomainDataType.SingleValue, true, false, true, true, IsCompressed = false)]
	private byte _readingDifficulty;

	[DomainData(DomainDataType.SingleValue, true, false, true, true, IsCompressed = false)]
	private byte _breakoutDifficulty;

	[DomainData(DomainDataType.SingleValue, true, false, true, true, IsCompressed = false)]
	private byte _loopingDifficulty;

	[DomainData(DomainDataType.SingleValue, true, false, true, true, IsCompressed = false)]
	private byte _enemyPracticeLevel;

	[DomainData(DomainDataType.SingleValue, true, false, true, true, IsCompressed = false)]
	private byte _favorabilityChange;

	[DomainData(DomainDataType.SingleValue, true, false, true, true, IsCompressed = false)]
	private bool _canResetWorldSettings;

	[DomainData(DomainDataType.SingleValue, true, false, true, true, IsCompressed = false)]
	private byte _professionUpgrade;

	[DomainData(DomainDataType.SingleValue, true, false, true, true, IsCompressed = false)]
	private short _lootYield;

	[DomainData(DomainDataType.SingleValueCollection, true, false, true, true)]
	private Dictionary<short, BigEventRecord> _bigEvents;

	private static readonly DataInfluence[][] CacheInfluences = new DataInfluence[314][];

	private SingleValueCollectionModificationCollection<int> _modificationsCharacterSecretInformationUsedCounts = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsSecretInformationOccurredLocations = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsSecretInformationBroadcastList = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsCaravanStayDays = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsMerchantCharToType = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsMerchantCharToExtraGoods = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsHideSkeletonEquipSlots = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsCombatSkillOrderPlans = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<Location> _modificationsLocationMarkHashSet = SingleValueCollectionModificationCollection<Location>.Create();

	private BinaryModificationCollection _modificationsTravelingEventCollection = BinaryModificationCollection.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsLifeSkillCombatCardDict = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsLifeSkillCombatUsedCardDict = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsLifeSkillCombatReadBookPageDict = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsLifeSkillCombatNewCardDict = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsNicknameDict = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsLegendaryBookBreakPlateCounts = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsLegendaryBookWeaponSlot = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsLegendaryBookWeaponEffectId = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsLegendaryBookSkillSlot = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsLegendaryBookSkillEffectId = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsPrevLegendaryBookOwnerCopies = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsLegendaryBookShockedMonths = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsCombatSkillBreakPlateLastClearTimeList = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsCombatSkillCurrBreakPlateIndex = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsCombatSkillBreakPlateObsoleteList = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsLoveDataDict = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsPreviousLoverSet = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsConfessLoveFailedSet = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<ItemKey> _modificationsLoveTokenDataDict = SingleValueCollectionModificationCollection<ItemKey>.Create();

	private static readonly DataInfluence[][] CacheInfluencesAnimalAreaData = new DataInfluence[139][];

	private readonly byte[] _dataStatesAnimalAreaData = new byte[35];

	private static readonly DataInfluence[][] CacheInfluencesSectMainStoryEventArgBoxes = new DataInfluence[15][];

	private readonly byte[] _dataStatesSectMainStoryEventArgBoxes = new byte[4];

	private static readonly DataInfluence[][] CacheInfluencesBrokenAreaMaterials = new DataInfluence[90][];

	private readonly byte[] _dataStatesBrokenAreaMaterials = new byte[23];

	private static readonly DataInfluence[][] CacheInfluencesSectYuanshanDemonEffectIds = new DataInfluence[3][];

	private readonly byte[] _dataStatesSectYuanshanDemonEffectIds = new byte[1];

	private static readonly DataInfluence[][] CacheInfluencesMasteredCombatSkillPlans = new DataInfluence[9][];

	private readonly byte[] _dataStatesMasteredCombatSkillPlans = new byte[3];

	private SingleValueCollectionModificationCollection<short> _modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsReadingEventReferenceBooks = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsMerchantTypeToDebts = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsMerchantBuyBackDict = SingleValueCollectionModificationCollection<int>.Create();

	private static readonly DataInfluence[][] CacheInfluencesMerchantMaxLevelBuyBackData = new DataInfluence[7][];

	private readonly byte[] _dataStatesMerchantMaxLevelBuyBackData = new byte[2];

	private SingleValueCollectionModificationCollection<int> _modificationsCaravanBuyBackDict = SingleValueCollectionModificationCollection<int>.Create();

	private BinaryModificationCollection _modificationsDreamBackLifeRecords = BinaryModificationCollection.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsPreviousMonthlyNotifications = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsVillageWorkQualificationImprove = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsMirrorCharacters = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsCharacterRevealedHobbies = SingleValueCollectionModificationCollection<int>.Create();

	private static readonly DataInfluence[][] CacheInfluencesDreamBackSectMainStoryEventArgBox = new DataInfluence[15][];

	private readonly byte[] _dataStatesDreamBackSectMainStoryEventArgBox = new byte[4];

	private SingleValueCollectionModificationCollection<short> _modificationsTaiwuPropertyPermanentBonuses = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsTaiwuAddOneWayRelationCoolDown = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsCarrierTamePoint = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsFleeCarrierLocation = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsSettlementExtraData = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsJiaos = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsChildrenOfLoong = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsFiveLoongDict = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsChoosyRemainUpgradeRateDict = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsChoosyRemainUpgradeCountDict = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<ulong> _modificationsBuildingMoneyPrestigeSuccessRateCompensation = SingleValueCollectionModificationCollection<ulong>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsOwnedClothingSet = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<Location> _modificationsLocationSupportingBlockResourceTotal = SingleValueCollectionModificationCollection<Location>.Create();

	private SingleValueCollectionModificationCollection<ulong> _modificationsRecruitCharacterDataLists = SingleValueCollectionModificationCollection<ulong>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsSectJingangPossessionCharacters = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<IntPair> _modificationsMixedPoisonEffectTriggerDates = SingleValueCollectionModificationCollection<IntPair>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsAnimals = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsSettlementTreasuries = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsCharacterExtraNeiliAllocationProgress = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsLegacyPointTimesDict = SingleValueCollectionModificationCollection<short>.Create();

	private BinaryModificationCollection _modificationsSamsaraPlatformRecordCollection = BinaryModificationCollection.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsAvailableReadingStrategyMap = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsAvailableQiArtStrategyMap = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsQiArtStrategyMap = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsQiArtStrategyExpireTimeMap = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsSettlementTreasuryRecordCollections = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsMonthlyNotificationSortingGroups = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsSectEmeiBreakBonusData = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsFollowingNickNameMap = SingleValueCollectionModificationCollection<int>.Create();

	private static readonly DataInfluence[][] CacheInfluencesMerchantOverFavorDataArray = new DataInfluence[7][];

	private readonly byte[] _dataStatesMerchantOverFavorDataArray = new byte[2];

	private SingleValueCollectionModificationCollection<short> _modificationsSettlementPrisons = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsSectFulongOrgMemberChickens = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsSectFulongOutLaws = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsSettlementPrisonRecordCollections = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsVillagerRoleNickNameMap = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsBuildingResourceOutputSettings = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsAreaSpiritualDebt = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsTaiwuProfessions = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsCricketPlaceExtraData = SingleValueCollectionModificationCollection<short>.Create();

	private static readonly DataInfluence[][] CacheInfluencesBranchMerchantData = new DataInfluence[7][];

	private readonly byte[] _dataStatesBranchMerchantData = new byte[2];

	private SingleValueCollectionModificationCollection<int> _modificationsFriendOrFamilyInteractionCooldownDict = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsSectZhujianGearMates = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsCaravanExtraDataDict = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsSectZhujianAreaMerchantTypeDict = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsMerchantExtraGoods = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsCharacterAvatarExtraDataDict = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsCityPunishmentSeverityCustomizeDict = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<CombatSkillKey> _modificationsCombatSkillProficiencies = SingleValueCollectionModificationCollection<CombatSkillKey>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsSkillBreakPlates = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<Location> _modificationsPickupDict = SingleValueCollectionModificationCollection<Location>.Create();

	private SingleValueCollectionModificationCollection<ulong> _modificationsBuildingBlockDataEx = SingleValueCollectionModificationCollection<ulong>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsVillagerRoleAutoActionStates = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<ulong> _modificationsBuildingArtisanOrders = SingleValueCollectionModificationCollection<ulong>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsTaiwuVillagerPotentialData = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsNpcArtisanOrders = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsShopVillagerQualificationImprove = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsBigEvents = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsVillagerSkillLegacyPointDict = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsDyingCharacters = SingleValueCollectionModificationCollection<int>.Create();

	private SingleValueCollectionModificationCollection<ulong> _modificationsResourceBlockExtraData = SingleValueCollectionModificationCollection<ulong>.Create();

	private SingleValueCollectionModificationCollection<ulong> _modificationsFeasts = SingleValueCollectionModificationCollection<ulong>.Create();

	private SingleValueCollectionModificationCollection<short> _modificationsSettlementLayeredTreasuries = SingleValueCollectionModificationCollection<short>.Create();

	private SingleValueCollectionModificationCollection<sbyte> _modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict = SingleValueCollectionModificationCollection<sbyte>.Create();

	private SingleValueCollectionModificationCollection<int> _modificationsCharacterDarkAshCounterData = SingleValueCollectionModificationCollection<int>.Create();

	private Queue<uint> _pendingLoadingOperationIds;

	internal CrossArchiveGameData UnhandledCrossArchiveGameData => _unhandledCrossArchiveGameData;

	[Obsolete("")]
	public Dictionary<ItemKey, int> TreasuryItems => _treasuryItems;

	public EventArgBox DlcArgBox => _dlcArgBox;

	public Dictionary<int, LoveDataItem> LoveDataDict => _loveDataDict;

	public Dictionary<int, FullPoisonEffects> PoisonEffects => _fullPoisonEffects;

	public int AiCharId => _aiCharId;

	private int TotalUsedCardCount => 30;

	public IReadOnlyDictionary<short, LoongInfo> FiveLoongDict => _fiveLoongDict;

	public IReadOnlyDictionary<int, ChildrenOfLoong> ChildrenOfLoong => _childrenOfLoong;

	public IReadOnlyDictionary<int, GameData.DLC.FiveLoong.Jiao> Jiaos => _jiaos;

	public IReadOnlyDictionary<Location, MapPickupCollection> PickupDict => _pickupDict;

	public MerchantData[] BranchMerchantData => _branchMerchantData;

	public Dictionary<int, sbyte> VillagerLastInfluencePowerGrade => _villagerLastInfluencePowerGrade;

	public IReadOnlyDictionary<short, sbyte> SectZhujianAreaMerchantTypeDict => _sectZhujianAreaMerchantTypeDict;

	private int SupportingBlockPrice => 200;

	public Dictionary<ItemKey, int> TroughItems => _troughItems;

	public void InitializeOwnedItems()
	{
		foreach (JiaoPool jiaoPool in _jiaoPools)
		{
			foreach (int jiao in jiaoPool.Jiaos)
			{
				ItemKey key = GetJiaoById(jiao).Key;
				DomainManager.Item.SetOwner(key, ItemOwnerType.Building, 44);
			}
		}
		foreach (GameData.Domains.Character.Animal value in _animals.Values)
		{
			if (value.ItemKey != ItemKey.Invalid && value.Location != Location.Invalid)
			{
				sbyte itemType = value.ItemKey.ItemType;
				sbyte b = itemType;
				if ((uint)(b - 4) <= 1u)
				{
					DomainManager.Item.SetOwner(value.ItemKey, ItemOwnerType.FleeCarrier, value.Location.AreaId);
				}
			}
		}
		int threeCorpsesOwnedLegendaryBookTypes = GetThreeCorpsesOwnedLegendaryBookTypes();
		for (sbyte b2 = 0; b2 < 14; b2++)
		{
			if ((threeCorpsesOwnedLegendaryBookTypes & (1 << (int)b2)) != 0)
			{
				ItemKey legendaryBookItem = DomainManager.LegendaryBook.GetLegendaryBookItem(b2);
				DomainManager.Item.SetOwner(legendaryBookItem, ItemOwnerType.System, 11);
			}
		}
		if (!_isDreamBack)
		{
			return;
		}
		Dictionary<int, ItemKey> unpackedItems = _unhandledCrossArchiveGameData.UnpackedItems;
		if (unpackedItems == null || unpackedItems.Count <= 0 || IsDreamBackStateUnlocked(1))
		{
			return;
		}
		foreach (ItemKey value2 in _unhandledCrossArchiveGameData.UnpackedItems.Values)
		{
			if (ItemTemplateHelper.GetItemSubType(value2.ItemType, value2.TemplateId) == 1202 && DomainManager.Item.ItemExists(value2))
			{
				ItemBase baseItem = DomainManager.Item.GetBaseItem(value2);
				if (baseItem.Owner.OwnerType == ItemOwnerType.None)
				{
					baseItem.SetOwner(ItemOwnerType.System, 19);
				}
			}
		}
	}

	private void OnInitializedDomainData()
	{
		DataContext currentThreadDataContext = DataContextManager.GetCurrentThreadDataContext();
		SetEmptyToolKey(ItemKey.Invalid, currentThreadDataContext);
	}

	private void InitializeOnInitializeGameDataModule()
	{
		for (sbyte b = 0; b < TeammateCommand.Instance.Count; b++)
		{
			TeammateCommandItem teammateCommandItem = TeammateCommand.Instance[b];
			if (teammateCommandItem.MedalType >= 0 && teammateCommandItem.Type == ETeammateCommandType.Normal)
			{
				TeammateCommandNormal.Add(b);
			}
		}
		foreach (sbyte item in TeammateCommandNormal)
		{
			ETeammateCommandImplement implement = TeammateCommand.Instance[item].Implement;
			sbyte templateId = TeammateCommand.Instance.First(IsAdvance).TemplateId;
			TeammateCommandAdvanceMapping[item] = templateId;
			TeammateCommandAdvanceMapping[templateId] = item;
			bool IsAdvance(TeammateCommandItem config)
			{
				return config.Type == ETeammateCommandType.Advance && config.Implement == implement;
			}
		}
	}

	private void InitializeOnEnterNewWorld()
	{
		DataContext currentThreadDataContext = DataContextManager.GetCurrentThreadDataContext();
		_travelingEventsCommittedOffset = 0;
		Events.RegisterHandler_AdvanceMonthBegin(ClearSecretInformationBroadcastNotifyList);
		InitializeVillagerRoleAutoActions(currentThreadDataContext, isNewGame: true);
		InitializeTaiwuVillageStorages();
		InitializeAnimals(isResetting: true);
		InitializeProfessions();
		InitializeSectMainStoryEventArgBoxes();
		InitializeActionPoint();
		InitializePreviousMonthlyNotifications();
		InitializeMonthlyNotificationSortingGroups();
		InitializeTaiwuAddOneWayRelationCoolDown();
		RegisterLegendaryBookDataListener();
		RegisterTaskSortingOrderUpdate();
		InitializeDreamBackLifeRecordsCacheData();
		InitializeCanResetWorldSettings(currentThreadDataContext);
		InitializeCricketCollection(currentThreadDataContext);
		InitInformationSettings();
		_sectXuannvPlayerMusicId = -1;
		InitializeClothing();
		_unlockedCombatSkillPlanCount = 1;
		DomainManager.Map.UpdateTeammateBubbleData();
		DomainManager.Map.InitializeSpecialBlocksData();
		DlcManager.InitializeOnEnterNewWorld(_dlcEntries);
	}

	private void OnLoadedArchiveData()
	{
		_travelingEventsCommittedOffset = _travelingEventCollection.Size;
		Events.RegisterHandler_AdvanceMonthBegin(ClearSecretInformationBroadcastNotifyList);
		DataContext currentThreadDataContext = DataContextManager.GetCurrentThreadDataContext();
		CheckWorldGameVersion();
		InitializeTaiwuVillageStorages();
		InitializeVillagerRoleCaches();
		InitializeVillagerRoleAutoActions(currentThreadDataContext, isNewGame: false);
		ComplementProfessions(currentThreadDataContext);
		ComplementTreasureMaterials(currentThreadDataContext);
		InitializeSectMainStoryEventArgBoxes();
		RegisterLegendaryBookDataListener();
		RegisterTaskSortingOrderUpdate();
		UpdateTaiwuSkillDataListener(currentThreadDataContext);
		LoadDreamBackArchiveDataBackup();
		InitializeDreamBackRelatedCharacters();
		InitializeDreamBackLifeRecordsCacheData();
		InitializeSupportingBlockExtraData();
		InitializeAnimals(isResetting: false);
		InitializeMonthlyNotificationSortingGroups(currentThreadDataContext);
		InitializeSubscriberOrders(currentThreadDataContext);
		FixTaiwuEmptyExternalCombatSkillEquipment(currentThreadDataContext);
		UpgradeSettlementTreasuries();
		InitTreasurySupplies();
		if (!_sectXuannvUnlockedMusicList.Contains(_sectXuannvPlayerMusicId))
		{
			_sectXuannvPlayerMusicId = -1;
		}
		if (_weaveClothingDisplaySetting.ClothingDisplayPreviewSettingBodyType == 0)
		{
			InitializeClothing();
		}
		DomainManager.Map.UpdateTeammateBubbleData();
		DomainManager.Map.InitializeSpecialBlocksData();
		DomainManager.Map.UpdateIsTaiwuInFulongFlameArea(currentThreadDataContext);
		DlcManager.OnLoadedArchiveData(_dlcEntries);
		ClearObsoletedMerchantDebtData(currentThreadDataContext);
		ClearFriendOrFamilyInteractionCooldowns(currentThreadDataContext);
		TransferOldMerchantExtraGoods(currentThreadDataContext);
		DomainManager.Taiwu.InitVillagerTreasuryTempData();
		RegisterVillagerSkillLegacyPoint();
		InitDyingCharacters();
		FixKidnappedCharResistance(currentThreadDataContext);
	}

	private void CheckWorldGameVersion()
	{
		DomainManager.World.UpdateCurrWorldGameVersion();
		GameVersionInfo worldVersionInfo = GetWorldVersionInfo();
		if (worldVersionInfo != null)
		{
			if (worldVersionInfo.TimestampCreating != 0)
			{
				AdaptableLog.Info($"WorldCreatingTime: {DateTime.MinValue.AddTicks(worldVersionInfo.TimestampCreating).ToLocalTime():yyyy-MM-dd [HH:mm]}");
			}
			if (!string.IsNullOrEmpty(worldVersionInfo.GameVersionLastSaving))
			{
				AdaptableLog.Info("GameVersionLastSaving: " + worldVersionInfo.GameVersionLastSaving);
			}
		}
	}

	public override void FixAbnormalDomainArchiveData(DataContext context)
	{
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 62))
		{
			InitCricketExtraData(context);
		}
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 77))
		{
			InitTaiwuSelectedDebateCardType(context);
		}
		if (_carrierTamePoint.Count == 0)
		{
			InitCarrierExtraData(context);
		}
		if (_actionPointCurrMonth == 0)
		{
			DomainManager.Extra.UpdateActionPoint(context);
		}
		FixBuildingExtraData(context);
		FixPreviousMonthlyNotifications(context);
		FixExtraDifficulty(context);
		FixLegendaryBook(context);
		FixLegendaryBookWeaponSlot(context);
		FixSectMainStoryEventArgs(context);
		FixXiangshuInfectedConsumedCharacters(context);
		FixAbnormalSelectedLegacies(context);
		FixAbnormalAnimalData(context);
		FixAbnormalSettlementExtraData(context);
		FixAbnormalRemoveSupport(context);
		FixAbnormalTamePoint(context);
		FixAbnormalWarehouseItems(context);
		FixAbnormalStorageResources();
		FixAbnormalSectStoryData(context);
		FixAbnormalUnlockedCombatSkillPlan(context);
		FixCricketData(context);
		FixAreaSpiritualDebtData(context);
		FixActionPoint(context);
		DlcManager.FixAbnormalArchiveData(context);
		FixAbnormalCombatSkillOrderPlans(context);
		FixProfessionData(context);
		ClearObsoleteVillagerRoles(context);
		FixAbnormalVillagerRole(context);
		FixAbnormalMapPickups(context);
		FixObsoleteCraftMedicineFoodStorages(context);
		FixBuildingResourceOutputSetting(context);
		FixAbnormalFulongChicken(context);
		FixTaiwuVillagerPotentialData(context);
		FixTaiwuStockStorageSectAccessory(context);
		FixSettlementSectAccessory(context);
		FixDreamBackData(context);
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 79, 45))
		{
			FixAbnormalFeastGiftData(context);
		}
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 78, 27))
		{
			DomainManager.Taiwu.FixTaiwuSettlementTreasuryLoveTokenItem(context);
		}
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 79, 19))
		{
			InitTreasuries(context);
		}
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 79, 11))
		{
			InitializeResourceBlockExtraData(context, DomainManager.Taiwu.GetTaiwuVillageLocation());
			InitFeasts(context);
		}
	}

	public override void OnCurrWorldArchiveDataReady(DataContext context, bool isNewWorld)
	{
		InitBuildingAreaEffectProgresses(context);
		base.OnCurrWorldArchiveDataReady(context, isNewWorld);
	}

	private void FixTaiwuVillagerPotentialData(DataContext context)
	{
		if (!DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 78, 26))
		{
			return;
		}
		foreach (var (num2, b2) in _taiwuVillagerPotentialData)
		{
			if (b2 < 0)
			{
				UpdateTaiwuVillagerPotentialData(context, num2, 0);
				Logger.Warn($"FixTaiwuVillagerPotentialData,charId:{num2},value:{b2}");
			}
			if (b2 > 7)
			{
				UpdateTaiwuVillagerPotentialData(context, num2, 7);
				Logger.Warn($"FixTaiwuVillagerPotentialData,charId:{num2},value:{b2}");
			}
		}
	}

	public override void OnUpdate(DataContext context)
	{
		if (_addingProfessionSeniorityData.Count <= 0)
		{
			return;
		}
		foreach (var (professionTemplateId, value) in _addingProfessionSeniorityData)
		{
			DomainManager.World.GetInstantNotificationCollection().AddProfessionSeniorityIncrease1(professionTemplateId, value);
		}
		_addingProfessionSeniorityData.Clear();
	}

	private void FixCricketData(DataContext context)
	{
		List<CricketCollectionData> cricketCollectionDataList = DomainManager.Extra.GetCricketCollectionDataList();
		if (cricketCollectionDataList.Count != 0)
		{
			return;
		}
		ItemKey[] collectionCrickets = DomainManager.Building.GetCollectionCrickets();
		ItemKey[] collectionCricketJars = DomainManager.Building.GetCollectionCricketJars();
		int[] collectionCricketRegen = DomainManager.Building.GetCollectionCricketRegen();
		for (int i = 0; i < 17; i++)
		{
			if (i < 15)
			{
				cricketCollectionDataList.Add(new CricketCollectionData(collectionCrickets[i], collectionCricketJars[i], collectionCricketRegen[i]));
				collectionCrickets[i] = ItemKey.Invalid;
				collectionCricketJars[i] = ItemKey.Invalid;
				collectionCricketRegen[i] = 0;
			}
			else
			{
				cricketCollectionDataList.Add(new CricketCollectionData(ItemKey.Invalid, ItemKey.Invalid, 0));
			}
		}
		DomainManager.Building.SetCollectionCrickets(collectionCrickets, context);
		DomainManager.Building.SetCollectionCricketJars(collectionCricketJars, context);
		DomainManager.Building.SetCollectionCricketRegen(collectionCricketRegen, context);
		DomainManager.Extra.SetCricketCollectionDataList(cricketCollectionDataList, context);
		Logger.Warn("FixCricketData");
	}

	private void FixAreaSpiritualDebtData(DataContext context)
	{
		if (!DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 74))
		{
			return;
		}
		for (short num = 0; num < 139; num++)
		{
			short spiritualDebt = DomainManager.Map.GetElement_Areas(num).SpiritualDebt;
			if (_areaSpiritualDebt.ContainsKey(num))
			{
				SetElement_AreaSpiritualDebt(num, spiritualDebt, context);
			}
			else
			{
				AddElement_AreaSpiritualDebt(num, spiritualDebt, context);
			}
		}
	}

	private void FixExtraDifficulty(DataContext context)
	{
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 63))
		{
			SetBreakoutDifficulty(1, context);
			SetReadingDifficulty(1, context);
			SetLoopingDifficulty(1, context);
			SetEnemyPracticeLevel(1, context);
			SetFavorabilityChange(1, context);
			SetLootYield(1, context);
			SetCanResetWorldSettings(value: true, context);
		}
		else if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 67))
		{
			SetEnemyPracticeLevel(1, context);
			SetFavorabilityChange(1, context);
			SetLootYield(1, context);
			SetCanResetWorldSettings(value: true, context);
		}
		else if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 68))
		{
			SetFavorabilityChange(1, context);
			SetLootYield(1, context);
			SetCanResetWorldSettings(value: true, context);
		}
		else if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 74))
		{
			SetProfessionUpgrade(1, context);
			SetLootYield(1, context);
			SetCanResetWorldSettings(value: true, context);
		}
		else if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 76))
		{
			SetLootYield(1, context);
			SetCanResetWorldSettings(value: true, context);
		}
	}

	private void FixLegendaryBook(DataContext context)
	{
		if (_combatSkillBreakPlateLastForceBreakoutStepsCount.Count == _combatSkillCurrBreakPlateIndex.Count)
		{
			return;
		}
		_combatSkillBreakPlateLastForceBreakoutStepsCount.Clear();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		foreach (short key in _combatSkillCurrBreakPlateIndex.Keys)
		{
			GameData.Domains.CombatSkill.CombatSkill element;
			int item = (DomainManager.CombatSkill.TryGetElement_CombatSkills(new CombatSkillKey(taiwuCharId, key), out element) ? element.GetForcedBreakoutStepsCount() : 0);
			IntList value = IntList.Create();
			for (int i = 0; i < 3; i++)
			{
				value.Items.Add(item);
			}
			AddElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(key, value, context);
		}
	}

	private void FixLegendaryBookWeaponSlot(DataContext context)
	{
		foreach (var (b2, num2) in _legendaryBookWeaponEffectId)
		{
			if (!_legendaryBookWeaponSlot.ContainsKey(b2))
			{
				Tester.Assert(num2 < 0);
				AddElement_LegendaryBookWeaponSlot(b2, ItemKey.Invalid, context);
				AdaptableLog.Warning($"Fix missing legendary book weapon slot {b2}");
			}
		}
	}

	private void FixTaiwuEmptyExternalCombatSkillEquipment(DataContext context)
	{
		if (!DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 74, 41) || !DomainManager.World.IsCurrWorldAfterVersion(0, 0, 74, 10))
		{
			return;
		}
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		if (!_characterEquippedCombatSkills.TryGetValue(taiwu.GetId(), out var value))
		{
			return;
		}
		for (sbyte b = 0; b < 5; b++)
		{
			short[] skillList = value.GetSkillList(b);
			for (sbyte b2 = 0; b2 < skillList.Length; b2++)
			{
				if (skillList[b2] >= 0)
				{
					return;
				}
			}
		}
		short[] equippedCombatSkills = taiwu.GetEquippedCombatSkills();
		value.Record(equippedCombatSkills);
		GameData.Domains.Character.CombatSkillHelper.InitializeEquippedSkills(equippedCombatSkills);
		taiwu.SetEquippedCombatSkills(equippedCombatSkills, context);
		SetElement_CharacterEquippedCombatSkills(taiwu.GetId(), value, context);
		Logger.Warn("Fixing taiwu empty combat skill equipment external data.");
		GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.ShowNormalDialog, "<Language Key=LK_CombatSkillEquipment_Version74_Alert_Title/>", "<Language Key=LK_CombatSkillEquipment_Version74_Alert_Content/>");
	}

	private void FixPreviousMonthlyNotifications(DataContext context)
	{
		if (!_previousMonthlyNotifications.ContainsKey(0))
		{
			SetLastMonthNotificationsIndex(0, context);
			for (int i = 0; i < 12; i++)
			{
				AddElement_PreviousMonthlyNotifications(i, new MonthlyNotificationCollection(), context);
			}
			SetElement_PreviousMonthlyNotifications(_lastMonthNotificationsIndex, DomainManager.World.GetLastMonthlyNotifications(), context);
		}
	}

	private void FixAbnormalSelectedLegacies(DataContext context)
	{
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 68, 7))
		{
			int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
			short num = SwordTomb.Instance[(sbyte)0].Legacies[^1];
			if (_characterPoisonImmunities.TryGetValue(taiwuCharId, out var value) && value != 0 && !_selectedUniqueLegacies.Contains(num))
			{
				AddSelectedUniqueLegacies(context, num);
				Logger.Warn($"Adding already selected unique legacy {num}.");
			}
		}
	}

	public void FixAbnormalTamePoint(DataContext context)
	{
		int key2;
		foreach (KeyValuePair<int, int> item in _carrierTamePoint)
		{
			item.Deconstruct(out var key, out key2);
			int carrierId = key;
			int num = key2;
			if ((num > 100 || num < 0) ? true : false)
			{
				SetCarrierTamePoint(context, carrierId, Math.Clamp(num, 0, 100));
			}
		}
		foreach (KeyValuePair<int, GameData.DLC.FiveLoong.Jiao> jiao2 in _jiaos)
		{
			jiao2.Deconstruct(out key2, out var value);
			int num2 = key2;
			GameData.DLC.FiveLoong.Jiao jiao = value;
			key2 = jiao.TamePoint;
			if ((key2 > 100 || key2 < 0) ? true : false)
			{
				jiao.TamePoint = Math.Clamp(jiao.TamePoint, 0, 100);
				SetJiao(context, jiao);
			}
		}
	}

	private void FixAbnormalAnimalData(DataContext context)
	{
		int key;
		foreach (KeyValuePair<int, Location> item in _fleeCarrierLocation)
		{
			item.Deconstruct(out key, out var value);
			int objectId = key;
			Location location = value;
			ItemKey itemKey = ItemKey.Invalid;
			GameData.Domains.Item.Material element2;
			GameData.Domains.Item.Misc element3;
			if (DomainManager.Item.TryGetElement_Carriers(objectId, out var element))
			{
				itemKey = element.GetItemKey();
			}
			else if (DomainManager.Item.TryGetElement_Materials(objectId, out element2))
			{
				itemKey = element2.GetItemKey();
			}
			else if (DomainManager.Item.TryGetElement_Misc(objectId, out element3))
			{
				itemKey = element3.GetItemKey();
			}
			if (itemKey.IsValid())
			{
				GameData.Domains.Character.Animal orCreateAnimalByItemKey = GetOrCreateAnimalByItemKey(context, itemKey);
				AnimalAreaData element_AnimalAreaData = GetElement_AnimalAreaData(location.AreaId);
				if (element_AnimalAreaData.BlockAnimalCharacterTemplateIdList != null && element_AnimalAreaData.BlockAnimalCharacterTemplateIdList.TryGetValue(location.BlockId, out var value2))
				{
					value2.Remove(orCreateAnimalByItemKey.CharacterTemplateId);
				}
				SetAnimalLocation(context, orCreateAnimalByItemKey, location);
				DomainManager.Item.SetOwner(orCreateAnimalByItemKey.ItemKey, ItemOwnerType.FleeCarrier, orCreateAnimalByItemKey.Location.AreaId);
				Logger.Warn($"replaced Carrier/Jiao with new data structure: {orCreateAnimalByItemKey.ItemKey}, {orCreateAnimalByItemKey.Location}");
			}
		}
		for (short num = 0; num < 139; num++)
		{
			AnimalAreaData element_AnimalAreaData2 = GetElement_AnimalAreaData(num);
			if (element_AnimalAreaData2 != null)
			{
				short[] array = element_AnimalAreaData2.BlockAnimalCharacterTemplateIdList.Keys.ToArray();
				short[] array2 = array;
				foreach (short num2 in array2)
				{
					if (element_AnimalAreaData2.BlockAnimalCharacterTemplateIdList == null || !element_AnimalAreaData2.BlockAnimalCharacterTemplateIdList.TryGetValue(num2, out var value3))
					{
						continue;
					}
					foreach (short item2 in value3)
					{
						CreateAnimalByCharacterTemplateId(context, item2, new Location(num, num2));
					}
					Logger.Warn($"replaced wild animals with new data structure in location: {new Location(num, num2)}");
				}
			}
			SetElement_AnimalAreaData(num, new AnimalAreaData(), context);
		}
		ClearFleeCarrierLocation(context);
		List<GameData.Domains.Character.Animal> list = new List<GameData.Domains.Character.Animal>();
		foreach (GameData.Domains.Character.Animal value6 in _animals.Values)
		{
			if (value6.Type == 0 && !value6.ItemKey.IsValid() && value6.CharacterTemplateId >= 696 && value6.CharacterTemplateId <= 726)
			{
				list.Add(value6);
			}
		}
		if (list.Count == 0)
		{
			return;
		}
		foreach (GameData.Domains.Character.Animal item3 in list)
		{
			RemoveAnimal(context, item3);
			Logger.Warn($"Remove abnormal jiao animal data: {item3.Id}, {item3.Location}, {item3.CharacterTemplateId}");
		}
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Inventory inventory = taiwu.GetInventory();
		foreach (KeyValuePair<int, GameData.DLC.FiveLoong.Jiao> jiao2 in DomainManager.Extra.Jiaos)
		{
			jiao2.Deconstruct(out key, out var value4);
			int value5 = key;
			GameData.DLC.FiveLoong.Jiao jiao = value4;
			if (jiao.GrowthStage == 1)
			{
				ItemBase baseItem = DomainManager.Item.GetBaseItem(jiao.Key);
				if (baseItem.Owner.OwnerType == ItemOwnerType.None)
				{
					baseItem.SetOwner(ItemOwnerType.CharacterInventory, taiwu.GetId());
					inventory.OfflineAdd(jiao.Key, 1);
					Logger.Warn($"Add lost jiao item in players backpack: {value5}");
				}
			}
		}
		taiwu.SetInventory(inventory, context);
	}

	private void FixActionPoint(DataContext context)
	{
		if (_actionPointPrevMonth > 0)
		{
			ChangeActionPoint(context, _actionPointPrevMonth);
			SetActionPointPrevMonth(0, context);
		}
	}

	private void FixAbnormalCombatSkillOrderPlans(DataContext context)
	{
		foreach (var (elementId, value) in _combatSkillOrderPlans)
		{
			if (value.Items.Count == 54)
			{
				break;
			}
			while (value.Items.Count < 54)
			{
				value.Items.Add(-1);
			}
			SetElement_CombatSkillOrderPlans(elementId, value, context);
		}
	}

	private void FixProfessionData(DataContext context)
	{
		if (!DomainManager.World.IsCurrWorldAfterVersion(0, 0, 74, 38))
		{
			FixAbnormalDukeTitles(context);
		}
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 75))
		{
			FixAbnormalTaoistMonkFeatures(context);
		}
		if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 74, 43))
		{
			FixAbnormalEquippedProfessionSkills(context);
		}
	}

	private void FixAbnormalEquippedProfessionSkills(DataContext context)
	{
		TaiwuProfessionSkillSlots taiwuProfessionSkillSlots = _taiwuProfessionSkillSlots;
		for (int i = 0; i < 4; i++)
		{
			IntList intList = taiwuProfessionSkillSlots.Slots[i];
			for (int j = 0; j < intList.Items.Count; j++)
			{
				int num = intList.Items[j];
				if (num >= 0 && !DomainManager.Extra.IsProfessionalSkillUnlocked(num))
				{
					taiwuProfessionSkillSlots.Slots[i].Items[j] = -1;
					ProfessionSkillItem professionSkillItem = ProfessionSkill.Instance[num];
					ProfessionData professionData = _taiwuProfessions[professionSkillItem.Profession];
					int skillIndex = professionData.GetSkillIndex(num);
					professionData.OfflineClearSkillCooldown(skillIndex);
					DomainManager.Extra.SetProfessionData(context, professionData);
				}
			}
		}
		DomainManager.Extra.SetTaiwuProfessionSkillSlots(taiwuProfessionSkillSlots, context);
	}

	private void FixAbnormalTaoistMonkFeatures(DataContext context)
	{
		ProfessionData professionData = GetProfessionData(5);
		if (professionData == null)
		{
			return;
		}
		TaoistMonkSkillsData skillsData = professionData.GetSkillsData<TaoistMonkSkillsData>();
		if (skillsData.SurvivedTribulationCount == 0)
		{
			return;
		}
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		sbyte b = 4;
		if (skillsData.SurvivedTribulationCount < 8)
		{
			if (skillsData.SurvivedTribulationCount <= 2)
			{
				taiwu.RemoveFeature(context, 387);
				taiwu.RemoveFeature(context, 388);
				taiwu.AddFeature(context, 627);
				b = 1;
			}
			else if (skillsData.SurvivedTribulationCount <= 4)
			{
				taiwu.RemoveFeature(context, 387);
				taiwu.RemoveFeature(context, 388);
				taiwu.RemoveFeature(context, 389);
				taiwu.RemoveFeature(context, 390);
				taiwu.AddFeature(context, 627);
				taiwu.AddFeature(context, 628);
				b = 2;
			}
			else if (skillsData.SurvivedTribulationCount <= 7)
			{
				taiwu.RemoveFeature(context, 387);
				taiwu.RemoveFeature(context, 388);
				taiwu.RemoveFeature(context, 389);
				taiwu.RemoveFeature(context, 390);
				taiwu.RemoveFeature(context, 391);
				taiwu.RemoveFeature(context, 392);
				taiwu.RemoveFeature(context, 393);
				taiwu.AddFeature(context, 627);
				taiwu.AddFeature(context, 628);
				taiwu.AddFeature(context, 629);
				b = 3;
			}
		}
		Logger.Warn($"Replacing obsolete TaoistMonk SurvivedTribulationCount {skillsData.SurvivedTribulationCount} with {b}.");
		skillsData.SurvivedTribulationCount = b;
		DomainManager.Extra.SetProfessionData(context, professionData);
	}

	private void FixAbnormalDukeTitles(DataContext context)
	{
		ProfessionData professionData = GetProfessionData(17);
		if (professionData == null)
		{
			return;
		}
		DukeSkillsData dukeSkillsData = (DukeSkillsData)professionData.SkillsData;
		foreach (var allOwner in dukeSkillsData.GetAllOwners())
		{
			if (!DomainManager.Character.IsCharacterAlive(allOwner.CharacterId))
			{
				dukeSkillsData.OfflineRemoveTitleFromCharacter(allOwner.CharacterId);
				Logger.Warn($"Removing invalid title {CharacterTitle.Instance[allOwner.TemplateId].Name} from {allOwner.CharacterId}");
			}
		}
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		HashSet<int> relatedCharIds = new HashSet<int>();
		DomainManager.Character.GetAllRelatedCharIds(taiwuCharId, relatedCharIds);
		foreach (KeyValuePair<IntPair, int> worldCharacterExtraTitle in _worldCharacterExtraTitles)
		{
			worldCharacterExtraTitle.Deconstruct(out var key, out var value);
			IntPair elementId = key;
			int num = value;
			short num2 = (short)elementId.Second;
			if (num2 >= 37 && num2 <= 42 && dukeSkillsData.GetOwnerOfTitle(num2) != elementId.First)
			{
				Logger.Warn($"Removing invalid title {CharacterTitle.Instance[num2].Name} from {elementId.First}");
				RemoveElement_WorldCharacterExtraTitles(elementId, context);
			}
		}
		DomainManager.Extra.SetProfessionData(context, professionData);
	}

	private void FixBuildingResourceOutputSetting(DataContext context)
	{
		foreach (int key in _buildingResourceOutputSettings.Keys)
		{
			BuildingResourceOutputSetting setting = _buildingResourceOutputSettings[key];
			if (FixObsoletedBuildingResourceOutputSetting(setting))
			{
				SetBuildingResourceOutputSetting(context, key, setting);
			}
		}
	}

	private void FixAbnormalFulongChicken(DataContext context)
	{
		HashSet<int> hashSet = new HashSet<int>();
		foreach (VillagerRoleItem item in (IEnumerable<VillagerRoleItem>)VillagerRole.Instance)
		{
			hashSet.Clear();
			IEnumerable<GameData.Domains.Building.Chicken> fulongChickens = DomainManager.Building.GetFulongChickens(item.OrganizationMember);
			NeedPersonality[] needPersonalityList = item.NeedPersonalityList;
			foreach (GameData.Domains.Building.Chicken item2 in fulongChickens)
			{
				NeedPersonality[] array = needPersonalityList;
				for (int i = 0; i < array.Length; i++)
				{
					NeedPersonality needPersonality = array[i];
					if (!IsChickenPersonalityMatch(item2, needPersonality.PersonalityType))
					{
						hashSet.Add(item2.Id);
					}
				}
			}
			if (!TryGetElement_SectFulongOrgMemberChickens(item.OrganizationMember, out var value))
			{
				continue;
			}
			foreach (int item3 in hashSet)
			{
				value.Items.Remove(item3);
			}
			AddOrSetFulongChickens(context, item.OrganizationMember, value);
		}
	}

	private void FixTaiwuStockStorageSectAccessory(DataContext context)
	{
		if (!DomainManager.Item.VersionNeedRepairSectAccessory)
		{
			return;
		}
		Inventory inventory = _stockStorage.Inventories[1];
		List<ItemKey> list = inventory.Items.Keys.ToList();
		foreach (ItemKey item in list)
		{
			if (DomainManager.Item.RemoveRefinedEffectsAndReturnMaterial(context, item, null, out var resultItem))
			{
				inventory.OfflineRemove(item);
				inventory.OfflineAdd(resultItem.GetItemKey(), 1);
				_stockStorage.NeedCommit = true;
			}
		}
	}

	private void FixSettlementSectAccessory(DataContext context)
	{
		if (!DomainManager.Item.VersionNeedRepairSectAccessory || !_settlementTreasuries.TryGetValue(DomainManager.Taiwu.GetTaiwuVillageSettlementId(), out var value))
		{
			return;
		}
		List<ItemKey> list = value.Inventory.Items.Keys.ToList();
		foreach (ItemKey item in list)
		{
			if (DomainManager.Item.RemoveRefinedEffectsAndReturnMaterial(context, item, value.Inventory, out var resultItem))
			{
				value.Inventory.OfflineRemove(item);
				value.Inventory.OfflineAdd(resultItem.GetItemKey(), 1);
			}
		}
		DomainManager.Taiwu.SetTaiwuTreasury(context, value);
	}

	private void FixAbnormalFeastGiftData(DataContext context)
	{
		foreach (GameData.Domains.Building.Feast value3 in _feasts.Values)
		{
			for (int i = 0; i < GlobalConfig.Instance.FeastGiftCount; i++)
			{
				ItemKey gift = value3.GetGift(i);
				if (gift == ItemKey.Invalid || ItemTemplateHelper.IsMiscResource(gift.ItemType, gift.TemplateId) || !gift.IsValid())
				{
					continue;
				}
				ItemBase itemBase = DomainManager.Item.TryGetBaseItem(gift);
				if (itemBase == null)
				{
					value3.GiftCount.Remove(i, out var _);
					value3.Gift[i] = ItemKey.Invalid;
					Logger.Warn($"Fix abnormal feast gift: {gift}");
					continue;
				}
				ItemOwnerKey prevOwner = itemBase.PrevOwner;
				ItemOwnerKey owner = itemBase.Owner;
				if (prevOwner.OwnerType != ItemOwnerType.None && prevOwner.OwnerType != ItemOwnerType.Building && prevOwner.OwnerId != 47 && owner.OwnerType != ItemOwnerType.None && owner.OwnerType == ItemOwnerType.Building && owner.OwnerId == 47)
				{
					value3.GiftCount.Remove(i, out var _);
					value3.Gift[i] = ItemKey.Invalid;
					Logger.Warn($"Fix abnormal feast gift: {gift}");
				}
			}
			SetFeast(context, value3.BuildingBlockKey, value3);
		}
	}

	public void FixTaiwuMainStoryGainSkillBook(DataContext context)
	{
		if (!GetHasGetShuiHuoYingQiGongSkillBookByArchiveFix())
		{
			int itemCount = DomainManager.Taiwu.GetItemCount(10, 874);
			if (itemCount > 0)
			{
				SetHasGetShuiHuoYingQiGongSkillBookByArchiveFix(value: true, context);
			}
			else if (DomainManager.World.GetMainStoryLineProgress() > 2)
			{
				sbyte behaviorType = DomainManager.Taiwu.GetTaiwu().GetBehaviorType();
				ItemKey itemKey = DomainManager.Item.CreateSkillBook(context, 874, 5, 0, behaviorType, 100);
				DomainManager.Taiwu.AddItem(context, itemKey, 1, ItemSourceType.Inventory);
				SetHasGetShuiHuoYingQiGongSkillBookByArchiveFix(value: true, context);
				DomainManager.World.GetInstantNotifications().AddGetItem(DomainManager.Taiwu.GetTaiwuCharId(), itemKey.ItemType, itemKey.TemplateId);
			}
		}
	}

	private static bool IsChickenPersonalityMatch(GameData.Domains.Building.Chicken chicken, sbyte personalityType)
	{
		return Config.Chicken.Instance[chicken.TemplateId].PersonalityType == personalityType;
	}

	private void RegisterVillagerSkillLegacyPoint()
	{
		short taiwuVillageSettlementId = DomainManager.Taiwu.GetTaiwuVillageSettlementId();
		Settlement settlement = DomainManager.Organization.GetSettlement(taiwuVillageSettlementId);
		List<int> list = ObjectPool<List<int>>.Instance.Get();
		settlement.GetMembers().GetAllMembers(list);
		list.Remove(DomainManager.Taiwu.GetTaiwuCharId());
		foreach (int item in list)
		{
			UnRegisterVillagerSkillLegacyPoint(item);
			RegisterVillagerSkillLegacyPoint(item);
		}
		ObjectPool<List<int>>.Instance.Return(list);
	}

	public void RegisterVillagerSkillLegacyPoint(int charId)
	{
		DataUid uid = new DataUid(4, 0, (ulong)charId, 98u);
		DataUid uid2 = new DataUid(4, 0, (ulong)charId, 100u);
		GameData.GameDataBridge.GameDataBridge.AddPostDataModificationHandler(uid, "CalcSingleVillagerSkillLegacy", CalcSingleVillagerSkillLegacy);
		GameData.GameDataBridge.GameDataBridge.AddPostDataModificationHandler(uid2, "CalcSingleVillagerSkillLegacy", CalcSingleVillagerSkillLegacy);
	}

	public void UnRegisterVillagerSkillLegacyPoint(int charId)
	{
		DataUid uid = new DataUid(4, 0, (ulong)charId, 98u);
		DataUid uid2 = new DataUid(4, 0, (ulong)charId, 100u);
		GameData.GameDataBridge.GameDataBridge.RemovePostDataModificationHandler(uid, "CalcSingleVillagerSkillLegacy");
		GameData.GameDataBridge.GameDataBridge.RemovePostDataModificationHandler(uid2, "CalcSingleVillagerSkillLegacy");
	}

	private void FixKidnappedCharResistance(DataContext context)
	{
		if ((object)DomainManager.World.GetCurrWorldGameVersion() != null && !DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 79))
		{
			return;
		}
		List<short> list = _settlementPrisons.Keys.ToList();
		foreach (short item in list)
		{
			SettlementPrison settlementPrison = _settlementPrisons[item];
			List<SettlementPrisoner> prisoners = settlementPrison.Prisoners;
			if (prisoners == null || prisoners.Count <= 0)
			{
				continue;
			}
			foreach (SettlementPrisoner prisoner in settlementPrison.Prisoners)
			{
				prisoner.ExtraResistance = 0;
			}
			DomainManager.Extra.SetSettlementPrison(context, item, settlementPrison);
		}
	}

	private void FixDreamBackData(DataContext ctx)
	{
		GenealogyObsoleted dreamBackGenealogyObsoleted = GetDreamBackGenealogyObsoleted();
		if (dreamBackGenealogyObsoleted == null || !GameData.Domains.Character.Character.IsCharacterIdValid(dreamBackGenealogyObsoleted.CoreCharId))
		{
			return;
		}
		Genealogy dreamBackGenealogy = GetDreamBackGenealogy();
		dreamBackGenealogy.CoreCharId = dreamBackGenealogyObsoleted.CoreCharId;
		dreamBackGenealogy.BloodFatherId = dreamBackGenealogyObsoleted.BloodFatherId;
		dreamBackGenealogy.BloodMotherId = dreamBackGenealogyObsoleted.BloodMotherId;
		dreamBackGenealogy.GrandfatherId = dreamBackGenealogyObsoleted.GrandfatherId;
		dreamBackGenealogy.GrandmotherId = dreamBackGenealogyObsoleted.GrandmotherId;
		dreamBackGenealogy.MaternalGrandfatherId = dreamBackGenealogyObsoleted.MaternalGrandfatherId;
		dreamBackGenealogy.MaternalGrandmotherId = dreamBackGenealogyObsoleted.MaternalGrandmotherId;
		if (dreamBackGenealogyObsoleted.BrothersAndSisters != null)
		{
			Genealogy genealogy = dreamBackGenealogy;
			if (genealogy.BrothersAndSisters == null)
			{
				genealogy.BrothersAndSisters = new List<CharIdAndRelation>();
			}
			dreamBackGenealogy.BrothersAndSisters.Clear();
			dreamBackGenealogy.BrothersAndSisters.AddRange(dreamBackGenealogyObsoleted.BrothersAndSisters);
		}
		if (dreamBackGenealogyObsoleted.Parents != null)
		{
			Genealogy genealogy = dreamBackGenealogy;
			if (genealogy.Parents == null)
			{
				genealogy.Parents = new List<CharIdAndRelation>();
			}
			dreamBackGenealogy.Parents.Clear();
			dreamBackGenealogy.Parents.AddRange(dreamBackGenealogyObsoleted.Parents);
		}
		if (dreamBackGenealogyObsoleted.Spouses != null)
		{
			Genealogy genealogy = dreamBackGenealogy;
			if (genealogy.Spouses == null)
			{
				genealogy.Spouses = new List<SpouseAndChildren>();
			}
			dreamBackGenealogy.Spouses.Clear();
			dreamBackGenealogy.Spouses.AddRange(dreamBackGenealogyObsoleted.Spouses.Select((SpouseAndChildrenObsoleted d) => new SpouseAndChildren(d)));
		}
		dreamBackGenealogyObsoleted.CoreCharId = -1;
		SetDreamBackGenealogyObsoleted(dreamBackGenealogyObsoleted, ctx);
	}

	private void InitializeDreamBackRelatedCharacters()
	{
		if (!_isDreamBack)
		{
			return;
		}
		_dreamBackRelatedCharacters = new RelatedCharacters();
		int key;
		AbridgedCharacter value;
		foreach (KeyValuePair<int, AbridgedCharacter> abridgedDreamBackCharacter in _abridgedDreamBackCharacters)
		{
			abridgedDreamBackCharacter.Deconstruct(out key, out value);
			int num = key;
			AbridgedCharacter abridgedCharacter = value;
			ushort taiwuRelationToSelf = abridgedCharacter.TaiwuRelationToSelf;
			if (taiwuRelationToSelf == 0 || taiwuRelationToSelf == ushort.MaxValue)
			{
				_dreamBackRelatedCharacters.General.Add(num);
				continue;
			}
			for (int i = 0; i < 17; i++)
			{
				ushort num2 = (ushort)(1 << i);
				if ((taiwuRelationToSelf & num2) != 0)
				{
					_dreamBackRelatedCharacters.Add(num, num2);
				}
			}
		}
		_dreamBackRelatedCharsForRelations = new RelatedCharactersForRelations(_dreamBackRelatedCharacters);
		foreach (KeyValuePair<int, AbridgedCharacter> abridgedDreamBackCharacter2 in _abridgedDreamBackCharacters)
		{
			abridgedDreamBackCharacter2.Deconstruct(out key, out value);
			int charId = key;
			AbridgedCharacter abridgedCharacter2 = value;
			ushort selfRelationToTaiwu = abridgedCharacter2.SelfRelationToTaiwu;
			if (selfRelationToTaiwu != 0 && selfRelationToTaiwu != ushort.MaxValue)
			{
				if (RelationType.HasRelation(selfRelationToTaiwu, 16384))
				{
					_dreamBackRelatedCharsForRelations.RelatedAdored.Add(charId);
				}
				if (RelationType.HasRelation(selfRelationToTaiwu, 32768))
				{
					_dreamBackRelatedCharsForRelations.RelatedEnemies.Add(charId);
				}
			}
		}
	}

	public NameRelatedData GetOverwrittenTaiwuName()
	{
		NameRelatedData data = new NameRelatedData();
		CharacterDomain.GetNameRelatedData(_overwrittenTaiwu, ref data);
		return data;
	}

	public AvatarRelatedData GetOverwrittenTaiwuAvatarRelatedData()
	{
		return _overwrittenTaiwu.GenerateAvatarRelatedData();
	}

	[DomainMethod]
	public bool IsCurrentTaiwuOverwrittenByDreamBack()
	{
		return _isDreamBack && _overwrittenTaiwu.Id == DomainManager.Taiwu.GetTaiwuCharId();
	}

	public int GetDreamBackTaiwuCharId()
	{
		return _dreamBackTaiwu?.Id ?? (-1);
	}

	public bool IsDreamBackPreviousTaiwu(int charId)
	{
		return _dreamBackPreviousTaiwuCharIds.Contains(charId);
	}

	public RelatedCharacters GetDreamBackRelatedCharacters()
	{
		return _dreamBackRelatedCharacters;
	}

	[DomainMethod]
	public Genealogy GetDreamBackTaiwuGenealogy()
	{
		return _dreamBackGenealogy;
	}

	[DomainMethod]
	public RelatedCharactersForRelations GetDreamBackTaiwuRelatedCharactersForRelations()
	{
		return _dreamBackRelatedCharsForRelations;
	}

	[DomainMethod]
	public List<CharacterDisplayDataForRelations> GetCharacterDisplayDataListForDreamBackRelations(List<int> charIds)
	{
		List<CharacterDisplayDataForRelations> list = new List<CharacterDisplayDataForRelations>();
		if (charIds != null)
		{
			int i = 0;
			for (int count = charIds.Count; i < count; i++)
			{
				int num = charIds[i];
				AbridgedCharacter abridgedCharacter = ((num == _dreamBackTaiwu.Id) ? _dreamBackTaiwu : _abridgedDreamBackCharacters.GetValueOrDefault(num));
				if (abridgedCharacter != null)
				{
					NameAndLifeRelatedData nameAndLifeRelatedData = default(NameAndLifeRelatedData);
					CharacterDomain.GetNameRelatedData(abridgedCharacter, ref nameAndLifeRelatedData.NameRelatedData);
					nameAndLifeRelatedData.LifeState = abridgedCharacter.AliveState;
					CharacterDisplayDataForRelations item = new CharacterDisplayDataForRelations
					{
						CharacterId = num,
						AvatarRelatedData = abridgedCharacter.GenerateAvatarRelatedData(),
						Location = abridgedCharacter.Location,
						NameAndLifeRelatedData = nameAndLifeRelatedData
					};
					ushort item2 = GetDreamBackRelationTypeWithTaiwu(num).Item1;
					item.RelationType = item2;
					list.Add(item);
				}
			}
		}
		return list;
	}

	public (ushort, ushort) GetDreamBackRelationTypeWithTaiwu(int charId)
	{
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		if (taiwuCharId != _overwrittenTaiwu.Id)
		{
			return (0, 0);
		}
		if (!_abridgedDreamBackCharacters.TryGetValue(charId, out var value))
		{
			return (0, 0);
		}
		return (value.SelfRelationToTaiwu, value.TaiwuRelationToSelf);
	}

	public int GetAreaPastLifeRelationCount(short areaId)
	{
		if (!GetIsDreamBack())
		{
			return 0;
		}
		Span<MapBlockData> areaBlocks = DomainManager.Map.GetAreaBlocks(areaId);
		int num = 0;
		Span<MapBlockData> span = areaBlocks;
		for (int i = 0; i < span.Length; i++)
		{
			MapBlockData mapBlockData = span[i];
			if (mapBlockData.CharacterSet == null)
			{
				continue;
			}
			foreach (int item in mapBlockData.CharacterSet)
			{
				(ushort, ushort) dreamBackRelationTypeWithTaiwu = GetDreamBackRelationTypeWithTaiwu(item);
				if (TryGetDreamBackLifeRecordByRelatedCharId(item, out var _))
				{
					num++;
				}
				else if (dreamBackRelationTypeWithTaiwu.Item1 != 0 && dreamBackRelationTypeWithTaiwu.Item2 != 0)
				{
					num++;
				}
			}
		}
		return num;
	}

	[DomainMethod]
	public List<NameAndLifeRelatedData> GetNameAndLifeRelatedDataListForDreamBack(List<int> charIds)
	{
		List<NameAndLifeRelatedData> list = new List<NameAndLifeRelatedData>();
		int i = 0;
		for (int count = charIds.Count; i < count; i++)
		{
			int num = charIds[i];
			NameAndLifeRelatedData item = default(NameAndLifeRelatedData);
			if (_abridgedDreamBackCharacters.TryGetValue(num, out var value))
			{
				CharacterDomain.GetNameRelatedData(value, ref item.NameRelatedData);
				item.LifeState = value.AliveState;
			}
			else if (num == _dreamBackTaiwu.Id)
			{
				CharacterDomain.GetNameRelatedData(_dreamBackTaiwu, ref item.NameRelatedData);
				item.LifeState = _dreamBackTaiwu.AliveState;
			}
			else
			{
				item.NameRelatedData.CharTemplateId = -1;
				item.LifeState = 2;
			}
			list.Add(item);
		}
		return list;
	}

	[DomainMethod]
	public ReadonlyLifeRecordsWithDate GetDreamBackLifeRecordByDate(int startDate, int monthCount)
	{
		ReadonlyLifeRecordsWithDate readonlyLifeRecordsWithDate = new ReadonlyLifeRecordsWithDate();
		_dreamBackLifeRecords.GetPartialLifeRecords(startDate, monthCount, ref readonlyLifeRecordsWithDate.Records);
		readonlyLifeRecordsWithDate.CharId = _overwrittenTaiwu.Id;
		readonlyLifeRecordsWithDate.StartDate = startDate;
		readonlyLifeRecordsWithDate.MonthCount = monthCount;
		return readonlyLifeRecordsWithDate;
	}

	[DomainMethod]
	public ReadonlyLifeRecordsWithDate GetAllDreamBackLifeRecords()
	{
		return new ReadonlyLifeRecordsWithDate
		{
			Records = _dreamBackLifeRecords,
			CharId = _overwrittenTaiwu.Id,
			StartDate = _dreamBackTaiwu.BirthDate,
			MonthCount = _finalDateBeforeDreamBack - _dreamBackTaiwu.BirthDate
		};
	}

	[DomainMethod]
	public (int, int) GetDreamBackTaiwuBirthAndEndDates()
	{
		return (_dreamBackTaiwu.BirthDate, _finalDateBeforeDreamBack);
	}

	public EventArgBox GetDreamBackGlobalEventArgBoxPublic()
	{
		return _dreamBackGlobalEventArgBox;
	}

	public EventArgBox GetDreamBackDlcEventArgBoxPublic()
	{
		return _dreamBackDlcEventArgBox;
	}

	public void ArchiveKilledByLongYufuCharacter(DataContext context, GameData.Domains.Character.Character character)
	{
		DomainManager.Character.PackCharacter(_killedByYufuCharactersBinary, character);
	}

	public List<GameData.Domains.Character.Character> ReleaseAllKilledByLongYufuCharacters(DataContext context)
	{
		int offset = 0;
		List<GameData.Domains.Character.Character> list = new List<GameData.Domains.Character.Character>();
		while (_killedByYufuCharactersBinary.Size > offset)
		{
			GameData.Domains.Character.Character item = DomainManager.Character.UnpackCharacter(context, _killedByYufuCharactersBinary, ref offset, connectWithSrc: false);
			list.Add(item);
		}
		return list;
	}

	[DomainMethod]
	public ConflictCombatSkill GetConflictCombatSkill(short templateId)
	{
		return _conflictCombatSkills.GetValueOrDefault(templateId);
	}

	public void AddConflictSpecialEffect(DataContext context, SpecialEffectWrapper effectWrapper)
	{
		AddElement_ConflictEffectWrappers(effectWrapper.Effect.Id, effectWrapper, context);
	}

	public bool TryGetConflictCombatSkillEffect(short templateId, out CombatSkillEffectBase effect)
	{
		foreach (var (num2, specialEffectWrapper2) in _conflictEffectWrappers)
		{
			if (specialEffectWrapper2.Effect is CombatSkillEffectBase combatSkillEffectBase && combatSkillEffectBase.SkillTemplateId == templateId)
			{
				effect = combatSkillEffectBase;
				return true;
			}
		}
		effect = null;
		return false;
	}

	[DomainMethod]
	public void ApplyConflictCombatSkillResult(DataContext context, short templateId, bool overwrite)
	{
		if (_conflictCombatSkills.TryGetValue(templateId, out var value))
		{
			if (overwrite)
			{
				int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
				CombatSkillKey objectId = new CombatSkillKey(taiwuCharId, templateId);
				GameData.Domains.CombatSkill.CombatSkill element_CombatSkills = DomainManager.CombatSkill.GetElement_CombatSkills(objectId);
				ushort activationState = value.BreakPlate?.SelectedPages ?? value.BreakPlateObsolete.SelectedPages;
				element_CombatSkills.SetActivationState(activationState, context);
				element_CombatSkills.SetBreakoutStepsCount(value.BreakStepCount, context);
				element_CombatSkills.SetForcedBreakoutStepsCount(value.ForcedBreakStepCount, context);
				DomainManager.Taiwu.OverwriteBreakPlateWithConflictCombatSkill(context, value);
				DomainManager.SpecialEffect.OverwriteSpecialEffectWithConflictCombatSkill(context, value);
			}
			RemoveElement_ConflictCombatSkills(templateId, context);
		}
	}

	public bool IsDreamBackStateUnlocked(sbyte stateType)
	{
		return BitOperation.GetBit(_dreamBackUnlockStates, (int)stateType);
	}

	[DomainMethod]
	public bool HaveConflictCombatSkill()
	{
		return _conflictCombatSkills.Count > 0;
	}

	public void BackupDreamBackArchiveData(DataContext context)
	{
		if (_isDreamBack)
		{
			CommitRemove_DreamBackArchiveBackup(context, 0, _dreamBackArchiveBackup.Size);
			_dreamBackArchiveBackup.Clear();
			_dreamBackArchiveBackup.AddSerializableGameData((ISerializableGameData)(object)_unhandledCrossArchiveGameData);
			CommitInsert_DreamBackArchiveBackup(context, 0, _dreamBackArchiveBackup.Size);
			CommitSetMetadata_DreamBackArchiveBackup(context);
		}
	}

	public void LoadDreamBackArchiveDataBackup()
	{
		if (_isDreamBack)
		{
			_dreamBackArchiveBackup.GetSerializableGameData(ref _unhandledCrossArchiveGameData, 0);
		}
	}

	public void SaveOverwrittenTaiwu(DataContext context)
	{
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		AbridgedCharacter abridgeCharacter = DomainManager.Character.GetAbridgeCharacter(taiwuCharId);
		SetOverwrittenTaiwu(abridgeCharacter, context);
	}

	[Obsolete]
	public int GetDreamBackProfession()
	{
		return _isDreamBack ? _unhandledCrossArchiveGameData.CurrProfessionId : (-1);
	}

	public bool IsDreamBack()
	{
		return _isDreamBack;
	}

	public override void PackCrossArchiveGameData(CrossArchiveGameData crossArchiveGameData)
	{
		crossArchiveGameData.ObsoleteProfessions = _obsoleteTaiwuProfessions;
		crossArchiveGameData.Professions = _taiwuProfessions;
		crossArchiveGameData.HandledOneShotEvents = new List<int>();
		crossArchiveGameData.HandledOneShotEvents.AddRange(_handledOneShotEvents.Keys);
		crossArchiveGameData.TreasuryItems = new Dictionary<ItemKey, int>();
		ItemKey key;
		int value;
		foreach (KeyValuePair<ItemKey, int> treasuryItem in _treasuryItems)
		{
			treasuryItem.Deconstruct(out key, out value);
			ItemKey itemKey = key;
			int value2 = value;
			if (ItemTemplateHelper.IsInheritable(itemKey.ItemType, itemKey.TemplateId))
			{
				crossArchiveGameData.TreasuryItems.Add(itemKey, value2);
				DomainManager.Item.PackCrossArchiveItem(crossArchiveGameData, itemKey);
			}
		}
		crossArchiveGameData.TroughItems = new Dictionary<ItemKey, int>();
		foreach (KeyValuePair<ItemKey, int> troughItem in _troughItems)
		{
			troughItem.Deconstruct(out key, out value);
			ItemKey itemKey2 = key;
			int value3 = value;
			if (ItemTemplateHelper.IsInheritable(itemKey2.ItemType, itemKey2.TemplateId))
			{
				crossArchiveGameData.TroughItems.Add(itemKey2, value3);
				DomainManager.Item.PackCrossArchiveItem(crossArchiveGameData, itemKey2);
			}
		}
		crossArchiveGameData.SectFulongOrgMemberChickens = _sectFulongOrgMemberChickens;
		crossArchiveGameData.LegaciesBuildingTemplateIds = _legaciesBuildingTemplateIdList;
		crossArchiveGameData.TaiwuPropertyPermanentBonuses = _taiwuPropertyPermanentBonuses;
		crossArchiveGameData.TaiwuPoisonImmunities = _characterPoisonImmunities.GetOrDefault(DomainManager.Taiwu.GetTaiwuCharId());
		crossArchiveGameData.SelectedUniqueLegacies = _selectedUniqueLegacies;
		crossArchiveGameData.ReadingEventReferenceBooks = new Dictionary<int, GameData.Utilities.ShortList>();
		foreach (KeyValuePair<int, GameData.Utilities.ShortList> readingEventReferenceBook in _readingEventReferenceBooks)
		{
			if (DomainManager.Item.TryGetElement_SkillBooks(readingEventReferenceBook.Key, out var element))
			{
				DomainManager.Item.PackCrossArchiveItem(crossArchiveGameData, element.GetItemKey());
				crossArchiveGameData.ReadingEventReferenceBooks.Add(readingEventReferenceBook.Key, readingEventReferenceBook.Value);
			}
		}
		crossArchiveGameData.ReadingEventBookIdList = new List<int>();
		foreach (int readingEventBookId in _readingEventBookIdList)
		{
			if (DomainManager.Item.TryGetElement_SkillBooks(readingEventBookId, out var element2))
			{
				DomainManager.Item.PackCrossArchiveItem(crossArchiveGameData, element2.GetItemKey());
				crossArchiveGameData.ReadingEventBookIdList.Add(readingEventBookId);
			}
		}
		crossArchiveGameData.AvailableReadingStrategyMap = new Dictionary<int, SByteList>();
		foreach (KeyValuePair<int, SByteList> item in _availableReadingStrategyMap)
		{
			if (DomainManager.Item.TryGetElement_SkillBooks(item.Key, out var element3))
			{
				DomainManager.Item.PackCrossArchiveItem(crossArchiveGameData, element3.GetItemKey());
				crossArchiveGameData.AvailableReadingStrategyMap.Add(item.Key, item.Value);
			}
		}
		crossArchiveGameData.ClearedSkillPlateStepInfo = _clearedSkillPlateStepInfo;
		crossArchiveGameData.TaiwuMaxNeiliAllocation = _taiwuMaxNeiliAllocation;
		crossArchiveGameData.VoiceWeaponInnerRatio = _voiceWeaponInnerRatio;
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		if (_characterEquippedCombatSkills.TryGetValue(taiwuCharId, out var value4))
		{
			crossArchiveGameData.ExternalEquippedCombatSkills = value4;
		}
		if (_characterMasteredCombatSkills.TryGetValue(taiwuCharId, out var value5))
		{
			crossArchiveGameData.CurrMasteredCombatSkillPlan = value5;
		}
		crossArchiveGameData.MasteredCombatSkillPlans = _masteredCombatSkillPlans;
		foreach (KeyValuePair<CombatSkillKey, int> combatSkillProficiency in _combatSkillProficiencies)
		{
			combatSkillProficiency.Deconstruct(out var key2, out value);
			CombatSkillKey combatSkillKey = key2;
			int value6 = value;
			if (combatSkillKey.CharId == taiwuCharId)
			{
				CrossArchiveGameData crossArchiveGameData2 = crossArchiveGameData;
				if (crossArchiveGameData2.TaiwuCombatSkillProficiencies == null)
				{
					crossArchiveGameData2.TaiwuCombatSkillProficiencies = new Dictionary<short, int>();
				}
				crossArchiveGameData.TaiwuCombatSkillProficiencies[combatSkillKey.SkillTemplateId] = value6;
			}
		}
		crossArchiveGameData.UnlockedCombatSkillPlanCount = _unlockedCombatSkillPlanCount;
		foreach (GameData.Domains.Taiwu.SkillBreakPlate value10 in _skillBreakPlates.Values)
		{
			value10.ResetRelationBonuses();
		}
		foreach (SkillBreakPlateList value11 in _combatSkillBreakPlateList.Values)
		{
			foreach (GameData.Domains.Taiwu.SkillBreakPlate item2 in value11)
			{
				item2?.ResetRelationBonuses();
			}
		}
		crossArchiveGameData.SkillBreakPlateDict = _skillBreakPlates;
		crossArchiveGameData.LegendaryBookBreakPlateCounts = _legendaryBookBreakPlateCounts;
		crossArchiveGameData.CombatSkillBreakPlateList = _combatSkillBreakPlateList;
		crossArchiveGameData.CombatSkillBreakPlateObsoleteList = _combatSkillBreakPlateObsoleteList;
		crossArchiveGameData.CombatSkillBreakPlateLastClearTimeList = _combatSkillBreakPlateLastClearTimeList;
		crossArchiveGameData.CombatSkillBreakPlateLastForceBreakoutStepsCount = _combatSkillBreakPlateLastForceBreakoutStepsCount;
		crossArchiveGameData.CombatSkillCurrBreakPlateIndex = _combatSkillCurrBreakPlateIndex;
		crossArchiveGameData.LegendaryBookWeaponSlot = _legendaryBookWeaponSlot;
		crossArchiveGameData.LegendaryBookWeaponEffectId = _legendaryBookWeaponEffectId;
		crossArchiveGameData.LegendaryBookSkillSlot = _legendaryBookSkillSlot;
		crossArchiveGameData.LegendaryBookSkillEffectId = _legendaryBookSkillEffectId;
		crossArchiveGameData.LegendaryBookBonusCountYin = _legendaryBookBonusCountYin;
		crossArchiveGameData.LegendaryBookBonusCountYang = _legendaryBookBonusCountYang;
		crossArchiveGameData.StockStorage = _stockStorage;
		PackStorage(_stockStorage);
		crossArchiveGameData.TaiwuSettlementTreasury = DomainManager.Taiwu.GetTaiwuTreasury();
		foreach (ItemKey key3 in crossArchiveGameData.TaiwuSettlementTreasury.Inventory.Items.Keys)
		{
			DomainManager.Item.PackCrossArchiveItem(crossArchiveGameData, key3);
		}
		crossArchiveGameData.GlobalEventArgBox = DomainManager.TaiwuEvent.GetGlobalEventArgumentBox();
		crossArchiveGameData.DlcEventArgBox = _dlcArgBox;
		crossArchiveGameData.SectMainStoryEventArgBoxes = _sectMainStoryEventArgBoxes;
		crossArchiveGameData.DlcEntries = _dlcEntries;
		Inventory inventory = DomainManager.Taiwu.GetTaiwu().GetInventory();
		foreach (JiaoPool jiaoPool in _jiaoPools)
		{
			foreach (int jiao2 in jiaoPool.Jiaos)
			{
				if (TryGetJiao(jiao2, out var jiao))
				{
					DomainManager.Item.PackCrossArchiveItem(crossArchiveGameData, jiao.Key);
					inventory.OfflineAdd(jiao.Key, 1);
				}
			}
		}
		if (TryGetDlcEntry<FiveLoongDlcEntry>(2764950uL, out var entry))
		{
			crossArchiveGameData.IsJiaoPoolOpen = entry.IsJiaoPoolOpen;
			crossArchiveGameData.MaxTaiwuVillageLevel = entry.MaxTaiwuVillageLevel;
		}
		crossArchiveGameData.SectEmeiSkillBreakBonus = _sectEmeiSkillBreakBonus;
		crossArchiveGameData.SectEmeiBreakBonusTemplateIds = _sectEmeiBreakBonusTemplateIds;
		crossArchiveGameData.SectEmeiBonusData = _sectEmeiBreakBonusData;
		crossArchiveGameData.ProficiencyEnoughSkills = _proficiencyEnoughSkills;
		crossArchiveGameData.OwnedClothingSet = _ownedClothingSet;
		crossArchiveGameData.EnemyUnyieldingFallen = _enemyUnyieldingFallen;
		crossArchiveGameData.EnemyDisableAi = _disableEnemyAi;
		crossArchiveGameData.LastTargetDistance = _lastTargetDistance;
		crossArchiveGameData.CricketCombatPlans = _cricketCombatPlans;
		crossArchiveGameData.LastCricketPlanIndex = _lastCricketPlanIndex;
		crossArchiveGameData.CharacterTemporaryFeatures = _characterTemporaryFeatures;
		int threeCorpsesOwnedLegendaryBookTypes = GetThreeCorpsesOwnedLegendaryBookTypes();
		for (sbyte b = 0; b < 14; b++)
		{
			if ((threeCorpsesOwnedLegendaryBookTypes & (1 << (int)b)) != 0)
			{
				ItemKey legendaryBookItem = DomainManager.LegendaryBook.GetLegendaryBookItem(b);
				DomainManager.Item.PackCrossArchiveItem(crossArchiveGameData, legendaryBookItem);
				inventory.OfflineAdd(legendaryBookItem, 1);
			}
		}
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		crossArchiveGameData.ExtraNeiliAllocation = taiwu.GetExtraNeiliAllocation();
		if (!_characterExtraNeiliAllocationProgress.TryGetValue(taiwuCharId, out var value7))
		{
			value7 = IntList.Create();
			for (int i = 0; i < 4; i++)
			{
				value7.Items.Add(0);
			}
		}
		crossArchiveGameData.ExtraNeiliAllocationProgress = value7;
		crossArchiveGameData.MonthlyNotificationSortingGroups = _monthlyNotificationSortingGroups;
		crossArchiveGameData.FollowingNpcList = _followingNpcList;
		crossArchiveGameData.InteractedCharacterList = _interactedCharacterList;
		foreach (KeyValuePair<int, GearMate> sectZhujianGearMate in _sectZhujianGearMates)
		{
			sectZhujianGearMate.Deconstruct(out value, out var value8);
			int num = value;
			GearMate gearMate = value8;
			if (!DomainManager.Character.TryGetElement_Objects(num, out var element4) || element4.GetTemplateId() != 836)
			{
				continue;
			}
			int[] array = new int[4];
			if (_characterExtraNeiliAllocationProgress.TryGetValue(num, out var value9))
			{
				for (int j = 0; j < 4; j++)
				{
					array[j] = value9.Items[j];
				}
			}
			else
			{
				for (int k = 0; k < 4; k++)
				{
					array[k] = 0;
				}
			}
			crossArchiveGameData.SectZhujianGearMate = new GearMateDreamBackData
			{
				MainAttributeProgress = gearMate.MainAttributeProgress,
				ConsummateLevelProgress = gearMate.ConsummateLevelProgress,
				FeatureProgress = gearMate.FeatureProgress,
				LifeSkillReadingProgress = gearMate.LifeSkillReadingProgress,
				CombatSkillReadingProgress = gearMate.CombatSkillReadingProgress,
				SkillBreakBonusDict = new Dictionary<short, SkillBreakPlateBonusList>(gearMate.SkillBreakBonusDict.Select((KeyValuePair<short, SkillBreakPlateBonusList> x) => new KeyValuePair<short, SkillBreakPlateBonusList>(x.Key, new SkillBreakPlateBonusList(x.Value.Select((SkillBreakPlateBonus bonus) => bonus.ResetRelationCharIds()))))),
				SkillBreakMaxPowerDict = new Dictionary<short, int>(gearMate.SkillBreakMaxPowerDict),
				CombatSkillAttainmentProgress = gearMate.CombatSkillAttainmentProgress,
				LifeSkillAttainmentProgress = gearMate.LifeSkillAttainmentProgress,
				NeiliType = gearMate.NeiliType,
				MainAttributes = element4.GetBaseMainAttributes(),
				ConsummateLevel = element4.GetConsummateLevel(),
				FeatureIds = element4.GetFeatureIds(),
				CombatSkills = DomainManager.CombatSkill.GetCharCombatSkills(element4.GetId()),
				LifeSkills = element4.GetLearnedLifeSkills(),
				BaseCombatSkillQualifications = element4.GetBaseCombatSkillQualifications(),
				BaseLifeSkillQualifications = element4.GetBaseLifeSkillQualifications(),
				ExtraNeiliAllocationProgress = array
			};
		}
		void PackStorage(TaiwuVillageStorage storage)
		{
			Inventory[] inventories = storage.Inventories;
			foreach (Inventory inventory2 in inventories)
			{
				foreach (ItemKey key4 in inventory2.Items.Keys)
				{
					DomainManager.Item.PackCrossArchiveItem(crossArchiveGameData, key4);
				}
			}
		}
	}

	public override void UnpackCrossArchiveGameData(DataContext context, CrossArchiveGameData crossArchiveGameData)
	{
		SetIsDreamBack(value: true, context);
		SetDreamBackTaiwu(crossArchiveGameData.DreamBackTaiwuAbridged, context);
		SetFinalDateBeforeDreamBack(crossArchiveGameData.FinalDateBeforeDreamBack, context);
		SetDreamBackPreviousTaiwuCharIds(crossArchiveGameData.PreviousTaiwuCharIds, context);
		ClearAbridgedDreamBackCharacters(context);
		int value;
		foreach (KeyValuePair<int, AbridgedCharacter> abridgedCharacter in crossArchiveGameData.AbridgedCharacters)
		{
			abridgedCharacter.Deconstruct(out value, out var value2);
			int elementId = value;
			AbridgedCharacter value3 = value2;
			AddElement_AbridgedDreamBackCharacters(elementId, value3, context);
		}
		InitializeDreamBackRelatedCharacters();
		SetDreamBackGenealogy(crossArchiveGameData.Genealogy, context);
		InitializeDejaVuEventCharacters(context);
		_dreamBackLifeRecords = crossArchiveGameData.LifeRecords;
		CommitInsert_DreamBackLifeRecords(context, 0, crossArchiveGameData.LifeRecords.Size);
		CommitSetMetadata_DreamBackLifeRecords(context);
		InitializeDreamBackLifeRecordsCacheData();
		SetDreamBackGlobalEventArgBox(crossArchiveGameData.GlobalEventArgBox, context);
		SetDreamBackDlcEventArgBox(crossArchiveGameData.DlcEventArgBox, context);
		for (int i = 0; i < _sectMainStoryEventArgBoxes.Length; i++)
		{
			SetElement_DreamBackSectMainStoryEventArgBox(i, crossArchiveGameData.SectMainStoryEventArgBoxes[i], context);
		}
		if (crossArchiveGameData.TaiwuPropertyPermanentBonuses != null)
		{
			foreach (var (num2, value4) in crossArchiveGameData.TaiwuPropertyPermanentBonuses)
			{
				if (_taiwuPropertyPermanentBonuses.TryGetValue(num2, out var value5))
				{
					value5.AddValue += value4.AddValue;
					value5.AddPercent += value4.AddPercent;
					SetElement_TaiwuPropertyPermanentBonuses(num2, value5, context);
				}
				else
				{
					AddElement_TaiwuPropertyPermanentBonuses(num2, value4, context);
				}
			}
		}
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		if (crossArchiveGameData.TaiwuPoisonImmunities != 0)
		{
			AddPoisonImmunities(context, taiwuCharId, crossArchiveGameData.TaiwuPoisonImmunities);
		}
		if (crossArchiveGameData.SelectedUniqueLegacies != null)
		{
			SetSelectedUniqueLegacies(crossArchiveGameData.SelectedUniqueLegacies, context);
		}
		if (crossArchiveGameData.ProficiencyEnoughSkills != null)
		{
			ClearProficiencyEnoughSkills(context);
			foreach (short item in crossArchiveGameData.ProficiencyEnoughSkills.Collection)
			{
				AddElement_ProficiencyEnoughSkills(item, default(VoidValue), context);
			}
		}
		if (crossArchiveGameData.OwnedClothingSet != null)
		{
			foreach (short key2 in crossArchiveGameData.OwnedClothingSet.Keys)
			{
				RecordOwnedClothing(context, key2);
			}
		}
		SetEnemyUnyieldingFallen(crossArchiveGameData.EnemyUnyieldingFallen, context);
		SetDisableEnemyAi(crossArchiveGameData.EnemyDisableAi, context);
		SetLastTargetDistance(crossArchiveGameData.LastTargetDistance, context);
		SetCricketCombatPlans(crossArchiveGameData.CricketCombatPlans, context);
		SetLastCricketPlanIndex(crossArchiveGameData.LastCricketPlanIndex, context);
		SetExtraNeiliAllocationProgress(context, taiwuCharId, crossArchiveGameData.ExtraNeiliAllocationProgress);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		taiwu.SetExtraNeiliAllocation(crossArchiveGameData.ExtraNeiliAllocation, context);
		int finalDateBeforeDreamBack = crossArchiveGameData.FinalDateBeforeDreamBack;
		int currDate = DomainManager.World.GetCurrDate();
		foreach (KeyValuePair<IntPair, int> characterTemporaryFeature in crossArchiveGameData.CharacterTemporaryFeatures)
		{
			characterTemporaryFeature.Deconstruct(out var key, out value);
			IntPair intPair = key;
			int num3 = value;
			int first = intPair.First;
			short num4 = (short)intPair.Second;
			if (first == crossArchiveGameData.TaiwuChar.GetId() && taiwu.GetFeatureIds().Contains(num4))
			{
				int num5 = num3 - finalDateBeforeDreamBack + currDate;
				RegisterCharacterTemporaryFeature(context, taiwuCharId, num4, num5);
				Logger.Info($"Unacking temporary feature {CharacterFeature.Instance[num4].Name} expiring in {num5 - currDate} months.");
			}
		}
		crossArchiveGameData.CharacterTemporaryFeatures = null;
		foreach (KeyValuePair<int, NotificationSortingGroup> monthlyNotificationSortingGroup in crossArchiveGameData.MonthlyNotificationSortingGroups)
		{
			if (_monthlyNotificationSortingGroups.ContainsKey(monthlyNotificationSortingGroup.Key))
			{
				SetElement_MonthlyNotificationSortingGroups(monthlyNotificationSortingGroup.Key, monthlyNotificationSortingGroup.Value, context);
			}
			else
			{
				AddElement_MonthlyNotificationSortingGroups(monthlyNotificationSortingGroup.Key, monthlyNotificationSortingGroup.Value, context);
			}
		}
		DomainManager.World.InitializeSortedMonthlyNotificationSortingGroups(_monthlyNotificationSortingGroups);
		DomainManager.World.SortMonthlyNotificationSortingGroups(context);
		DlcManager.OnCrossArchive(context, crossArchiveGameData);
		crossArchiveGameData.AbridgedCharacters = null;
		crossArchiveGameData.LifeRecords = null;
		crossArchiveGameData.PreviousTaiwuCharIds = null;
		crossArchiveGameData.DreamBackTaiwuAbridged = null;
		_unhandledCrossArchiveGameData = crossArchiveGameData;
		_dreamBackUnlockStates = BitOperation.SetBit(_dreamBackUnlockStates, 0, true);
		SetDreamBackUnlockStates(_dreamBackUnlockStates, context);
		SetFollowingNpcList(crossArchiveGameData.FollowingNpcList, context);
		SetInteractedCharacterList(crossArchiveGameData.InteractedCharacterList, context);
	}

	public void UnpackUnhandledCrossArchiveGameData(DataContext context, sbyte stateType, bool inheritData, bool overwriteEquipments)
	{
		if (BitOperation.GetBit(_dreamBackUnlockStates, (int)stateType))
		{
			Logger.Warn($"cross archive data {stateType} was already unlocked.");
			return;
		}
		_dreamBackUnlockStates = BitOperation.SetBit(_dreamBackUnlockStates, (int)stateType, true);
		SetDreamBackUnlockStates(_dreamBackUnlockStates, context);
		Logger.Info($"Unpacking unhandled cross archive game data: stateType={stateType}, inheritData={inheritData}, overwriteEquipments={overwriteEquipments}");
		if (!inheritData)
		{
			sbyte b = stateType;
			sbyte b2 = b;
			if (b2 != 1)
			{
				return;
			}
			Inventory inventory = _unhandledCrossArchiveGameData.TaiwuChar.GetInventory();
			{
				foreach (KeyValuePair<ItemKey, int> item in inventory.Items)
				{
					item.Deconstruct(out var key, out var value);
					ItemKey srcItemKey = key;
					int num = value;
					ItemKey itemKey = DomainManager.Item.UnpackCrossArchiveItem(context, _unhandledCrossArchiveGameData, srcItemKey);
					if (!itemKey.IsValid())
					{
						continue;
					}
					ItemBase baseItem = DomainManager.Item.GetBaseItem(itemKey);
					if (baseItem.Owner.OwnerType != ItemOwnerType.None && !baseItem.Owner.Equals(new ItemOwnerKey(ItemOwnerType.System, 19)))
					{
						Logger.Warn($"Removing item already owned by {baseItem.Owner} before handling: {itemKey}.");
						continue;
					}
					DomainManager.Item.RemoveItem(context, itemKey);
					if (ItemTemplateHelper.GetItemSubType(itemKey.ItemType, itemKey.TemplateId) == 1202)
					{
						Logger.Info($"Removing legendary book {itemKey} in unhandled cross archive data.");
						DomainManager.LegendaryBook.UnregisterLegendaryBookItem(itemKey);
					}
					_unhandledCrossArchiveGameData.UnpackedItems.Remove(srcItemKey.Id);
				}
				return;
			}
		}
		switch (stateType)
		{
		case 1:
			DomainManager.Character.UnpackCrossArchiveGameData_Items(context, _unhandledCrossArchiveGameData, overwriteEquipments);
			DomainManager.Taiwu.UnpackCrossArchiveGameData_Items(context, _unhandledCrossArchiveGameData, overwriteEquipments);
			DomainManager.Extra.UnpackCrossArchiveGameData_Items(context, _unhandledCrossArchiveGameData, overwriteEquipments);
			DomainManager.SpecialEffect.UnpackCrossArchiveGameData_Items(context, _unhandledCrossArchiveGameData);
			break;
		case 2:
			DomainManager.CombatSkill.UnpackCrossArchiveGameData_CombatSkills(context, _unhandledCrossArchiveGameData, overwriteEquipments);
			DomainManager.Taiwu.UnpackCrossArchiveGameData_CombatSkills(context, _unhandledCrossArchiveGameData, overwriteEquipments);
			DomainManager.Extra.UnpackCrossArchiveGameData_CombatSkills(context, _unhandledCrossArchiveGameData, overwriteEquipments);
			DomainManager.SpecialEffect.UnpackCrossArchiveGameData_CombatSkills(context, _unhandledCrossArchiveGameData);
			DomainManager.Taiwu.ClearExceedCombatSkills(context);
			break;
		case 3:
			DomainManager.Character.UnpackCrossArchiveGameData_LifeSkills(context, _unhandledCrossArchiveGameData);
			DomainManager.Taiwu.UnpackCrossArchiveGameData_LifeSkills(context, _unhandledCrossArchiveGameData);
			DomainManager.Information.UnpackCrossArchiveGameData_NormalInformation(context, _unhandledCrossArchiveGameData);
			break;
		case 4:
			DomainManager.Building.UnpackCrossArchiveGameData_Building(context, _unhandledCrossArchiveGameData);
			DomainManager.Taiwu.UnpackCrossArchiveGameData_Building(context, _unhandledCrossArchiveGameData);
			DomainManager.Extra.UnpackCrossArchiveGameData_Building(context, _unhandledCrossArchiveGameData);
			break;
		case 5:
			DomainManager.Extra.UnpackCrossArchiveGameData_Profession(context, _unhandledCrossArchiveGameData);
			break;
		case 6:
		{
			GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
			sbyte consummateLevel = _unhandledCrossArchiveGameData.TaiwuChar.GetConsummateLevel();
			int taiwuExp = _unhandledCrossArchiveGameData.TaiwuExp;
			taiwu.SetConsummateLevel(consummateLevel, context);
			taiwu.ChangeExp(context, taiwuExp);
			break;
		}
		}
	}

	public void UnpackCrossArchiveGameData_Profession(DataContext context, CrossArchiveGameData crossArchiveGameData)
	{
		if (crossArchiveGameData.ObsoleteProfessions != null)
		{
			if (crossArchiveGameData.Professions == null)
			{
				crossArchiveGameData.Professions = new Dictionary<int, ProfessionData>();
			}
			foreach (KeyValuePair<int, ObsoleteProfessionData> obsoleteProfession in crossArchiveGameData.ObsoleteProfessions)
			{
				obsoleteProfession.Deconstruct(out var key, out var value);
				int key2 = key;
				ObsoleteProfessionData obsoleteProfessionData = value;
				ProfessionData value2 = new ProfessionData(obsoleteProfessionData);
				crossArchiveGameData.Professions.Add(key2, value2);
			}
		}
		crossArchiveGameData.ObsoleteProfessions = null;
		foreach (KeyValuePair<int, ProfessionData> profession in crossArchiveGameData.Professions)
		{
			ProfessionData value3 = profession.Value;
			for (int i = 0; i < value3.SkillOffCooldownDates.Length; i++)
			{
				value3.SkillOffCooldownDates[i] = 0;
			}
			value3.GetSkillsData<IProfessionSkillsData>()?.Initialize();
			SetElement_TaiwuProfessions(profession.Key, profession.Value, context);
			ProfessionSkillHandle.UnpackCrossArchiveProfession(context, profession.Key);
		}
		crossArchiveGameData.Professions = null;
		if (crossArchiveGameData.HandledOneShotEvents != null)
		{
			foreach (int handledOneShotEvent in crossArchiveGameData.HandledOneShotEvents)
			{
				if (OneShotEventType.IsProfessionRelatedOneShotEvent(handledOneShotEvent))
				{
					AddElement_HandledOneShotEvents(handledOneShotEvent, default(VoidValue), context);
				}
			}
		}
		crossArchiveGameData.HandledOneShotEvents = null;
	}

	public void UnpackCrossArchiveGameData_Building(DataContext context, CrossArchiveGameData crossArchiveGameData)
	{
		if (crossArchiveGameData.TreasuryItems != null)
		{
			foreach (KeyValuePair<ItemKey, int> treasuryItem in crossArchiveGameData.TreasuryItems)
			{
				ItemKey itemKey = DomainManager.Item.UnpackCrossArchiveItem(context, crossArchiveGameData, treasuryItem.Key);
				if (itemKey.IsValid() && DomainManager.Item.ItemExists(itemKey))
				{
					AddStockStorageItem(context, 1, itemKey, treasuryItem.Value);
					continue;
				}
				Logger.Warn($"Invalid treasury item found during dreamback: {itemKey}.");
			}
		}
		crossArchiveGameData.TreasuryItems = null;
		if (crossArchiveGameData.TroughItems != null)
		{
			foreach (KeyValuePair<ItemKey, int> troughItem in crossArchiveGameData.TroughItems)
			{
				ItemKey itemKey2 = DomainManager.Item.UnpackCrossArchiveItem(context, crossArchiveGameData, troughItem.Key);
				if (itemKey2.IsValid())
				{
					TroughAdd(context, itemKey2, troughItem.Value);
				}
			}
		}
		crossArchiveGameData.TroughItems = null;
		if (crossArchiveGameData.StockStorage != null)
		{
			for (sbyte b = 0; b < crossArchiveGameData.StockStorage.Inventories.Length; b++)
			{
				Inventory inventory = crossArchiveGameData.StockStorage.Inventories[b];
				foreach (KeyValuePair<ItemKey, int> item in inventory.Items)
				{
					ItemKey itemKey3 = DomainManager.Item.UnpackCrossArchiveItem(context, crossArchiveGameData, item.Key);
					if (itemKey3.IsValid())
					{
						AddStockStorageItem(context, b, itemKey3, item.Value);
					}
				}
			}
			_stockStorage.Resources.Add(ref crossArchiveGameData.StockStorage.Resources);
			_stockStorage.NeedCommit = true;
			crossArchiveGameData.StockStorage = null;
		}
		if (crossArchiveGameData.TaiwuSettlementTreasury != null)
		{
			foreach (KeyValuePair<ItemKey, int> item2 in crossArchiveGameData.TaiwuSettlementTreasury.Inventory.Items)
			{
				ItemKey itemKey4 = DomainManager.Item.UnpackCrossArchiveItem(context, crossArchiveGameData, item2.Key);
				if (itemKey4.IsValid())
				{
					DomainManager.Taiwu.AddItem(context, itemKey4, item2.Value, ItemSourceType.Treasury, offLine: true);
				}
			}
			DomainManager.Taiwu.GetTaiwuTreasury().Resources.Add(ref crossArchiveGameData.TaiwuSettlementTreasury.Resources);
			DomainManager.Taiwu.CommitOfflineOperation(context, ItemSourceType.Treasury);
			crossArchiveGameData.TaiwuSettlementTreasury = null;
		}
		if (crossArchiveGameData.LegaciesBuildingTemplateIds != null)
		{
			_legaciesBuildingTemplateIdList.AddRange(crossArchiveGameData.LegaciesBuildingTemplateIds);
			SetLegaciesBuildingTemplateIdList(_legaciesBuildingTemplateIdList, context);
		}
		crossArchiveGameData.LegaciesBuildingTemplateIds = null;
		if (crossArchiveGameData.SectFulongOrgMemberChickens != null)
		{
			ClearSectFulongOrgMemberChickens(context);
			foreach (var (elementId, value) in crossArchiveGameData.SectFulongOrgMemberChickens)
			{
				AddElement_SectFulongOrgMemberChickens(elementId, value, context);
			}
		}
		crossArchiveGameData.SectFulongOrgMemberChickens = null;
		if (TryGetDlcEntry<FiveLoongDlcEntry>(2764950uL, out var entry))
		{
			entry.IsJiaoPoolOpen = crossArchiveGameData.IsJiaoPoolOpen;
			entry.MaxTaiwuVillageLevel = crossArchiveGameData.MaxTaiwuVillageLevel;
		}
	}

	public void UnpackCrossArchiveGameData_Items(DataContext context, CrossArchiveGameData crossArchiveGameData, bool overwriteEquip)
	{
		ClearBookStrategiesExpireTime(context);
		ClearQiArtStrategyExpireTimeMap(context);
		ClearQiArtStrategyMap(context);
		if (crossArchiveGameData.LegendaryBookSkillSlot != null)
		{
			foreach (KeyValuePair<sbyte, GameData.Utilities.ShortList> item in crossArchiveGameData.LegendaryBookSkillSlot)
			{
				if (!_legendaryBookSkillSlot.ContainsKey(item.Key))
				{
					AddElement_LegendaryBookSkillSlot(item.Key, item.Value, context);
				}
			}
			crossArchiveGameData.LegendaryBookSkillSlot = null;
		}
		if (crossArchiveGameData.LegendaryBookWeaponSlot != null)
		{
			foreach (KeyValuePair<sbyte, ItemKey> item2 in crossArchiveGameData.LegendaryBookWeaponSlot)
			{
				ItemKey value = DomainManager.Item.UnpackCrossArchiveItem(context, crossArchiveGameData, item2.Value);
				if (!value.IsValid())
				{
					value = ItemKey.Invalid;
				}
				if (_legendaryBookWeaponSlot.TryGetValue(item2.Key, out var value2) && value2.IsValid())
				{
					Tester.Assert(!value.IsValid());
				}
				else if (!_legendaryBookWeaponSlot.ContainsKey(item2.Key))
				{
					AddElement_LegendaryBookWeaponSlot(item2.Key, value, context);
				}
				else
				{
					SetElement_LegendaryBookWeaponSlot(item2.Key, value, context);
				}
			}
			crossArchiveGameData.LegendaryBookWeaponSlot = null;
		}
		if (crossArchiveGameData.CombatSkillCurrBreakPlateIndex != null)
		{
			foreach (KeyValuePair<short, sbyte> item3 in crossArchiveGameData.CombatSkillCurrBreakPlateIndex)
			{
				if (!_combatSkillCurrBreakPlateIndex.ContainsKey(item3.Key))
				{
					AddElement_CombatSkillCurrBreakPlateIndex(item3.Key, item3.Value, context);
				}
			}
			crossArchiveGameData.CombatSkillCurrBreakPlateIndex = null;
		}
		if (crossArchiveGameData.CombatSkillBreakPlateLastForceBreakoutStepsCount != null)
		{
			foreach (KeyValuePair<short, IntList> item4 in crossArchiveGameData.CombatSkillBreakPlateLastForceBreakoutStepsCount)
			{
				if (!_combatSkillBreakPlateLastForceBreakoutStepsCount.ContainsKey(item4.Key))
				{
					AddElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(item4.Key, item4.Value, context);
				}
			}
			crossArchiveGameData.CombatSkillBreakPlateLastForceBreakoutStepsCount = null;
		}
		int key;
		if (crossArchiveGameData.CombatSkillBreakPlateLastClearTimeList != null)
		{
			int num = DomainManager.World.GetCurrDate() - DomainManager.Extra.GetFinalDateBeforeDreamBack();
			foreach (KeyValuePair<short, IntList> combatSkillBreakPlateLastClearTime in crossArchiveGameData.CombatSkillBreakPlateLastClearTimeList)
			{
				if (_combatSkillBreakPlateLastClearTimeList.ContainsKey(combatSkillBreakPlateLastClearTime.Key))
				{
					continue;
				}
				if (combatSkillBreakPlateLastClearTime.Value.Items != null)
				{
					for (int i = 0; i < combatSkillBreakPlateLastClearTime.Value.Items.Count; i++)
					{
						List<int> items = combatSkillBreakPlateLastClearTime.Value.Items;
						key = i;
						items[key] += num;
					}
				}
				AddElement_CombatSkillBreakPlateLastClearTimeList(combatSkillBreakPlateLastClearTime.Key, combatSkillBreakPlateLastClearTime.Value, context);
			}
			crossArchiveGameData.CombatSkillBreakPlateLastClearTimeList = null;
		}
		if (crossArchiveGameData.CombatSkillBreakPlateList != null)
		{
			foreach (var (num3, value3) in crossArchiveGameData.CombatSkillBreakPlateList)
			{
				if (!_combatSkillBreakPlateList.ContainsKey(num3))
				{
					AddElement_CombatSkillBreakPlateList(num3, value3, context);
				}
			}
			crossArchiveGameData.CombatSkillBreakPlateList = null;
		}
		if (crossArchiveGameData.CombatSkillBreakPlateObsoleteList != null)
		{
			foreach (KeyValuePair<short, SkillBreakPlateObsoleteList> combatSkillBreakPlateObsolete in crossArchiveGameData.CombatSkillBreakPlateObsoleteList)
			{
				if (!_combatSkillBreakPlateObsoleteList.ContainsKey(combatSkillBreakPlateObsolete.Key))
				{
					AddElement_CombatSkillBreakPlateObsoleteList(combatSkillBreakPlateObsolete.Key, combatSkillBreakPlateObsolete.Value, context);
				}
			}
			crossArchiveGameData.CombatSkillBreakPlateObsoleteList = null;
		}
		if (crossArchiveGameData.LegendaryBookBreakPlateCounts != null)
		{
			foreach (KeyValuePair<sbyte, sbyte> legendaryBookBreakPlateCount in crossArchiveGameData.LegendaryBookBreakPlateCounts)
			{
				if (!_legendaryBookBreakPlateCounts.ContainsKey(legendaryBookBreakPlateCount.Key))
				{
					AddElement_LegendaryBookBreakPlateCounts(legendaryBookBreakPlateCount.Key, legendaryBookBreakPlateCount.Value, context);
				}
			}
			crossArchiveGameData.LegendaryBookBreakPlateCounts = null;
		}
		SByteList legendaryBookBonusCountYang = _legendaryBookBonusCountYang;
		if (legendaryBookBonusCountYang.Items != null)
		{
			if (crossArchiveGameData.LegendaryBookBonusCountYang.Items != null)
			{
				for (sbyte b = 0; b < 14; b++)
				{
					legendaryBookBonusCountYang.Items[b] = Math.Max(legendaryBookBonusCountYang.Items[b], crossArchiveGameData.LegendaryBookBonusCountYang.Items[b]);
				}
				crossArchiveGameData.LegendaryBookBonusCountYang.Items = null;
			}
		}
		else
		{
			legendaryBookBonusCountYang = crossArchiveGameData.LegendaryBookBonusCountYang;
			crossArchiveGameData.LegendaryBookBonusCountYang.Items = null;
		}
		SetLegendaryBookBonusCountYang(legendaryBookBonusCountYang, context);
		SByteList legendaryBookBonusCountYin = _legendaryBookBonusCountYin;
		if (legendaryBookBonusCountYin.Items != null)
		{
			if (crossArchiveGameData.LegendaryBookBonusCountYin.Items != null)
			{
				for (sbyte b2 = 0; b2 < 14; b2++)
				{
					legendaryBookBonusCountYin.Items[b2] = Math.Max(legendaryBookBonusCountYin.Items[b2], crossArchiveGameData.LegendaryBookBonusCountYin.Items[b2]);
				}
				crossArchiveGameData.LegendaryBookBonusCountYin.Items = null;
			}
		}
		else
		{
			legendaryBookBonusCountYin = crossArchiveGameData.LegendaryBookBonusCountYin;
			crossArchiveGameData.LegendaryBookBonusCountYin.Items = null;
		}
		SetLegendaryBookBonusCountYin(legendaryBookBonusCountYin, context);
		if (crossArchiveGameData.ReadingEventReferenceBooks != null)
		{
			foreach (KeyValuePair<int, GameData.Utilities.ShortList> readingEventReferenceBook in crossArchiveGameData.ReadingEventReferenceBooks)
			{
				ItemKey itemKey = DomainManager.Item.UnpackCrossArchiveItem(context, crossArchiveGameData, readingEventReferenceBook.Key);
				if (itemKey.IsValid())
				{
					AddElement_ReadingEventReferenceBooks(itemKey.Id, readingEventReferenceBook.Value, context);
				}
			}
			crossArchiveGameData.ReadingEventReferenceBooks = null;
		}
		if (crossArchiveGameData.ReadingEventBookIdList != null)
		{
			foreach (int readingEventBookId in crossArchiveGameData.ReadingEventBookIdList)
			{
				ItemKey itemKey2 = DomainManager.Item.UnpackCrossArchiveItem(context, crossArchiveGameData, readingEventBookId);
				if (itemKey2.IsValid())
				{
					_readingEventBookIdList.Add(itemKey2.Id);
				}
			}
			crossArchiveGameData.ReadingEventBookIdList = null;
		}
		SetReadingEventBookIdList(_readingEventBookIdList, context);
		if (crossArchiveGameData.AvailableReadingStrategyMap != null)
		{
			foreach (KeyValuePair<int, SByteList> item5 in crossArchiveGameData.AvailableReadingStrategyMap)
			{
				item5.Deconstruct(out key, out var value4);
				int srcItemId = key;
				SByteList value5 = value4;
				ItemKey itemKey3 = DomainManager.Item.UnpackCrossArchiveItem(context, crossArchiveGameData, srcItemId);
				if (itemKey3.IsValid())
				{
					AddElement_AvailableReadingStrategyMap(itemKey3.Id, value5, context);
				}
			}
			crossArchiveGameData.AvailableReadingStrategyMap = null;
		}
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		Dictionary<short, GameData.Domains.CombatSkill.CombatSkill> charCombatSkills = DomainManager.CombatSkill.GetCharCombatSkills(taiwuCharId);
		for (sbyte b3 = 0; b3 < 14; b3++)
		{
			if (_legendaryBookSkillSlot.TryGetValue(b3, out var value6))
			{
				List<short> items2 = value6.Items;
				bool flag = false;
				for (int j = 0; j < items2.Count; j++)
				{
					short num4 = items2[j];
					if (num4 >= 0 && !charCombatSkills.ContainsKey(num4))
					{
						items2[j] = -1;
						flag = true;
					}
				}
				if (flag)
				{
					SetElement_LegendaryBookSkillSlot(b3, value6, context);
				}
			}
		}
		sbyte key2;
		if (crossArchiveGameData.LegendaryBookWeaponEffectId != null)
		{
			foreach (KeyValuePair<sbyte, long> item6 in crossArchiveGameData.LegendaryBookWeaponEffectId)
			{
				item6.Deconstruct(out key2, out var value7);
				sbyte b4 = key2;
				long num5 = value7;
				long value8;
				bool flag2 = _legendaryBookWeaponEffectId.TryGetValue(b4, out value8);
				if (flag2 && value8 >= 0)
				{
					Tester.Assert(num5 < 0);
				}
				else if (flag2)
				{
					SetElement_LegendaryBookWeaponEffectId(b4, num5, context);
				}
				else
				{
					AddElement_LegendaryBookWeaponEffectId(b4, num5, context);
				}
			}
			crossArchiveGameData.LegendaryBookWeaponEffectId = null;
		}
		if (crossArchiveGameData.LegendaryBookSkillEffectId != null)
		{
			foreach (KeyValuePair<sbyte, LongList> item7 in crossArchiveGameData.LegendaryBookSkillEffectId)
			{
				item7.Deconstruct(out key2, out var value9);
				sbyte b5 = key2;
				LongList value10 = value9;
				LongList value11;
				bool flag3 = _legendaryBookSkillEffectId.TryGetValue(b5, out value11);
				if (flag3)
				{
					int num6 = Math.Min(value10.Items?.Count ?? 0, value11.Items?.Count ?? 0);
					for (int k = 0; k < num6; k++)
					{
						Tester.Assert(value10.Items[k] < 0 || value11.Items[k] < 0);
						if (value10.Items[k] < 0)
						{
							value10.Items[k] = value11.Items[k];
						}
					}
				}
				else if (flag3)
				{
					SetElement_LegendaryBookSkillEffectId(b5, value10, context);
				}
				else
				{
					AddElement_LegendaryBookSkillEffectId(b5, value10, context);
				}
			}
			crossArchiveGameData.LegendaryBookSkillEffectId = null;
		}
		if (overwriteEquip)
		{
			SetVoiceWeaponInnerRatio(crossArchiveGameData.VoiceWeaponInnerRatio, context);
		}
		crossArchiveGameData.VoiceWeaponInnerRatio = -1;
	}

	public void UnpackCrossArchiveGameData_CombatSkills(DataContext context, CrossArchiveGameData crossArchiveGameData, bool overwriteEquipment)
	{
		if (crossArchiveGameData.ClearedSkillPlateStepInfo != null)
		{
			foreach (KeyValuePair<short, IntPair> item in crossArchiveGameData.ClearedSkillPlateStepInfo)
			{
				if (!_clearedSkillPlateStepInfo.ContainsKey(item.Key))
				{
					AddElement_ClearedSkillPlateStepInfo(item.Key, item.Value, context);
				}
			}
		}
		crossArchiveGameData.ClearedSkillPlateStepInfo = null;
		if (crossArchiveGameData.CombatSkills != null)
		{
			foreach (GameData.Domains.CombatSkill.CombatSkill combatSkill in crossArchiveGameData.CombatSkills)
			{
				short skillTemplateId = combatSkill.GetId().SkillTemplateId;
				GameData.Domains.Taiwu.SkillBreakPlate value;
				bool flag = crossArchiveGameData.SkillBreakPlateDict.TryGetValue(skillTemplateId, out value);
				if (crossArchiveGameData.SkillBreakPlateObsoleteDict.TryGetValue(skillTemplateId, out var value2) || flag)
				{
					ConflictCombatSkill value3 = new ConflictCombatSkill
					{
						TemplateId = skillTemplateId,
						BreakStepCount = combatSkill.GetBreakoutStepsCount(),
						ForcedBreakStepCount = combatSkill.GetForcedBreakoutStepsCount(),
						BreakPlate = value,
						BreakPlateObsolete = value2,
						BonusCollection = crossArchiveGameData.SkillBreakBonusDict.GetOrDefault(skillTemplateId)
					};
					AddElement_ConflictCombatSkills(skillTemplateId, value3, context);
				}
			}
		}
		short key;
		if (crossArchiveGameData.TaiwuCombatSkillProficiencies != null)
		{
			int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
			foreach (KeyValuePair<short, int> taiwuCombatSkillProficiency in crossArchiveGameData.TaiwuCombatSkillProficiencies)
			{
				taiwuCombatSkillProficiency.Deconstruct(out key, out var value4);
				short skillTemplateId2 = key;
				int num = value4;
				CombatSkillKey combatSkillKey = new CombatSkillKey(taiwuCharId, skillTemplateId2);
				int value5;
				bool flag2 = _combatSkillProficiencies.TryGetValue(combatSkillKey, out value5);
				if (!flag2 || value5 < num)
				{
					if (flag2)
					{
						SetElement_CombatSkillProficiencies(combatSkillKey, num, context);
					}
					else
					{
						AddElement_CombatSkillProficiencies(combatSkillKey, num, context);
					}
				}
			}
		}
		if (crossArchiveGameData.SectEmeiSkillBreakBonus != null)
		{
			foreach (KeyValuePair<short, SkillBreakBonusCollection> sectEmeiSkillBreakBonu in crossArchiveGameData.SectEmeiSkillBreakBonus)
			{
				sectEmeiSkillBreakBonu.Deconstruct(out key, out var value6);
				short num2 = key;
				SkillBreakBonusCollection value7 = value6;
				if (!_sectEmeiSkillBreakBonus.ContainsKey(num2))
				{
					AddElement_SectEmeiSkillBreakBonus(num2, value7, context);
				}
			}
		}
		if (crossArchiveGameData.SectEmeiBreakBonusTemplateIds != null)
		{
			foreach (KeyValuePair<short, GameData.Utilities.ShortList> sectEmeiBreakBonusTemplateId in crossArchiveGameData.SectEmeiBreakBonusTemplateIds)
			{
				sectEmeiBreakBonusTemplateId.Deconstruct(out key, out var value8);
				short num3 = key;
				GameData.Utilities.ShortList value9 = value8;
				if (!_sectEmeiBreakBonusTemplateIds.ContainsKey(num3))
				{
					AddElement_SectEmeiBreakBonusTemplateIds(num3, value9, context);
				}
			}
		}
		if (crossArchiveGameData.SectEmeiBonusData != null)
		{
			foreach (KeyValuePair<short, SectEmeiBreakBonusData> sectEmeiBonusDatum in crossArchiveGameData.SectEmeiBonusData)
			{
				sectEmeiBonusDatum.Deconstruct(out key, out var value10);
				short num4 = key;
				SectEmeiBreakBonusData sectEmeiBreakBonusData = value10;
				if (!_sectEmeiBreakBonusData.TryGetValue(num4, out var value11))
				{
					AddElement_SectEmeiBreakBonusData(num4, sectEmeiBreakBonusData, context);
					continue;
				}
				value11.OfflineMerge(sectEmeiBreakBonusData);
				SetElement_SectEmeiBreakBonusData(num4, value11, context);
			}
		}
		FixEmeiBreakBonusCollectionData(context);
		crossArchiveGameData.CombatSkills = null;
		crossArchiveGameData.SkillBreakPlateObsoleteDict = null;
		crossArchiveGameData.SkillBreakBonusDict = null;
		crossArchiveGameData.SectEmeiSkillBreakBonus = null;
		crossArchiveGameData.SectEmeiBreakBonusTemplateIds = null;
		if (overwriteEquipment)
		{
			int taiwuCharId2 = DomainManager.Taiwu.GetTaiwuCharId();
			for (int i = 0; i < _masteredCombatSkillPlans.Length; i++)
			{
				SetElement_MasteredCombatSkillPlans(i, crossArchiveGameData.MasteredCombatSkillPlans[i], context);
			}
			SetCharacterMasteredCombatSkills(context, taiwuCharId2, crossArchiveGameData.CurrMasteredCombatSkillPlan);
			byte b = crossArchiveGameData.UnlockedCombatSkillPlanCount;
			if (b == 0)
			{
				b = 9;
			}
			SetUnlockedCombatSkillPlanCount(b, context);
			SetTaiwuMaxNeiliAllocation(crossArchiveGameData.TaiwuMaxNeiliAllocation, context);
			DomainManager.Taiwu.UpdateTaiwuNeiliAllocation(context);
		}
		crossArchiveGameData.MasteredCombatSkillPlans = null;
		crossArchiveGameData.CurrMasteredCombatSkillPlan.Items = null;
	}

	private void InitializeDejaVuEventCharacters(DataContext context)
	{
		CharacterSet dejaVuEventCharacters = DomainManager.Extra.GetDejaVuEventCharacters();
		foreach (int item in DomainManager.Taiwu.GetGroupCharIds().GetCollection())
		{
			dejaVuEventCharacters.Add(item);
		}
		if (DomainManager.Character.TryGetKidnappedCharacters(DomainManager.Taiwu.GetTaiwuCharId(), out var list))
		{
			foreach (KidnappedCharacter item2 in list.GetCollection())
			{
				dejaVuEventCharacters.Add(item2.CharId);
			}
		}
		DomainManager.Extra.SetDejaVuEventCharacters(dejaVuEventCharacters, context);
	}

	private bool TryGetSectZhujianGearMateDreamBackData(out GearMateDreamBackData data)
	{
		data = null;
		CrossArchiveGameData unhandledCrossArchiveGameData = _unhandledCrossArchiveGameData;
		if (unhandledCrossArchiveGameData == null || unhandledCrossArchiveGameData.SectZhujianGearMate == null)
		{
			return false;
		}
		data = _unhandledCrossArchiveGameData.SectZhujianGearMate;
		return true;
	}

	[DomainMethod]
	public void GmCmd_AddFleeCarrier(DataContext context, bool isJiaoLoong)
	{
		Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
		if (!location.IsValid())
		{
			location = DomainManager.Taiwu.GetTaiwu().GetValidLocation();
		}
		if (isJiaoLoong)
		{
			short num = (short)context.Random.Next(0, 39);
			GameData.DLC.FiveLoong.Jiao value2;
			if (num >= 31)
			{
				if (_childrenOfLoong.TryGetValue(GmCmd_AddChildOfLoong(context, num), out var value))
				{
					SetFleeCarrierLocation(context, value.Key, location);
				}
			}
			else if (_jiaos.TryGetValue(GmCmd_AddJiao(context, num, 0, 2, isMale: false, isMaxTamePoint: false, isMaxProperty: false), out value2))
			{
				SetFleeCarrierLocation(context, value2.Key, location);
			}
		}
		else
		{
			ItemKey itemKey = DomainManager.Item.CreateItem(context, 4, (short)context.Random.Next(27, 45));
			SetFleeCarrierLocation(context, itemKey, location);
		}
	}

	[DomainMethod]
	public void GmCmd_AddThreeCorpses(DataContext context)
	{
		foreach (short ranshanThreeCorpsesCharacterTemplateId in SectMainStoryRelatedConstants.RanshanThreeCorpsesCharacterTemplateIdList)
		{
			InitializeRanshanThreeCorpsesCharacter(context, ranshanThreeCorpsesCharacterTemplateId);
			SetRanshanThreeCorpsesCharacterGoodEnd(context, ranshanThreeCorpsesCharacterTemplateId);
			SetRanshanThreeCorpsesCharacterLocation(context, ranshanThreeCorpsesCharacterTemplateId);
		}
	}

	[DomainMethod]
	public void GmCmd_AddDisplayEventLegendaryBookKeeping(DataContext context)
	{
		AddDisplayEventLegendaryBookKeeping(context);
	}

	[DomainMethod]
	public void GmCmd_GenerateFulongFlameArea(DataContext context, int radius, int mineCount)
	{
		GenerateFulongInFlameArea(context, radius, mineCount, isBig: true);
	}

	[DomainMethod]
	public void GmCmd_InitThreeVitals(DataContext context)
	{
		_sectYuanshanThreeVitals.Clear();
		InitThreeVitals(context);
		foreach (SectStoryThreeVitalsCharacterType value in Enum.GetValues(typeof(SectStoryThreeVitalsCharacterType)))
		{
			short vitalTemplateId = value.GetVitalTemplateId(AreVitalsDemon());
			GameData.Domains.Character.Character orCreateFixedCharacterByTemplateId = DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, vitalTemplateId);
			DomainManager.Character.RemoveNonIntelligentCharacter(context, orCreateFixedCharacterByTemplateId);
		}
	}

	[DomainMethod]
	public void GmCmd_VitalInfectionInOut(DataContext context, int charId, int type, int value)
	{
		TransferInfectionBetweenVitalAndCharacter(context, charId, (SectStoryThreeVitalsCharacterType)type, value);
	}

	[DomainMethod]
	public void GmCmd_GenerateTreasure(DataContext context)
	{
		int num = (context.Random.CheckPercentProb(40) ? context.Random.Next(0, 2) : (context.Random.CheckPercentProb(80) ? context.Random.Next(3, 5) : context.Random.Next(6, 8)));
		short random = ItemSubType.GetRandom(context.Random);
		while (!ItemSubType.IsHobbyType(random))
		{
			random = ItemSubType.GetRandom(context.Random);
		}
		short randomItemIdInSubType = ItemDomain.GetRandomItemIdInSubType(context.Random, random, (sbyte)num);
		ItemKey itemKey = DomainManager.Item.CreateItem(context, ItemSubType.GetType(random), randomItemIdInSubType);
		Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
		MapBlockData block = DomainManager.Map.GetBlock(location);
		DomainManager.Map.AddBlockItem(context, block, itemKey, 1);
	}

	[DomainMethod]
	public void GmCmd_AddExtraTask(DataContext context, int taskChainId, int taskInfoId)
	{
		TriggerExtraTask(context, taskChainId, taskInfoId);
	}

	[DomainMethod]
	public void GmCmd_RemoveTriggeredExtraTask(DataContext context, int taskChainId, int taskInfoId)
	{
		FinishTriggeredExtraTask(context, taskChainId, taskInfoId);
	}

	[DomainMethod]
	public void GmCmd_Profession_SetBuddhistMonkSavedSoulCount(DataContext context, int count)
	{
		ProfessionData professionData = DomainManager.Extra.GetProfessionData(6);
		BuddhistMonkSkillsData skillsData = professionData.GetSkillsData<BuddhistMonkSkillsData>();
		ReflectionExtensions.ModifyField<BuddhistMonkSkillsData>(skillsData, "_currSavedSoulsCount", (object)count);
		DomainManager.Extra.SetProfessionData(context, professionData);
		DomainManager.TaiwuEvent.OnEvent_TaiwuSaveCountChange(count);
	}

	[DomainMethod]
	public void GmCmd_Profession_SetTempleVisited(DataContext context, sbyte stateTemplateId)
	{
		sbyte stateIdByStateTemplateId = DomainManager.Map.GetStateIdByStateTemplateId(stateTemplateId);
		ProfessionData professionData = DomainManager.Extra.GetProfessionData(12);
		TravelingBuddhistMonkSkillsData skillsData = professionData.GetSkillsData<TravelingBuddhistMonkSkillsData>();
		skillsData.OfflineSetStateTempleVisited(stateIdByStateTemplateId);
		DomainManager.Extra.SetProfessionData(context, professionData);
	}

	[DomainMethod]
	public void GmCmd_Profession_RecoverHunterCarrierAttackCount(DataContext context)
	{
		RecoverHunterCarrierAttackCount(context);
	}

	[DomainMethod]
	public string GmCmd_CastTasterUltimateOnCurrentBlock(DataContext context, bool isCombatSkill)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Location location = taiwu.GetLocation();
		if (!location.IsValid())
		{
			return null;
		}
		MapBlockData block = DomainManager.Map.GetBlock(location);
		if (block.CharacterSet == null || block.CharacterSet.Count == 0)
		{
			return null;
		}
		Inventory inventory = taiwu.GetInventory();
		List<int> list = new List<int>();
		foreach (ItemKey key2 in inventory.Items.Keys)
		{
			if (key2.ItemType != 10 || ((!isCombatSkill || Config.SkillBook.Instance[key2.TemplateId].ItemSubType != 1001) && (isCombatSkill || Config.SkillBook.Instance[key2.TemplateId].ItemSubType != 1000)))
			{
				continue;
			}
			sbyte totalReadingProgress = DomainManager.Taiwu.GetTotalReadingProgress(key2.Id);
			if (totalReadingProgress < 100)
			{
				list.Add(key2.Id);
				if (list.Count >= 8)
				{
					break;
				}
			}
		}
		if (list.Count == 0)
		{
			return null;
		}
		List<int> list2 = new List<int> { taiwu.GetId() };
		foreach (int item in block.CharacterSet)
		{
			list2.Add(item);
		}
		StringBuilder stringBuilder = new StringBuilder();
		int num = 0;
		stringBuilder.AppendLine("book skill attainment:");
		foreach (int item2 in list)
		{
			GameData.Domains.Item.SkillBook element_SkillBooks = DomainManager.Item.GetElement_SkillBooks(item2);
			if (isCombatSkill)
			{
				foreach (int item3 in list2)
				{
					num += DomainManager.Character.GetElement_Objects(item3).GetCombatSkillAttainment(element_SkillBooks.GetCombatSkillType());
				}
			}
			else
			{
				foreach (int item4 in list2)
				{
					num += DomainManager.Character.GetElement_Objects(item4).GetLifeSkillAttainment(element_SkillBooks.GetLifeSkillType());
				}
			}
			stringBuilder.AppendLine(isCombatSkill ? $"{Config.SkillBook.Instance[element_SkillBooks.GetTemplateId()].Name} -> {Config.CombatSkillType.Instance[Config.SkillBook.Instance[element_SkillBooks.GetTemplateId()].CombatSkillType].Name}:{num}" : $"{Config.SkillBook.Instance[element_SkillBooks.GetTemplateId()].Name} -> {Config.LifeSkillType.Instance[Config.SkillBook.Instance[element_SkillBooks.GetTemplateId()].LifeSkillType].Name}:{num}");
		}
		TasterUltimateResult tasterUltimateResult = CastTasterUltimateSkill(context, list2, list, isCombatSkill);
		stringBuilder.AppendLine("book read:");
		foreach (KeyValuePair<IntPair, byte> readBookPageDatum in tasterUltimateResult.ReadBookPageData)
		{
			readBookPageDatum.Deconstruct(out var key, out var value);
			IntPair intPair = key;
			byte b = value;
			StringBuilder stringBuilder2 = stringBuilder;
			StringBuilder stringBuilder3 = stringBuilder2;
			StringBuilder.AppendInterpolatedStringHandler handler = new StringBuilder.AppendInterpolatedStringHandler(5, 2, stringBuilder2);
			handler.AppendFormatted(DomainManager.Character.GetElement_Objects(intPair.First));
			handler.AppendLiteral("'s ");
			handler.AppendFormatted(DomainManager.Item.GetElement_SkillBooks(intPair.Second).GetName());
			handler.AppendLiteral(": ");
			stringBuilder3.Append(ref handler);
			for (int i = 0; i < 6; i++)
			{
				if ((b & (1 << i)) != 0)
				{
					stringBuilder2 = stringBuilder;
					StringBuilder stringBuilder4 = stringBuilder2;
					handler = new StringBuilder.AppendInterpolatedStringHandler(1, 1, stringBuilder2);
					handler.AppendFormatted(i);
					handler.AppendLiteral("");
					stringBuilder4.Append(ref handler);
				}
			}
			stringBuilder.AppendLine();
		}
		stringBuilder.AppendLine("practice level:");
		return stringBuilder.ToString();
	}

	[DomainMethod]
	public void GmCmd_SetCharacterCurrProfessionSeniority(DataContext context, int charId, int professionId, int value)
	{
		if (charId == DomainManager.Taiwu.GetTaiwuCharId())
		{
			SetProfessionSeniorityTarget(context, value, professionId);
			return;
		}
		ProfessionData professionData = SetCharacterCurrProfession(context, charId, professionId);
		if (value >= 0)
		{
			professionData.Seniority = value;
			int extraSeniority = professionData.ExtraSeniority;
			OfflineNormalizeProfessionSeniority(charId, professionData);
			DomainManager.Information.GiveProfessionInformationRemainUsableCount(context, charId, professionData.TemplateId, extraSeniority, professionData.ExtraSeniority);
			SetElement_CharacterProfessions(charId, _characterProfessions[charId], context);
		}
	}

	[DomainMethod]
	public void SetProfessionTestSetting(DataContext context, bool noSkillCooldown, bool noSkillCost)
	{
		NoProfessionSkillCooldown = noSkillCooldown;
		NoProfessionSkillCost = noSkillCost;
		int currDate = DomainManager.World.GetCurrDate();
		foreach (var (num2, professionData2) in _taiwuProfessions)
		{
			if (NoProfessionSkillCooldown)
			{
				for (int i = 0; i < professionData2.SkillOffCooldownDates.Length; i++)
				{
					professionData2.SkillOffCooldownDates[i] = currDate;
				}
			}
			SetProfessionData(context, professionData2);
		}
	}

	[DomainMethod]
	public void SetProfessionSeniorityTarget(DataContext context, int seniority, int professionId)
	{
		if (_taiwuProfessions.TryGetValue(professionId, out var value))
		{
			int baseDelta = seniority - value.Seniority;
			ChangeProfessionSeniority(context, professionId, baseDelta, withBonus: false);
		}
	}

	[DomainMethod]
	public void SetProfessionExtraSeniority(DataContext context, int professionId, int extraSeniority)
	{
		if (_taiwuProfessions.TryGetValue(professionId, out var value))
		{
			int extraSeniority2 = value.ExtraSeniority;
			value.ExtraSeniority = Math.Clamp(extraSeniority, 0, 1500000);
			SetProfessionData(context, value);
			DomainManager.Information.GiveProfessionInformationRemainUsableCount(context, DomainManager.Taiwu.GetTaiwuCharId(), professionId, extraSeniority2, value.ExtraSeniority);
		}
	}

	[DomainMethod]
	public void UnlockAllProfessionSkills(DataContext context, bool maxSeniority)
	{
		foreach (ProfessionData value in _taiwuProfessions.Values)
		{
			if (maxSeniority)
			{
				value.Seniority = 3000000;
			}
			value.OfflineUpdateHadBeenUnlocked();
			SetProfessionData(context, value);
		}
	}

	[DomainMethod]
	public void GmCmd_SetLoveData(DataContext context, int loverCharId, int continueLoveTimes, int dateCount, bool isPrevious, bool isBindSamsara)
	{
		if (!InteractOfLove.IsInstalled())
		{
			return;
		}
		RemoveConfessLoveFailedCharacter(context, loverCharId);
		if (isPrevious)
		{
			RemoveInteractOfLoveData(context, loverCharId);
			AddPreviousTaiwuLover(context, loverCharId);
			return;
		}
		RemovePreviousTaiwuLover(context, loverCharId);
		if (!TryGetInteractOfLoveData(loverCharId, out var loveDataItem))
		{
			loveDataItem = new LoveDataItem();
			loveDataItem.TaiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
			loveDataItem.LoverCharId = loverCharId;
			DomainManager.Extra.AddInteractOfLoveData(context, loverCharId, loveDataItem);
		}
		if (continueLoveTimes > -1)
		{
			loveDataItem.ReincarnationLoveList.Clear();
			for (int i = 0; i < continueLoveTimes; i++)
			{
				loveDataItem.ReincarnationLoveList.Add(item: true);
			}
			if (loveDataItem.CheckReincarnationLoveContinueThreeTimes())
			{
				GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(loverCharId);
				element_Objects.AddFeature(context, 386);
				DomainManager.Taiwu.GetTaiwu().AddFeature(context, 386);
			}
			else
			{
				GameData.Domains.Character.Character element_Objects2 = DomainManager.Character.GetElement_Objects(loverCharId);
				element_Objects2.RemoveFeature(context, 386);
				DomainManager.Taiwu.GetTaiwu().RemoveFeature(context, 386);
			}
		}
		if (dateCount > -1)
		{
			loveDataItem.DateCount = dateCount;
		}
		loveDataItem.IsBindSamsara = isBindSamsara;
		DomainManager.Extra.SetInteractOfLoveData(context, loverCharId, loveDataItem);
	}

	[DomainMethod]
	public void GmCmd_RemoveLoveData(DataContext context, int loverCharId)
	{
		if (InteractOfLove.IsInstalled())
		{
			if (TryGetInteractOfLoveData(loverCharId, out var _))
			{
				InteractOfLove.LeaveLover(context, loverCharId);
			}
			RemovePreviousTaiwuLover(context, loverCharId);
			RemoveConfessLoveFailedCharacter(context, loverCharId);
		}
	}

	[DomainMethod]
	public void GmCmd_RemoveLoveEvent(DataContext context, int loverCharId)
	{
		if (InteractOfLove.IsInstalled() && TryGetInteractOfLoveData(loverCharId, out var loveDataItem))
		{
			loveDataItem.EventTimeDict.Clear();
			DomainManager.Extra.SetInteractOfLoveData(context, loverCharId, loveDataItem);
		}
	}

	[DomainMethod]
	public int GmCmd_AddJiao(DataContext context, short templateId, short nurturanceTemplateId, sbyte growthStage, bool isMale, bool isMaxTamePoint, bool isMaxProperty)
	{
		if (1 == 0)
		{
		}
		ItemKey itemKey = growthStage switch
		{
			1 => DomainManager.Item.CreateItem(context, 5, GetJiaoTeenagerTemplateIdByJiaoTemplateId(templateId)), 
			2 => DomainManager.Item.CreateItem(context, 4, GetJiaoCarrierTemplateIdByJiaoTemplateId(templateId)), 
			_ => DomainManager.Item.CreateItem(context, 5, GetJiaoEggTemplateIdByJiaoTemplateId(templateId)), 
		};
		if (1 == 0)
		{
		}
		ItemKey key = itemKey;
		int result = AddJiao(context, key, templateId, nurturanceTemplateId, growthStage, isMale, isMaxTamePoint, isMaxProperty);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Inventory inventory = taiwu.GetInventory();
		inventory.Items.Add(key, 1);
		taiwu.SetInventory(inventory, context);
		return result;
	}

	[DomainMethod]
	public void GmCmd_PutJiaoInFirstPool(DataContext context, int jiaoId)
	{
		PutJiaoOutOfPool(context, 0);
		PutJiaoInPool(context, 0, jiaoId);
	}

	[DomainMethod]
	public List<LoongInfo> GmCmd_FindFiveLoongLocation()
	{
		return _fiveLoongDict.Values.ToList();
	}

	[DomainMethod]
	public int GmCmd_AddChildOfLoong(DataContext context, short templateId)
	{
		ItemKey itemKey = DomainManager.Item.CreateItem(context, 4, GetJiaoCarrierTemplateIdByJiaoTemplateId(templateId));
		int result = AddChildOfLoong(context, itemKey, templateId);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		taiwu.AddInventoryItem(context, itemKey, 1);
		return result;
	}

	[DomainMethod]
	public void GmCmd_CreateGearMate(DataContext context, int charId, string name)
	{
		GameData.Domains.Character.Character character = CreateGearMate(context, 836, name);
		GearMateJoinGroup(context, character.GetId());
	}

	[DomainMethod]
	public void GmCmd_SetCharacterProficiencies(DataContext context, int charId, short skillId, int value)
	{
		if (_combatSkillProficiencies.TryGetValue((charId: charId, skillId: skillId), out var value2))
		{
			value -= value2;
		}
		ChangeCombatSkillProficiency(context, (charId: charId, skillId: skillId), value);
	}

	[DomainMethod]
	public void GmCmd_SetBuildingAreaEffectProgresses(DataContext context, int animal, int cricket, int adventure)
	{
		Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
		if (!_buildingAreaEffectProgresses.TryGetValue(location, out var value))
		{
			return;
		}
		foreach (BuildingAreaEffectProgress item in value.Items)
		{
			switch (item.BuildingScaleEffect)
			{
			case EBuildingScaleEffect.AnimalProgressDelta:
				item.OfflineSetProgress(animal);
				break;
			case EBuildingScaleEffect.CricketProgressDelta:
				item.OfflineSetProgress(cricket);
				break;
			case EBuildingScaleEffect.AdventureProgressDelta:
				item.OfflineSetProgress(adventure);
				break;
			}
		}
	}

	[DomainMethod]
	public (int, int, int) GmCmd_GetBuildingAreaEffectProgresses(DataContext context)
	{
		Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
		if (!_buildingAreaEffectProgresses.TryGetValue(location, out var value))
		{
			return (0, 0, 0);
		}
		int item = 0;
		int item2 = 0;
		int item3 = 0;
		foreach (BuildingAreaEffectProgress item4 in value.Items)
		{
			switch (item4.BuildingScaleEffect)
			{
			case EBuildingScaleEffect.AnimalProgressDelta:
				item = item4.Progress;
				break;
			case EBuildingScaleEffect.CricketProgressDelta:
				item2 = item4.Progress;
				break;
			case EBuildingScaleEffect.AdventureProgressDelta:
				item3 = item4.Progress;
				break;
			}
		}
		return (item, item2, item3);
	}

	[DomainMethod]
	public void GmCmd_RecordKilledByLongYufuCharacter(DataContext context, int charId)
	{
		if (DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			ArchiveKilledByLongYufuCharacter(context, element);
		}
	}

	[DomainMethod]
	public void GmCmd_ReleaseAllKilledByLongYufuCharacters(DataContext context)
	{
		Location validLocation = DomainManager.Taiwu.GetTaiwu().GetValidLocation();
		List<GameData.Domains.Character.Character> list = ReleaseAllKilledByLongYufuCharacters(context);
		foreach (GameData.Domains.Character.Character item in list)
		{
			item.SetLocation(validLocation, context);
			Events.RaiseCharacterLocationChanged(context, item.GetId(), Location.Invalid, validLocation);
		}
	}

	[Obsolete("")]
	[DomainMethod]
	public void TreasuryAdd(DataContext context, ItemKey itemKey, int amount)
	{
		Tester.Assert(itemKey.IsValid());
		Tester.Assert(amount > 0);
		DomainManager.Item.SetOwner(itemKey, ItemOwnerType.Treasury, DomainManager.Taiwu.GetTaiwuVillageSettlementId());
		if (_treasuryItems.TryGetValue(itemKey, out var value))
		{
			SetElement_TreasuryItems(itemKey, value + amount, context);
		}
		else
		{
			AddElement_TreasuryItems(itemKey, amount, context);
		}
		Events.RaiseTaiwuItemModified(context, itemKey);
	}

	[Obsolete("")]
	[DomainMethod]
	public void TreasuryAddList(DataContext context, List<ItemKey> keyList)
	{
		Tester.Assert(keyList != null);
		Tester.Assert(keyList.Count > 0);
		foreach (ItemKey key in keyList)
		{
			TreasuryAdd(context, key, 1);
		}
	}

	[Obsolete("")]
	[DomainMethod]
	public void TreasuryRemove(DataContext context, ItemKey itemKey, int amount, bool deleteItem = false)
	{
		Tester.Assert(itemKey.IsValid());
		Tester.Assert(amount > 0);
		DomainManager.Item.RemoveOwner(itemKey, ItemOwnerType.Treasury, DomainManager.Taiwu.GetTaiwuVillageSettlementId());
		int num = _treasuryItems[itemKey] - amount;
		if (num > 0)
		{
			SetElement_TreasuryItems(itemKey, num, context);
			return;
		}
		if (num == 0)
		{
			RemoveElement_TreasuryItems(itemKey, context);
			Events.RaiseTaiwuItemModified(context, itemKey);
			if (deleteItem)
			{
				DomainManager.Item.RemoveItem(context, itemKey);
			}
			return;
		}
		throw new Exception($"Item amount cannot be negative after removing: {itemKey}, {amount}");
	}

	[Obsolete("")]
	[DomainMethod]
	public void TreasuryRemoveList(DataContext context, List<ItemKey> keyList, bool deleteItem = false)
	{
		Tester.Assert(keyList != null);
		Tester.Assert(keyList.Count > 0);
		foreach (ItemKey key in keyList)
		{
			TreasuryRemove(context, key, 1, deleteItem);
		}
	}

	[Obsolete("")]
	public void SetTreasury(DataContext context, ItemKey itemKey, int amount)
	{
		SetElement_TreasuryItems(itemKey, amount, context);
	}

	[Obsolete("")]
	public int CalcTreasuryCurrLoad()
	{
		int num = 0;
		foreach (KeyValuePair<ItemKey, int> treasuryItem in _treasuryItems)
		{
			treasuryItem.Deconstruct(out var key, out var value);
			ItemKey itemKey = key;
			int num2 = value;
			ItemBase baseItem = DomainManager.Item.GetBaseItem(itemKey);
			num += baseItem.GetWeight() * num2;
		}
		return num;
	}

	[DomainMethod]
	[Obsolete]
	public void AddTreasuryItem(DataContext context, ItemKey itemKey, int amount, bool offLine = false)
	{
	}

	[DomainMethod]
	[Obsolete]
	public void AddTreasuryItemList(DataContext context, List<ItemKey> keyList)
	{
	}

	[DomainMethod]
	[Obsolete]
	public void RemoveTreasuryItem(DataContext context, ItemKey itemKey, int amount, bool deleteItem, bool offLine = false)
	{
	}

	[DomainMethod]
	[Obsolete]
	public void RemoveTreasuryItemList(DataContext context, List<ItemKey> keyList, bool deleteItem)
	{
	}

	[Obsolete("")]
	public ProfessionData GetCurrentProfessionData()
	{
		return _taiwuProfessions.GetValueOrDefault(_taiwuCurrProfessionId);
	}

	[Obsolete("")]
	[DomainMethod]
	public void ChangeProfession(DataContext context, int targetProfessionId)
	{
		if (_taiwuCurrProfessionId >= 0)
		{
			AdaptableLog.TagInfo("Profession", "Changing profession from " + Profession.Instance[_taiwuCurrProfessionId].Name);
		}
		foreach (var (num2, professionData2) in _taiwuProfessions)
		{
			if (num2 != targetProfessionId && !NoProfessionChangeCoolDown && _taiwuCurrProfessionId >= 0)
			{
				SetProfessionData(context, professionData2);
			}
		}
		SetTaiwuCurrProfessionId(targetProfessionId, context);
		if (targetProfessionId >= 0)
		{
			AdaptableLog.TagInfo("Profession", "Changing profession to " + Profession.Instance[targetProfessionId].Name);
		}
		DomainManager.Taiwu.ReCalcAllEquipment(context);
	}

	[Obsolete]
	[DomainMethod]
	public void SetProfessionSeniorityCurrent(DataContext context, int seniority)
	{
		SetProfessionSeniorityTarget(context, seniority, _taiwuCurrProfessionId);
	}

	private void FixAbnormalStorageResources()
	{
		if (FixResources("_stockStorage", ref _stockStorage.Resources))
		{
			_stockStorage.NeedCommit = true;
		}
		static bool FixResources(string name, ref ResourceInts resources)
		{
			bool flag = false;
			for (sbyte b = 0; b < 8; b++)
			{
				if (resources[b] < 0)
				{
					resources[b] = 0;
					flag = true;
				}
			}
			if (flag)
			{
				Logger.Warn("Fixing abnormal resources for " + name + ".");
			}
			return flag;
		}
	}

	private void FixAbnormalWarehouseItems(DataContext context)
	{
		if (_treasuryItems.Count <= 0)
		{
			return;
		}
		ItemKey key;
		int value;
		foreach (KeyValuePair<ItemKey, int> treasuryItem in _treasuryItems)
		{
			treasuryItem.Deconstruct(out key, out value);
			ItemKey itemKey = key;
			int amount = value;
			if (!DomainManager.Item.ItemExists(itemKey))
			{
				Logger.Warn($"Removing non-existing stock warehouse item {itemKey}.");
			}
			else
			{
				DomainManager.Item.GetBaseItem(itemKey).ResetOwner();
				AddStockStorageItem(context, 1, itemKey, amount);
			}
		}
		Inventory inventory = _stockStorage.Inventories[0];
		short taiwuVillageSettlementId = DomainManager.Taiwu.GetTaiwuVillageSettlementId();
		foreach (KeyValuePair<ItemKey, int> item in inventory.Items)
		{
			item.Deconstruct(out key, out value);
			ItemKey itemKey2 = key;
			int num = value;
			DomainManager.Item.SetOwner(itemKey2, ItemOwnerType.StockStorageWarehouse, taiwuVillageSettlementId);
		}
		_stockStorage.NeedCommit = true;
		ClearTreasuryItems(context);
	}

	private void FixObsoleteCraftMedicineFoodStorages(DataContext context)
	{
		short settlementId = DomainManager.Taiwu.GetTaiwuVillageSettlementId();
		SettlementTreasury settlementTreasury = DomainManager.Taiwu.GetTaiwuTreasury();
		MoveToTreasure(_craftStorage);
		MoveToTreasure(_medicineStorage);
		MoveToTreasure(_foodStorage);
		MoveInventoryToTreasure(_stockStorage.Inventories[0], _stockStorage);
		DomainManager.Taiwu.SetTaiwuTreasury(context, settlementTreasury);
		void MoveInventoryToTreasure(Inventory inventory, TaiwuVillageStorage storage)
		{
			foreach (var (itemKey2, amount) in inventory.Items.ToList())
			{
				inventory.OfflineRemove(itemKey2, amount);
				storage.NeedCommit = true;
				if (!DomainManager.Item.ItemExists(itemKey2))
				{
					Logger.Warn($"Removing non-existing craft storage item {itemKey2}.");
				}
				else
				{
					ItemBase baseItem = DomainManager.Item.GetBaseItem(itemKey2);
					DomainManager.Item.RemoveOwner(itemKey2, baseItem.Owner.OwnerType, baseItem.Owner.OwnerId);
					OfflineToTreasure(itemKey2, amount);
				}
			}
		}
		void MoveToTreasure(TaiwuVillageStorage storage)
		{
			Inventory[] inventories = storage.Inventories;
			foreach (Inventory inventory in inventories)
			{
				MoveInventoryToTreasure(inventory, storage);
			}
			for (int j = 0; j < 8; j++)
			{
				int num = storage.Resources[j];
				if (num > 0)
				{
					storage.Resources[j] = 0;
					storage.NeedCommit = true;
					settlementTreasury.Resources[j] += num;
				}
			}
		}
		void OfflineToTreasure(ItemKey itemKey, int amount)
		{
			settlementTreasury.Inventory.OfflineAdd(itemKey, amount);
			DomainManager.Item.SetOwner(itemKey, ItemOwnerType.Treasury, settlementId);
			Events.RaiseTaiwuItemModified(context, itemKey);
		}
	}

	[Obsolete]
	[DomainMethod]
	public void PreserveActionPoint(DataContext context, int days)
	{
		int num = days * 10;
		if (!IsActionPointEnough(num))
		{
			throw new Exception($"Error occurred. Not enough action point in this month: need {num}, but only {GetTotalActionPointsRemaining()} left");
		}
		SetActionPointPreserved(_actionPointPreserved + num, context);
		SetActionPointCurrMonth(_actionPointCurrMonth - num, context);
	}

	[Obsolete]
	[DomainMethod]
	public int GetPreserveDay()
	{
		return GetActionPointPreserved() / 10;
	}

	private int GetActionPointPerMonth()
	{
		Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
		int buildingBlockEffect = DomainManager.Building.GetBuildingBlockEffect(location, EBuildingScaleEffect.ActionPointRegenBonus);
		return 300 + buildingBlockEffect;
	}

	private void InitializeActionPoint()
	{
		_actionPointCurrMonth = 300;
	}

	public void UpdateActionPoint(DataContext context)
	{
		ChangeActionPoint(context, GetActionPointPerMonth());
	}

	public void ConsumeActionPoint(DataContext context, int value)
	{
		ChangeActionPoint(context, -value);
	}

	public int GetTotalActionPointsRemaining()
	{
		return _actionPointCurrMonth;
	}

	public bool IsActionPointEnough(int value)
	{
		return value <= _actionPointCurrMonth;
	}

	public void ChangeActionPoint(DataContext context, int delta)
	{
		if (delta + _actionPointCurrMonth < 0)
		{
			throw new Exception($"Error occurred. Not enough action point in this month: need {-delta}, but only {GetTotalActionPointsRemaining()} left");
		}
		_actionPointCurrMonth = Math.Min(delta + _actionPointCurrMonth, GlobalConfig.Instance.ActionPointLimitPerMonth);
		SetActionPointCurrMonth(_actionPointCurrMonth, context);
	}

	public bool TryGetCaravanActionPointTransfer(int id, out (int, int) actionPoint)
	{
		actionPoint = (0, 0);
		return _caravanActionPointTransfer.TryGetValue(id, out actionPoint);
	}

	public void SetCaravanActionPointTransfer(int id, (int, int) transfer)
	{
		_caravanActionPointTransfer[id] = transfer;
	}

	public void RemoveCaravanActionPointTransfer(int id)
	{
		_caravanActionPointTransfer.Remove(id);
	}

	private void InitializeTaiwuAddOneWayRelationCoolDown()
	{
		_taiwuAddOneWayRelationCoolDown = new Dictionary<int, IntPair>();
	}

	[DomainMethod]
	public void AddTaiwuOneWayRelationCoolDown(DataContext context, int charId, bool isAdoreRelation)
	{
		int num = DomainManager.World.GetCurrDate() + 3;
		if (_taiwuAddOneWayRelationCoolDown.TryGetValue(charId, out var value))
		{
			SetElement_TaiwuAddOneWayRelationCoolDown(charId, isAdoreRelation ? new IntPair(num, value.Second) : new IntPair(value.First, num), context);
		}
		else
		{
			AddElement_TaiwuAddOneWayRelationCoolDown(charId, isAdoreRelation ? new IntPair(num, 0) : new IntPair(0, num), context);
		}
	}

	[DomainMethod]
	public int GetTaiwuAddOneWayRelationResultCode(int charId)
	{
		if (!DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			return int.MaxValue;
		}
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		int num = 0;
		if (TryGetElement_TaiwuAddOneWayRelationCoolDown(charId, out var value))
		{
			int currDate = DomainManager.World.GetCurrDate();
			if (currDate < value.First)
			{
				num = 2 | num;
			}
			if (currDate < value.Second)
			{
				num = 4 | num;
			}
		}
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		(ushort, ushort) relationBetweenCharacters = DomainManager.Character.GetRelationBetweenCharacters(taiwuCharId, charId);
		if (relationBetweenCharacters.Item1 != ushort.MaxValue && RelationType.HasRelation(relationBetweenCharacters.Item1, 16384))
		{
			num |= 8;
		}
		if (relationBetweenCharacters.Item1 != ushort.MaxValue && RelationType.HasRelation(relationBetweenCharacters.Item1, 32768))
		{
			num |= 0x10;
		}
		if (relationBetweenCharacters.Item2 != ushort.MaxValue && RelationType.HasRelation(relationBetweenCharacters.Item2, 16384))
		{
			num |= 0x40;
		}
		if (relationBetweenCharacters.Item1 == ushort.MaxValue || !RelationType.HasRelation(relationBetweenCharacters.Item1, 8192))
		{
			num |= 0x400;
		}
		if (relationBetweenCharacters.Item1 == ushort.MaxValue)
		{
			num |= 0x8000;
		}
		if (DomainManager.World.GetMainStoryLineProgress() < 6)
		{
			num |= 0x20;
		}
		if (taiwu.GetAgeGroup() != 2 || AgeGroup.GetAgeGroup(taiwu.GetActualAge()) != 2)
		{
			num |= 0x80;
		}
		if (element.GetAgeGroup() != 2 || AgeGroup.GetAgeGroup(element.GetActualAge()) != 2)
		{
			num |= 0x100;
		}
		if (relationBetweenCharacters.Item1 != ushort.MaxValue && (RelationType.ContainParentRelations(relationBetweenCharacters.Item1) || RelationType.ContainChildRelations(relationBetweenCharacters.Item1) || RelationType.ContainBrotherOrSisterRelations(relationBetweenCharacters.Item1)))
		{
			num |= 0x200;
		}
		List<short> featureIds = taiwu.GetFeatureIds();
		if (featureIds.Contains(484))
		{
			num |= 0x800;
		}
		if (featureIds.Contains(485))
		{
			num |= 0x1000;
		}
		List<short> featureIds2 = element.GetFeatureIds();
		if (featureIds2.Contains(484))
		{
			num |= 0x2000;
		}
		if (featureIds2.Contains(485))
		{
			num |= 0x4000;
		}
		return num;
	}

	[DomainMethod]
	public bool IsTaiwuAbleToAddOneWayRelation(int charId, bool isAdoreRelation)
	{
		if (TryGetElement_TaiwuAddOneWayRelationCoolDown(charId, out var value))
		{
			return DomainManager.World.GetCurrDate() >= (isAdoreRelation ? value.First : value.Second);
		}
		return true;
	}

	[DomainMethod]
	public int GetTaiwuAddOneWayRelationCoolDown(int charId, bool isAdoreRelation)
	{
		IntPair value;
		return TryGetElement_TaiwuAddOneWayRelationCoolDown(charId, out value) ? Math.Max(0, (isAdoreRelation ? value.First : value.Second) - DomainManager.World.GetCurrDate()) : 0;
	}

	public bool TryGetAnimalIdsByLocation(Location location, out List<int> animals)
	{
		animals = null;
		Dictionary<short, List<int>> value;
		return LocationAnimalMap.TryGetValue(location.AreaId, out value) && value.TryGetValue(location.BlockId, out animals);
	}

	public bool TryGetAnimalsByLocation(Location location, out List<GameData.Domains.Character.Animal> animals)
	{
		animals = new List<GameData.Domains.Character.Animal>();
		if (!TryGetAnimalIdsByLocation(location, out var animals2))
		{
			return false;
		}
		foreach (int item in animals2)
		{
			if (TryGetAnimal(item, out var animal))
			{
				animals.Add(animal);
			}
		}
		return true;
	}

	public bool TryGetAnimalAreaDataByAreaId(short areaId, out Dictionary<short, List<int>> animalAreaData)
	{
		animalAreaData = null;
		return LocationAnimalMap.TryGetValue(areaId, out animalAreaData);
	}

	public bool TryGetAnimalByItemKey(ItemKey itemKey, out GameData.Domains.Character.Animal animal)
	{
		animal = null;
		int value;
		return ItemKeyAnimalMap.TryGetValue(itemKey, out value) && TryGetAnimal(value, out animal);
	}

	public bool TryGetAnimal(int id, out GameData.Domains.Character.Animal animal)
	{
		return _animals.TryGetValue(id, out animal);
	}

	public bool IsLocationContainsAnimal(Location location)
	{
		List<int> animals;
		return TryGetAnimalIdsByLocation(location, out animals) && animals.Count > 0;
	}

	public bool IsAnimalAbleToAttack(GameData.Domains.Character.Animal animal, bool isTaiwuVictim)
	{
		return Config.Character.Instance[animal.CharacterTemplateId].RandomAnimalAttack && (isTaiwuVictim || !animal.NoAccident);
	}

	public void SetAnimalLocation(DataContext context, GameData.Domains.Character.Animal animal, Location location)
	{
		Location location2 = animal.Location;
		if (location2 != Location.Invalid && TryGetAnimalIdsByLocation(location2, out var animals))
		{
			animals.Remove(animal.Id);
		}
		animal.Location = location;
		DomainManager.Map.MoveHunterAnimal(context, location2, location, animal.CharacterTemplateId);
		OnBuildingAreaEffectLocationChanged(context, 0, location2, location);
		UpdateLocationAnimalMap(animal);
		SetAnimal(context, animal);
	}

	public void SetAnimal(DataContext context, GameData.Domains.Character.Animal animal)
	{
		if (_animals.ContainsKey(animal.Id))
		{
			SetElement_Animals(animal.Id, animal, context);
		}
		else
		{
			AddElement_Animals(animal.Id, animal, context);
		}
		if (animal.ItemKey != ItemKey.Invalid)
		{
			ItemKeyAnimalMap[animal.ItemKey] = animal.Id;
		}
	}

	public void RemoveAnimal(DataContext context, GameData.Domains.Character.Animal animal)
	{
		if (_animals.ContainsKey(animal.Id))
		{
			RemoveElement_Animals(animal.Id, context);
		}
		if (animal.ItemKey != ItemKey.Invalid && ItemKeyAnimalMap.ContainsKey(animal.ItemKey))
		{
			ItemKeyAnimalMap.Remove(animal.ItemKey);
		}
		if (animal.Location != Location.Invalid && TryGetAnimalIdsByLocation(animal.Location, out var animals))
		{
			animals.Remove(animal.Id);
		}
		DomainManager.Map.RemoveHunterAnimal(context, animal.Location, animal.CharacterTemplateId);
		OnBuildingAreaEffectLocationChanged(context, 0, animal.Location, Location.Invalid);
	}

	public GameData.Domains.Character.Animal CreateAnimalByCharacterTemplateId(DataContext context, short templateId, Location location)
	{
		int id = GenerateNextObjectId(context);
		GameData.Domains.Character.Animal animal = new GameData.Domains.Character.Animal(id, templateId);
		SetAnimalLocation(context, animal, location);
		return animal;
	}

	public GameData.Domains.Character.Animal GetOrCreateAnimalByItemKey(DataContext context, ItemKey itemKey)
	{
		GameData.DLC.FiveLoong.Jiao jiao;
		sbyte type = (sbyte)((!TryGetJiaoByItemKey(itemKey, out jiao) || jiao.GrowthStage != 1) ? 1 : 2);
		if (TryGetAnimalByItemKey(itemKey, out var animal))
		{
			animal.Type = type;
			return animal;
		}
		int id = GenerateNextObjectId(context);
		sbyte itemType = itemKey.ItemType;
		if (1 == 0)
		{
		}
		short num = itemType switch
		{
			4 => GetCharacterTemplateIdByCarrierTemplateId(itemKey.TemplateId), 
			5 => GetCharacterTemplateIdByMaterialTemplateId(itemKey.TemplateId), 
			12 => GetCharacterTemplateIdByMiscTemplateId(itemKey.TemplateId), 
			_ => -1, 
		};
		if (1 == 0)
		{
		}
		short templateId = num;
		return new GameData.Domains.Character.Animal(id, itemKey, templateId, type);
	}

	public void ApplyAnimalDeadByAccident(DataContext context, int id)
	{
		if (TryGetAnimal(id, out var animal))
		{
			if (animal.NoAccident)
			{
				SetAnimalLocation(context, animal, Location.Invalid);
			}
			else
			{
				RemoveAnimal(context, animal);
			}
		}
	}

	public bool TryGetAnimalAttackInRange(Location location, int range, bool isTaiwuVictim, out HashSet<(Location, int)> result)
	{
		result = null;
		if (location.Equals(Location.Invalid))
		{
			return false;
		}
		if (!TryGetAnimalAreaDataByAreaId(location.AreaId, out var animalAreaData))
		{
			return false;
		}
		result = new HashSet<(Location, int)>();
		short key;
		List<int> value;
		if (range == -1)
		{
			foreach (KeyValuePair<short, List<int>> item in animalAreaData)
			{
				item.Deconstruct(out key, out value);
				short blockId = key;
				List<int> list = value;
				foreach (int item2 in list)
				{
					if (TryGetAnimal(item2, out var animal) && IsAnimalAbleToAttack(animal, isTaiwuVictim))
					{
						result.Add((new Location(location.AreaId, blockId), item2));
					}
				}
			}
		}
		else
		{
			ByteCoordinate blockPos = DomainManager.Map.GetBlockData(location.AreaId, location.BlockId).GetBlockPos();
			foreach (KeyValuePair<short, List<int>> item3 in animalAreaData)
			{
				item3.Deconstruct(out key, out value);
				short blockId2 = key;
				List<int> list2 = value;
				MapBlockData blockData = DomainManager.Map.GetBlockData(location.AreaId, blockId2);
				if (!blockData.IsPassable() || blockData.GetManhattanDistanceToPos(blockPos.X, blockPos.Y) > range)
				{
					continue;
				}
				foreach (int item4 in list2)
				{
					if (TryGetAnimal(item4, out var animal2) && IsAnimalAbleToAttack(animal2, isTaiwuVictim))
					{
						result.Add((new Location(location.AreaId, blockId2), item4));
					}
				}
			}
		}
		return result.Count > 0;
	}

	public Location GetAnimalGenerateCenterLocationByHunterSkill(DataContext context, short areaId)
	{
		if (!TryGetRandomBlockForGeneratingAnimal(context, areaId, isTaiwuSkill: true, out var blockId))
		{
			return Location.Invalid;
		}
		return new Location(areaId, blockId);
	}

	public void GetAnimalGenerateLocationListByCenterLocation(DataContext context, Location centerLocation, int count, ref List<Location> locations)
	{
		locations.Clear();
		int num = DomainManager.Taiwu.GetTaiwu()?.GetLocation().BlockId ?? (-1);
		List<MapBlockData> list = ObjectPool<List<MapBlockData>>.Instance.Get();
		list.Clear();
		Span<MapBlockData> areaBlocks = DomainManager.Map.GetAreaBlocks(centerLocation.AreaId);
		for (int i = 0; i < areaBlocks.Length; i++)
		{
			MapBlockData mapBlockData = areaBlocks[i];
			if (BlockCanGeneratingAnimal(mapBlockData, isTaiwuSkill: true, (short)num) && mapBlockData.TemplateId != centerLocation.BlockId)
			{
				list.Add(mapBlockData);
			}
		}
		ByteCoordinate centerBlockPos = DomainManager.Map.GetBlock(centerLocation).GetBlockPos();
		MapBlockData[] array = list.OrderBy((MapBlockData block) => block.GetManhattanDistanceToPos(centerBlockPos.X, centerBlockPos.Y)).ToArray();
		for (int num2 = 0; num2 < count && num2 < array.Length; num2++)
		{
			locations.Add(array[num2].GetLocation());
		}
		ObjectPool<List<MapBlockData>>.Instance.Return(list);
	}

	public void AnimalGenerateInAreaByHunterSkill(DataContext context, Location location, short animalCharacterTemplateId)
	{
		CreateAnimalByCharacterTemplateId(context, animalCharacterTemplateId, location);
		DomainManager.Map.AddHunterAnimal(context, location.AreaId, location.BlockId, animalCharacterTemplateId);
	}

	public void AnimalRandomGenerateInArea(DataContext context, short areaId)
	{
		if (!DomainManager.Map.IsAreaBroken(areaId) && TryGetRandomBlockForGeneratingAnimal(context, areaId, isTaiwuSkill: false, out var blockId))
		{
			CreateAnimalByCharacterTemplateId(context, GetRandomAnimalForGeneratingAnimal(context), new Location(areaId, blockId));
		}
	}

	public IEnumerable<Location> GetAllFleeBeastLocations()
	{
		foreach (var (itemKey2, animalId) in ItemKeyAnimalMap)
		{
			if (TryGetAnimal(animalId, out var animal) && !IsItemJiaoRelated(itemKey2) && !IsItemChildOfLoongRelated(itemKey2))
			{
				yield return animal.Location;
			}
			animal = null;
		}
	}

	public IEnumerable<Location> GetAllFleeJiaoLoongLocations()
	{
		foreach (var (itemKey2, animalId) in ItemKeyAnimalMap)
		{
			if (TryGetAnimal(animalId, out var animal) && (IsItemJiaoRelated(itemKey2) || IsItemChildOfLoongRelated(itemKey2)))
			{
				yield return animal.Location;
			}
			animal = null;
		}
	}

	public bool RemoveAnimalByLocationAndTemplateId(DataContext context, Location location, short characterTemplateId)
	{
		if (TryGetAnimalIdsByLocation(location, out var animals))
		{
			foreach (int item in animals)
			{
				if (TryGetAnimal(item, out var animal) && animal.CharacterTemplateId == characterTemplateId)
				{
					RemoveAnimal(context, animal);
					return true;
				}
			}
		}
		return false;
	}

	public int GetAnimalByLocationAndTemplateId(DataContext context, Location location, short characterTemplateId)
	{
		if (TryGetAnimalIdsByLocation(location, out var animals))
		{
			foreach (int item in animals)
			{
				if (TryGetAnimal(item, out var animal) && animal.CharacterTemplateId == characterTemplateId)
				{
					return animal.Id;
				}
			}
		}
		return -1;
	}

	public void CheckAnimalAttackTaiwuOnAdvanceMonth(IRandomSource randomSource)
	{
		Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
		if (!location.IsValid() || !DomainManager.Extra.TryGetAnimalIdsByLocation(location, out var animals) || animals.Count == 0)
		{
			return;
		}
		short num = -1;
		int num2 = -1;
		foreach (int item in animals)
		{
			if (TryGetAnimal(item, out var animal) && IsAnimalAbleToAttack(animal, isTaiwuVictim: true))
			{
				sbyte consummateLevel = Config.Character.Instance[animal.CharacterTemplateId].ConsummateLevel;
				if (consummateLevel > num2 || (consummateLevel == num2 && randomSource.NextBool()))
				{
					num2 = consummateLevel;
					num = animal.CharacterTemplateId;
				}
			}
		}
		if (num >= 0)
		{
			DomainManager.World.GetMonthlyEventCollection().AddRandomAnimalAttack(location, num);
		}
	}

	public void UpdateAnimalAreaData(DataContext context)
	{
		List<int> list = ObjectPool<List<int>>.Instance.Get();
		for (short num = 0; num < 139; num++)
		{
			if (!DomainManager.Map.IsAreaBroken(num))
			{
				int num2 = 0;
				if (TryGetAnimalAreaDataByAreaId(num, out var animalAreaData))
				{
					list.Clear();
					foreach (List<int> value in animalAreaData.Values)
					{
						foreach (int item in value)
						{
							if (TryGetAnimal(item, out var animal) && IsAnimalAbleToAttack(animal, isTaiwuVictim: false))
							{
								list.Add(item);
							}
						}
					}
					num2 = list.Count;
				}
				short blockId;
				if (num2 >= 12)
				{
					ApplyAnimalDeadByAccident(context, list.GetRandom(context.Random));
				}
				else if (TryGetRandomBlockForGeneratingAnimal(context, num, isTaiwuSkill: false, out blockId))
				{
					CreateAnimalByCharacterTemplateId(context, GetRandomAnimalForGeneratingAnimal(context), new Location(num, blockId));
				}
			}
		}
		ObjectPool<List<int>>.Instance.Return(list);
	}

	private void InitializeAnimals(bool isResetting)
	{
		if (isResetting)
		{
			_nextAnimalId = 0;
		}
		foreach (GameData.Domains.Character.Animal value in _animals.Values)
		{
			UpdateLocationAnimalMap(value);
			if (value.ItemKey != ItemKey.Invalid)
			{
				ItemKeyAnimalMap[value.ItemKey] = value.Id;
			}
			if (value.Location != Location.Invalid && value.ItemKey != ItemKey.Invalid)
			{
				GameData.Domains.Item.Material element2;
				GameData.Domains.Item.Medicine element3;
				if (DomainManager.Item.TryGetElement_Carriers(value.ItemKey.Id, out var element))
				{
					element.SetOwner(ItemOwnerType.FleeCarrier, value.Location.AreaId);
				}
				else if (DomainManager.Item.TryGetElement_Materials(value.ItemKey.Id, out element2))
				{
					element2.SetOwner(ItemOwnerType.FleeCarrier, value.Location.AreaId);
				}
				else if (DomainManager.Item.TryGetElement_Medicines(value.ItemKey.Id, out element3))
				{
					element3.SetOwner(ItemOwnerType.FleeCarrier, value.Location.AreaId);
				}
			}
		}
	}

	private void UpdateLocationAnimalMap(GameData.Domains.Character.Animal animal)
	{
		if (!LocationAnimalMap.ContainsKey(animal.Location.AreaId))
		{
			LocationAnimalMap[animal.Location.AreaId] = new Dictionary<short, List<int>>();
		}
		if (!LocationAnimalMap[animal.Location.AreaId].ContainsKey(animal.Location.BlockId))
		{
			LocationAnimalMap[animal.Location.AreaId][animal.Location.BlockId] = new List<int>();
		}
		LocationAnimalMap[animal.Location.AreaId][animal.Location.BlockId].Add(animal.Id);
	}

	private int GenerateNextObjectId(DataContext context)
	{
		int nextAnimalId = _nextAnimalId;
		_nextAnimalId++;
		if ((uint)_nextAnimalId > 2147483647u)
		{
			_nextAnimalId = 0;
		}
		SetNextAnimalId(_nextAnimalId, context);
		return nextAnimalId;
	}

	private bool TryGetRandomBlockForGeneratingAnimal(DataContext context, short areaId, bool isTaiwuSkill, out short blockId)
	{
		blockId = -1;
		if (areaId < 0)
		{
			return false;
		}
		if (DomainManager.Map.IsAreaBroken(areaId))
		{
			return false;
		}
		int num = DomainManager.Taiwu.GetTaiwu()?.GetLocation().BlockId ?? (-1);
		List<short> list = ObjectPool<List<short>>.Instance.Get();
		list.Clear();
		Span<MapBlockData> areaBlocks = DomainManager.Map.GetAreaBlocks(areaId);
		for (int i = 0; i < areaBlocks.Length; i++)
		{
			MapBlockData mapBlockData = areaBlocks[i];
			if (BlockCanGeneratingAnimal(mapBlockData, isTaiwuSkill, (short)num))
			{
				list.Add(mapBlockData.BlockId);
			}
		}
		if (list.Count > 0)
		{
			blockId = list.GetRandom(context.Random);
		}
		ObjectPool<List<short>>.Instance.Return(list);
		return blockId >= 0;
	}

	private bool BlockCanGeneratingAnimal(MapBlockData block, bool isTaiwuSkill, short taiwuBlockId)
	{
		return block.IsPassable() && block.GetConfig().Type == EMapBlockType.Wild && (!isTaiwuSkill || (block.BlockId != taiwuBlockId && block.Visible));
	}

	private short GetRandomAnimalForGeneratingAnimal(DataContext context)
	{
		return AnimalCharIdGroups.GetRandom(context.Random)[0];
	}

	[DomainMethod]
	public List<short> GetArtisanOrderCanProduceItemSubType(ArtisanOrder order)
	{
		List<short> list = new List<short> { -1 };
		if (order.ArtisanId < 0)
		{
			return list;
		}
		if (!DomainManager.Character.TryGetElement_Objects(order.ArtisanId, out var _))
		{
			return list;
		}
		sbyte lifeSkillType = order.LifeSkillType;
		if (lifeSkillType < 0)
		{
			return list;
		}
		sbyte b = lifeSkillType;
		sbyte b2 = b;
		if (b2 != 5 && b2 != 14)
		{
			foreach (MaterialItem item in (IEnumerable<MaterialItem>)Config.Material.Instance)
			{
				if (item.RequiredLifeSkillType != lifeSkillType || item.IsSpecial)
				{
					continue;
				}
				foreach (short craftableItemType in item.CraftableItemTypes)
				{
					foreach (short makeItemSubType in MakeItemType.Instance[craftableItemType].MakeItemSubTypes)
					{
						MakeItemResult result = MakeItemSubType.Instance[makeItemSubType].Result;
						short itemSubType = ItemTemplateHelper.GetItemSubType(result.ItemType, result.TemplateId);
						if (!list.Contains(itemSubType))
						{
							list.Add(itemSubType);
						}
					}
				}
			}
		}
		return list;
	}

	[DomainMethod]
	public ProductionPool GetArtisanOrderMaterialPreview(ArtisanOrder order, Inventory itemList)
	{
		ProductionPool artisanOrderProductionPool = GetArtisanOrderProductionPool(order);
		Dictionary<Production, int> dictionary = new Dictionary<Production, int>();
		AddMaterialWeightToProductions(order, itemList, dictionary);
		foreach (var (key, num2) in dictionary)
		{
			if (artisanOrderProductionPool.Productions.TryGetValue(key, out var value))
			{
				value.Weight += num2;
				artisanOrderProductionPool.Productions[key] = value;
			}
			else
			{
				artisanOrderProductionPool.Productions[key] = new ProductionData(num2, canProduce: false);
			}
		}
		return artisanOrderProductionPool;
	}

	[DomainMethod]
	public void AddMaterialToArtisanOrder(DataContext context, ArtisanOrder order, int charId, Inventory itemList, ItemSourceType sourceType)
	{
		if (!DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			return;
		}
		bool flag = charId == DomainManager.Taiwu.GetTaiwuCharId();
		AddMaterialWeightToProductions(order, itemList, order.ProductionWeight);
		foreach (var (itemKey2, amount) in itemList.Items)
		{
			if (itemKey2.ItemType == 5 && !Config.Material.Instance[itemKey2.TemplateId].IsSpecial)
			{
				if (flag)
				{
					DomainManager.Taiwu.RemoveItem(context, itemKey2, amount, sourceType, deleteItem: true);
				}
				else
				{
					element.RemoveInventoryItem(context, itemKey2, amount, deleteItem: true);
				}
			}
		}
		if (order.IsArtisanOrder())
		{
			SetNpcArtisanOrder(context, order);
		}
		else
		{
			SetBuildingArtisanOrder(context, order);
		}
	}

	[DomainMethod]
	[Obsolete]
	public void AddResourceToArtisanOrder(DataContext context, ArtisanOrder order, int charId, sbyte resourceType, int amount)
	{
		DomainManager.Character.GetElement_Objects(charId).ChangeResource(context, resourceType, -amount);
		SetArtisanOrderProgress(context, order, order.Progress + amount);
	}

	[DomainMethod]
	public void AddResourceItemToArtisanOrder(DataContext context, ArtisanOrder order, int charId, List<ItemKey> keyListInventory, List<ItemKey> keyListWarehouse, int amount)
	{
		SetArtisanOrderProgress(context, order, order.Progress + amount);
		if (keyListInventory != null)
		{
			foreach (ItemKey item in keyListInventory)
			{
				DomainManager.Item.DiscardItemOptional(context, charId, item, 1);
			}
		}
		if (keyListWarehouse == null)
		{
			return;
		}
		foreach (ItemKey item2 in keyListWarehouse)
		{
			DomainManager.Item.DiscardItemOptional(context, charId, item2, 2);
		}
	}

	[DomainMethod]
	public ProductionPool GetArtisanOrderProductionPool(ArtisanOrder order)
	{
		if (order.ArtisanId < 0)
		{
			return null;
		}
		if (!DomainManager.Character.TryGetElement_Objects(order.ArtisanId, out var element))
		{
			return null;
		}
		if (!order.IsArtisanOrder())
		{
			VillagerRoleBase villagerRole = DomainManager.Extra.GetVillagerRole(order.ArtisanId);
			if (villagerRole == null)
			{
				return null;
			}
			BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(order.BuildingBlockKey);
			BuildingBlockItem buildingBlockItem = BuildingBlock.Instance[buildingBlockData.TemplateId];
			if (!buildingBlockItem.VillagerRoleTemplateIds.Contains(villagerRole.RoleTemplateId))
			{
				return null;
			}
		}
		ProductionPool productionPool = new ProductionPool(GetCookingProductionAddOn(element));
		sbyte lifeSkillType = order.LifeSkillType;
		int lifeSkillAttainment = element.GetLifeSkillAttainment(lifeSkillType);
		int effectValue = 0;
		if (!order.IsArtisanOrder())
		{
			effectValue = DomainManager.Building.GetBuildingEffectForMake(order.BuildingBlockKey, lifeSkillType).attainmentEffect;
		}
		int[] attainments = new int[3]
		{
			lifeSkillAttainment,
			lifeSkillAttainment * 100 / SharedConstValue.MakeItemStageAttainmentFactor[1],
			lifeSkillAttainment * 100 / SharedConstValue.MakeItemStageAttainmentFactor[2]
		};
		int num = 0;
		switch (lifeSkillType)
		{
		case 14:
			foreach (MaterialItem item in (IEnumerable<MaterialItem>)Config.Material.Instance)
			{
				if (item.RequiredLifeSkillType != lifeSkillType || item.IsSpecial)
				{
					continue;
				}
				short requiredAttainment = item.RequiredAttainment;
				requiredAttainment = GameData.Domains.Building.SharedMethods.GetRequiredLifeSkillAttainmentByBuildingEffect(requiredAttainment, effectValue);
				foreach (short craftableItemType in item.CraftableItemTypes)
				{
					foreach (short makeItemSubType in MakeItemType.Instance[craftableItemType].MakeItemSubTypes)
					{
						MakeItemResult result2 = MakeItemSubType.Instance[makeItemSubType].Result;
						if (order.ItemSubType < 0 || ItemTemplateHelper.GetItemSubType(result2.ItemType, result2.TemplateId) == order.ItemSubType)
						{
							int val3 = AddProductionToPool(productionPool, productionPool.CookAddOn, result2.ItemType, result2.TemplateId, item.Grade, requiredAttainment, attainments);
							num = Math.Max(num, val3);
						}
					}
				}
			}
			break;
		case 5:
			foreach (TeaWineItem item2 in (IEnumerable<TeaWineItem>)Config.TeaWine.Instance)
			{
				if (item2.ItemSubType == order.ItemSubType || (order.IsArtisanOrder() && order.ItemSubType < 0))
				{
					int attainment2 = SharedConstValue.TeaWineArtisanOrderAttainmentRequirement[item2.Grade];
					attainment2 = GameData.Domains.Building.SharedMethods.GetRequiredLifeSkillAttainmentByBuildingEffect(attainment2, effectValue);
					int val2 = AddProductionToPool(productionPool, 0, item2.ItemType, item2.TemplateId, item2.Grade, attainment2, attainments);
					num = Math.Max(num, val2);
				}
			}
			break;
		default:
			foreach (MaterialItem item3 in (IEnumerable<MaterialItem>)Config.Material.Instance)
			{
				if (item3.RequiredLifeSkillType != lifeSkillType || item3.IsSpecial)
				{
					continue;
				}
				for (int i = 0; i < item3.CraftableItemTypes.Count; i++)
				{
					short index = item3.CraftableItemTypes[i];
					bool flag = i == 0;
					bool flag2 = flag;
					if (flag2)
					{
						bool flag3 = (uint)(lifeSkillType - 8) <= 1u;
						flag2 = flag3;
					}
					short attainment = (flag2 ? GlobalConfig.Instance.MakeMadicineAttainments[item3.Grade] : item3.RequiredAttainment);
					attainment = GameData.Domains.Building.SharedMethods.GetRequiredLifeSkillAttainmentByBuildingEffect(attainment, effectValue);
					foreach (short makeItemSubType2 in MakeItemType.Instance[index].MakeItemSubTypes)
					{
						MakeItemResult result = MakeItemSubType.Instance[makeItemSubType2].Result;
						if (order.ItemSubType < 0 || ItemTemplateHelper.GetItemSubType(result.ItemType, result.TemplateId) == order.ItemSubType)
						{
							int val = AddProductionToPool(productionPool, 0, result.ItemType, result.TemplateId, item3.Grade, attainment, attainments);
							num = Math.Max(num, val);
						}
					}
				}
			}
			break;
		}
		int[] array = new int[9];
		for (int j = 0; j <= 2; j++)
		{
			int num2 = num - j;
			if (num2 < 0)
			{
				break;
			}
			array[num2] = SharedConstValue.InitialProductionWeight[j];
		}
		foreach (Production key in productionPool.Productions.Keys)
		{
			sbyte grade = ItemTemplateHelper.GetGrade(key.ItemType, key.TemplateId);
			if (order.ProductionWeight.TryGetValue(key, out var value))
			{
				productionPool.Productions[key] = new ProductionData(array[grade] + value, productionPool.Productions[key].CanProduce);
			}
			else
			{
				productionPool.Productions[key] = new ProductionData(array[grade], productionPool.Productions[key].CanProduce);
			}
		}
		return productionPool;
	}

	[DomainMethod]
	public void SetArtisanOrderProductionType(DataContext context, ArtisanOrder order, short itemSubType)
	{
		order.ItemSubType = itemSubType;
		if (order.IsArtisanOrder())
		{
			SetNpcArtisanOrder(context, order);
		}
		else
		{
			SetBuildingArtisanOrder(context, order);
		}
	}

	[DomainMethod]
	public void SetArtisanOrderStorageType(DataContext context, ArtisanOrder order, ItemSourceType type)
	{
		order.StorageType = (int)type;
		if (order.IsArtisanOrder())
		{
			SetNpcArtisanOrder(context, order);
		}
		else
		{
			SetBuildingArtisanOrder(context, order);
		}
	}

	public void SetArtisanOrderProgress(DataContext context, ArtisanOrder order, int value)
	{
		order.Progress = Math.Min(SharedConstValue.MaxProductionProgress, value);
		if (order.IsArtisanOrder())
		{
			SetNpcArtisanOrder(context, order);
		}
		else
		{
			SetBuildingArtisanOrder(context, order);
		}
	}

	private void FinishArtisanOrder(DataContext context, ArtisanOrder order)
	{
		ProductionPool artisanOrderProductionPool = GetArtisanOrderProductionPool(order);
		int num = 0;
		Production key;
		ProductionData value;
		foreach (KeyValuePair<Production, ProductionData> production3 in artisanOrderProductionPool.Productions)
		{
			production3.Deconstruct(out key, out value);
			Production production = key;
			ProductionData productionData = value;
			if (productionData.CanProduce)
			{
				num += productionData.Weight;
			}
		}
		int num2 = ((num != 0) ? context.Random.Next(num) : 0);
		int currDate = DomainManager.World.GetCurrDate();
		MonthlyNotificationCollection monthlyNotificationCollection = DomainManager.World.GetMonthlyNotificationCollection();
		LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
		TaiwuVillageStoragesRecordCollection taiwuVillageStoragesRecordCollection = DomainManager.Extra.GetTaiwuVillageStoragesRecordCollection();
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(order.ArtisanId);
		foreach (KeyValuePair<Production, ProductionData> production4 in artisanOrderProductionPool.Productions)
		{
			production4.Deconstruct(out key, out value);
			Production production2 = key;
			ProductionData productionData2 = value;
			if (!productionData2.CanProduce || productionData2.Weight == 0)
			{
				continue;
			}
			num2 -= productionData2.Weight;
			if (num2 > 0)
			{
				continue;
			}
			ItemKey itemKey = DomainManager.Item.CreateItem(context, production2.ItemType, production2.TemplateId);
			GameData.Domains.Character.Character element;
			if (order.SubscriberId < 0 || order.SubscriberId == DomainManager.Taiwu.GetTaiwuCharId())
			{
				ItemSourceType itemSourceType = (ItemSourceType)order.StorageType;
				if (itemSourceType == ItemSourceType.Inventory && !DomainManager.Taiwu.GetTaiwu().IsOnRegularSettlement())
				{
					itemSourceType = ItemSourceType.Warehouse;
				}
				short settlementId = DomainManager.Character.GetElement_Objects(order.ArtisanId).GetOrganizationInfo().SettlementId;
				DomainManager.Taiwu.AddItem(context, itemKey, 1, itemSourceType);
				BuildingBlockData value2;
				if (order.IsArtisanOrder())
				{
					switch (itemSourceType)
					{
					case ItemSourceType.Inventory:
						monthlyNotificationCollection.AddNpcCraftFinished0(order.ArtisanId, settlementId, itemKey.ItemType, itemKey.TemplateId, DomainManager.Taiwu.GetTaiwuCharId());
						break;
					case ItemSourceType.Warehouse:
						monthlyNotificationCollection.AddNpcCraftFinished1(order.ArtisanId, settlementId, itemKey.ItemType, itemKey.TemplateId);
						taiwuVillageStoragesRecordCollection.AddOutsiderMakeHarvest1(currDate, TaiwuVillageStorageType.Warehouse, order.ArtisanId, settlementId, production2.ItemType, production2.TemplateId);
						break;
					case ItemSourceType.Treasury:
						monthlyNotificationCollection.AddNpcCraftFinished2(order.ArtisanId, settlementId, itemKey.ItemType, itemKey.TemplateId);
						taiwuVillageStoragesRecordCollection.AddOutsiderMakeHarvest(currDate, TaiwuVillageStorageType.Treasury, order.ArtisanId, settlementId, production2.ItemType, production2.TemplateId);
						break;
					case ItemSourceType.StockStorageGoodsShelf:
						monthlyNotificationCollection.AddNpcCraftFinished3(order.ArtisanId, settlementId, itemKey.ItemType, itemKey.TemplateId);
						taiwuVillageStoragesRecordCollection.AddOutsiderMakeHarvest2(currDate, TaiwuVillageStorageType.Stock, order.ArtisanId, settlementId, production2.ItemType, production2.TemplateId);
						break;
					case ItemSourceType.Trough:
					case ItemSourceType.StockStorageWarehouse:
						break;
					}
				}
				else if (DomainManager.Building.TryGetElement_BuildingBlocks(order.BuildingBlockKey, out value2))
				{
					switch (itemSourceType)
					{
					case ItemSourceType.Inventory:
						monthlyNotificationCollection.AddVillagerCraftFinished0(value2.TemplateId, itemKey.ItemType, itemKey.TemplateId, DomainManager.Taiwu.GetTaiwuCharId());
						break;
					case ItemSourceType.Warehouse:
						monthlyNotificationCollection.AddVillagerCraftFinished1(value2.TemplateId, itemKey.ItemType, itemKey.TemplateId);
						taiwuVillageStoragesRecordCollection.AddVillagerMakeHarvest1(currDate, TaiwuVillageStorageType.Warehouse, value2.TemplateId, production2.ItemType, production2.TemplateId);
						break;
					case ItemSourceType.Treasury:
						monthlyNotificationCollection.AddVillagerCraftFinished2(value2.TemplateId, itemKey.ItemType, itemKey.TemplateId);
						taiwuVillageStoragesRecordCollection.AddVillagerMakeHarvest(currDate, TaiwuVillageStorageType.Treasury, value2.TemplateId, production2.ItemType, production2.TemplateId);
						break;
					case ItemSourceType.StockStorageGoodsShelf:
						monthlyNotificationCollection.AddVillagerCraftFinished3(value2.TemplateId, itemKey.ItemType, itemKey.TemplateId);
						taiwuVillageStoragesRecordCollection.AddVillagerMakeHarvest2(currDate, TaiwuVillageStorageType.Stock, value2.TemplateId, production2.ItemType, production2.TemplateId);
						break;
					case ItemSourceType.Trough:
					case ItemSourceType.StockStorageWarehouse:
						break;
					}
				}
			}
			else if (DomainManager.Character.TryGetElement_Objects(order.SubscriberId, out element))
			{
				element.AddInventoryItem(context, itemKey, 1);
				lifeRecordCollection.AddReceiveProduct(order.SubscriberId, currDate, order.ArtisanId, itemKey.ItemType, itemKey.TemplateId);
			}
			else
			{
				element_Objects.AddInventoryItem(context, itemKey, 1);
			}
			break;
		}
		SetArtisanOrderProgress(context, order, 0);
	}

	private int GetCookingProductionAddOn(GameData.Domains.Character.Character artisan)
	{
		List<GameData.Domains.Character.LifeSkillItem> learnedLifeSkills = artisan.GetLearnedLifeSkills();
		int num = 0;
		if (learnedLifeSkills != null)
		{
			foreach (GameData.Domains.Character.LifeSkillItem item in learnedLifeSkills)
			{
				if (LifeSkill.Instance[item.SkillTemplateId].Type == 14 && item.IsAllPagesRead())
				{
					num++;
				}
			}
		}
		return num;
	}

	private int AddProductionToPool(ProductionPool res, int addOn, sbyte itemType, short baseTemplateId, sbyte baseGrade, int requiredAttainment, int[] attainments)
	{
		int num = 2 + addOn;
		int num2 = 0;
		for (int i = -1; i < num; i++)
		{
			if (ProductionPool.TryGetProductionTemplateId((sbyte)(baseGrade + i), itemType, baseTemplateId, out var finalTemplateId))
			{
				Production key = new Production(itemType, finalTemplateId);
				int num3 = i - addOn + 1;
				if (num3 < 0 || attainments[num3] >= requiredAttainment)
				{
					res.Productions[key] = new ProductionData(0, canProduce: true);
					num2 = Math.Max(num2, ItemTemplateHelper.GetGrade(itemType, finalTemplateId));
				}
				else
				{
					res.Productions.TryAdd(key, new ProductionData(0, canProduce: false));
				}
			}
		}
		return num2;
	}

	private void AddMaterialWeightToProductions(ArtisanOrder order, Inventory itemList, Dictionary<Production, int> weights)
	{
		if (!DomainManager.Character.TryGetElement_Objects(order.ArtisanId, out var element))
		{
			return;
		}
		int cookingProductionAddOn = GetCookingProductionAddOn(element);
		foreach (var (itemKey2, num2) in itemList.Items)
		{
			if (itemKey2.ItemType != 5)
			{
				continue;
			}
			MaterialItem materialItem = Config.Material.Instance[itemKey2.TemplateId];
			if (materialItem.IsSpecial)
			{
				continue;
			}
			sbyte b = materialItem.Grade;
			if (materialItem.RequiredLifeSkillType == 14)
			{
				b = Math.Min(8, (sbyte)(b + cookingProductionAddOn));
			}
			for (int i = 0; i < materialItem.CraftableItemTypes.Count; i++)
			{
				short index = materialItem.CraftableItemTypes[i];
				foreach (short makeItemSubType in MakeItemType.Instance[index].MakeItemSubTypes)
				{
					MakeItemSubTypeItem makeItemSubTypeItem = MakeItemSubType.Instance[makeItemSubType];
					MakeItemResult result = makeItemSubTypeItem.Result;
					sbyte b2 = ((materialItem.RequiredLifeSkillType == 8 && i == 0) ? GameData.Domains.Building.SharedMethods.GetHerbMaterialTempGrade(b, isManual: true, !makeItemSubTypeItem.IsOdd) : b);
					for (int j = -1; j < 2; j++)
					{
						sbyte targetGrade = (sbyte)(b2 + j);
						if (ProductionPool.TryGetProductionTemplateId(targetGrade, result.ItemType, result.TemplateId, out var finalTemplateId))
						{
							Production key = new Production(result.ItemType, finalTemplateId);
							int num3 = SharedConstValue.MaterialWeightToArtisanOrder[j + 1] * num2;
							if (!weights.TryAdd(key, num3))
							{
								weights[key] += num3;
							}
						}
					}
				}
			}
		}
	}

	[DomainMethod]
	public ProductionPool GetProductionPoolPreview(int artisanId, sbyte lifeSkillType, short itemSubType = -1)
	{
		ArtisanOrder artisanOrder = NewNpcArtisanOrder(artisanId, DomainManager.Taiwu.GetTaiwuCharId(), lifeSkillType);
		artisanOrder.ItemSubType = itemSubType;
		return GetArtisanOrderProductionPool(artisanOrder);
	}

	[DomainMethod]
	public ArtisanOrder GetNpcArtisanOrder(int artisanId)
	{
		ArtisanOrder value;
		return (TryGetElement_NpcArtisanOrders(artisanId, out value) && !IsArtisanOrderInvalid(value)) ? value : null;
	}

	[DomainMethod]
	public void ArtisanOrderDebate(DataContext context, int artisanId, bool isDebateWon)
	{
		if (TryGetElement_NpcArtisanOrders(artisanId, out var value))
		{
			SetArtisanOrderDebateWon(context, value, isDebateWon);
		}
	}

	[DomainMethod]
	public void InterceptArtisanOrder(DataContext context, int artisanId, int subscriberId, bool isDebateWon)
	{
		if (!DomainManager.Character.TryGetElement_Objects(artisanId, out var element) || !DomainManager.Character.TryGetElement_Objects(subscriberId, out var element2) || !TryGetElement_NpcArtisanOrders(artisanId, out var value))
		{
			return;
		}
		int subscriberId2 = value.SubscriberId;
		if (DomainManager.Character.TryGetElement_Objects(subscriberId2, out var element3))
		{
			SetArtisanOrderSubscriber(context, artisanId, subscriberId, value.LifeSkillType);
			ProductionPool artisanOrderProductionPool = GetArtisanOrderProductionPool(value);
			if (artisanOrderProductionPool != null)
			{
				int favor;
				int interceptOrderPrice = artisanOrderProductionPool.GetInterceptOrderPrice(isDebateWon, out favor);
				element2.ChangeResource(context, 6, -interceptOrderPrice);
				element.ChangeResource(context, 6, interceptOrderPrice);
				DomainManager.Character.ChangeFavorabilityOptional(context, element3, element2, favor, -1);
				LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
				int currDate = DomainManager.World.GetCurrDate();
				lifeRecordCollection.AddCaptureOrderCorrectly(subscriberId, currDate, artisanId, subscriberId2);
			}
		}
	}

	[DomainMethod]
	public void CreateArtisanOrder(DataContext context, int artisanId, int subscriberId, sbyte lifeSkillType, short makeItemSubType = -1)
	{
		if (DomainManager.Character.TryGetElement_Objects(artisanId, out var element) && DomainManager.Character.TryGetElement_Objects(subscriberId, out var element2))
		{
			ArtisanOrder order = CreateArtisanOrderWithoutCost(context, element, element2, lifeSkillType, makeItemSubType);
			int currDate = DomainManager.World.GetCurrDate();
			LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
			lifeRecordCollection.AddOrderProduct(subscriberId, currDate, artisanId, element.GetLocation());
			ProductionPool artisanOrderProductionPool = GetArtisanOrderProductionPool(order);
			if (artisanOrderProductionPool != null)
			{
				int favor;
				int createOrderPrice = artisanOrderProductionPool.GetCreateOrderPrice(out favor);
				element2.ChangeResource(context, 6, -createOrderPrice);
				element.ChangeResource(context, 6, createOrderPrice);
			}
		}
	}

	public bool IsArtisanIdle(int artisanId)
	{
		ArtisanOrder value;
		return !TryGetElement_NpcArtisanOrders(artisanId, out value) || IsArtisanOrderInvalid(value);
	}

	public bool IsItemSubTypeSubscribed(int subscriberId, short type)
	{
		if (!DomainManager.Character.TryGetElement_SubscriberOrders(subscriberId, out var value))
		{
			return false;
		}
		foreach (int item in value.GetCollection())
		{
			if (TryGetElement_NpcArtisanOrders(item, out var value2) && !IsArtisanOrderInvalid(value2) && value2.ItemSubType == type)
			{
				return true;
			}
		}
		return false;
	}

	public ArtisanOrder CreateArtisanOrderWithoutCost(DataContext context, GameData.Domains.Character.Character artisan, GameData.Domains.Character.Character subscriber, sbyte lifeSkillType, short itemSubType = -1)
	{
		ArtisanOrder artisanOrder = SetArtisanOrderSubscriber(context, artisan.GetId(), subscriber.GetId(), lifeSkillType);
		if (itemSubType >= 0)
		{
			SetArtisanOrderProductionType(context, artisanOrder, itemSubType);
		}
		return artisanOrder;
	}

	private ArtisanOrder SetArtisanOrderSubscriber(DataContext context, int artisanId, int subscriberId, sbyte lifeSkillType)
	{
		int oldId = -1;
		if (TryGetElement_NpcArtisanOrders(artisanId, out var value))
		{
			oldId = value.SubscriberId;
			value.SubscriberId = subscriberId;
		}
		else
		{
			value = NewNpcArtisanOrder(artisanId, subscriberId, lifeSkillType);
		}
		SetNpcArtisanOrder(context, value);
		DomainManager.Character.SetSubscriberOrder(context, oldId, subscriberId, artisanId);
		return value;
	}

	private void SetArtisanOrderDebateWon(DataContext context, ArtisanOrder order, bool isDebateWon)
	{
		order.IsDebateWon = isDebateWon;
		order.DebateCount++;
		SetNpcArtisanOrder(context, order);
	}

	public void UpdateNpcArtisanOrderProgress(DataContext context)
	{
		HashSet<int> hashSet = new HashSet<int>();
		foreach (var (item, artisanOrder2) in _npcArtisanOrders)
		{
			if (IsArtisanOrderInvalid(artisanOrder2))
			{
				hashSet.Add(item);
				continue;
			}
			artisanOrder2.ProgressDelta = GetArtisanOrderDelta(artisanOrder2.ArtisanId, artisanOrder2.LifeSkillType);
			if (artisanOrder2.Progress + artisanOrder2.ProgressDelta >= SharedConstValue.MaxProductionProgress)
			{
				FinishArtisanOrder(context, artisanOrder2);
				hashSet.Add(item);
			}
			else
			{
				SetArtisanOrderProgress(context, artisanOrder2, artisanOrder2.Progress + artisanOrder2.ProgressDelta);
			}
		}
		foreach (int item2 in hashSet)
		{
			ArtisanOrder artisanOrder3 = _npcArtisanOrders[item2];
			if (artisanOrder3.SubscriberId >= 0)
			{
				DomainManager.Character.RemoveSubscriberOrder(context, artisanOrder3.SubscriberId, item2);
			}
			RemoveElement_NpcArtisanOrders(item2, context);
		}
	}

	public void TransferTaiwuArtisanOrder(DataContext context, int newTaiwuCharId, int oldTaiwuCharId)
	{
		if (!DomainManager.Character.TryGetElement_SubscriberOrders(oldTaiwuCharId, out var value))
		{
			return;
		}
		List<int> collection = value.GetCollection();
		for (int num = collection.Count - 1; num >= 0; num--)
		{
			if (TryGetElement_NpcArtisanOrders(collection[num], out var value2))
			{
				SetArtisanOrderSubscriber(context, value2.ArtisanId, newTaiwuCharId, value2.LifeSkillType);
			}
		}
	}

	private int GetArtisanOrderDelta(int artisanId, sbyte lifeSkillType)
	{
		//IL_008f: Unknown result type (might be due to invalid IL or missing references)
		//IL_0094: Unknown result type (might be due to invalid IL or missing references)
		//IL_00a9: Unknown result type (might be due to invalid IL or missing references)
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(artisanId);
		int num = element_Objects.GetLifeSkillAttainment(lifeSkillType) * SharedConstValue.ArtisanAttainmentFactor1;
		OrganizationInfo organizationInfo = element_Objects.GetOrganizationInfo();
		Settlement settlement = DomainManager.Organization.GetSettlement(organizationInfo.SettlementId);
		int num2 = ((lifeSkillType != 5) ? ((settlement.GetMaxSafety() != 0) ? (settlement.GetSafety() * SharedConstValue.ArtisanAttainmentFactor2 / settlement.GetMaxSafety()) : 0) : ((settlement.GetMaxCulture() != 0) ? (settlement.GetCulture() * SharedConstValue.ArtisanAttainmentFactor2 / settlement.GetMaxCulture()) : 0));
		CValuePercentBonus val = CValuePercentBonus.op_Implicit(DomainManager.Building.GetBuildingBlockEffect(element_Objects.GetOrganizationInfo().SettlementId, EBuildingScaleEffect.ArtisanOrderProgressBonus));
		return (SharedConstValue.MonthlyOrderProgressBase + num) * SharedConstValue.MonthlyOrderProgressFactor * num2 / 100 * val;
	}

	private ArtisanOrder NewNpcArtisanOrder(int artisanId, int subscriberId, sbyte lifeSkillType)
	{
		return new ArtisanOrder(artisanId, subscriberId, lifeSkillType, GetArtisanOrderDelta(artisanId, lifeSkillType))
		{
			StorageType = (int)DomainManager.Extra.GetBuildingDefaultStoreLocation().GetMakeType(-32 + lifeSkillType)
		};
	}

	private void SetNpcArtisanOrder(DataContext context, ArtisanOrder order)
	{
		Tester.Assert(order.ArtisanId >= 0);
		if (TryGetElement_NpcArtisanOrders(order.ArtisanId, out var _))
		{
			SetElement_NpcArtisanOrders(order.ArtisanId, order, context);
		}
		else
		{
			AddElement_NpcArtisanOrders(order.ArtisanId, order, context);
		}
	}

	private bool IsArtisanOrderInvalid(ArtisanOrder order)
	{
		GameData.Domains.Character.Character element;
		GameData.Domains.Character.Character element2;
		return order.SubscriberId < 0 || !DomainManager.Character.TryGetElement_Objects(order.SubscriberId, out element) || !DomainManager.Character.TryGetElement_Objects(order.ArtisanId, out element2) || element2.GetOrganizationInfo().SettlementId < 0 || element.IsCompletelyInfected() || element2.IsCompletelyInfected() || IsLegendaryBookConsumed(order.ArtisanId) || IsLegendaryBookConsumed(order.SubscriberId);
	}

	private void InitializeSubscriberOrders(DataContext context)
	{
		foreach (var (artisanId, artisanOrder2) in _npcArtisanOrders)
		{
			DomainManager.Character.SetSubscriberOrder(context, -1, artisanOrder2.SubscriberId, artisanId);
		}
	}

	[DomainMethod]
	public ArtisanOrder GetBuildingArtisanOrder(BuildingBlockKey blockKey)
	{
		ArtisanOrder value;
		return TryGetElement_BuildingArtisanOrders((ulong)blockKey, out value) ? value : null;
	}

	[DomainMethod]
	public ArtisanOrder GetBuildingArtisanOrderAfterUpdate(DataContext context, BuildingBlockKey blockKey)
	{
		if (!TryGetElement_BuildingArtisanOrders((ulong)blockKey, out var value))
		{
			return null;
		}
		SetBuildingArtisanOrderDelta(context, value);
		return value;
	}

	public void SetBuildingOrderArtisan(DataContext context, BuildingBlockKey blockKey, int artisanId)
	{
		if (TryGetElement_BuildingArtisanOrders((ulong)blockKey, out var value))
		{
			value.ArtisanId = artisanId;
		}
		else
		{
			value = NewBuildingArtisanOrder(blockKey, artisanId);
		}
		SetBuildingArtisanOrderDelta(context, value);
	}

	public void UpdateBuildingArtisanOrderProgress(DataContext context)
	{
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		foreach (ArtisanOrder value in _buildingArtisanOrders.Values)
		{
			SetBuildingArtisanOrderDelta(context, value);
			if (value.ProgressDelta > 0)
			{
				value.SubscriberId = taiwuCharId;
				if (value.Progress + value.ProgressDelta >= SharedConstValue.MaxProductionProgress)
				{
					FinishArtisanOrder(context, value);
				}
				else
				{
					SetArtisanOrderProgress(context, value, value.Progress + value.ProgressDelta);
				}
			}
		}
	}

	public void ExchangeBuildingArtisanOrder(DataContext context, BuildingBlockKey keyA, BuildingBlockKey keyB)
	{
		ulong elementId = (ulong)keyA;
		ulong elementId2 = (ulong)keyB;
		ArtisanOrder value;
		bool flag = TryGetElement_BuildingArtisanOrders(elementId, out value);
		ArtisanOrder value2;
		bool flag2 = TryGetElement_BuildingArtisanOrders(elementId2, out value2);
		if (flag && flag2)
		{
			RemoveElement_BuildingArtisanOrders(elementId, context);
			RemoveElement_BuildingArtisanOrders(elementId2, context);
			value.BuildingBlockKey = keyB;
			value2.BuildingBlockKey = keyA;
			AddElement_BuildingArtisanOrders(elementId2, value, context);
			AddElement_BuildingArtisanOrders(elementId, value2, context);
		}
		else if (flag)
		{
			RemoveElement_BuildingArtisanOrders(elementId, context);
			value.BuildingBlockKey = keyB;
			AddElement_BuildingArtisanOrders(elementId2, value, context);
		}
		else if (flag2)
		{
			RemoveElement_BuildingArtisanOrders(elementId2, context);
			value2.BuildingBlockKey = keyA;
			AddElement_BuildingArtisanOrders(elementId, value2, context);
		}
	}

	public void TryRemoveBuildingArtisanOrder(DataContext context, BuildingBlockKey key)
	{
		ulong elementId = (ulong)key;
		if (TryGetElement_BuildingArtisanOrders(elementId, out var _))
		{
			RemoveElement_BuildingArtisanOrders(elementId, context);
		}
	}

	private void SetBuildingArtisanOrderDelta(DataContext context, ArtisanOrder order)
	{
		(int baseValue, int finialValue) buildingArtisanOrderDelta = GetBuildingArtisanOrderDelta(order.BuildingBlockKey, order.ArtisanId, order.LifeSkillType);
		int item = buildingArtisanOrderDelta.baseValue;
		int item2 = buildingArtisanOrderDelta.finialValue;
		order.ProgressBaseDelta = item;
		order.ProgressDelta = item2;
		SetBuildingArtisanOrder(context, order);
	}

	private (int baseValue, int finialValue) GetBuildingArtisanOrderDelta(BuildingBlockKey blockKey, int artisanId, sbyte lifeSkillType)
	{
		//IL_0133: Unknown result type (might be due to invalid IL or missing references)
		//IL_0138: Unknown result type (might be due to invalid IL or missing references)
		//IL_0157: Unknown result type (might be due to invalid IL or missing references)
		if (artisanId < 0 || lifeSkillType < 0 || !DomainManager.Character.TryGetElement_Objects(artisanId, out var element) || !DomainManager.Building.TryGetElement_ShopManagerDict(blockKey, out var value))
		{
			return (baseValue: 0, finialValue: 0);
		}
		VillagerRoleBase villagerRole = DomainManager.Extra.GetVillagerRole(artisanId);
		if (villagerRole == null)
		{
			return (baseValue: 0, finialValue: 0);
		}
		BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(blockKey);
		BuildingBlockItem buildingBlockItem = BuildingBlock.Instance[buildingBlockData.TemplateId];
		if (!buildingBlockItem.VillagerRoleTemplateIds.Contains(villagerRole.RoleTemplateId))
		{
			return (baseValue: 0, finialValue: 0);
		}
		int num = element.GetLifeSkillAttainment(lifeSkillType) + SharedConstValue.AddOnAttainmentOfLeader;
		int num2 = 0;
		foreach (int item in value.GetCollection())
		{
			if (item != artisanId && DomainManager.Character.TryGetElement_Objects(item, out var element2))
			{
				num2 += element2.GetLifeSkillAttainment(lifeSkillType) + SharedConstValue.AddOnAttainmentOfWorker;
			}
		}
		CValuePercentBonus val = CValuePercentBonus.op_Implicit(DomainManager.Building.GetBuildingBlockEffect(blockKey.GetLocation(), EBuildingScaleEffect.ArtisanOrderProgressBonus));
		int num3 = (SharedConstValue.MonthlyOrderProgressBase + num + num2 / SharedConstValue.WorkerAttainmentDivider) * SharedConstValue.MonthlyOrderProgressFactor;
		return (baseValue: num3, finialValue: num3 * val);
	}

	private ArtisanOrder NewBuildingArtisanOrder(BuildingBlockKey blockKey, int artisanId)
	{
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(blockKey);
		BuildingBlockItem buildingBlockItem = BuildingBlock.Instance[buildingBlockData.TemplateId];
		sbyte requireLifeSkillType = buildingBlockItem.RequireLifeSkillType;
		(int baseValue, int finialValue) buildingArtisanOrderDelta = GetBuildingArtisanOrderDelta(blockKey, artisanId, requireLifeSkillType);
		int item = buildingArtisanOrderDelta.baseValue;
		int item2 = buildingArtisanOrderDelta.finialValue;
		short templateId = buildingBlockItem.TemplateId;
		if (1 == 0)
		{
		}
		short num = templateId switch
		{
			127 => 900, 
			128 => 901, 
			_ => -1, 
		};
		if (1 == 0)
		{
		}
		short itemSubType = num;
		return new ArtisanOrder(blockKey, artisanId, taiwuCharId, requireLifeSkillType, item, item2, itemSubType)
		{
			StorageType = (int)DomainManager.Extra.GetBuildingDefaultStoreLocation().GetMakeType(blockKey.BuildingBlockIndex)
		};
	}

	private void SetBuildingArtisanOrder(DataContext context, ArtisanOrder order)
	{
		Tester.Assert(!order.IsArtisanOrder());
		ulong elementId = (ulong)order.BuildingBlockKey;
		if (TryGetElement_BuildingArtisanOrders(elementId, out var _))
		{
			SetElement_BuildingArtisanOrders(elementId, order, context);
		}
		else
		{
			AddElement_BuildingArtisanOrders(elementId, order, context);
		}
	}

	[Obsolete]
	public List<short> GetAutoExpandList()
	{
		return GetAutoExpandBlockIndexList();
	}

	[Obsolete]
	public List<short> GetShopArrangeResultFirst()
	{
		return GetShopArrangeResultFirstList();
	}

	[Obsolete]
	public List<sbyte> GetXiangshuIdInKungfuRoom()
	{
		return GetXiangshuIdInKungfuPracticeRoom();
	}

	[Obsolete]
	public List<short> GetAutoWorkList()
	{
		return GetAutoWorkBlockIndexList();
	}

	[Obsolete]
	public List<short> GetAutoSoldList()
	{
		return GetAutoSoldBlockIndexList();
	}

	[Obsolete]
	public List<int> GetStoneRoomCharIdList()
	{
		return GetStoneRoomCharList();
	}

	[Obsolete]
	public void SetStoneRoomCharIdList(List<int> charList, DataContext context)
	{
		SetStoneRoomCharList(charList, context);
	}

	public void AddStoneRoomCharacter(DataContext context, GameData.Domains.Character.Character character)
	{
		Tester.Assert(!character.IsActiveExternalRelationState(8));
		int id = character.GetId();
		character.ActiveExternalRelationState(context, 8);
		DomainManager.Map.OnInfectedCharacterLocationChanged(context, id, character.GetLocation(), Location.Invalid);
		_stoneRoomCharList.Add(character.GetId());
		SetStoneRoomCharList(_stoneRoomCharList, context);
	}

	public bool TryRemoveStoneRoomCharacter(DataContext context, GameData.Domains.Character.Character character, bool isCharacterAlive = true)
	{
		if (!character.IsActiveExternalRelationState(8))
		{
			return false;
		}
		if (isCharacterAlive)
		{
			character.DeactivateExternalRelationState(context, 8);
		}
		_stoneRoomCharList.Remove(character.GetId());
		SetStoneRoomCharList(_stoneRoomCharList, context);
		return true;
	}

	[DomainMethod]
	public bool IsStoneRoomFull()
	{
		Location taiwuVillageLocation = DomainManager.Taiwu.GetTaiwuVillageLocation();
		BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(44);
		sbyte level = DomainManager.Building.BuildingBlockLevel(new BuildingBlockKey(taiwuVillageLocation.AreaId, taiwuVillageLocation.BlockId, buildingBlockData.BlockIndex));
		int levelEffect = BuildingScale.DefValue.StoneRoomCapacity.GetLevelEffect(level);
		return _stoneRoomCharList.Count >= levelEffect;
	}

	[Obsolete]
	public bool TrySetVillageWorkQualificationImprove(GameData.Domains.Character.Character character, sbyte skillType, bool isLifeSkill)
	{
		DataContext context = DataContextManager.GetCurrentThreadDataContext();
		int id = character.GetId();
		if (_villageWorkQualificationImprove.TryGetValue(id, out var improve))
		{
			if (improve.Items == null)
			{
				InitImprove();
			}
			bool result = UpdateValue();
			DomainManager.Extra.SetElement_VillageWorkQualificationImprove(id, improve, context);
			return result;
		}
		InitImprove();
		bool result2 = UpdateValue();
		DomainManager.Extra.AddElement_VillageWorkQualificationImprove(id, improve, context);
		return result2;
		void InitImprove()
		{
			improve = GameData.Utilities.ShortList.Create();
			for (int i = 0; i < 30; i++)
			{
				improve.Items.Add(0);
			}
		}
		bool UpdateValue()
		{
			sbyte b = skillType;
			if (!isLifeSkill)
			{
				b += 16;
			}
			short num = improve.Items[b];
			if (num < 30)
			{
				num++;
				improve.Items[skillType] = num;
				if (isLifeSkill)
				{
					character.ChangeBaseLifeSkillQualification(context, skillType, 1);
				}
				else
				{
					character.ChangeBaseCombatSkillQualification(context, skillType, 1);
				}
				return true;
			}
			return false;
		}
	}

	public bool TrySetShopVillagerQualificationImprove(GameData.Domains.Character.Character character, sbyte skillType, bool isLifeSkill)
	{
		DataContext context = DataContextManager.GetCurrentThreadDataContext();
		int id = character.GetId();
		if (_shopVillagerQualificationImprove.TryGetValue(id, out var improve))
		{
			if (improve.Items == null)
			{
				InitImprove();
			}
			bool result = UpdateValue();
			DomainManager.Extra.SetElement_ShopVillagerQualificationImprove(id, improve, context);
			return result;
		}
		InitImprove();
		bool result2 = UpdateValue();
		DomainManager.Extra.AddElement_ShopVillagerQualificationImprove(id, improve, context);
		return result2;
		void InitImprove()
		{
			improve = GameData.Utilities.ShortList.Create();
			for (int i = 0; i < 30; i++)
			{
				improve.Items.Add(0);
			}
		}
		bool UpdateValue()
		{
			sbyte b = skillType;
			if (!isLifeSkill)
			{
				b += 16;
			}
			short num = improve.Items[b];
			num++;
			improve.Items[skillType] = num;
			if (isLifeSkill)
			{
				character.ChangeBaseLifeSkillQualification(context, skillType, 1);
			}
			else
			{
				character.ChangeBaseCombatSkillQualification(context, skillType, 1);
			}
			return true;
		}
	}

	public void UpdateTaiwuVillagerPotentialData(DataContext context, int charId, sbyte value)
	{
		if (Enumerable.Contains(_taiwuVillagerPotentialData.Keys, charId))
		{
			SetElement_TaiwuVillagerPotentialData(charId, value, context);
		}
		else
		{
			AddElement_TaiwuVillagerPotentialData(charId, value, context);
		}
	}

	public void UpdateBuildingMoneyPrestigeSuccessRateCompensation(DataContext context, Dictionary<BuildingBlockKey, int> changed)
	{
		foreach (KeyValuePair<BuildingBlockKey, int> item in changed)
		{
			if (item.Value != 0)
			{
				if (_buildingMoneyPrestigeSuccessRateCompensation.ContainsKey((ulong)item.Key))
				{
					SetElement_BuildingMoneyPrestigeSuccessRateCompensation((ulong)item.Key, item.Value, context);
				}
				else
				{
					AddElement_BuildingMoneyPrestigeSuccessRateCompensation((ulong)item.Key, item.Value, context);
				}
			}
			else if (_buildingMoneyPrestigeSuccessRateCompensation.ContainsKey((ulong)item.Key))
			{
				RemoveElement_BuildingMoneyPrestigeSuccessRateCompensation((ulong)item.Key, context);
			}
		}
	}

	[DomainMethod]
	public RecruitCharacterData RequestRecruitCharacterData(DataContext context, BuildingBlockKey buildingBlockKey, int earningDataIndex, bool autoRemove = false)
	{
		RecruitCharacterData recruitCharacterData = null;
		if (DomainManager.Building.TryGetElement_CollectBuildingEarningsData(buildingBlockKey, out var value) && value != null && value.RecruitLevelList.Count > 0 && earningDataIndex >= 0)
		{
			if (!TryGetElement_RecruitCharacterDataLists((ulong)buildingBlockKey, out var value2))
			{
				AddElement_RecruitCharacterDataLists((ulong)buildingBlockKey, value2 = new RecruitCharacterDataList(), context);
			}
			while (value2.Items.Count < value.RecruitLevelList.Count)
			{
				value2.Items.Add(null);
			}
			if (value2.Items.CheckIndex(earningDataIndex) && value2.Items[earningDataIndex] != null)
			{
				recruitCharacterData = value2.Items[earningDataIndex];
			}
			else
			{
				int first = value.RecruitLevelList[earningDataIndex].First;
				BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(buildingBlockKey);
				recruitCharacterData = GameData.Domains.Character.Character.GenerateRecruitCharacterData(context.Random, (sbyte)first, buildingBlockKey, buildingBlockData);
				value2.Items[earningDataIndex] = recruitCharacterData;
			}
			if (autoRemove)
			{
				value2.Items.RemoveAt(earningDataIndex);
			}
			SetElement_RecruitCharacterDataLists((ulong)buildingBlockKey, value2, context);
		}
		return recruitCharacterData;
	}

	public void SetBuildingResourceOutputSetting(DataContext context, int blockIndex, BuildingResourceOutputSetting setting)
	{
		if (TryGetElement_BuildingResourceOutputSettings(blockIndex, out var _))
		{
			SetElement_BuildingResourceOutputSettings(blockIndex, setting, context);
		}
		else
		{
			AddElement_BuildingResourceOutputSettings(blockIndex, setting, context);
		}
	}

	public BuildingResourceOutputSetting GetBuildingResourceOutputSetting(int blockIndex)
	{
		if (TryGetElement_BuildingResourceOutputSettings(blockIndex, out var value))
		{
			return value;
		}
		value = new BuildingResourceOutputSetting();
		value.Init();
		return value;
	}

	public void RemoveBuildingResourceOutputSetting(DataContext context, int blockIndex)
	{
		if (TryGetElement_BuildingResourceOutputSettings(blockIndex, out var _))
		{
			RemoveElement_BuildingResourceOutputSettings(blockIndex, context);
		}
	}

	private bool FixObsoletedBuildingResourceOutputSetting(BuildingResourceOutputSetting setting)
	{
		bool result = false;
		foreach (sbyte key in setting.ResourceStorage.Keys)
		{
			sbyte b = setting.ResourceStorage[key];
			if (b > 0)
			{
				setting.ResourceStorage[key] = 0;
				result = true;
			}
		}
		foreach (sbyte key2 in setting.ItemStorage.Keys)
		{
			sbyte b2 = setting.ItemStorage[key2];
			if (b2 > 1)
			{
				setting.ItemStorage[key2] = 0;
				result = true;
			}
		}
		return result;
	}

	[DomainMethod]
	public void UpdateWoodenXiangshuAvatarSelectedFeatures(DataContext context, short featureId, bool isAdd)
	{
		if (isAdd)
		{
			if (!_woodenXiangshuAvatarSelectedFeatures.Contains(featureId))
			{
				_woodenXiangshuAvatarSelectedFeatures.Add(featureId);
				SetWoodenXiangshuAvatarSelectedFeatures(_woodenXiangshuAvatarSelectedFeatures, context);
			}
		}
		else if (_woodenXiangshuAvatarSelectedFeatures.Contains(featureId))
		{
			_woodenXiangshuAvatarSelectedFeatures.Remove(featureId);
			SetWoodenXiangshuAvatarSelectedFeatures(_woodenXiangshuAvatarSelectedFeatures, context);
		}
	}

	private void InitBuildingAreaEffectProgresses(DataContext context)
	{
		List<Settlement> list = new List<Settlement>();
		DomainManager.Organization.GetAllSettlements(list);
		foreach (Settlement item in list)
		{
			Location location = item.GetLocation();
			if (location.IsValid() && MapAreaData.IsRegularArea(location.AreaId) && DomainManager.Building.TryGetElement_BuildingAreas(location, out var _) && !_buildingAreaEffectProgresses.ContainsKey(location))
			{
				SerializableList<BuildingAreaEffectProgress> value2 = SerializableList<BuildingAreaEffectProgress>.Create();
				for (sbyte b = 0; b < 3; b++)
				{
					value2.Items.Add(new BuildingAreaEffectProgress(b));
				}
				AddElement_BuildingAreaEffectProgresses(location, value2, context);
			}
		}
	}

	public void OnBuildingAreaEffectLocationChanged(DataContext context, sbyte effectType, Location fromLocation, Location toLocation)
	{
		if (fromLocation.AreaId >= 0 && toLocation.AreaId >= 0 && fromLocation.AreaId != toLocation.AreaId)
		{
			throw new InvalidOperationException($"Cannot move effect across area from {fromLocation} to {toLocation}.");
		}
		short num = ((fromLocation.AreaId >= 0) ? fromLocation.AreaId : toLocation.AreaId);
		if (num < 0)
		{
			return;
		}
		MapAreaData element_Areas = DomainManager.Map.GetElement_Areas(num);
		if (element_Areas.SettlementInfos == null)
		{
			return;
		}
		SettlementInfo[] settlementInfos = element_Areas.SettlementInfos;
		for (int i = 0; i < settlementInfos.Length; i++)
		{
			SettlementInfo settlementInfo = settlementInfos[i];
			Location location = new Location(num, settlementInfo.BlockId);
			if (!_buildingAreaEffectProgresses.TryGetValue(location, out var value))
			{
				continue;
			}
			BuildingAreaEffectProgress buildingAreaEffectProgress = value.Items[effectType];
			if (!fromLocation.IsValid() || buildingAreaEffectProgress.RemoveLocation(fromLocation))
			{
				if (toLocation.IsValid())
				{
					buildingAreaEffectProgress.AddLocation(toLocation);
				}
				SetElement_BuildingAreaEffectProgresses(location, value, context);
				break;
			}
		}
	}

	public void UpdateBuildingAreaEffectProgresses(DataContext context)
	{
		IRandomSource random = context.Random;
		foreach (KeyValuePair<Location, SerializableList<BuildingAreaEffectProgress>> buildingAreaEffectProgress in _buildingAreaEffectProgresses)
		{
			buildingAreaEffectProgress.Deconstruct(out var key, out var value);
			Location location = key;
			SerializableList<BuildingAreaEffectProgress> value2 = value;
			bool flag = false;
			foreach (BuildingAreaEffectProgress item in value2.Items)
			{
				EBuildingScaleEffect buildingScaleEffect = item.BuildingScaleEffect;
				int buildingBlockEffect = DomainManager.Building.GetBuildingBlockEffect(location, buildingScaleEffect);
				if (buildingBlockEffect <= 0)
				{
					continue;
				}
				flag = true;
				int num = item.OfflineChangeProgress(buildingBlockEffect);
				if (num <= 0)
				{
					continue;
				}
				List<MapBlockData> list = ObjectPool<List<MapBlockData>>.Instance.Get();
				DomainManager.Map.GetSettlementAffiliatedBlocks(location.AreaId, location.BlockId, list);
				switch (buildingScaleEffect)
				{
				case EBuildingScaleEffect.AnimalProgressDelta:
				{
					for (int j = 0; j < num; j++)
					{
						if (!TryGetRandomBlockForGeneratingAnimal(context, location.AreaId, isTaiwuSkill: false, out var blockId))
						{
							break;
						}
						Location location3 = new Location(location.AreaId, blockId);
						short randomAnimalForGeneratingAnimal = GetRandomAnimalForGeneratingAnimal(context);
						CreateAnimalByCharacterTemplateId(context, randomAnimalForGeneratingAnimal, location3);
						item.AddLocation(location3);
						Logger.Info($"Creating animal {Config.Character.Instance[randomAnimalForGeneratingAnimal].GivenName} at {location3} by building area effect at {location}.");
					}
					break;
				}
				case EBuildingScaleEffect.CricketProgressDelta:
				{
					for (int num4 = list.Count - 1; num4 >= 0; num4--)
					{
						MapBlockData mapBlockData3 = list[num4];
						if (DomainManager.Map.LocationHasCricket(context, mapBlockData3.GetLocation()) || !CricketPlaceDataHelper.BlockAllowCricket(mapBlockData3))
						{
							list.RemoveAt(num4);
						}
					}
					for (int k = 0; k < num; k++)
					{
						if (list.Count <= 0)
						{
							break;
						}
						int index2 = random.Next(list.Count);
						MapBlockData mapBlockData4 = list[index2];
						CollectionUtils.SwapAndRemove(list, index2);
						Location location4 = mapBlockData4.GetLocation();
						CreateExtraCricketMapUnit(context, location4, short.MaxValue, showAsRegular: true);
						item.AddLocation(location4);
						Logger.Info($"Creating cricket at {location4} by building area effect at {location}.");
					}
					break;
				}
				case EBuildingScaleEffect.AdventureProgressDelta:
				{
					for (int num2 = list.Count - 1; num2 >= 0; num2--)
					{
						MapBlockData mapBlockData = list[num2];
						if (DomainManager.Adventure.GetAdventureSite(mapBlockData.AreaId, mapBlockData.BlockId) != null)
						{
							list.RemoveAt(num2);
						}
					}
					for (int i = 0; i < num; i++)
					{
						if (list.Count <= 0)
						{
							break;
						}
						int index = random.Next(list.Count);
						MapBlockData mapBlockData2 = list[index];
						CollectionUtils.SwapAndRemove(list, index);
						Location location2 = mapBlockData2.GetLocation();
						int num3 = context.Random.Next(6);
						List<short> disasterAdventureTypesByResourceType = DomainManager.Adventure.GetDisasterAdventureTypesByResourceType(num3);
						short randomOrDefault = disasterAdventureTypesByResourceType.GetRandomOrDefault<short>(random, -1);
						if (randomOrDefault < 0)
						{
							Logger.AppendWarning($"Failed to create material adventure with resource type {num3}");
							continue;
						}
						DomainManager.Adventure.TryCreateAdventureSite(context, location2.AreaId, location2.BlockId, randomOrDefault, MonthlyActionKey.Invalid);
						item.AddLocation(location2);
						Logger.Info($"Creating {num} adventure(s) at {location2} by building area effect at {location}.");
					}
					break;
				}
				}
				ObjectPool<List<MapBlockData>>.Instance.Return(list);
			}
			if (flag)
			{
				SetElement_BuildingAreaEffectProgresses(location, value2, context);
			}
		}
	}

	internal bool ModifyBuildingExtraData(DataContext ctx, BuildingBlockKey blockKey, Action<BuildingBlockDataEx> action = null)
	{
		if (TryGetElement_BuildingBlockDataEx((ulong)blockKey, out var value))
		{
			action?.Invoke(value);
			SetElement_BuildingBlockDataEx((ulong)blockKey, value, ctx);
			return false;
		}
		value = new BuildingBlockDataEx
		{
			Key = blockKey
		};
		action?.Invoke(value);
		AddElement_BuildingBlockDataEx((ulong)blockKey, value, ctx);
		return true;
	}

	internal void ResetBuildingExtraData(DataContext context, BuildingBlockKey blockKey)
	{
		DomainManager.Extra.ModifyBuildingExtraData(context, blockKey, delegate(BuildingBlockDataEx dataEx)
		{
			dataEx.LevelUnlockedFlags = 1uL;
			dataEx.CumulatedScore = 0;
		});
	}

	internal bool ModifyBuildingExtraData(DataContext ctx, BuildingBlockKey blockKey, BuildingBlockDataEx replace)
	{
		replace.Key = blockKey;
		if (TryGetElement_BuildingBlockDataEx((ulong)blockKey, out var _))
		{
			SetElement_BuildingBlockDataEx((ulong)blockKey, replace, ctx);
			return false;
		}
		AddElement_BuildingBlockDataEx((ulong)blockKey, replace, ctx);
		return true;
	}

	internal List<BuildingBlockDataEx> GetBuildingExtraDataListForCrossArchive()
	{
		return _buildingBlockDataEx.Values.ToList();
	}

	private void FixBuildingExtraData(DataContext ctx)
	{
		BuildingDomain building = DomainManager.Building;
		foreach (Location taiwuBuildingArea in building.GetTaiwuBuildingAreas())
		{
			BuildingAreaData buildingAreaData = building.GetBuildingAreaData(taiwuBuildingArea);
			short num = 0;
			short num2 = (short)(buildingAreaData.Width * buildingAreaData.Width);
			while (num < num2)
			{
				BuildingBlockKey buildingBlockKey = new BuildingBlockKey(taiwuBuildingArea.AreaId, taiwuBuildingArea.BlockId, num);
				if (ModifyBuildingExtraData(ctx, buildingBlockKey))
				{
					BuildingBlockData element_BuildingBlocks = DomainManager.Building.GetElement_BuildingBlocks(buildingBlockKey);
					if (element_BuildingBlocks.TemplateId > 0)
					{
						BuildingBlockItem buildingBlockItem = BuildingBlock.Instance[element_BuildingBlocks.TemplateId];
						if (buildingBlockItem.Type != EBuildingBlockType.UselessResource && buildingBlockItem.MaxLevel > 1 && DomainManager.Extra.TryGetElement_BuildingBlockDataEx((ulong)buildingBlockKey, out var value))
						{
							if (buildingBlockItem.TemplateId == 44)
							{
								FixBuildingExtraDataTaiwuVillage(value);
							}
							else if (buildingBlockItem.Class == EBuildingBlockClass.BornResource)
							{
								for (int i = 0; i < element_BuildingBlocks.Level; i++)
								{
									value.UnlockLevelSlot(i);
								}
							}
							else
							{
								for (int j = 0; j < buildingBlockItem.MaxLevel; j++)
								{
									value.UnlockLevelSlot(j);
								}
							}
							DomainManager.Extra.SetBuildingBlockDataEx(ctx, buildingBlockKey, value);
						}
					}
				}
				num++;
			}
		}
		DomainManager.Building.UpgradeTeaHorseCaravanByAwareness(ctx);
		DomainManager.Building.FixResidentAndComfortableHouseCount(ctx);
	}

	private void FixBuildingExtraDataTaiwuVillage(BuildingBlockDataEx extraData)
	{
		short areaId = DomainManager.Taiwu.GetTaiwuVillageLocation().AreaId;
		sbyte stateTemplateIdByAreaId = DomainManager.Map.GetStateTemplateIdByAreaId(areaId);
		sbyte sectID = MapState.Instance[stateTemplateIdByAreaId].SectID;
		extraData.ResetInitialUnlockedSlot(sectID - 1);
		if (DomainManager.World.GetMainStoryLineProgress() < 16)
		{
			return;
		}
		sbyte b = 1;
		AddTaiwuVillageVowOrgTemplateIdList(sectID, b);
		foreach (MapStateItem item in (IEnumerable<MapStateItem>)MapState.Instance)
		{
			if (item.TemplateId != 0 && item.TemplateId != stateTemplateIdByAreaId)
			{
				sbyte sectAreaID = item.SectAreaID;
				short areaIdByAreaTemplateId = DomainManager.Map.GetAreaIdByAreaTemplateId(sectAreaID);
				MapAreaData element_Areas = DomainManager.Map.GetElement_Areas(areaIdByAreaTemplateId);
				if (element_Areas.StationUnlocked)
				{
					int index = item.SectID - 1;
					extraData.UnlockLevelSlot(index);
					AddTaiwuVillageVowOrgTemplateIdList(item.SectID, ++b);
				}
			}
		}
	}

	public void SetBuildingBlockDataEx(DataContext context, BuildingBlockKey blockKey, BuildingBlockDataEx dataEx)
	{
		SetElement_BuildingBlockDataEx((ulong)blockKey, dataEx, context);
	}

	public void AddTaiwuVillageVowOrgTemplateIdList(sbyte addTemplateId, sbyte level)
	{
		foreach (var taiwuVillageVowOrgTemplateId in TaiwuVillageVowOrgTemplateIdList)
		{
			sbyte item = taiwuVillageVowOrgTemplateId.templateId;
			if (item == addTemplateId)
			{
				return;
			}
		}
		TaiwuVillageVowOrgTemplateIdList.Add((addTemplateId, level));
	}

	public void TriggerTaiwuVillageVowMonthlyEventFromCrossArchive(DataContext context, BuildingBlockDataEx dataEx)
	{
		short areaId = DomainManager.Taiwu.GetTaiwuVillageLocation().AreaId;
		sbyte stateTemplateIdByAreaId = DomainManager.Map.GetStateTemplateIdByAreaId(areaId);
		sbyte sectID = MapState.Instance[stateTemplateIdByAreaId].SectID;
		sbyte b = 1;
		for (sbyte b2 = 1; b2 <= 15; b2++)
		{
			if (b2 != sectID)
			{
				sbyte largeSectIndex = OrganizationDomain.GetLargeSectIndex(b2);
				if (dataEx.SlotIsUnlocked(largeSectIndex))
				{
					AddElement_TaiwuVillageVowOrgTemplateCrossArchiveDict(b2, ++b, context);
				}
			}
		}
	}

	public void TriggerTaiwuVillageVowMonthlyEvent(DataContext context)
	{
		if (DomainManager.World.GetMainStoryLineProgress() < 16)
		{
			return;
		}
		if (_taiwuVillageVowOrgTemplateCrossArchiveDict.Count > 0)
		{
			foreach (var (item, item2) in _taiwuVillageVowOrgTemplateCrossArchiveDict)
			{
				TaiwuVillageVowOrgTemplateIdList.Add((item, item2));
			}
		}
		ClearTaiwuVillageVowOrgTemplateCrossArchiveDict(context);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		for (int i = 0; i < TaiwuVillageVowOrgTemplateIdList.Count; i++)
		{
			(sbyte templateId, sbyte level) tuple = TaiwuVillageVowOrgTemplateIdList[i];
			sbyte item3 = tuple.templateId;
			sbyte item4 = tuple.level;
			Settlement settlementByOrgTemplateId = DomainManager.Organization.GetSettlementByOrgTemplateId(item3);
			MonthlyEventCollection monthlyEventCollection = DomainManager.World.GetMonthlyEventCollection();
			monthlyEventCollection.AddTaiwuVillageStoneClaimed(taiwu.GetId(), settlementByOrgTemplateId.GetId(), settlementByOrgTemplateId.GetId(), item4);
		}
		TaiwuVillageVowOrgTemplateIdList.Clear();
	}

	[DomainMethod]
	public bool UnlockBuildingLevelSlot(DataContext context, BuildingBlockKey key, int index)
	{
		//IL_016e: Unknown result type (might be due to invalid IL or missing references)
		if (!_buildingBlockDataEx.TryGetValue((ulong)key, out var value) || value.SlotIsUnlocked(index))
		{
			return false;
		}
		sbyte b = value.CalcUnlockedLevelCount();
		value.UnlockLevelSlot(index);
		SetElement_BuildingBlockDataEx((ulong)key, value, context);
		if (DomainManager.Building.TryGetElement_BuildingBlocks(key, out var value2))
		{
			short templateId = value2.TemplateId;
			bool condition = ((templateId == 44 || templateId == 50) ? true : false);
			Tester.Assert(condition);
			if (value2.TemplateId == 50)
			{
				DestinyTypeItem destinyTypeItem = DestinyType.Instance[index];
				GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
				for (sbyte b2 = 0; b2 < destinyTypeItem.UnlockCost.Length; b2++)
				{
					if (destinyTypeItem.UnlockCost[b2] > 0)
					{
						taiwu.ChangeResource(context, b2, -destinyTypeItem.UnlockCost[b2]);
					}
				}
			}
			if (value2.TemplateId == 44)
			{
				GameData.Domains.Character.Character taiwu2 = DomainManager.Taiwu.GetTaiwu();
				int num = ((b < value2.ConfigData.MaxLevel) ? GlobalConfig.Instance.TaiwuVillageUpgradeAuthorityCosts[b] : 0);
				sbyte largeSectTemplateId = OrganizationDomain.GetLargeSectTemplateId((sbyte)index);
				if (DomainManager.World.GetSectMainStoryTaskStatus(largeSectTemplateId) != 0)
				{
					num *= CValuePercent.op_Implicit(GlobalConfig.Instance.VowFinishedSectStoryAuthorityPercent);
				}
				if (num <= taiwu2.GetResource(7))
				{
					taiwu2.ChangeResource(context, 7, -num);
				}
				AddTaiwuVillageVowOrgTemplateIdList(largeSectTemplateId, value.CalcUnlockedLevelCount());
			}
		}
		return true;
	}

	[DomainMethod]
	[Obsolete]
	public void ChangeBuildingArrangementPresetId(DataContext context, BuildingBlockKey key, int presetId)
	{
		if (_buildingBlockDataEx.TryGetValue((ulong)key, out var value))
		{
			value.AutoGiveMemberPresetId = presetId;
			SetElement_BuildingBlockDataEx((ulong)key, value, context);
		}
	}

	[DomainMethod]
	public void SetBuildingArrangementSetting(DataContext context, BuildingBlockKey key, BuildingOptionAutoGiveMemberPreset setting)
	{
		if (_buildingBlockDataEx.TryGetValue((ulong)key, out var value))
		{
			value.ArrangementSetting = setting;
			SetElement_BuildingBlockDataEx((ulong)key, value, context);
		}
	}

	[DomainMethod]
	public void SetBuildingSoldItemSetting(DataContext context, BuildingBlockKey key, BuildingOptionAutoAddSoldItemPreset setting)
	{
		if (_buildingBlockDataEx.TryGetValue((ulong)key, out var value))
		{
			value.SoldItemSetting = setting;
			SetElement_BuildingBlockDataEx((ulong)key, value, context);
		}
	}

	[DomainMethod]
	public bool UpgradeResourceBuilding(DataContext context, BuildingBlockKey key, int level)
	{
		if (!_buildingBlockDataEx.TryGetValue((ulong)key, out var value))
		{
			return false;
		}
		if (!DomainManager.Building.TryGetElement_BuildingBlocks(key, out var value2))
		{
			return false;
		}
		short templateId = value2.TemplateId;
		BuildingBlockItem buildingBlockItem = BuildingBlock.Instance[templateId];
		if (buildingBlockItem.Class != EBuildingBlockClass.BornResource)
		{
			return false;
		}
		sbyte maxLevel = buildingBlockItem.MaxLevel;
		sbyte b = value.CalcUnlockedLevelCount();
		int num = b + level;
		if (num > maxLevel)
		{
			return false;
		}
		short buildingCoreItem = buildingBlockItem.BuildingCoreItem;
		MiscItem miscItem = Config.Misc.Instance[buildingCoreItem];
		if (DomainManager.Taiwu.GetTaiwuItemCountFromSources(12, buildingCoreItem, ResourceBuildingItemSources) < level)
		{
			return false;
		}
		UpgradeToLevelUnchecked(context, key, value, num);
		bool condition = DomainManager.Taiwu.RemoveTaiwuItemFromSources(context, 12, buildingCoreItem, level, ResourceBuildingItemSources, deleteItem: true);
		Tester.Assert(condition);
		for (int i = 0; i < num - b; i++)
		{
			DomainManager.Taiwu.AddLegacyPoint(context, 27);
		}
		return true;
	}

	[DomainMethod]
	public bool UpgradeSlotBuilding(DataContext context, BuildingBlockKey key, int levelSlotIndex)
	{
		BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(key);
		short templateId = buildingBlockData.TemplateId;
		if (1 == 0)
		{
		}
		List<ResourceInfo> list = templateId switch
		{
			46 => GlobalConfig.Instance.ResidentUnlockCost, 
			47 => GlobalConfig.Instance.ComfortableHouseUnlockCost, 
			48 => GlobalConfig.Instance.WarehouseUnlockCost, 
			_ => null, 
		};
		if (1 == 0)
		{
		}
		List<ResourceInfo> list2 = list;
		if (list2 == null)
		{
			return false;
		}
		if (!list2.CheckIndex(levelSlotIndex - 1))
		{
			return false;
		}
		if (!_buildingBlockDataEx.TryGetValue((ulong)key, out var value))
		{
			return false;
		}
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		ResourceInfo resourceInfo = list2[levelSlotIndex - 1];
		ResourceInts item = DomainManager.Taiwu.GetAllResources(ItemSourceType.Resources).resource;
		ResourceInts item2 = DomainManager.Taiwu.GetAllResources(ItemSourceType.Treasury).resource;
		int num = item.Get(resourceInfo.ResourceType) + item2.Get(resourceInfo.ResourceType);
		int resourceCount = resourceInfo.ResourceCount;
		if (num < resourceCount)
		{
			return false;
		}
		DomainManager.Building.ConsumeResource(context, resourceInfo.ResourceType, resourceCount);
		value.UnlockLevelSlot(levelSlotIndex);
		SetElement_BuildingBlockDataEx((ulong)key, value, context);
		return true;
	}

	public void UpgradeToLevelUnchecked(DataContext context, BuildingBlockKey key, BuildingBlockDataEx dataEx, int level)
	{
		for (int i = 0; i < level; i++)
		{
			dataEx.UnlockLevelSlot(i);
		}
		SetElement_BuildingBlockDataEx((ulong)key, dataEx, context);
	}

	[DomainMethod]
	public void ChangeBuildingArrangementSettingPresetData(DataContext context, int index, BuildingOptionAutoGiveMemberPreset preset)
	{
		_buildingArrangementSettingPresetData[index] = preset;
		SetBuildingArrangementSettingPresetData(_buildingArrangementSettingPresetData, context);
	}

	private void InitializeCricketCollection(DataContext context)
	{
		for (int i = 0; i < 17; i++)
		{
			_cricketCollectionDataList.Add(new CricketCollectionData(ItemKey.Invalid, ItemKey.Invalid, 0));
		}
		DomainManager.Extra.SetCricketCollectionDataList(_cricketCollectionDataList, context);
	}

	public void CommitSamsaraPlatformRecord(DataContext context)
	{
		int num = _samsaraPlatformRecordCollection.Size - _samsaraPlatformRecordCommittedOffset;
		if (num > 0)
		{
			CommitInsert_SamsaraPlatformRecordCollection(context, _samsaraPlatformRecordCommittedOffset, num);
			CommitSetMetadata_SamsaraPlatformRecordCollection(context);
			_samsaraPlatformRecordCommittedOffset = _samsaraPlatformRecordCollection.Size;
		}
	}

	public void ClearSamsaraPlatformRecord(DataContext context)
	{
		CommitSamsaraPlatformRecord(context);
		_samsaraPlatformRecordCommittedOffset = 0;
		int size = _samsaraPlatformRecordCollection.Size;
		_samsaraPlatformRecordCollection.Clear();
		CommitRemove_SamsaraPlatformRecordCollection(context, 0, size);
		CommitSetMetadata_SamsaraPlatformRecordCollection(context);
	}

	public List<int> GetCaravanStayDaysKeys()
	{
		return _caravanStayDays.Keys.ToList();
	}

	public bool TryGetCaravanStayDays(int id, out short days)
	{
		return TryGetElement_CaravanStayDays(id, out days);
	}

	public void AddCaravanStayDays(int id, short days, DataContext dataContext)
	{
		AddElement_CaravanStayDays(id, days, dataContext);
	}

	public void SetCaravanStayDays(int id, short days, DataContext dataContext)
	{
		SetElement_CaravanStayDays(id, days, dataContext);
	}

	public void RemoveCaravanStayDays(int id, DataContext dataContext)
	{
		RemoveElement_CaravanStayDays(id, dataContext);
	}

	public bool TryGetCaravanExtraData(int caravanId, out CaravanExtraData caravanExtraData)
	{
		return TryGetElement_CaravanExtraDataDict(caravanId, out caravanExtraData);
	}

	public void SetCaravanExtraData(DataContext context, int caravanId, CaravanExtraData caravanExtraData)
	{
		if (TryGetElement_CaravanExtraDataDict(caravanId, out var _))
		{
			SetElement_CaravanExtraDataDict(caravanId, caravanExtraData, context);
		}
		else
		{
			AddElement_CaravanExtraDataDict(caravanId, caravanExtraData, context);
		}
	}

	public void RemoveCaravanExtraData(DataContext context, int caravanId)
	{
		RemoveElement_CaravanExtraDataDict(caravanId, context);
	}

	[DomainMethod]
	public void FeedCarrier(DataContext context, ItemKey carrier, ItemKey food, int count = 1)
	{
		FeedCarrier(context, DomainManager.Taiwu.GetTaiwu(), carrier, food, count);
	}

	public void FeedCarrier(DataContext context, GameData.Domains.Character.Character character, ItemKey carrier, ItemKey food, int count = 1)
	{
		if (food.ItemType != 5)
		{
			return;
		}
		int num = SharedMethods.GetFoodAddCarrierDurability(carrier.TemplateId, food.TemplateId) * count;
		ItemBase baseItem = DomainManager.Item.GetBaseItem(carrier);
		sbyte grade = baseItem.GetGrade();
		short currDurability = baseItem.GetCurrDurability();
		short num2 = (short)Math.Clamp(num + currDurability, 0, baseItem.GetMaxDurability());
		baseItem.SetCurrDurability(num2, context);
		if (character.IsTaiwu())
		{
			ProfessionFormulaItem formulaCfg = ProfessionFormula.Instance[11];
			int baseDelta = formulaCfg.Calculate(num2 - currDurability, grade);
			DomainManager.Extra.ChangeProfessionSeniority(context, 1, baseDelta);
		}
		if (IsItemTamable(carrier) && DomainManager.Extra.TryGetCarrierTamePoint(carrier.Id, out var tamePoint))
		{
			int foodAddCarrierTamePoint = SharedMethods.GetFoodAddCarrierTamePoint(carrier.TemplateId, food.TemplateId, count);
			int num3 = Math.Clamp(tamePoint + foodAddCarrierTamePoint, 0, 100);
			SetCarrierTamePoint(context, carrier.Id, num3);
			if (character.IsTaiwu())
			{
				ProfessionFormulaItem formulaCfg2 = ProfessionFormula.Instance[12];
				int baseDelta2 = formulaCfg2.Calculate(num3 - tamePoint, grade);
				DomainManager.Extra.ChangeProfessionSeniority(context, 1, baseDelta2);
			}
		}
		character.RemoveInventoryItem(context, food, count, deleteItem: true);
	}

	[DomainMethod]
	public int GetCarrierTamePoint(int carrierId)
	{
		int value;
		return TryGetElement_CarrierTamePoint(carrierId, out value) ? value : (-1);
	}

	[DomainMethod]
	public int GetCarrierMaxTamePoint(int carrierId)
	{
		return 100;
	}

	public void SetCarrierTamePoint(DataContext context, int carrierId, int tamePoint)
	{
		if (DomainManager.Item.TryGetElement_Carriers(carrierId, out var element))
		{
			int equippedCharId = element.GetEquippedCharId();
			if (equippedCharId >= 0 && DomainManager.Character.TryGetElement_Objects(equippedCharId, out var element2))
			{
				element2.SetEquipment(element2.GetEquipment(), context);
			}
		}
		if (_carrierTamePoint.ContainsKey(carrierId))
		{
			SetElement_CarrierTamePoint(carrierId, tamePoint, context);
		}
		else
		{
			AddElement_CarrierTamePoint(carrierId, tamePoint, context);
		}
	}

	public void SetFleeCarrierLocation(DataContext context, ItemKey itemKey, Location location)
	{
		GameData.Domains.Item.Material element2;
		GameData.Domains.Item.Medicine element3;
		if (DomainManager.Item.TryGetElement_Carriers(itemKey.Id, out var element))
		{
			element.SetOwner(ItemOwnerType.FleeCarrier, location.AreaId);
		}
		else if (DomainManager.Item.TryGetElement_Materials(itemKey.Id, out element2))
		{
			element2.SetOwner(ItemOwnerType.FleeCarrier, location.AreaId);
		}
		else if (DomainManager.Item.TryGetElement_Medicines(itemKey.Id, out element3))
		{
			element3.SetOwner(ItemOwnerType.FleeCarrier, location.AreaId);
		}
		SetAnimalLocation(context, GetOrCreateAnimalByItemKey(context, itemKey), location);
	}

	public void RemoveFleeCarrierLocation(DataContext context, ItemKey itemKey)
	{
		if (TryGetAnimalByItemKey(itemKey, out var animal))
		{
			GameData.Domains.Item.Material element2;
			GameData.Domains.Item.Medicine element3;
			if (DomainManager.Item.TryGetElement_Carriers(itemKey.Id, out var element))
			{
				element.RemoveOwner(ItemOwnerType.FleeCarrier, animal.Location.AreaId);
			}
			else if (DomainManager.Item.TryGetElement_Materials(itemKey.Id, out element2))
			{
				element2.RemoveOwner(ItemOwnerType.FleeCarrier, animal.Location.AreaId);
			}
			else if (DomainManager.Item.TryGetElement_Medicines(itemKey.Id, out element3))
			{
				element3.RemoveOwner(ItemOwnerType.FleeCarrier, animal.Location.AreaId);
			}
			SetAnimalLocation(context, GetOrCreateAnimalByItemKey(context, itemKey), Location.Invalid);
		}
	}

	public bool TryGetCarrierTamePoint(int carrierId, out int tamePoint)
	{
		return TryGetElement_CarrierTamePoint(carrierId, out tamePoint);
	}

	public bool TryGetValidCarrierLocation(DataContext context, GameData.Domains.Character.Character character, out Location location)
	{
		location = character.GetLocation();
		if (!location.IsValid())
		{
			location = character.GetValidLocation();
		}
		if (!location.IsValid())
		{
			return false;
		}
		return TryGetValidCarrierLocation(context, location.AreaId, out location);
	}

	public bool TryGetValidCarrierLocation(DataContext context, short areaId, out Location location)
	{
		location = Location.Invalid;
		if (DomainManager.Map.IsAreaBroken(areaId))
		{
			MapAreaData element_Areas = DomainManager.Map.GetElement_Areas(areaId);
			AreaTravelRoute[] neighborAreas = MapArea.Instance[element_Areas.GetTemplateId()].NeighborAreas;
			for (int i = 0; i < neighborAreas.Length; i++)
			{
				if (!DomainManager.Map.IsAreaBroken(neighborAreas[i].DestAreaId))
				{
					areaId = neighborAreas[i].DestAreaId;
					break;
				}
			}
		}
		if (DomainManager.Map.IsAreaBroken(areaId))
		{
			return false;
		}
		List<MapBlockData> list = ObjectPool<List<MapBlockData>>.Instance.Get();
		Span<MapBlockData> areaBlocks = DomainManager.Map.GetAreaBlocks(areaId);
		for (int j = 0; j < areaBlocks.Length; j++)
		{
			MapBlockData mapBlockData = areaBlocks[j];
			if (mapBlockData.Visible && mapBlockData.IsNonDeveloped() && mapBlockData.IsPassable())
			{
				list.Add(mapBlockData);
			}
		}
		if (list.Count == 0)
		{
			return false;
		}
		short blockId = list.GetRandom(context.Random).BlockId;
		ObjectPool<List<MapBlockData>>.Instance.Return(list);
		location = new Location(areaId, blockId);
		return true;
	}

	[Obsolete]
	public ItemKey GetFleeCarrierByLocation(short templateId, Location location)
	{
		if (TryGetAnimalIdsByLocation(location, out var animals))
		{
			foreach (int item in animals)
			{
				if (TryGetAnimal(item, out var animal) && animal.CharacterTemplateId == templateId && animal.ItemKey != ItemKey.Invalid)
				{
					return animal.ItemKey;
				}
			}
		}
		return ItemKey.Invalid;
	}

	public short GetCharacterTemplateIdByCarrierTemplateId(short templateId)
	{
		if (templateId <= 44)
		{
			return (short)(templateId - 27 + 210);
		}
		return (short)(templateId - 46 + 696);
	}

	public short GetCarrierTemplateIdByCharacterTemplateId(short templateId)
	{
		if (templateId <= 227)
		{
			return (short)(templateId - 210 + 27);
		}
		return (short)(templateId - 696 + 46);
	}

	public short GetCharacterTemplateIdByMaterialTemplateId(short templateId)
	{
		return (short)(templateId - 311 + 696);
	}

	public short GeMaterialTemplateIdByCharacterTemplateId(short templateId)
	{
		return (short)(templateId - 696 + 311);
	}

	public short GetCharacterTemplateIdByMiscTemplateId(short templateId)
	{
		return (short)(templateId - 289 + 696);
	}

	public void OnCarrierCreated(DataContext context, ItemKey carrierKey)
	{
		if (IsCarrierTamable(carrierKey.TemplateId))
		{
			SetCarrierTamePoint(context, carrierKey.Id, context.Random.Next(0, 21));
		}
	}

	public void OnCarrierRemoved(DataContext context, ItemKey carrierKey)
	{
		if (IsCarrierTamable(carrierKey.TemplateId))
		{
			RemoveElement_CarrierTamePoint(carrierKey.Id, context);
		}
	}

	private void InitCarrierExtraData(DataContext context)
	{
		foreach (int allCarrierId in DomainManager.Item.GetAllCarrierIdList())
		{
			if (!_carrierTamePoint.ContainsKey(allCarrierId))
			{
				OnCarrierCreated(context, DomainManager.Item.GetElement_Carriers(allCarrierId).GetItemKey());
			}
		}
	}

	public bool IsItemTamable(ItemKey itemKey)
	{
		return itemKey.IsValid() && itemKey.ItemType == 4 && IsCarrierTamable(itemKey.TemplateId);
	}

	public bool IsCarrierTamable(short templateId)
	{
		return Config.Carrier.Instance[templateId].TamePoint >= 0;
	}

	public bool IsCarrierWillingToBetray(DataContext context, ItemKey itemKey)
	{
		int carrierTamePoint = GetCarrierTamePoint(itemKey.Id);
		return carrierTamePoint < 90 && context.Random.CheckPercentProb((100 - carrierTamePoint) / 2);
	}

	public bool IsCarrierFullTamePoint(ItemKey carrier)
	{
		int tamePoint;
		return TryGetCarrierTamePoint(carrier.Id, out tamePoint) && tamePoint == 100;
	}

	public void ApplyTamingResult(DataContext context, GameData.Domains.Character.Character character, ItemKey carrier, bool isWin, Location location, ItemKey rope)
	{
		if (isWin)
		{
			int num = context.Random.Next(1, 11);
			if (rope.IsValid())
			{
				num += Config.Misc.Instance[rope.TemplateId].Grade + 1;
			}
			SetCarrierTamePoint(context, carrier.Id, Math.Clamp(GetCarrierTamePoint(carrier.Id) + num, 0, 100));
			return;
		}
		ItemKey itemKey = character.GetEquipment()[11];
		if (itemKey.IsValid() && itemKey.Equals(carrier))
		{
			character.ChangeEquipment(context, 11, -1, ItemKey.Invalid);
		}
		if (character.GetInventory().Items.ContainsKey(carrier))
		{
			character.RemoveInventoryItem(context, carrier, 1, deleteItem: false);
		}
		SetFleeCarrierLocation(context, carrier, location);
	}

	public void UpdateTaiwuTaming(DataContext context)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Location location = taiwu.GetLocation();
		if (!location.IsValid())
		{
			location = taiwu.GetValidLocation();
		}
		ItemKey itemKey = taiwu.GetEquipment()[11];
		List<ItemKey> list = ObjectPool<List<ItemKey>>.Instance.Get();
		if (IsItemTamable(itemKey))
		{
			SetCarrierTamePoint(context, itemKey.Id, Math.Clamp(GetCarrierTamePoint(itemKey.Id) + (10 - Config.Carrier.Instance[itemKey.TemplateId].Grade), 0, 100));
			if (IsCarrierWillingToBetray(context, itemKey))
			{
				list.Add(itemKey);
			}
		}
		foreach (ItemKey key in taiwu.GetInventory().Items.Keys)
		{
			if (IsItemTamable(key) && IsCarrierWillingToBetray(context, key))
			{
				list.Add(key);
			}
		}
		if (list.Count > 0 && TryGetValidCarrierLocation(context, taiwu, out var location2))
		{
			ItemKey randomElement = context.Random.GetRandomElement(list);
			MonthlyEventCollection monthlyEventCollection = DomainManager.World.GetMonthlyEventCollection();
			monthlyEventCollection.AddTamingCarriers(GetCharacterTemplateIdByCarrierTemplateId(randomElement.TemplateId), location, (ulong)randomElement, location2);
		}
		ObjectPool<List<ItemKey>>.Instance.Return(list);
	}

	public void PostAdvanceMonth_UpdateNpcTaming(DataContext context, int areaId)
	{
		PreAdvanceMonthNpcTamingModification preAdvanceMonthNpcTamingModification = new PreAdvanceMonthNpcTamingModification();
		Span<MapBlockData> areaBlocks = DomainManager.Map.GetAreaBlocks((short)areaId);
		Span<MapBlockData> span = areaBlocks;
		for (int i = 0; i < span.Length; i++)
		{
			MapBlockData mapBlockData = span[i];
			if (mapBlockData.CharacterSet == null || mapBlockData.TemplateEnemyList != null || IsLocationContainsAnimal(new Location(mapBlockData.AreaId, mapBlockData.BlockId)))
			{
				continue;
			}
			foreach (int item in mapBlockData.CharacterSet)
			{
				GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(item);
				ItemKey itemKey = element_Objects.GetEquipment()[11];
				if (IsItemTamable(itemKey) && IsCarrierWillingToBetray(context, itemKey) && TryGetValidCarrierLocation(context, element_Objects, out var location))
				{
					preAdvanceMonthNpcTamingModification.TamerRecords.Add((item, location));
				}
			}
		}
		ParallelModificationsRecorder parallelModificationsRecorder = context.ParallelModificationsRecorder;
		parallelModificationsRecorder.RecordType(ParallelModificationType.PreAdvanceMonthUpdateNpcTaming);
		parallelModificationsRecorder.RecordParameterClass(preAdvanceMonthNpcTamingModification);
	}

	public void UpdateTaiwuTeammateTaming(DataContext context)
	{
		PreAdvanceMonthNpcTamingModification preAdvanceMonthNpcTamingModification = new PreAdvanceMonthNpcTamingModification();
		HashSet<int> collection = DomainManager.Taiwu.GetGroupCharIds().GetCollection();
		foreach (int item in collection)
		{
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(item);
			ItemKey itemKey = element_Objects.GetEquipment()[11];
			if (IsItemTamable(itemKey) && IsCarrierWillingToBetray(context, itemKey) && TryGetValidCarrierLocation(context, element_Objects, out var location))
			{
				preAdvanceMonthNpcTamingModification.TamerRecords.Add((item, location));
			}
		}
		foreach (int item2 in DomainManager.Taiwu.GetTaiwuSpecialGroup())
		{
			if (_sectZhujianGearMates.ContainsKey(item2))
			{
				GameData.Domains.Character.Character element_Objects2 = DomainManager.Character.GetElement_Objects(item2);
				ItemKey itemKey2 = element_Objects2.GetEquipment()[11];
				if (IsItemTamable(itemKey2) && IsCarrierWillingToBetray(context, itemKey2) && TryGetValidCarrierLocation(context, element_Objects2, out var location2))
				{
					preAdvanceMonthNpcTamingModification.TamerRecords.Add((item2, location2));
				}
			}
		}
		ParallelModificationsRecorder parallelModificationsRecorder = context.ParallelModificationsRecorder;
		parallelModificationsRecorder.RecordType(ParallelModificationType.PreAdvanceMonthUpdateNpcTaming);
		parallelModificationsRecorder.RecordParameterClass(preAdvanceMonthNpcTamingModification);
	}

	public void ComplementPreAdvanceMonth_UpdateNpcTaming(DataContext context, PreAdvanceMonthNpcTamingModification mod)
	{
		foreach (var tamerRecord in mod.TamerRecords)
		{
			if (!DomainManager.Character.TryGetElement_Objects(tamerRecord.Item1, out var element))
			{
				continue;
			}
			ItemKey itemKey = element.GetEquipment()[11];
			if (IsItemTamable(itemKey))
			{
				AiHelper.NpcCombatResultType npcCombatResultType = DomainManager.Character.SimulateEnemyAttack(context, GetCharacterTemplateIdByCarrierTemplateId(itemKey.TemplateId), element);
				bool flag = (uint)(npcCombatResultType - 2) <= 1u;
				bool flag2 = flag;
				LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
				int currDate = DomainManager.World.GetCurrDate();
				Location location = element.GetLocation();
				if (flag2)
				{
					lifeRecordCollection.AddTameCarrierSucceed(element.GetId(), currDate, itemKey.ItemType, itemKey.TemplateId, location);
				}
				else
				{
					lifeRecordCollection.AddTameCarrierFail(element.GetId(), currDate, itemKey.ItemType, itemKey.TemplateId, location);
				}
				ApplyTamingResult(context, element, itemKey, flag2, tamerRecord.Item2, ItemKey.Invalid);
			}
		}
	}

	public int GetExtraTitleExpireDate(int charId, short titleTemplateId)
	{
		IntPair key = new IntPair(charId, titleTemplateId);
		if (_worldCharacterExtraTitles.TryGetValue(key, out var value))
		{
			return value;
		}
		return -1;
	}

	public void FillCharacterExtraTitles(int charId, List<short> titleIds)
	{
		foreach (CharacterTitleItem item in (IEnumerable<CharacterTitleItem>)CharacterTitle.Instance)
		{
			IntPair key = new IntPair(charId, item.TemplateId);
			if (_worldCharacterExtraTitles.ContainsKey(key))
			{
				titleIds.Add(item.TemplateId);
			}
		}
	}

	public void AddCharacterProfessionExtraTitle(DataContext context, int charId, short titleTemplateId)
	{
		IntPair intPair = new IntPair(charId, titleTemplateId);
		if (_worldCharacterExtraTitles.ContainsKey(intPair))
		{
			SetElement_WorldCharacterExtraTitles(intPair, int.MaxValue, context);
		}
		else
		{
			AddElement_WorldCharacterExtraTitles(intPair, int.MaxValue, context);
		}
	}

	public void RemoveCharacterProfessionExtraTitle(DataContext context, int charId, short titleTemplateId)
	{
		IntPair intPair = new IntPair(charId, titleTemplateId);
		if (_worldCharacterExtraTitles.ContainsKey(intPair))
		{
			RemoveElement_WorldCharacterExtraTitles(intPair, context);
		}
	}

	public void AddCharacterExtraTitle(DataContext context, int charId, short titleTemplateId, int expireDate = -1)
	{
		CharacterTitleItem characterTitleItem = CharacterTitle.Instance[titleTemplateId];
		Tester.Assert(characterTitleItem.Duration >= 0);
		IntPair intPair = new IntPair(charId, titleTemplateId);
		if (expireDate < 0)
		{
			expireDate = DomainManager.World.GetCurrDate() + characterTitleItem.Duration;
		}
		if (_worldCharacterExtraTitles.ContainsKey(intPair))
		{
			SetElement_WorldCharacterExtraTitles(intPair, expireDate, context);
		}
		else
		{
			AddElement_WorldCharacterExtraTitles(intPair, expireDate, context);
		}
	}

	public void UpdateWorldCharacterTitles(DataContext context)
	{
		List<IntPair> list = new List<IntPair>();
		int currDate = DomainManager.World.GetCurrDate();
		foreach (var (item, num2) in _worldCharacterExtraTitles)
		{
			if (currDate >= num2)
			{
				list.Add(item);
			}
		}
		foreach (IntPair item2 in list)
		{
			RemoveElement_WorldCharacterExtraTitles(item2, context);
		}
	}

	public void AddAiActionRateAdjust(DataContext context, int charId, sbyte actionType, sbyte actionSubType, short rateAdjust, int duration)
	{
		int item = DomainManager.World.GetCurrDate() + duration;
		if (_characterAiActionRestrictions.TryGetValue(charId, out var value))
		{
			AiActionKey key = new AiActionKey(actionType, actionSubType);
			value.Collection[key] = (rateAdjust, item);
			SetElement_CharacterAiActionRestrictions(charId, value, context);
		}
		else
		{
			value = new AiActionAdjusts();
			AiActionKey key2 = new AiActionKey(actionType, actionSubType);
			value.Collection[key2] = (rateAdjust, item);
			AddElement_CharacterAiActionRestrictions(charId, value, context);
		}
	}

	public short GetAiActionRateAdjust(int charId, sbyte actionType, sbyte actionSubType)
	{
		if (!_characterAiActionRestrictions.TryGetValue(charId, out var value))
		{
			return 0;
		}
		AiActionKey key = new AiActionKey(actionType, actionSubType);
		if (!value.Collection.TryGetValue(key, out (short, int) value2))
		{
			return 0;
		}
		return value2.Item1;
	}

	public void AddAiActionSuccessRateAdjust(DataContext context, int charId, int targetId, sbyte actionType, sbyte actionSubType, short rateAdjust, int duration)
	{
		IntPair intPair = new IntPair(charId, targetId);
		int item = DomainManager.World.GetCurrDate() + duration;
		if (_characterAiActionSuccessRateAdjusts.TryGetValue(intPair, out var value))
		{
			AiActionKey key = new AiActionKey(actionType, actionSubType);
			value.Collection[key] = (rateAdjust, item);
			SetElement_CharacterAiActionSuccessRateAdjusts(intPair, value, context);
		}
		else
		{
			value = new AiActionAdjusts();
			AiActionKey key2 = new AiActionKey(actionType, actionSubType);
			value.Collection[key2] = (rateAdjust, item);
			AddElement_CharacterAiActionSuccessRateAdjusts(intPair, value, context);
		}
	}

	public short GetAiActionSuccessRateAdjust(int charId, int targetId, sbyte actionType, sbyte actionSubType)
	{
		IntPair key = new IntPair(charId, targetId);
		short num = 0;
		if (targetId >= 0)
		{
			num += GetAiActionSuccessRateAdjust(charId, -1, actionType, actionSubType);
		}
		if (!_characterAiActionSuccessRateAdjusts.TryGetValue(key, out var value))
		{
			return num;
		}
		AiActionKey key2 = new AiActionKey(actionType, actionSubType);
		if (!value.Collection.TryGetValue(key2, out (short, int) value2))
		{
			return num;
		}
		return (short)(num + value2.Item1);
	}

	public void AddAiActionCooldown(DataContext context, int charId, sbyte actionType, sbyte actionSubType, int duration)
	{
		int currDate = DomainManager.World.GetCurrDate();
		if (_characterAiActionCooldowns.TryGetValue(charId, out var value))
		{
			AiActionKey key = new AiActionKey(actionType, actionSubType);
			value.OffCooldownDates.TryAdd(key, currDate + duration);
			SetElement_CharacterAiActionCooldowns(charId, value, context);
		}
		else
		{
			value = new AiExtraActionCooldowns();
			AiActionKey key2 = new AiActionKey(actionType, actionSubType);
			value.OffCooldownDates.TryAdd(key2, currDate + duration);
			AddElement_CharacterAiActionCooldowns(charId, value, context);
		}
	}

	public bool IsAiActionInCooldown(int charId, sbyte actionType, sbyte actionSubType)
	{
		if (!_characterAiActionCooldowns.TryGetValue(charId, out var value))
		{
			return false;
		}
		AiActionKey key = new AiActionKey(actionType, actionSubType);
		return value.OffCooldownDates.ContainsKey(key);
	}

	public bool TryPopAiActionCooldownData(DataContext context, int charId, sbyte actionType, sbyte actionSubType, out int date)
	{
		date = 0;
		AiActionKey key = new AiActionKey(actionType, actionSubType);
		if (!_characterAiActionCooldowns.TryGetValue(charId, out var value) || !value.OffCooldownDates.Remove(key, out date))
		{
			return false;
		}
		if (value.OffCooldownDates.Count == 0)
		{
			RemoveElement_CharacterAiActionCooldowns(charId, context);
		}
		else
		{
			SetElement_CharacterAiActionCooldowns(charId, value, context);
		}
		return true;
	}

	public void UpdateAiActionCooldowns(DataContext context)
	{
		List<int> obj = context.AdvanceMonthRelatedData.CharIdList.Occupy();
		obj.AddRange(_characterAiActionCooldowns.Keys);
		int currDate = DomainManager.World.GetCurrDate();
		foreach (int item in obj)
		{
			AiExtraActionCooldowns aiExtraActionCooldowns = _characterAiActionCooldowns[item];
			bool flag = false;
			foreach (var (key, num2) in aiExtraActionCooldowns.OffCooldownDates)
			{
				if (num2 < currDate)
				{
					aiExtraActionCooldowns.OffCooldownDates.Remove(key);
					flag = true;
				}
			}
			if (aiExtraActionCooldowns.OffCooldownDates.Count == 0)
			{
				RemoveElement_CharacterAiActionCooldowns(item, context);
			}
			else if (flag)
			{
				SetElement_CharacterAiActionCooldowns(item, aiExtraActionCooldowns, context);
			}
		}
		context.AdvanceMonthRelatedData.CharIdList.Release(ref obj);
	}

	public void SetPrioritizedActionCooldown(DataContext context, int charId, short templateId, short coolDown)
	{
		PrioritizedActionCooldownList value;
		bool flag = !_characterPrioritizedActionCooldowns.TryGetValue(charId, out value);
		if (flag)
		{
			value = new PrioritizedActionCooldownList();
		}
		value.Add(new PrioritizedActionCooldown(templateId, coolDown + DomainManager.World.GetCurrDate()));
		if (flag)
		{
			AddElement_CharacterPrioritizedActionCooldowns(charId, value, context);
		}
		else
		{
			SetElement_CharacterPrioritizedActionCooldowns(charId, value, context);
		}
	}

	public void RemovePrioritizedActionCooldown(DataContext context, int charId, short templateId)
	{
		PrioritizedActionCooldownList value;
		bool flag = !_characterPrioritizedActionCooldowns.TryGetValue(charId, out value);
		if (flag)
		{
			value = new PrioritizedActionCooldownList();
		}
		else
		{
			value.Remove(new PrioritizedActionCooldown(templateId, 0));
		}
		if (flag)
		{
			AddElement_CharacterPrioritizedActionCooldowns(charId, value, context);
		}
		else
		{
			SetElement_CharacterPrioritizedActionCooldowns(charId, value, context);
		}
	}

	public int GetPrioritizedActionCooldown(int charId, short templateId)
	{
		PrioritizedActionCooldownList value;
		return _characterPrioritizedActionCooldowns.TryGetValue(charId, out value) ? value.Get(templateId) : 0;
	}

	public bool IsPrioritizedActionInCooldown(int charId, short templateId)
	{
		PrioritizedActionCooldownList value;
		return _characterPrioritizedActionCooldowns.TryGetValue(charId, out value) && value.Contains(templateId) && value.Get(templateId) > DomainManager.World.GetCurrDate();
	}

	public void UpdatePrioritizedActionCooldown(DataContext context, int charId)
	{
		if (!_characterPrioritizedActionCooldowns.TryGetValue(charId, out var value))
		{
			return;
		}
		int currDate = DomainManager.World.GetCurrDate();
		List<short> list = ObjectPool<List<short>>.Instance.Get();
		list.Clear();
		foreach (PrioritizedActionCooldown data in value.DataList)
		{
			if (data.Cooldown <= currDate)
			{
				list.Add(data.TemplateId);
			}
		}
		foreach (short item in list)
		{
			value.Remove(new PrioritizedActionCooldown(item, 0));
		}
		ObjectPool<List<short>>.Instance.Return(list);
		if (value.DataList.Count == 0)
		{
			RemoveElement_CharacterPrioritizedActionCooldowns(charId, context);
		}
		else
		{
			SetElement_CharacterPrioritizedActionCooldowns(charId, value, context);
		}
	}

	public int GetTemporaryFeatureExpireDate(int charId, short featureTemplateId)
	{
		IntPair key = new IntPair(charId, featureTemplateId);
		if (_characterTemporaryFeatures.TryGetValue(key, out var value))
		{
			return value;
		}
		return -1;
	}

	public bool TryGetTemporaryFeatureExpireDate(int charId, short featureTemplateId, out int date)
	{
		date = -1;
		IntPair key = new IntPair(charId, featureTemplateId);
		return _characterTemporaryFeatures.TryGetValue(key, out date);
	}

	public void UnregisterCharacterTemporaryFeature(DataContext context, int charId, short featureTemplateId)
	{
		IntPair elementId = new IntPair(charId, featureTemplateId);
		RemoveElement_CharacterTemporaryFeatures(elementId, context);
	}

	public void RegisterCharacterTemporaryFeature(DataContext context, int charId, short featureTemplateId, int expireDate = -1)
	{
		CharacterFeatureItem characterFeatureItem = CharacterFeature.Instance[featureTemplateId];
		if (characterFeatureItem.Duration > 0 || expireDate >= 0)
		{
			IntPair intPair = new IntPair(charId, featureTemplateId);
			if (expireDate < 0)
			{
				expireDate = DomainManager.World.GetCurrDate() + characterFeatureItem.Duration;
			}
			if (_characterTemporaryFeatures.ContainsKey(intPair))
			{
				SetElement_CharacterTemporaryFeatures(intPair, expireDate, context);
			}
			else
			{
				AddElement_CharacterTemporaryFeatures(intPair, expireDate, context);
			}
		}
	}

	public void UpdateCharacterTemporaryFeatures(DataContext context)
	{
		List<IntPair> list = new List<IntPair>();
		int currDate = DomainManager.World.GetCurrDate();
		foreach (KeyValuePair<IntPair, int> characterTemporaryFeature in _characterTemporaryFeatures)
		{
			characterTemporaryFeature.Deconstruct(out var key, out var value);
			IntPair intPair = key;
			int num = value;
			if (intPair.Second == 758 && DomainManager.Character.TryGetElement_Objects(intPair.First, out var element) && element.GetDarkAshProtector() != 32)
			{
				IntPair elementId = intPair;
				Dictionary<IntPair, int> characterTemporaryFeatures = _characterTemporaryFeatures;
				key = intPair;
				value = ++characterTemporaryFeatures[key];
				SetElement_CharacterTemporaryFeatures(elementId, value, context);
			}
			else if (currDate >= num)
			{
				list.Add(intPair);
			}
		}
		foreach (IntPair item in list)
		{
			int first = item.First;
			short featureId = (short)item.Second;
			RemoveElement_CharacterTemporaryFeatures(item, context);
			if (DomainManager.Character.TryGetElement_Objects(first, out var element2))
			{
				element2.RemoveFeature(context, featureId);
			}
		}
	}

	[DomainMethod]
	public int GetCharacterTemporaryFeaturesExpireDate(IntPair key)
	{
		return _characterTemporaryFeatures.GetValueOrDefault(key, -1);
	}

	public IEnumerable<int> GetAllDarkAshCounterData()
	{
		return _characterDarkAshCounterData.Keys;
	}

	public bool TryGetDarkAshCounterData(int charId, out DarkAshCounterData data)
	{
		return _characterDarkAshCounterData.TryGetValue(charId, out data);
	}

	internal void AddDarkAshCounterData(DataContext context, int charId, DarkAshCounterData value)
	{
		AddElement_CharacterDarkAshCounterData(charId, value, context);
	}

	internal void SetDarkAshCounterData(DataContext context, int charId, DarkAshCounterData value)
	{
		SetElement_CharacterDarkAshCounterData(charId, value, context);
	}

	internal void RemoveDarkAshCounterData(DataContext context, int charId)
	{
		RemoveElement_CharacterDarkAshCounterData(charId, context);
	}

	public void AddFuyuFaith(DataContext context, int delta)
	{
		SetFuyuFaith(Math.Clamp(_fuyuFaith + delta, 0, 999999999), context);
	}

	public int GetTaiwuInteractionCooldown(int targetCharId, int interactionType)
	{
		IntPair key = new IntPair(targetCharId, interactionType);
		if (!_taiwuInteractionCooldowns.TryGetValue(key, out var value))
		{
			return 0;
		}
		return value - DomainManager.World.GetCurrDate();
	}

	public void SetTaiwuInteractionCooldown(DataContext context, int targetCharId, int interactionType, int cooldown)
	{
		IntPair intPair = new IntPair(targetCharId, interactionType);
		int currDate = DomainManager.World.GetCurrDate();
		if (_taiwuInteractionCooldowns.ContainsKey(intPair))
		{
			SetElement_TaiwuInteractionCooldowns(intPair, currDate + cooldown, context);
		}
		else
		{
			AddElement_TaiwuInteractionCooldowns(intPair, currDate + cooldown, context);
		}
	}

	public void RemoveTaiwuInteractionCooldown(DataContext context, int targetCharId, int interactionType)
	{
		IntPair intPair = new IntPair(targetCharId, interactionType);
		if (_taiwuInteractionCooldowns.ContainsKey(intPair))
		{
			RemoveElement_TaiwuInteractionCooldowns(intPair, context);
		}
	}

	public void ClearAllTaiwuInteractionCooldowns(DataContext context)
	{
		ClearTaiwuInteractionCooldowns(context);
	}

	public bool IsSavedSoul(int charId)
	{
		return _savedSouls.Contains(charId);
	}

	public void AddSavedSoul(DataContext context, int charId)
	{
		if (!_savedSouls.Contains(charId))
		{
			AddElement_SavedSouls(charId, default(VoidValue), context);
			ProfessionData professionData = _taiwuProfessions[6];
			BuddhistMonkSkillsData skillsData = professionData.GetSkillsData<BuddhistMonkSkillsData>();
			skillsData.OfflineAddSavedSoulsCount();
			SetProfessionData(context, professionData);
			DomainManager.TaiwuEvent.OnEvent_TaiwuSaveCountChange(skillsData.GetSavedSoulsCount());
			DeadCharacter deadCharacter = DomainManager.Character.GetDeadCharacter(charId);
			sbyte consummateLevel = deadCharacter.GetConsummateLevel();
			int baseDelta = ProfessionFormulaImpl.Calculate(45, consummateLevel);
			DomainManager.Extra.ChangeProfessionSeniority(context, 6, baseDelta);
		}
	}

	public void RemoveSavedSoul(DataContext context, int charId)
	{
		if (_savedSouls.Contains(charId))
		{
			RemoveElement_SavedSouls(charId, context);
		}
	}

	[DomainMethod]
	public int GetCharacterCustomDisplayName(int charId)
	{
		int value;
		return _characterCustomDisplayNames.TryGetValue(charId, out value) ? value : (-1);
	}

	public void AssignCharacterCustomDisplayName(DataContext context, int charId, string name)
	{
		RemoveCharacterCustomDisplayName(context, charId);
		int value = DomainManager.World.RegisterCustomText(context, name);
		if (DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			element.SetFullName(element.GetFullName(), context);
			if (element.GetLocation().IsValid())
			{
				DomainManager.Map.SetBlockData(context, DomainManager.Map.GetBlock(element.GetLocation()));
			}
		}
		GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.ForceClearLifeRecordCache);
		AddElement_CharacterCustomDisplayNames(charId, value, context);
		Events.RaiseCharacterCustomDisplayNameChanged(context, charId);
	}

	public void RemoveCharacterCustomDisplayName(DataContext context, int charId)
	{
		if (_characterCustomDisplayNames.TryGetValue(charId, out var value))
		{
			RemoveElement_CharacterCustomDisplayNames(charId, context);
			DomainManager.World.UnregisterCustomText(context, value);
			Events.RaiseCharacterCustomDisplayNameChanged(context, charId);
		}
	}

	public bool TryAddCharacterAvatarSnapshot(DataContext context, GameData.Domains.Character.Character character)
	{
		int id = character.GetId();
		IntPair intPair = new IntPair(id, 23);
		int currDate = DomainManager.World.GetCurrDate();
		if (_mixedPoisonEffectTriggerDates.ContainsKey(intPair))
		{
			SetElement_MixedPoisonEffectTriggerDates(intPair, currDate, context);
		}
		else
		{
			AddElement_MixedPoisonEffectTriggerDates(intPair, currDate, context);
		}
		if (_characterAvatarSnapshot.ContainsKey(id))
		{
			return false;
		}
		AddElement_CharacterAvatarSnapshot(id, new AvatarData(character.GetAvatar()), context);
		return true;
	}

	public void TryRestoreCharacterAvatars(DataContext context)
	{
		int currDate = DomainManager.World.GetCurrDate();
		List<int> obj = context.AdvanceMonthRelatedData.CharIdList.Occupy();
		foreach (var (num2, avatar) in _characterAvatarSnapshot)
		{
			if (!DomainManager.Character.TryGetElement_Objects(num2, out var element))
			{
				obj.Add(num2);
			}
			else
			{
				if (element.GetMixedPoisonTypeRelatedMarkCount(23) > 0)
				{
					continue;
				}
				IntPair intPair = new IntPair(num2, 23);
				if (_mixedPoisonEffectTriggerDates.TryGetValue(intPair, out var value))
				{
					if (value + 3 > currDate)
					{
						continue;
					}
					RemoveElement_MixedPoisonEffectTriggerDates(intPair, context);
				}
				element.SetAvatar(avatar, context);
				obj.Add(num2);
			}
		}
		foreach (int item in obj)
		{
			RemoveElement_CharacterAvatarSnapshot(item, context);
		}
		context.AdvanceMonthRelatedData.CharIdList.Release(ref obj);
	}

	public void TryAddCharacterAvatarExtraData(DataContext context, int charId, AvatarExtraData avatarExtraData)
	{
		if (TryGetElement_CharacterAvatarExtraDataDict(charId, out var _))
		{
			SetElement_CharacterAvatarExtraDataDict(charId, avatarExtraData, context);
		}
		else
		{
			AddElement_CharacterAvatarExtraDataDict(charId, avatarExtraData, context);
		}
	}

	public void TryRemoveCharacterAvatarExtraData(DataContext context, int charId)
	{
		if (TryGetElement_CharacterAvatarExtraDataDict(charId, out var _))
		{
			RemoveElement_CharacterAvatarExtraDataDict(charId, context);
		}
	}

	[DomainMethod]
	public AvatarExtraData GetCharacterAvatarExtraData(DataContext context, int charId)
	{
		if (TryGetElement_CharacterAvatarExtraDataDict(charId, out var value))
		{
			return value;
		}
		return AvatarExtraData.GetInValidData();
	}

	public void CreatePregeneratedFixedEnemies(DataContext context)
	{
		bool loadedAllArchiveData = DomainManager.Global.GetLoadedAllArchiveData();
		foreach (CharacterItem item in (IEnumerable<CharacterItem>)Config.Character.Instance)
		{
			if (item.CreatingType == 3 && !_pregeneratedFixedEnemies.ContainsKey(item.TemplateId))
			{
				if (loadedAllArchiveData)
				{
					Logger.Info($"Creating pregenerated fixed enemy: {item.Surname}{item.GivenName}({item.TemplateId})");
				}
				GameData.Domains.Character.Character character = DomainManager.Character.CreateFixedEnemy(context, item.TemplateId);
				int id = character.GetId();
				DomainManager.Character.CompleteCreatingCharacter(id);
				AddElement_PregeneratedFixedEnemies(item.TemplateId, id, context);
			}
		}
	}

	public GameData.Domains.Character.Character GetPregeneratedFixedEnemy(short charTemplateId)
	{
		int objectId = _pregeneratedFixedEnemies[charTemplateId];
		return DomainManager.Character.GetElement_Objects(objectId);
	}

	public ICollection<int> GetPregeneratedFixedEnemies()
	{
		return _pregeneratedFixedEnemies.Values;
	}

	[DomainMethod]
	public byte GetPoisonImmunities(int charId)
	{
		byte value;
		return (byte)(_characterPoisonImmunities.TryGetValue(charId, out value) ? value : 0);
	}

	public void SetPoisonImmunity(DataContext context, int charId, sbyte poisonType, bool isImmune)
	{
		if (_characterPoisonImmunities.TryGetValue(charId, out var value))
		{
			byte b = BitOperation.SetBit(value, (int)poisonType, isImmune);
			if (b == 0)
			{
				RemoveElement_CharacterPoisonImmunities(charId, context);
			}
			else
			{
				SetElement_CharacterPoisonImmunities(charId, b, context);
			}
		}
		else if (isImmune)
		{
			byte value2 = BitOperation.SetBit((byte)0, (int)poisonType, true);
			AddElement_CharacterPoisonImmunities(charId, value2, context);
		}
	}

	public void AddPoisonImmunities(DataContext context, int charId, byte poisonImmunities)
	{
		if (_characterPoisonImmunities.TryGetValue(charId, out var value))
		{
			SetElement_CharacterPoisonImmunities(charId, (byte)(value | poisonImmunities), context);
		}
		else
		{
			AddElement_CharacterPoisonImmunities(charId, poisonImmunities, context);
		}
	}

	public bool RemovePoisonImmunities(DataContext context, int charId)
	{
		bool flag = _characterPoisonImmunities.ContainsKey(charId);
		if (flag)
		{
			RemoveElement_CharacterPoisonImmunities(charId, context);
		}
		return flag;
	}

	public bool HasPoisonImmunity(int charId, sbyte poisonType)
	{
		byte value;
		return _characterPoisonImmunities.TryGetValue(charId, out value) && BitOperation.GetBit(value, (int)poisonType);
	}

	[DomainMethod]
	public bool IsCharacterHobbyRevealed(int charId)
	{
		return IsCharacterLovingItemRevealed(charId) || IsCharacterHatingItemRevealed(charId);
	}

	[DomainMethod]
	public bool IsCharacterLovingItemRevealed(int charId)
	{
		if (!_characterRevealedHobbies.TryGetValue(charId, out var value) || !DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			return false;
		}
		return element.GetLovingItemSubType() == value.First;
	}

	[DomainMethod]
	public bool IsCharacterHatingItemRevealed(int charId)
	{
		if (!_characterRevealedHobbies.TryGetValue(charId, out var value) || !DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			return false;
		}
		return element.GetHatingItemSubType() == value.Second;
	}

	[DomainMethod]
	public void SetCharacterRevealedHobbies(DataContext context, int charId, bool isLovingItem)
	{
		if (DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			if (!_characterRevealedHobbies.TryGetValue(charId, out var value))
			{
				AddElement_CharacterRevealedHobbies(charId, isLovingItem ? new ShortPair(element.GetLovingItemSubType(), -1) : new ShortPair(-1, element.GetHatingItemSubType()), context);
			}
			else
			{
				SetElement_CharacterRevealedHobbies(charId, isLovingItem ? new ShortPair(element.GetLovingItemSubType(), value.Second) : new ShortPair(value.First, element.GetHatingItemSubType()), context);
			}
		}
	}

	public void RemoveCharacterRevealedHobbies(DataContext context, int charId)
	{
		if (_characterRevealedHobbies.ContainsKey(charId))
		{
			RemoveElement_CharacterRevealedHobbies(charId, context);
		}
	}

	private CharacterDisplayData GetDreamBackCharacterDisplayData(int charId)
	{
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		AbridgedCharacter abridgedCharacter = ((charId == _dreamBackTaiwu.Id) ? _dreamBackTaiwu : _abridgedDreamBackCharacters.GetValueOrDefault(charId));
		CharacterDisplayData characterDisplayData;
		if (DomainManager.Character.TryGetElement_Objects(abridgedCharacter.Id, out var element))
		{
			OrganizationInfo organizationInfo = element.GetOrganizationInfo();
			bool completelyInfected = element.IsCompletelyInfected();
			characterDisplayData = new CharacterDisplayData
			{
				CharacterId = charId,
				TemplateId = element.GetTemplateId(),
				Gender = element.GetGender(),
				FullName = element.GetFullName(),
				MonkType = element.GetMonkType(),
				MonasticTitle = element.GetMonasticTitle(),
				AvatarRelatedData = element.GenerateAvatarRelatedData(),
				PhysiologicalAge = element.GetPhysiologicalAge(),
				CurrAge = element.GetCurrAge(),
				OrgInfo = organizationInfo,
				BehaviorType = element.GetBehaviorType(),
				FameType = element.GetFameType(),
				FavorabilityToTaiwu = DomainManager.Character.GetFavorability(charId, taiwuCharId),
				TitleIds = new List<short>(),
				CompletelyInfected = completelyInfected,
				ValidKidnapSlotCount = (byte)element.GetKidnapMaxSlotCount(),
				AliveState = 0,
				Location = element.GetLocation(),
				BirthDate = element.GetBirthDate(),
				ExternalRelationState = element.GetExternalRelationState(),
				LegendaryBookOwnerState = element.GetLegendaryBookOwnerState(),
				CustomDisplayNameId = DomainManager.Extra.GetCharacterCustomDisplayName(charId),
				CanNotSpeak = element.CanNotSpeak,
				NickNameId = DomainManager.Taiwu.GetFollowingNpcNickNameId(charId),
				ExtraNameTextTemplateId = element.GetExtraNameTextTemplateId()
			};
			if (DomainManager.Organization.TryGetSettlementCharacter(charId, out var settlementChar))
			{
				characterDisplayData.IsApproveTaiwu = settlementChar.GetApprovedTaiwu();
				characterDisplayData.ApproveTaiwu = settlementChar.GetApprovingRate();
				characterDisplayData.InfluencePower = settlementChar.GetInfluencePower();
				SettlementTreasury treasury = DomainManager.Organization.GetTreasury(element.GetOrganizationInfo());
				characterDisplayData.Contribution = treasury.GetMemberContribution(element);
				characterDisplayData.ContributionPerMonth = element.GetContributionPerMonth();
				characterDisplayData.SettlementTreasuryGuardInfo = DomainManager.Organization.CharacterTreasuryGuardInfo(charId);
			}
		}
		else
		{
			OrganizationInfo organizationInfo2 = abridgedCharacter.OrganizationInfo;
			characterDisplayData = new CharacterDisplayData
			{
				CharacterId = abridgedCharacter.Id,
				TemplateId = abridgedCharacter.CharTemplateId,
				Gender = abridgedCharacter.Gender,
				FullName = abridgedCharacter.FullName,
				MonkType = abridgedCharacter.MonkType,
				MonasticTitle = abridgedCharacter.MonasticTitle,
				AvatarRelatedData = abridgedCharacter.GenerateAvatarRelatedData(),
				PhysiologicalAge = abridgedCharacter.ActualAge,
				CurrAge = abridgedCharacter.CurrAge,
				OrgInfo = organizationInfo2,
				Location = Location.Invalid,
				BirthDate = abridgedCharacter.BirthDate,
				CustomDisplayNameId = abridgedCharacter.CustomDisplayNameId,
				NickNameId = -1,
				ExtraNameTextTemplateId = -1
			};
		}
		return characterDisplayData;
	}

	[DomainMethod]
	public List<CharacterDisplayData> GetDreamBackCharacterDisplayDataList(List<int> charIdList)
	{
		List<CharacterDisplayData> list = new List<CharacterDisplayData>();
		foreach (int charId in charIdList)
		{
			CharacterDisplayData dreamBackCharacterDisplayData = GetDreamBackCharacterDisplayData(charId);
			list.Add(dreamBackCharacterDisplayData);
		}
		return list;
	}

	[DomainMethod]
	public IntList GetOrInitExtraNeiliAllocationProgress(DataContext context, int charId)
	{
		if (_characterExtraNeiliAllocationProgress.TryGetValue(charId, out var value))
		{
			return value;
		}
		IntList intList = IntList.Create();
		for (int i = 0; i < 4; i++)
		{
			intList.Items.Add(0);
		}
		AddElement_CharacterExtraNeiliAllocationProgress(charId, intList, context);
		return intList;
	}

	public bool TryGetExtraNeiliAllocationProgress(int charId, out IntList result)
	{
		return _characterExtraNeiliAllocationProgress.TryGetValue(charId, out result);
	}

	public void SetExtraNeiliAllocationProgress(DataContext context, int charId, IntList progress)
	{
		if (!_characterExtraNeiliAllocationProgress.ContainsKey(charId))
		{
			AddElement_CharacterExtraNeiliAllocationProgress(charId, progress, context);
		}
		else
		{
			SetElement_CharacterExtraNeiliAllocationProgress(charId, progress, context);
		}
	}

	public void TransferExtraNeiliAllocationProgress(DataContext context, GameData.Domains.Character.Character oldTaiwuChar, GameData.Domains.Character.Character newTaiwuChar)
	{
		if (TryGetElement_CharacterExtraNeiliAllocationProgress(oldTaiwuChar.GetId(), out var value))
		{
			SetExtraNeiliAllocationProgress(context, newTaiwuChar.GetId(), value);
			RemoveElement_CharacterExtraNeiliAllocationProgress(oldTaiwuChar.GetId(), context);
		}
	}

	[DomainMethod]
	public int GetCharacterConsummateLevelProgress(int charId)
	{
		return _characterConsummateLevelProgresses.GetValueOrDefault(charId, 0);
	}

	public void SetCharacterConsummateLevelProgress(DataContext context, int charId, int targetValue)
	{
		if (_characterConsummateLevelProgresses.ContainsKey(charId))
		{
			SetElement_CharacterConsummateLevelProgresses(charId, targetValue, context);
		}
		else
		{
			AddElement_CharacterConsummateLevelProgresses(charId, targetValue, context);
		}
	}

	internal void AddSpecialGroupCharacter(DataContext context, int leaderId, int memberId)
	{
		if (_characterSpecialGroup.TryGetValue(leaderId, out var value))
		{
			value.Add(memberId);
			SetElement_CharacterSpecialGroup(leaderId, value, context);
		}
		else
		{
			value = default(CharacterSet);
			value.Add(memberId);
			AddElement_CharacterSpecialGroup(leaderId, value, context);
		}
	}

	internal void TryRemoveSpecialGroupCharacter(DataContext context, int leaderId, int memberId)
	{
		if (_characterSpecialGroup.TryGetValue(leaderId, out var value))
		{
			var (flag, flag2) = value.Remove(memberId);
			if (flag)
			{
				RemoveElement_CharacterSpecialGroup(leaderId, context);
			}
			else if (flag2)
			{
				SetElement_CharacterSpecialGroup(leaderId, value, context);
			}
		}
	}

	public IReadOnlySet<int> GetSpecialGroup(int leaderId)
	{
		_characterSpecialGroup.TryGetValue(leaderId, out var value);
		return value.GetCollection();
	}

	public void TransferSpecialGroup(DataContext context, int fromLeaderId, int toLeaderId, bool clearDestGroupFirst = false)
	{
		CharacterSet value;
		bool flag = _characterSpecialGroup.TryGetValue(toLeaderId, out value);
		if (flag && clearDestGroupFirst)
		{
			foreach (int item in value.GetCollection())
			{
				if (DomainManager.Character.TryGetElement_Objects(item, out var element))
				{
					DomainManager.Character.RemoveNonIntelligentCharacter(context, element);
				}
			}
			value.Clear();
		}
		if (_characterSpecialGroup.TryGetValue(fromLeaderId, out var value2))
		{
			foreach (int item2 in value2.GetCollection())
			{
				if (DomainManager.Character.TryGetElement_Objects(item2, out var element2))
				{
					element2.SetLeaderId(toLeaderId, context);
					value.Add(item2);
				}
			}
			value2.Clear();
			RemoveElement_CharacterSpecialGroup(fromLeaderId, context);
		}
		if (flag)
		{
			SetElement_CharacterSpecialGroup(toLeaderId, value, context);
		}
		else
		{
			AddElement_CharacterSpecialGroup(toLeaderId, value, context);
		}
	}

	public bool IsSpecialGroupMember(GameData.Domains.Character.Character character)
	{
		int leaderId = character.GetLeaderId();
		CharacterSet value;
		return _characterSpecialGroup.TryGetValue(leaderId, out value) && value.Contains(character.GetId());
	}

	public CharacterCombatSkillConfiguration TryGetCharacterCombatSkillConfiguration(int charId)
	{
		return _characterCombatSkillConfigurations.GetValueOrDefault(charId);
	}

	public void SetCharacterCombatSkillConfiguration(DataContext context, int charId, CharacterCombatSkillConfiguration configuration)
	{
		if (_characterCombatSkillConfigurations.ContainsKey(charId))
		{
			SetElement_CharacterCombatSkillConfigurations(charId, configuration, context);
		}
		else
		{
			AddElement_CharacterCombatSkillConfigurations(charId, configuration, context);
		}
	}

	public void RemoveCharacterCombatSkillConfiguration(DataContext context, int charId)
	{
		if (_characterCombatSkillConfigurations.Remove(charId))
		{
			RemoveElement_CharacterCombatSkillConfigurations(charId, context);
		}
	}

	public void SetCharacterCombatSkillEquipLock(DataContext context, int charId, bool isLocked)
	{
		if (DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			Tester.Assert(element.GetLeaderId() == DomainManager.Taiwu.GetTaiwuCharId());
			CharacterCombatSkillConfiguration value;
			bool flag = _characterCombatSkillConfigurations.TryGetValue(charId, out value);
			if (!flag)
			{
				value = new CharacterCombatSkillConfiguration();
			}
			value.IsCombatSkillLocked = isLocked;
			if (flag)
			{
				SetElement_CharacterCombatSkillConfigurations(charId, value, context);
			}
			else
			{
				AddElement_CharacterCombatSkillConfigurations(charId, value, context);
			}
		}
	}

	public void SetCharacterEquippedCombatSkills(DataContext context, int charId, CombatSkillPlan plan)
	{
		if (_characterEquippedCombatSkills.ContainsKey(charId))
		{
			SetElement_CharacterEquippedCombatSkills(charId, plan, context);
		}
		else
		{
			AddElement_CharacterEquippedCombatSkills(charId, plan, context);
		}
	}

	public void RemoveCharacterEquippedCombatSkills(DataContext context, int charId)
	{
		if (_characterEquippedCombatSkills.ContainsKey(charId))
		{
			RemoveElement_CharacterEquippedCombatSkills(charId, context);
		}
	}

	public bool TryGetCharacterEquippedCombatSkills(int charId, out CombatSkillPlan plan)
	{
		return _characterEquippedCombatSkills.TryGetValue(charId, out plan);
	}

	public void SetCharacterFollowTaiwu(DataContext context, int charId, int distance)
	{
		FollowMovementInfo value;
		bool flag = _followMovementCharacters.TryGetValue(charId, out value);
		if (value == null)
		{
			value = new FollowMovementInfo();
		}
		value.TargetCharId = DomainManager.Taiwu.GetTaiwuCharId();
		value.Distance = distance;
		if (flag)
		{
			SetElement_FollowMovementCharacters(charId, value, context);
		}
		else
		{
			AddElement_FollowMovementCharacters(charId, value, context);
		}
	}

	public void RemoveCharacterFollowTaiwu(DataContext context, int charId)
	{
		if (_followMovementCharacters.ContainsKey(charId))
		{
			RemoveElement_FollowMovementCharacters(charId, context);
		}
	}

	public void UpdateFollowMovementCharacters(DataContext context)
	{
		if (_followMovementCharacters.Count == 0)
		{
			return;
		}
		List<MapBlockData> list = ObjectPool<List<MapBlockData>>.Instance.Get();
		foreach (var (num2, followMovementInfo2) in _followMovementCharacters)
		{
			if (DomainManager.Character.TryGetElement_Objects(num2, out var element) && element.GetCreatingType() == 0)
			{
				Location location = element.GetLocation();
				MapBlockData mapBlockData = (location.IsValid() ? DomainManager.Map.GetBlock(location) : null);
				GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
				Location validLocation = taiwu.GetValidLocation();
				MapBlockData block = DomainManager.Map.GetBlock(validLocation);
				ByteCoordinate blockPos = block.GetBlockPos();
				if (mapBlockData == null || mapBlockData.GetManhattanDistanceToPos(blockPos.X, blockPos.Y) >= followMovementInfo2.Distance)
				{
					DomainManager.Map.GetRealNeighborBlocks(validLocation.AreaId, validLocation.BlockId, list, followMovementInfo2.Distance);
					Location location2 = list.GetRandom(context.Random)?.GetLocation() ?? validLocation;
					Events.RaiseFixedCharacterLocationChanged(context, num2, location, location2);
					element.SetLocation(location2, context);
				}
			}
		}
		ObjectPool<List<MapBlockData>>.Instance.Return(list);
	}

	public void RecordTaiwuGiftItem(DataContext context, int targetCharId, ItemKey itemKey, int amount)
	{
		Logger.Info($"Taiwu gifting {targetCharId} {itemKey} x {amount}");
		if (_taiwuGiftItems.TryGetValue(targetCharId, out var value))
		{
			value.OfflineAdd(itemKey, amount);
			SetElement_TaiwuGiftItems(targetCharId, value, context);
		}
		else
		{
			value = new Inventory();
			value.OfflineAdd(itemKey, amount);
			AddElement_TaiwuGiftItems(targetCharId, value, context);
		}
	}

	public IReadOnlyDictionary<ItemKey, int> GetTaiwuGiftItems(int targetCharId)
	{
		IReadOnlyDictionary<ItemKey, int> result;
		if (!_taiwuGiftItems.TryGetValue(targetCharId, out var value))
		{
			result = Inventory.Empty;
		}
		else
		{
			IReadOnlyDictionary<ItemKey, int> items = value.Items;
			result = items;
		}
		return result;
	}

	public void SetTaiwuGiftItemAmount(DataContext context, int targetCharId, ItemKey itemKey, int amount)
	{
		Logger.Info($"Setting taiwu gift {itemKey} for {targetCharId} = {amount}");
		Inventory inventory = _taiwuGiftItems[targetCharId];
		if (amount > 0)
		{
			inventory.Items[itemKey] = amount;
		}
		else
		{
			inventory.Items.Remove(itemKey);
		}
		if (inventory.Items.Count > 0)
		{
			SetElement_TaiwuGiftItems(targetCharId, inventory, context);
		}
		else
		{
			RemoveElement_TaiwuGiftItems(targetCharId, context);
		}
	}

	public void RemoveTaiwuGiftItemsForCharacter(DataContext context, int targetCharId)
	{
		if (_taiwuGiftItems.ContainsKey(targetCharId))
		{
			RemoveElement_TaiwuGiftItems(targetCharId, context);
		}
	}

	public SerializableList<SkillBreakPlateBonus> GetCharacterSkillBreakBonuses(int charId, short skillTemplateId)
	{
		if (_characterSkillBreakBonuses.TryGetValue(new CombatSkillKey(charId, skillTemplateId), out var value))
		{
			return value;
		}
		return default(SerializableList<SkillBreakPlateBonus>);
	}

	public void SetCharacterSkillBreakBonuses(DataContext context, int charId, short skillTemplateId, SerializableList<SkillBreakPlateBonus> bonuses)
	{
		CombatSkillKey combatSkillKey = new CombatSkillKey(charId, skillTemplateId);
		if (_characterSkillBreakBonuses.ContainsKey(combatSkillKey))
		{
			SetElement_CharacterSkillBreakBonuses(combatSkillKey, bonuses, context);
		}
		else
		{
			AddElement_CharacterSkillBreakBonuses(combatSkillKey, bonuses, context);
		}
	}

	public void AddDyingCharacters(DataContext context, int charId, short type)
	{
		if (_dyingCharacters.ContainsKey(charId))
		{
			SetElement_DyingCharacters(charId, type, context);
			return;
		}
		AddElement_DyingCharacters(charId, type, context);
		AddDyingCharacterListener(charId);
	}

	public void RemoveDyingCharacters(DataContext context, int charId)
	{
		if (_dyingCharacters.ContainsKey(charId))
		{
			RemoveElement_DyingCharacters(charId, context);
			DataUid uid = new DataUid(4, 0, (ulong)charId, 19u);
			GameData.GameDataBridge.GameDataBridge.RemovePostDataModificationHandler(uid, $"{charId}{"DyingHandler"}");
		}
	}

	public bool IsCharacterDying(int charId)
	{
		return _dyingCharacters.ContainsKey(charId);
	}

	public bool TryGetCharacterDyingType(int charId, out short type)
	{
		return _dyingCharacters.TryGetValue(charId, out type) && type >= 0;
	}

	private void AddDyingCharacterListener(int charId)
	{
		DataUid uid = new DataUid(4, 0, (ulong)charId, 19u);
		GameData.GameDataBridge.GameDataBridge.AddPostDataModificationHandler(uid, $"{charId}{"DyingHandler"}", OnCharacterHealthChange);
	}

	private void OnCharacterHealthChange(DataContext context, DataUid dataUid)
	{
		int num = (int)dataUid.SubId0;
		short health = DomainManager.Character.GetElement_Objects(num).GetHealth();
		if (health > 0)
		{
			RemoveDyingCharacters(context, num);
		}
	}

	private void InitDyingCharacters()
	{
		foreach (int key in _dyingCharacters.Keys)
		{
			AddDyingCharacterListener(key);
		}
	}

	public void AddRemovedSpecialRelations(DataContext context, RelationKey relationKey, ushort relationType)
	{
		if (RelationType.NeedRecordOnRemoval(relationType))
		{
			if (_removedSpecialRelations.TryGetValue(relationKey, out var value))
			{
				relationType |= value;
				SetElement_RemovedSpecialRelations(relationKey, relationType, context);
			}
			else
			{
				AddElement_RemovedSpecialRelations(relationKey, relationType, context);
			}
		}
	}

	public ushort GetRemovedSpecialRelations(RelationKey relationKey)
	{
		if (_removedSpecialRelations.TryGetValue(relationKey, out var value))
		{
			return value;
		}
		return 0;
	}

	public void ClearRemovedSpecialRelations(DataContext context, RelationKey relationKey)
	{
		if (_removedSpecialRelations.ContainsKey(relationKey))
		{
			RemoveElement_RemovedSpecialRelations(relationKey, context);
		}
	}

	[DomainMethod]
	public bool SetAdvancedTeammateCommands(DataContext context, int charId, sbyte cmdType)
	{
		TeammateCommandItem teammateCommandItem = TeammateCommand.Instance[cmdType];
		if (teammateCommandItem == null || teammateCommandItem.Type != ETeammateCommandType.Advance)
		{
			return false;
		}
		SByteList value;
		bool flag = _advancedTeammateCommandDict.TryGetValue(charId, out value);
		ref List<sbyte> items = ref value.Items;
		List<sbyte> list = items ?? (items = new List<sbyte>());
		if (list.Contains(cmdType))
		{
			return false;
		}
		int upgradeAuthorityCost = teammateCommandItem.UpgradeAuthorityCost;
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		if (taiwu.GetResource(7) < upgradeAuthorityCost)
		{
			return false;
		}
		taiwu.ChangeResource(context, 7, -upgradeAuthorityCost);
		list.Add(cmdType);
		if (flag)
		{
			SetElement_AdvancedTeammateCommandDict(charId, value, context);
		}
		else
		{
			AddElement_AdvancedTeammateCommandDict(charId, value, context);
		}
		UpdateCharAdvancedTeammateCommands(context, charId);
		return true;
	}

	[DomainMethod]
	public bool CancelAdvancedTeammateCommands(DataContext context, int charId, sbyte cmdType)
	{
		TeammateCommandItem teammateCommandItem = TeammateCommand.Instance[cmdType];
		if (teammateCommandItem == null || teammateCommandItem.Type != ETeammateCommandType.Advance)
		{
			return false;
		}
		if (!_advancedTeammateCommandDict.TryGetValue(charId, out var value))
		{
			return false;
		}
		List<sbyte> items = value.Items;
		if (items == null || items.Count <= 0 || !items.Contains(cmdType))
		{
			return false;
		}
		items.Remove(cmdType);
		if (items.Count != 0)
		{
			SetElement_AdvancedTeammateCommandDict(charId, value, context);
		}
		else
		{
			RemoveElement_AdvancedTeammateCommandDict(charId, context);
		}
		UpdateCharAdvancedTeammateCommands(context, charId);
		return true;
	}

	private void UpdateCharAdvancedTeammateCommands(DataContext context, int charId)
	{
		if (!TryGetElement_CharTeammateCommandDict(charId, out var value))
		{
			return;
		}
		List<sbyte> items = value.Items;
		if (items != null && items.Count > 0)
		{
			_advancedTeammateCommandDict.TryGetValue(charId, out var value2);
			if (ReplaceAdvanceTeammateCommands(value.Items, value2.Items))
			{
				SetElement_CharTeammateCommandDict(charId, value, context);
			}
		}
	}

	[DomainMethod]
	public List<sbyte> GetCharTeammateCommands(DataContext context, int charId)
	{
		IReadOnlyList<sbyte> charOriginalTeammateCommands = GetCharOriginalTeammateCommands(context, charId);
		return (charOriginalTeammateCommands != null) ? new List<sbyte>(charOriginalTeammateCommands) : null;
	}

	[DomainMethod]
	public List<sbyte> GetCharAdvancedTeammateCommands(int charId)
	{
		return _advancedTeammateCommandDict.GetOrDefault(charId).Items;
	}

	[DomainMethod]
	public bool SetCharTeammateCommandsManual(DataContext context, int charId, List<sbyte> cmdTypes)
	{
		if (cmdTypes == null)
		{
			cmdTypes = new List<sbyte>();
		}
		cmdTypes.RemoveAll((sbyte x) => x < 0);
		if (!_changedTeammateCharIds.Contains(charId))
		{
			_changedTeammateCharIds.Add(charId);
			SetChangedTeammateCharIds(_changedTeammateCharIds, context);
		}
		if (TryGetElement_CharTeammateCommandDict(charId, out var value))
		{
			ref List<sbyte> items = ref value.Items;
			if (items == null)
			{
				items = new List<sbyte>();
			}
			value.Items.Clear();
			value.Items.AddRange(cmdTypes);
			SetElement_CharTeammateCommandDict(charId, value, context);
		}
		else
		{
			value.Items = new List<sbyte>();
			value.Items.AddRange(cmdTypes);
			AddElement_CharTeammateCommandDict(charId, value, context);
		}
		DomainManager.Combat.TryUpdatePreRandomizedTeammateCommands(context, charId);
		return true;
	}

	public IReadOnlyList<sbyte> GetCharOriginalTeammateCommands(DataContext context, int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		if (element_Objects.GetCreatingType() != 1)
		{
			List<sbyte> presetTeammateCommands = element_Objects.GetPresetTeammateCommands();
			if (presetTeammateCommands != null && presetTeammateCommands.Count > 0)
			{
				return element_Objects.GetPresetTeammateCommands();
			}
		}
		if (!_charTeammateCommandDict.ContainsKey(charId))
		{
			GenerateCharTeammateCommands(context, charId, generateNotExist: true);
		}
		return _charTeammateCommandDict[charId].Items;
	}

	public IEnumerable<sbyte> GetCharUsableTeammateCommands(DataContext context, int charId)
	{
		IReadOnlyList<sbyte> originCmdTypes = GetCharOriginalTeammateCommands(context, charId);
		GameData.Domains.Character.Character character = DomainManager.Character.GetElement_Objects(charId);
		int num;
		if (character.GetCreatingType() != 1)
		{
			List<sbyte> presetTeammateCommands = character.GetPresetTeammateCommands();
			num = ((presetTeammateCommands != null && presetTeammateCommands.Count > 0) ? 1 : 0);
		}
		else
		{
			num = 0;
		}
		if (num != 0)
		{
			foreach (sbyte item in originCmdTypes)
			{
				yield return item;
			}
			yield break;
		}
		List<int> medalCounts = ObjectPool<List<int>>.Instance.Get();
		CalcMedalCounts(medalCounts, character.GetFeatureMedalValue);
		if (originCmdTypes == null)
		{
			yield break;
		}
		foreach (sbyte cmdType in originCmdTypes)
		{
			if (GameData.Domains.Character.SharedMethods.IsMedalMatchTeammateCommand(medalCounts, cmdType))
			{
				TeammateCommandItem cmdConfig = TeammateCommand.Instance[cmdType];
				medalCounts[cmdConfig.MedalType] -= cmdConfig.MedalCount;
				yield return cmdType;
			}
		}
		ObjectPool<List<int>>.Instance.Return(medalCounts);
	}

	public SByteList GetCharTeammateCommandsSByteList(DataContext context, int charId)
	{
		return new SByteList(GetCharOriginalTeammateCommands(context, charId));
	}

	public SByteList GetAdvancedCharTeammateCommandsSByteList(int charId)
	{
		SByteList value;
		return (!TryGetElement_AdvancedTeammateCommandDict(charId, out value)) ? default(SByteList) : value;
	}

	public void ClearCharTeammateCommands(DataContext context, int charId)
	{
		if (_charTeammateCommandDict.ContainsKey(charId))
		{
			RemoveElement_CharTeammateCommandDict(charId, context);
		}
		if (_advancedTeammateCommandDict.ContainsKey(charId))
		{
			RemoveElement_AdvancedTeammateCommandDict(charId, context);
		}
	}

	public void TryRegenerateTeammateCommand(DataContext context, GameData.Domains.Character.Character character)
	{
		int id = character.GetId();
		if (character.GetOrganizationInfo().OrgTemplateId != 16 && !DomainManager.Taiwu.IsInGroup(id) && _changedTeammateCharIds.Contains(id))
		{
			_changedTeammateCharIds.Remove(id);
			SetChangedTeammateCharIds(_changedTeammateCharIds, context);
		}
		if (!_changedTeammateCharIds.Contains(id))
		{
			GenerateCharTeammateCommands(context, id);
		}
	}

	public void GenerateCharTeammateCommands(DataContext context, int charId, bool generateNotExist = false)
	{
		if (generateNotExist || _charTeammateCommandDict.ContainsKey(charId))
		{
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
			SByteList cmdList = SByteList.Create();
			GetRandomCmdTypes(context.Random, cmdList.Items, element_Objects.GetFeatureMedalValue);
			ReplaceAdvanceTeammateCommands(cmdList.Items, _advancedTeammateCommandDict.GetOrDefault(charId).Items);
			SetCharTeammateCommands(context, charId, cmdList);
		}
	}

	public void FillNegativeTeammateCommands(IRandomSource random, int charId, int count, IList<sbyte> newCmds)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		List<int> list = ObjectPool<List<int>>.Instance.Get();
		CalcMedalCounts(list, element_Objects.GetFeatureMedalValue);
		bool flag = list.Sum() == 0;
		List<sbyte> list2 = ObjectPool<List<sbyte>>.Instance.Get();
		list2.Clear();
		list2.AddRange(from x in TeammateCommand.Instance
			where x.Type == ETeammateCommandType.Negative
			select x.TemplateId);
		List<sbyte> list3 = ObjectPool<List<sbyte>>.Instance.Get();
		for (int num = 0; num < count; num++)
		{
			int type = (flag ? (-1) : RandomUtils.GetRandomIndex(list, random));
			list3.Clear();
			list3.AddRange(list2.Where((sbyte x) => TeammateCommand.Instance[x].MedalType == type));
			sbyte item = ((list3.Count > 0) ? list3.GetRandom(random) : list2.GetRandom(random));
			list2.Remove(item);
			list3.Clear();
			list3.AddRange(newCmds.Where((sbyte x) => TeammateCommand.Instance[x].Type != ETeammateCommandType.Negative));
			bool flag2 = list3.Any((sbyte x) => TeammateCommand.Instance[x].MedalType == type);
			if (flag2)
			{
				list3.RemoveAll((sbyte x) => TeammateCommand.Instance[x].MedalType != type);
			}
			if (!flag2 && newCmds.Count < 3)
			{
				newCmds.Add(item);
			}
			else if (list3.Count > 0)
			{
				sbyte random2 = list3.GetRandom(random);
				int index = newCmds.IndexOf(random2);
				newCmds.RemoveAt(index);
				newCmds.Insert(index, item);
			}
		}
		ObjectPool<List<sbyte>>.Instance.Return(list3);
		ObjectPool<List<sbyte>>.Instance.Return(list2);
		ObjectPool<List<int>>.Instance.Return(list);
	}

	public void SetCharTeammateCommands(DataContext context, int charId, SByteList cmdList)
	{
		if (_charTeammateCommandDict.ContainsKey(charId))
		{
			SetElement_CharTeammateCommandDict(charId, cmdList, context);
		}
		else
		{
			AddElement_CharTeammateCommandDict(charId, cmdList, context);
		}
	}

	public static void GetRandomCmdTypes(IRandomSource random, IList<sbyte> cmdList, Func<sbyte, int> medalProvider)
	{
		List<int> list = ObjectPool<List<int>>.Instance.Get();
		CalcMedalCounts(list, medalProvider);
		for (int i = 0; i < 3; i++)
		{
			sbyte randomCmdType = GetRandomCmdType(random, list, cmdList);
			if (randomCmdType >= 0)
			{
				TeammateCommandItem teammateCommandItem = TeammateCommand.Instance[randomCmdType];
				list[teammateCommandItem.MedalType] -= teammateCommandItem.MedalCount;
				cmdList.Add(randomCmdType);
			}
		}
		ObjectPool<List<int>>.Instance.Return(list);
	}

	private static sbyte GetRandomCmdType(IRandomSource random, IReadOnlyList<int> medalCounts, ICollection<sbyte> cmdList)
	{
		List<sbyte> list = ObjectPool<List<sbyte>>.Instance.Get();
		List<int> list2 = ObjectPool<List<int>>.Instance.Get();
		list.Clear();
		list2.Clear();
		foreach (sbyte item in TeammateCommandNormal)
		{
			if (cmdList == null || cmdList.Count <= 0 || !cmdList.Contains(item))
			{
				TeammateCommandItem teammateCommandItem = TeammateCommand.Instance[item];
				int orDefault = medalCounts.GetOrDefault(teammateCommandItem.MedalType);
				if (orDefault >= teammateCommandItem.MedalCount)
				{
					list.Add(item);
					list2.Add(orDefault);
				}
			}
		}
		sbyte result = (sbyte)((list.Count > 0) ? list[RandomUtils.GetRandomIndex(list2, random)] : (-1));
		ObjectPool<List<sbyte>>.Instance.Return(list);
		ObjectPool<List<int>>.Instance.Return(list2);
		return result;
	}

	private static void CalcMedalCounts(ICollection<int> typeWeights, Func<sbyte, int> medalProvider)
	{
		typeWeights.Clear();
		for (sbyte b = 0; b < 3; b++)
		{
			typeWeights.Add(Math.Abs(medalProvider(b)));
		}
	}

	private static bool ReplaceAdvanceTeammateCommands(IList<sbyte> cmdTypes, IReadOnlyList<sbyte> advanceCmdTypes)
	{
		bool result = false;
		for (int i = 0; i < cmdTypes.Count; i++)
		{
			sbyte b = cmdTypes[i];
			TeammateCommandItem teammateCommandItem = TeammateCommand.Instance[b];
			ETeammateCommandType type = teammateCommandItem.Type;
			if ((uint)type <= 1u)
			{
				bool flag = teammateCommandItem.Type == ETeammateCommandType.Advance;
				sbyte value = (flag ? b : TeammateCommandAdvanceMapping[b]);
				if (flag != (advanceCmdTypes?.Contains(value) ?? false))
				{
					result = true;
					cmdTypes[i] = TeammateCommandAdvanceMapping[b];
				}
			}
		}
		return result;
	}

	public void SetNicknameByChickenId(int id, int textId, DataContext context)
	{
		if (!CheckChickenHasNickname(id))
		{
			AddElement_NicknameDict(id, textId, context);
		}
		SetElement_NicknameDict(id, textId, context);
	}

	public bool CheckChickenHasNickname(int id)
	{
		return _nicknameDict.ContainsKey(id);
	}

	public bool TryGetChoosyRemainUpgradeRate(short key, out int value)
	{
		return TryGetElement_ChoosyRemainUpgradeRateDict(key, out value);
	}

	public void SetChoosyRemainUpgradeRate(short key, int value, DataContext context)
	{
		if (TryGetChoosyRemainUpgradeRate(key, out var _))
		{
			SetElement_ChoosyRemainUpgradeRateDict(key, value, context);
		}
		else
		{
			AddElement_ChoosyRemainUpgradeRateDict(key, value, context);
		}
	}

	public bool TryGetChoosyRemainUpgradeCount(short key, out int value)
	{
		return TryGetElement_ChoosyRemainUpgradeCountDict(key, out value);
	}

	public void SetChoosyRemainUpgradeCount(short key, int value, DataContext context)
	{
		if (TryGetChoosyRemainUpgradeCount(key, out var _))
		{
			SetElement_ChoosyRemainUpgradeCountDict(key, value, context);
		}
		else
		{
			AddElement_ChoosyRemainUpgradeCountDict(key, value, context);
		}
	}

	private void InitializeClothing()
	{
		_weaveClothingDisplaySetting = default(WeaveClothingDisplaySetting);
		_weaveClothingDisplaySetting.Init();
	}

	public void RecordOwnedClothing(DataContext context, short clothingTemplateId)
	{
		if (!_ownedClothingSet.ContainsKey(clothingTemplateId))
		{
			Logger.Info("Recording owned clothing: " + Config.Clothing.Instance[clothingTemplateId].Name);
			AddElement_OwnedClothingSet(clothingTemplateId, default(VoidValue), context);
		}
	}

	public bool HasOwnedClothing(short clothingTemplateId)
	{
		return _ownedClothingSet.ContainsKey(clothingTemplateId);
	}

	public void SetClothingDisplayModification(DataContext context, ItemKey itemKey, short targetClothingTemplateId)
	{
		if (itemKey.ItemType != 3)
		{
			throw new ArgumentException($"{itemKey} is not a clothing.");
		}
		if (_clothingDisplayModifications.ContainsKey(itemKey.Id))
		{
			if (itemKey.TemplateId == targetClothingTemplateId || targetClothingTemplateId < 0)
			{
				RemoveElement_ClothingDisplayModifications(itemKey.Id, context);
			}
			else
			{
				SetElement_ClothingDisplayModifications(itemKey.Id, targetClothingTemplateId, context);
			}
		}
		else if (itemKey.TemplateId != targetClothingTemplateId)
		{
			AddElement_ClothingDisplayModifications(itemKey.Id, targetClothingTemplateId, context);
		}
		ItemKey[] equipment = DomainManager.Taiwu.GetTaiwu().GetEquipment();
		if (equipment.Contains(itemKey))
		{
			DomainManager.Taiwu.GetTaiwu().SetEquipment(equipment, context);
		}
	}

	public short GetModifiedClothingTemplateId(ItemKey itemKey)
	{
		short value;
		return _clothingDisplayModifications.TryGetValue(itemKey.Id, out value) ? value : itemKey.TemplateId;
	}

	public short GetActualClothingDisplayId(ItemKey itemKey)
	{
		if (itemKey.ItemType != 3)
		{
			throw new ArgumentException($"{itemKey} is not a clothing.");
		}
		short modifiedClothingTemplateId = GetModifiedClothingTemplateId(itemKey);
		return Config.Clothing.Instance[modifiedClothingTemplateId].DisplayId;
	}

	[DomainMethod]
	public GameData.Utilities.ShortList GetCharacterMasteredCombatSkills(int charId)
	{
		_characterMasteredCombatSkills.TryGetValue(charId, out var value);
		return value;
	}

	[DomainMethod]
	public bool AddCharacterMasteredCombatSkill(DataContext context, int charId, short skillTemplateId)
	{
		if (_characterMasteredCombatSkills.TryGetValue(charId, out var value))
		{
			ref List<short> items = ref value.Items;
			if (items == null)
			{
				items = new List<short>();
			}
			if (value.Items.Contains(skillTemplateId))
			{
				return false;
			}
			value.Items.Add(skillTemplateId);
			SetElement_CharacterMasteredCombatSkills(charId, value, context);
		}
		else
		{
			value = GameData.Utilities.ShortList.Create();
			value.Items.Add(skillTemplateId);
			AddElement_CharacterMasteredCombatSkills(charId, value, context);
		}
		if (DomainManager.CombatSkill.TryGetElement_CombatSkills(new CombatSkillKey(charId, skillTemplateId), out var element))
		{
			element.InvalidateSelfAndInfluencedCache(12, context);
		}
		if (charId == DomainManager.Taiwu.GetTaiwuCharId())
		{
			int currCombatSkillPlanId = DomainManager.Taiwu.GetCurrCombatSkillPlanId();
			SetElement_MasteredCombatSkillPlans(currCombatSkillPlanId, value, context);
			GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
			CombatSkillEquipment combatSkillEquipment = taiwu.GetCombatSkillEquipment();
			taiwu.ApplyCombatSkillEquipmentModification(context, combatSkillEquipment);
		}
		return true;
	}

	[DomainMethod]
	public bool RemoveCharacterMasteredCombatSkill(DataContext context, int charId, short skillTemplateId)
	{
		if (!_characterMasteredCombatSkills.TryGetValue(charId, out var value))
		{
			return false;
		}
		if (value.Items == null || !value.Items.Remove(skillTemplateId))
		{
			return false;
		}
		if (value.Items.Count == 0)
		{
			RemoveElement_CharacterMasteredCombatSkills(charId, context);
		}
		else
		{
			SetElement_CharacterMasteredCombatSkills(charId, value, context);
		}
		if (DomainManager.CombatSkill.TryGetElement_CombatSkills(new CombatSkillKey(charId, skillTemplateId), out var element))
		{
			element.InvalidateSelfAndInfluencedCache(12, context);
		}
		if (charId == DomainManager.Taiwu.GetTaiwuCharId())
		{
			int currCombatSkillPlanId = DomainManager.Taiwu.GetCurrCombatSkillPlanId();
			SetElement_MasteredCombatSkillPlans(currCombatSkillPlanId, value, context);
			GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
			CombatSkillEquipment combatSkillEquipment = taiwu.GetCombatSkillEquipment();
			taiwu.ApplyCombatSkillEquipmentModification(context, combatSkillEquipment);
		}
		return true;
	}

	public void SetCharacterMasteredCombatSkills(DataContext context, int charId, GameData.Utilities.ShortList masteredSkills)
	{
		if (_characterMasteredCombatSkills.TryGetValue(charId, out var value))
		{
			if (masteredSkills.Items == null || masteredSkills.Items.Count == 0)
			{
				RemoveElement_CharacterMasteredCombatSkills(charId, context);
			}
			else
			{
				UpdateCombatSkillRequirementPercent(context, charId, value.Items);
				SetElement_CharacterMasteredCombatSkills(charId, masteredSkills, context);
			}
		}
		else if (masteredSkills.Items != null && masteredSkills.Items.Count > 0)
		{
			AddElement_CharacterMasteredCombatSkills(charId, masteredSkills, context);
		}
		UpdateCombatSkillRequirementPercent(context, charId, masteredSkills.Items);
		if (charId == DomainManager.Taiwu.GetTaiwuCharId())
		{
			int currCombatSkillPlanId = DomainManager.Taiwu.GetCurrCombatSkillPlanId();
			SetElement_MasteredCombatSkillPlans(currCombatSkillPlanId, masteredSkills, context);
		}
	}

	public void ClearCharacterMasteredCombatSkills(DataContext context, int charId)
	{
		if (_characterMasteredCombatSkills.ContainsKey(charId))
		{
			RemoveElement_CharacterMasteredCombatSkills(charId, context);
		}
	}

	public bool IsCombatSkillMasteredByCharacter(int charId, short skillTemplateId)
	{
		GameData.Utilities.ShortList value;
		return _characterMasteredCombatSkills.TryGetValue(charId, out value) && value.Items != null && value.Items.Contains(skillTemplateId);
	}

	public void UpdateTaiwuMasteredCombatSkillsByPlan(DataContext context)
	{
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		int currCombatSkillPlanId = DomainManager.Taiwu.GetCurrCombatSkillPlanId();
		GameData.Utilities.ShortList value = _masteredCombatSkillPlans[currCombatSkillPlanId];
		List<short> items = value.Items;
		bool flag = items != null && items.Count > 0;
		GameData.Utilities.ShortList value2;
		bool flag2 = _characterMasteredCombatSkills.TryGetValue(taiwuCharId, out value2);
		if (flag2)
		{
			RemoveElement_CharacterMasteredCombatSkills(taiwuCharId, context);
		}
		if (flag)
		{
			for (int num = value.Items.Count - 1; num >= 0; num--)
			{
				short skillTemplateId = value.Items[num];
				sbyte combatSkillGridCost = taiwu.GetCombatSkillGridCost(skillTemplateId);
				if (combatSkillGridCost <= 1)
				{
					value.Items.RemoveAt(num);
				}
			}
			AddElement_CharacterMasteredCombatSkills(taiwuCharId, value, context);
		}
		HashSet<short> hashSet = ObjectPool<HashSet<short>>.Instance.Get();
		hashSet.Clear();
		if (flag)
		{
			foreach (short item in value.Items)
			{
				hashSet.Add(item);
			}
		}
		if (flag2 && value2.Items != null)
		{
			foreach (short item2 in value2.Items)
			{
				hashSet.Add(item2);
			}
		}
		UpdateCombatSkillRequirementPercent(context, taiwuCharId, hashSet);
		ObjectPool<HashSet<short>>.Instance.Return(hashSet);
	}

	public void CopyTaiwuCombatSkillsPlan(DataContext context, int srcPlanId, int dstPlanId)
	{
		GameData.Utilities.ShortList shortList = _masteredCombatSkillPlans[srcPlanId];
		GameData.Utilities.ShortList value = _masteredCombatSkillPlans[dstPlanId];
		value.Items?.Clear();
		List<short> items = shortList.Items;
		if (items != null && items.Count > 0)
		{
			ref List<short> items2 = ref value.Items;
			if (items2 == null)
			{
				items2 = new List<short>();
			}
			value.Items.AddRange(shortList.Items);
		}
		SetElement_MasteredCombatSkillPlans(dstPlanId, value, context);
		GameData.Utilities.ShortList orDefault = _combatSkillOrderPlans.GetOrDefault(srcPlanId);
		GameData.Utilities.ShortList orDefault2 = _combatSkillOrderPlans.GetOrDefault(dstPlanId);
		orDefault2.Items?.Clear();
		items = orDefault.Items;
		if (items != null && items.Count > 0)
		{
			ref List<short> items2 = ref orDefault2.Items;
			if (items2 == null)
			{
				items2 = new List<short>();
			}
			orDefault2.Items.AddRange(orDefault.Items);
		}
		SetCombatSkillOrderPlan(context, dstPlanId, orDefault2);
	}

	public void DeleteTaiwuCombatSkillsPlan(DataContext context, int planId)
	{
		GameData.Utilities.ShortList shortList = _masteredCombatSkillPlans[planId];
		shortList.Items?.Clear();
		for (int i = planId; i < 8; i++)
		{
			SetElement_MasteredCombatSkillPlans(i, _masteredCombatSkillPlans[i + 1], context);
		}
		SetElement_MasteredCombatSkillPlans(8, shortList, context);
		_combatSkillOrderPlans.GetOrDefault(planId).Items?.Clear();
		for (int j = planId; j < 8; j++)
		{
			SetCombatSkillOrderPlan(context, j, _combatSkillOrderPlans.GetOrDefault(j + 1));
		}
		SetCombatSkillOrderPlan(context, 8, shortList);
	}

	private void UpdateCombatSkillRequirementPercent(DataContext context, int charId, IEnumerable<short> skillIds)
	{
		if (skillIds == null)
		{
			return;
		}
		Dictionary<short, GameData.Domains.CombatSkill.CombatSkill> charCombatSkills = DomainManager.CombatSkill.GetCharCombatSkills(charId);
		foreach (short skillId in skillIds)
		{
			if (charCombatSkills.TryGetValue(skillId, out var value))
			{
				value.InvalidateSelfAndInfluencedCache(12, context);
			}
		}
	}

	public int ChangeCombatSkillProficiency(DataContext context, CombatSkillKey key, int delta)
	{
		int orDefault = _combatSkillProficiencies.GetOrDefault(key);
		int num = Math.Clamp(orDefault + delta, 0, 999999999);
		if (num == orDefault)
		{
			return 0;
		}
		if (_combatSkillProficiencies.ContainsKey(key))
		{
			SetElement_CombatSkillProficiencies(key, num, context);
		}
		else
		{
			AddElement_CombatSkillProficiencies(key, num, context);
		}
		if (DomainManager.CombatSkill.TryGetElement_CombatSkills(key, out var element))
		{
			element.SetActivationState(element.GetActivationState(), context);
		}
		if (key.CharId == DomainManager.Taiwu.GetTaiwuCharId() && num >= GlobalConfig.Instance.SkillProficiencyIsEnoughToGainLegacyPoint && !_proficiencyEnoughSkills.Contains(key.SkillTemplateId))
		{
			AddElement_ProficiencyEnoughSkills(key.SkillTemplateId, default(VoidValue), context);
			DomainManager.Taiwu.AddLegacyPoint(context, 23);
		}
		return num - orDefault;
	}

	public void UpdateCombatSkillProficiency(DataContext context, GameData.Domains.Character.Character character)
	{
		int id = character.GetId();
		int num = 9;
		int num2 = (OrganizationDomain.IsSect(character.GetOrganizationInfo().OrgTemplateId) ? GlobalConfig.UpdateProficiencyMaxDelta[0] : GlobalConfig.UpdateProficiencyMaxDelta[1]) + 1;
		Dictionary<short, GameData.Domains.CombatSkill.CombatSkill> charCombatSkills = DomainManager.CombatSkill.GetCharCombatSkills(id);
		if (charCombatSkills.Count <= num)
		{
			foreach (short key in charCombatSkills.Keys)
			{
				ChangeCombatSkillProficiency(context, new CombatSkillKey(id, key), context.Random.Next(0, num2));
			}
			return;
		}
		List<(short, short)> obj = context.AdvanceMonthRelatedData.WeightTable.Occupy();
		obj.Clear();
		foreach (short key2 in charCombatSkills.Keys)
		{
			sbyte grade = Config.CombatSkill.Instance[key2].Grade;
			obj.Add((key2, (short)((grade + 1) * (grade + 1))));
		}
		for (int i = 0; i < num; i++)
		{
			int randomIndex = RandomUtils.GetRandomIndex(obj, context.Random);
			short item = obj[randomIndex].Item1;
			ChangeCombatSkillProficiency(context, new CombatSkillKey(id, item), context.Random.Next(0, num2));
			obj.RemoveAt(randomIndex);
		}
		context.AdvanceMonthRelatedData.WeightTable.Release(ref obj);
	}

	public void InitCombatSkillProficiency(DataContext context, GameData.Domains.Character.Character character)
	{
		int birthDate = character.GetBirthDate();
		int num = DomainManager.World.GetCurrDate() - birthDate - GlobalConfig.Instance.AgeBaby * 12;
		if (num <= 0)
		{
			return;
		}
		int id = character.GetId();
		Dictionary<short, GameData.Domains.CombatSkill.CombatSkill> charCombatSkills = DomainManager.CombatSkill.GetCharCombatSkills(id);
		if (charCombatSkills.Count == 0)
		{
			return;
		}
		int num2 = 9;
		int num3 = (OrganizationDomain.IsSect(character.GetOrganizationInfo().OrgTemplateId) ? GlobalConfig.UpdateProficiencyMaxDelta[0] : GlobalConfig.UpdateProficiencyMaxDelta[1]);
		int num4 = num * num2 * num3;
		int num5 = Math.Min(100, num2 * 100 / charCombatSkills.Count);
		foreach (short key in charCombatSkills.Keys)
		{
			int num6 = Math.Min(num * num3 * num5 / 100, num4) + 1;
			int num7 = context.Random.Next(0, num6);
			ChangeCombatSkillProficiency(context, new CombatSkillKey(id, key), num7);
			num4 -= num7;
			if (num4 <= 0)
			{
				break;
			}
		}
	}

	public void CopyCombatSkillProficiency(DataContext context, int charIdA, int charIdB)
	{
		Dictionary<short, GameData.Domains.CombatSkill.CombatSkill> charCombatSkills = DomainManager.CombatSkill.GetCharCombatSkills(charIdA);
		foreach (short key2 in charCombatSkills.Keys)
		{
			CombatSkillKey key = new CombatSkillKey(charIdA, key2);
			if (_combatSkillProficiencies.TryGetValue(key, out var value))
			{
				CombatSkillKey combatSkillKey = new CombatSkillKey(charIdB, key2);
				SetCombatSkillProficiency(context, combatSkillKey, value);
			}
		}
	}

	public void SetCombatSkillProficiency(DataContext context, CombatSkillKey combatSkillKey, int value)
	{
		if (_combatSkillProficiencies.ContainsKey(combatSkillKey))
		{
			SetElement_CombatSkillProficiencies(combatSkillKey, value, context);
		}
		else
		{
			AddElement_CombatSkillProficiencies(combatSkillKey, value, context);
		}
	}

	public void TransferTaiwuProficiency(DataContext context, int oldTaiwuCharId, int newTaiwuCharId)
	{
		List<short> list = ObjectPool<List<short>>.Instance.Get();
		List<short> list2 = ObjectPool<List<short>>.Instance.Get();
		foreach (CombatSkillKey key in _combatSkillProficiencies.Keys)
		{
			if (key.CharId == newTaiwuCharId)
			{
				list.Add(key.SkillTemplateId);
			}
			if (key.CharId == oldTaiwuCharId)
			{
				list2.Add(key.SkillTemplateId);
			}
		}
		foreach (short item in list)
		{
			if (!list2.Contains(item))
			{
				CombatSkillKey elementId = new CombatSkillKey(newTaiwuCharId, item);
				RemoveElement_CombatSkillProficiencies(elementId, context);
			}
		}
		foreach (short item2 in list2)
		{
			CombatSkillKey combatSkillKey = new CombatSkillKey(oldTaiwuCharId, item2);
			int value = _combatSkillProficiencies[combatSkillKey];
			RemoveElement_CombatSkillProficiencies(combatSkillKey, context);
			CombatSkillKey elementId2 = new CombatSkillKey(newTaiwuCharId, item2);
			if (list.Contains(item2))
			{
				SetElement_CombatSkillProficiencies(elementId2, value, context);
			}
			else
			{
				AddElement_CombatSkillProficiencies(elementId2, value, context);
			}
		}
		ObjectPool<List<short>>.Instance.Return(list);
		ObjectPool<List<short>>.Instance.Return(list2);
	}

	public short GetJumpThreshold(short combatSkillId)
	{
		if (!CombatSkillJumpThresholdIsValid(combatSkillId))
		{
			return -1;
		}
		short value;
		return _combatSkillJumpThreshold.TryGetValue(combatSkillId, out value) ? value : GlobalConfig.Instance.DefaultJumpThreshold;
	}

	public bool SetJumpThreshold(DataContext context, short combatSkillId, short threshold)
	{
		if (threshold <= 0)
		{
			return false;
		}
		if (!CombatSkillJumpThresholdIsValid(combatSkillId))
		{
			return false;
		}
		if (_combatSkillJumpThreshold.ContainsKey(combatSkillId))
		{
			SetElement_CombatSkillJumpThreshold(combatSkillId, threshold, context);
		}
		else
		{
			AddElement_CombatSkillJumpThreshold(combatSkillId, threshold, context);
		}
		return true;
	}

	private bool CombatSkillJumpThresholdIsValid(short combatSkillId)
	{
		if (!DomainManager.CombatSkill.GetBreakSuccess(DomainManager.Taiwu.GetTaiwuCharId(), combatSkillId))
		{
			return false;
		}
		CombatSkillItem combatSkillItem = Config.CombatSkill.Instance[combatSkillId];
		return combatSkillItem != null && combatSkillItem.MaxJumpDistance > 0;
	}

	private void FixAbnormalUnlockedCombatSkillPlan(DataContext context)
	{
		if (_unlockedCombatSkillPlanCount == 0)
		{
			SetUnlockedCombatSkillPlanCount(9, context);
		}
	}

	public bool HasCombatSkillExchangedSpecialWeapon(DataContext context, short skillId)
	{
		foreach (int exchangedSpecialWeapon in _exchangedSpecialWeaponList)
		{
			ZhujianCombatSkillToWeaponItem item = ZhujianCombatSkillToWeapon.Instance.GetItem(exchangedSpecialWeapon);
			if (item.CombatSkillId == skillId)
			{
				return true;
			}
		}
		return false;
	}

	public ItemKey ExchangeSpecialWeaponByCombatSkillIdForTaiwu(DataContext context, short skillId)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		ZhujianCombatSkillToWeaponItem config = null;
		ZhujianCombatSkillToWeapon.Instance.Iterate(delegate(ZhujianCombatSkillToWeaponItem e)
		{
			if (e.CombatSkillId == skillId)
			{
				config = e;
				return false;
			}
			return true;
		});
		if (config == null)
		{
			throw new Exception($"{skillId} is not a Zhujian combat skill that can exchange special weapon!");
		}
		if (_exchangedSpecialWeaponList.Contains(config.TemplateId))
		{
			throw new Exception($"{skillId} has already exchanged special weapon!");
		}
		ItemKey itemKey = DomainManager.Item.CreateWeapon(context, config.WeaponId, 1);
		EquipmentBase baseEquipment = DomainManager.Item.GetBaseEquipment(itemKey);
		baseEquipment.SetEquipmentEffectId(55, context);
		taiwu.AddInventoryItem(context, itemKey, 1);
		_exchangedSpecialWeaponList.Add(config.TemplateId);
		SetExchangedSpecialWeaponList(_exchangedSpecialWeaponList, context);
		return itemKey;
	}

	private void InitCricketExtraData(DataContext context)
	{
		List<int> allCricketIdList = DomainManager.Item.GetAllCricketIdList();
		for (int i = 0; i < allCricketIdList.Count; i++)
		{
			GameData.Domains.Item.Cricket element_Crickets = DomainManager.Item.GetElement_Crickets(allCricketIdList[i]);
			ItemKey itemKey = element_Crickets.GetItemKey();
			if (!_cricketIsSmart.ContainsKey(itemKey.Id))
			{
				AddElement_CricketIsSmart(itemKey.Id, CheckCricketIsSmart(context.Random, itemKey), context);
			}
			if (!_cricketIsIdentified.ContainsKey(itemKey.Id))
			{
				AddElement_CricketIsIdentified(itemKey.Id, value: false, context);
			}
		}
	}

	public void OnCricketCreated(DataContext context, ItemKey cricketKey)
	{
		bool value = CheckCricketIsSmart(context.Random, cricketKey);
		AddElement_CricketIsSmart(cricketKey.Id, value, context);
		AddElement_CricketIsIdentified(cricketKey.Id, value: false, context);
	}

	public bool IsCricketSmart(int cricketId)
	{
		return _cricketIsSmart.GetOrDefault(cricketId);
	}

	public bool IsCricketIdentified(int cricketId)
	{
		return _cricketIsIdentified.GetOrDefault(cricketId);
	}

	public void ForceCricketSmart(DataContext context, ItemKey itemKey)
	{
		if (_cricketIsSmart.ContainsKey(itemKey.Id))
		{
			SetElement_CricketIsSmart(itemKey.Id, value: true, context);
		}
		else
		{
			AddElement_CricketIsSmart(itemKey.Id, value: true, context);
		}
	}

	public void SetCricketIdentified(DataContext context, int cricketId)
	{
		if (_cricketIsIdentified.ContainsKey(cricketId))
		{
			SetElement_CricketIsIdentified(cricketId, value: true, context);
		}
		else
		{
			AddElement_CricketIsIdentified(cricketId, value: true, context);
		}
	}

	public void OnCricketRemoved(DataContext context, ItemKey cricketKey)
	{
		if (_cricketIsSmart.ContainsKey(cricketKey.Id))
		{
			RemoveElement_CricketIsSmart(cricketKey.Id, context);
		}
		if (_cricketIsIdentified.ContainsKey(cricketKey.Id))
		{
			RemoveElement_CricketIsIdentified(cricketKey.Id, context);
		}
	}

	[DomainMethod]
	public bool CanIdentifyCricket(int cricketId)
	{
		GameData.Domains.Item.Cricket element_Crickets = DomainManager.Item.GetElement_Crickets(cricketId);
		ItemKey itemKey = element_Crickets.GetItemKey();
		ItemDisplayData itemDisplayData = DomainManager.Item.GetItemDisplayData(itemKey);
		if (IsCricketIdentified(cricketId) || !element_Crickets.IsAlive || ItemTemplateHelper.GetCricketGrade(itemDisplayData.CricketColorId, itemDisplayData.CricketPartId) >= 7 || CricketParts.Instance[element_Crickets.GetColorId()].Type == ECricketPartsType.Trash || EventHelper.IsCricketGreat(itemKey))
		{
			return false;
		}
		return true;
	}

	[DomainMethod]
	public bool CanUpgradeCricket(int cricketId)
	{
		GameData.Domains.Item.Cricket element_Crickets = DomainManager.Item.GetElement_Crickets(cricketId);
		ItemKey itemKey = element_Crickets.GetItemKey();
		ItemDisplayData itemDisplayData = DomainManager.Item.GetItemDisplayData(itemKey);
		if (!IsCricketIdentified(cricketId) || !IsCricketSmart(cricketId) || !element_Crickets.IsAlive || ItemTemplateHelper.GetCricketGrade(itemDisplayData.CricketColorId, itemDisplayData.CricketPartId) >= 7 || CricketParts.Instance[element_Crickets.GetColorId()].Type == ECricketPartsType.Trash)
		{
			return false;
		}
		int seniorityPercent = GetProfessionData(17).GetSeniorityPercent();
		int num = 100 - seniorityPercent / 2;
		return element_Crickets.GetWinsCount() - element_Crickets.GetLossesCount() >= num;
	}

	public ItemKey UpgradeCricket(DataContext context, int charId, int cricketId)
	{
		GameData.Domains.Item.Cricket element_Crickets = DomainManager.Item.GetElement_Crickets(cricketId);
		if (!CanUpgradeCricket(cricketId) || !CricketUpgradeRandomPool.ContainsKey(element_Crickets.GetColorData().Type))
		{
			return ItemKey.Invalid;
		}
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		List<short> list = CricketUpgradeRandomPool[element_Crickets.GetColorData().Type];
		short colorId = list[context.Random.Next(list.Count)];
		ItemKey itemKey = DomainManager.Item.CreateCricket(context, colorId, 0);
		GameData.Domains.Item.Cricket element_Crickets2 = DomainManager.Item.GetElement_Crickets(itemKey.Id);
		element_Crickets2.SetCurrDurability(element_Crickets.GetCurrDurability(), context);
		element_Crickets2.SetAge(element_Crickets.GetAge(), context);
		element_Crickets2.SetWinsCount(element_Crickets.GetWinsCount(), context);
		element_Crickets2.SetLossesCount(element_Crickets.GetLossesCount(), context);
		element_Crickets2.SetBestEnemyColorId(element_Crickets.GetBestEnemyColorId(), context);
		element_Crickets2.SetBestEnemyPartId(element_Crickets.GetBestEnemyPartId(), context);
		element_Objects.RemoveInventoryItem(context, element_Crickets.GetItemKey(), 1, deleteItem: true);
		element_Objects.AddInventoryItem(context, itemKey, 1);
		DomainManager.Taiwu.ReplaceCricketPlan(context, element_Crickets.GetItemKey(), itemKey);
		return itemKey;
	}

	public void AdjustCricketExtraAge(DataContext context, int cricketId, short delta)
	{
		if (!Enumerable.Contains(_cricketExtraAge.Keys, cricketId))
		{
			DomainManager.Extra.AddElement_CricketExtraAge(cricketId, delta, context);
			return;
		}
		short value = (short)(_cricketExtraAge[cricketId] + delta);
		DomainManager.Extra.SetElement_CricketExtraAge(cricketId, value, context);
	}

	public short GetCricketExtraAge(int cricketId)
	{
		if (_cricketExtraAge == null)
		{
			return 0;
		}
		if (!_cricketExtraAge.TryGetValue(cricketId, out var value))
		{
			value = 0;
		}
		return value;
	}

	private bool CheckCricketIsSmart(IRandomSource random, ItemKey cricketKey)
	{
		GameData.Domains.Item.Cricket element_Crickets = DomainManager.Item.GetElement_Crickets(cricketKey.Id);
		if (ItemTemplateHelper.GetCricketGrade(element_Crickets.GetColorId(), element_Crickets.GetPartId()) >= 7 || CricketParts.Instance[DomainManager.Item.GetElement_Crickets(cricketKey.Id).GetColorId()].Type == ECricketPartsType.Trash)
		{
			return false;
		}
		return random.CheckPercentProb(20);
	}

	public int GetLastCricketPlan()
	{
		return _lastCricketPlanIndex;
	}

	public void SetLastCricketPlan(DataContext context, int lastCricketPlanIndex)
	{
		SetLastCricketPlanIndex(lastCricketPlanIndex, context);
	}

	public List<CricketCombatPlan> GetCricketPlans()
	{
		return _cricketCombatPlans;
	}

	public void SetCricketPlans(DataContext context, List<CricketCombatPlan> cricketPlans)
	{
		SetCricketCombatPlans(cricketPlans, context);
	}

	private void InitTaiwuSelectedDebateCardType(DataContext context)
	{
		List<sbyte> list = DebateGameGetPlayerSelectedStrategyCardTypes(DomainManager.Taiwu.GetTaiwuCharId());
		int num = 0;
		if (list != null)
		{
			foreach (sbyte item in list)
			{
				num |= 1 << (int)item;
			}
		}
		SetTaiwuSelectedDebateCardType(num, context);
	}

	public List<sbyte> DebateGameGetPlayerSelectedStrategyCardTypes(int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		List<(sbyte, short)> list = new List<(sbyte, short)>();
		List<sbyte> list2 = new List<sbyte>();
		for (sbyte b = 0; b < 16; b++)
		{
			list.Add((b, element_Objects.GetLifeSkillAttainment(b)));
		}
		list.Sort(DebateGameCompareDebaterAttainment);
		for (int i = 0; i < DebateConstants.CardTypeLimit; i++)
		{
			list2.Add(list[i].Item1);
		}
		return list2;
	}

	private int DebateGameCompareDebaterAttainment((sbyte, short) a, (sbyte, short) b)
	{
		return -a.Item2.CompareTo(b.Item2);
	}

	public void SaveDlcArgBox(DataContext context)
	{
		SetDlcArgBox(_dlcArgBox, context);
	}

	public EventArgBox GetOrCreateDlcArgBox(ulong appId, DataContext context)
	{
		Tester.Assert(DlcConstants.DlcAppIds.Contains(appId), $"Wrong Dlc AppId:{appId}");
		if (TryGetElement_DlcArgBoxes(appId, out var value))
		{
			return value;
		}
		EventArgBox eventArgBox = new EventArgBox();
		AddElement_DlcArgBoxes(appId, eventArgBox, context);
		return eventArgBox;
	}

	public void SetDlcArgBox(ulong appId, EventArgBox argBox, DataContext context)
	{
		Tester.Assert(DlcConstants.DlcAppIds.Contains(appId), $"Wrong Dlc AppId:{appId}");
		if (TryGetElement_DlcArgBoxes(appId, out var _))
		{
			SetElement_DlcArgBoxes(appId, argBox, context);
		}
		else
		{
			AddElement_DlcArgBoxes(appId, argBox, context);
		}
	}

	public void SetDlcEntry(DataContext context, DlcId dlcId, IDlcEntry dlcEntry)
	{
		if (_dlcEntries.TryGetValue(dlcId.AppId, out var value))
		{
			value.Update(dlcId.Version, dlcEntry);
			SetElement_DlcEntries(dlcId.AppId, value, context);
		}
		else
		{
			value = new DlcEntryWrapper(dlcId, dlcEntry);
			AddElement_DlcEntries(dlcId.AppId, value, context);
		}
	}

	public bool TryGetDlcEntry<T>(ulong appId, out T entry) where T : class, IDlcEntry
	{
		if (_dlcEntries.TryGetValue(appId, out var value))
		{
			entry = value.GetDlcEntry() as T;
			return true;
		}
		entry = null;
		return false;
	}

	public bool IsLocationInDreamBack(Location location)
	{
		int i = 0;
		for (int count = _dreamBackLocationData.Count; i < count; i++)
		{
			if (_dreamBackLocationData[i].Location == location)
			{
				return true;
			}
		}
		return false;
	}

	private void InitializeDreamBackLifeRecordsCacheData()
	{
		_dreamBackLifeRecordsTaiwuRelatedCharacters = new Dictionary<int, short>();
		int index = -1;
		int offset = -1;
		while (_dreamBackLifeRecords.Next(ref index, ref offset))
		{
			var (num, num2) = _dreamBackLifeRecords.GetDreamBackRelatedCharacterId(offset);
			if (GameData.Domains.Character.Character.IsCharacterIdValid(num) && (!_dreamBackLifeRecordsTaiwuRelatedCharacters.ContainsKey(num) || _dreamBackLifeRecordsTaiwuRelatedCharacters[num] > num2))
			{
				_dreamBackLifeRecordsTaiwuRelatedCharacters[num] = num2;
			}
		}
	}

	public bool TryGetDreamBackLifeRecordByRelatedCharId(int charId, out short templateId)
	{
		return _dreamBackLifeRecordsTaiwuRelatedCharacters.TryGetValue(charId, out templateId);
	}

	public bool IsCharacterDreamBackTaiwuDescendant(int charId, List<SpouseAndChildren> spouses, int generation)
	{
		Tester.Assert(generation >= 1);
		if (generation == 1)
		{
			if (spouses != null)
			{
				foreach (SpouseAndChildren spouse in spouses)
				{
					if (spouse == null || spouse.Children == null)
					{
						continue;
					}
					foreach (CharIdAndRelation child in spouse.Children)
					{
						if (charId == child.CharId)
						{
							return true;
						}
					}
				}
			}
		}
		else if (spouses != null)
		{
			foreach (SpouseAndChildren spouse2 in spouses)
			{
				if (spouse2 == null || spouse2.BloodChildrenSpouses == null)
				{
					continue;
				}
				foreach (SpousesAndChildren bloodChildrenSpouse in spouse2.BloodChildrenSpouses)
				{
					if (IsCharacterDreamBackTaiwuDescendant(charId, bloodChildrenSpouse.Spouses, generation - 1))
					{
						return true;
					}
				}
			}
		}
		return false;
	}

	public bool IsCharacterDreamBackTaiwuGrandchild(int charId)
	{
		return IsCharacterDreamBackTaiwuDescendant(charId, _dreamBackGenealogy.Spouses, 2);
	}

	private void InitializeSectMainStoryEventArgBoxes()
	{
		for (int i = 0; i < 15; i++)
		{
			if (_sectMainStoryEventArgBoxes[i] == null)
			{
				_sectMainStoryEventArgBoxes[i] = new EventArgBox();
			}
		}
	}

	public EventArgBox GetSectMainStoryEventArgBox(sbyte orgTemplateId)
	{
		sbyte largeSectIndex = OrganizationDomain.GetLargeSectIndex(orgTemplateId);
		return _sectMainStoryEventArgBoxes[largeSectIndex];
	}

	public void SaveSectMainStoryEventArgumentBox(DataContext context, sbyte orgTemplateId)
	{
		sbyte largeSectIndex = OrganizationDomain.GetLargeSectIndex(orgTemplateId);
		SetElement_SectMainStoryEventArgBoxes(largeSectIndex, _sectMainStoryEventArgBoxes[largeSectIndex], context);
	}

	public void SaveArgToSectMainStoryEventArgBox<T>(DataContext context, sbyte orgTemplateId, string key, T value)
	{
		sbyte largeSectIndex = OrganizationDomain.GetLargeSectIndex(orgTemplateId);
		EventArgBox eventArgBox = _sectMainStoryEventArgBoxes[largeSectIndex];
		eventArgBox.GenericSet(key, value);
		SetElement_SectMainStoryEventArgBoxes(largeSectIndex, eventArgBox, context);
	}

	public void RemoveArgToSectMainStoryEventArgBox<T>(DataContext context, sbyte orgTemplateId, string key)
	{
		sbyte largeSectIndex = OrganizationDomain.GetLargeSectIndex(orgTemplateId);
		EventArgBox eventArgBox = _sectMainStoryEventArgBoxes[largeSectIndex];
		eventArgBox.Remove<T>(key);
		SetElement_SectMainStoryEventArgBoxes(largeSectIndex, eventArgBox, context);
	}

	public bool IsOneShotEventHandled(int oneShotEventType)
	{
		return _handledOneShotEvents.ContainsKey(oneShotEventType);
	}

	public void SetOneShotEventHandled(DataContext context, int oneShotEventType)
	{
		if (!_handledOneShotEvents.ContainsKey(oneShotEventType))
		{
			AddElement_HandledOneShotEvents(oneShotEventType, default(VoidValue), context);
		}
		AdaptableLog.TagInfo("One Shot Event", $"One shot event {oneShotEventType} is being handled.");
		Events.RaiseOneShotEventHandled(context, oneShotEventType);
	}

	private void FixSectMainStoryEventArgs(DataContext context)
	{
		EventArgBox sectMainStoryEventArgBox = GetSectMainStoryEventArgBox(1);
		int arg = 0;
		int arg2 = 0;
		if (sectMainStoryEventArgBox.Get("ConchShip_PresetKey_ShaolinDamoFightDefeatDate", ref arg) && !sectMainStoryEventArgBox.Get("ConchShip_PresetKey_StudyForBodhidharmaChallenge", ref arg2))
		{
			arg2 = arg + 6;
			sectMainStoryEventArgBox.Remove<int>("ConchShip_PresetKey_ShaolinDamoFightDefeatDate");
			sectMainStoryEventArgBox.Set("ConchShip_PresetKey_StudyForBodhidharmaChallenge", arg2);
			SaveSectMainStoryEventArgumentBox(context, 1);
		}
		if (DomainManager.Extra.IsExtraTaskInProgress(224))
		{
			sbyte arg3 = -1;
			arg3 = (sbyte)((sectMainStoryEventArgBox.Get("ConchShip_PresetKey_ShaolinCombatSkillType", ref arg3) && arg3 >= 0) ? arg3 : 0);
			int num = sectMainStoryEventArgBox.GetInt("ConchShip_PresetKey_ShaolinDamoFightTimes");
			IReadOnlyList<CombatSkillItem> learnableCombatSkills = CombatSkillDomain.GetLearnableCombatSkills(1, arg3);
			int num2 = 0;
			foreach (CombatSkillItem item in learnableCombatSkills)
			{
				if (CombatSkillDomain.GetCombatSkillGradeGroup(item.Grade, 1, arg3) == num)
				{
					TaskInfoItem taskInfoItem = TaskInfo.Instance[224];
					string[] combatSkillIdsEventArgBoxKey = taskInfoItem.CombatSkillIdsEventArgBoxKey;
					if (combatSkillIdsEventArgBoxKey != null && combatSkillIdsEventArgBoxKey.Length > 0 && num2 < taskInfoItem.CombatSkillIdsEventArgBoxKey.Length)
					{
						string key = taskInfoItem.CombatSkillIdsEventArgBoxKey[num2];
						sectMainStoryEventArgBox.Set(key, item.TemplateId);
					}
					num2++;
				}
			}
			SaveSectMainStoryEventArgumentBox(context, 1);
			Logger.Warn("Fixed   shaolin SectMainStory  task:Shaolin_Endeavor Error");
		}
		if (DomainManager.Extra.IsExtraTaskInProgress(109) || DomainManager.Extra.IsExtraTaskInProgress(112))
		{
			EventArgBox sectMainStoryEventArgBox2 = GetSectMainStoryEventArgBox(10);
			if (!sectMainStoryEventArgBox2.Contains<int>("ConchShip_PresetKey_LiaoWumingQuestStartDate"))
			{
				if (DomainManager.Character.TryGetFixedCharacterByTemplateId(668, out var character))
				{
					Events.RaiseFixedCharacterLocationChanged(context, character.GetId(), character.GetLocation(), Location.Invalid);
					character.SetLocation(Location.Invalid, context);
				}
				sectMainStoryEventArgBox2.Set("ConchShip_PresetKey_LiaoWumingQuestStartDate", DomainManager.World.GetCurrDate());
				DomainManager.Extra.SaveSectMainStoryEventArgumentBox(context, 10);
				Logger.Warn("Fixed  Kongsang SectMainStory");
			}
		}
		if (DomainManager.World.GetSectMainStoryTaskStatus(3) == 1)
		{
			EventArgBox sectMainStoryEventArgBox3 = DomainManager.Extra.GetSectMainStoryEventArgBox(3);
			if (!sectMainStoryEventArgBox3.Contains<bool>("ConchShip_PresetKey_BaihuaFixedLMFavor"))
			{
				DomainManager.Extra.SaveArgToSectMainStoryEventArgBox(context, 3, "ConchShip_PresetKey_BaihuaFixedLMFavor", value: true);
				GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
				GameData.Domains.Character.Character orCreateFixedCharacterByTemplateId = DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, 781);
				GameData.Domains.Character.Character orCreateFixedCharacterByTemplateId2 = DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, 786);
				GameData.Domains.Character.Character orCreateFixedCharacterByTemplateId3 = DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, 808);
				GameData.Domains.Character.Character orCreateFixedCharacterByTemplateId4 = DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, 809);
				orCreateFixedCharacterByTemplateId.SetHappiness(75, context);
				orCreateFixedCharacterByTemplateId2.SetHappiness(75, context);
				orCreateFixedCharacterByTemplateId3.SetHappiness(75, context);
				orCreateFixedCharacterByTemplateId4.SetHappiness(75, context);
				DomainManager.Character.DirectlySetFavorabilities(context, orCreateFixedCharacterByTemplateId.GetId(), taiwu.GetId(), 30000, 30000);
				DomainManager.Character.DirectlySetFavorabilities(context, orCreateFixedCharacterByTemplateId2.GetId(), taiwu.GetId(), 30000, 30000);
				DomainManager.Character.DirectlySetFavorabilities(context, orCreateFixedCharacterByTemplateId3.GetId(), taiwu.GetId(), 30000, 30000);
				DomainManager.Character.DirectlySetFavorabilities(context, orCreateFixedCharacterByTemplateId4.GetId(), taiwu.GetId(), 30000, 30000);
				Logger.Warn("Fixed  baihua SectMainStory");
			}
			GameData.Domains.Character.Character orCreateFixedCharacterByTemplateId5 = DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, 781);
			if (!orCreateFixedCharacterByTemplateId5.GetLocation().IsValid() && !sectMainStoryEventArgBox3.Contains<int>("ConchShip_PresetKey_BaihuaLMTransferAnimalDate"))
			{
				DomainManager.Extra.SaveArgToSectMainStoryEventArgBox(context, 3, "ConchShip_PresetKey_BaihuaLMTransferAnimalDate", DomainManager.World.GetCurrDate() - GlobalConfig.Instance.BaihuaLifeLinkRemoveCharacterCooldown);
				Logger.Warn("Fixed  baihua SectMainStory leukorpus  wrong location");
			}
		}
	}

	public void InitFeasts(DataContext context)
	{
		List<ulong> list = new List<ulong>();
		foreach (ulong key in _feasts.Keys)
		{
			list.Add(key);
		}
		foreach (ulong item in list)
		{
			RemoveElement_Feasts(item, context);
		}
		Dictionary<BuildingBlockKey, CharacterList> allComfortableHouses = DomainManager.Building.GetAllComfortableHouses();
		foreach (BuildingBlockKey key2 in allComfortableHouses.Keys)
		{
			SetFeast(context, key2, GetFeast(key2));
		}
	}

	public IReadOnlyDictionary<ulong, GameData.Domains.Building.Feast> GetAllFeasts()
	{
		return _feasts;
	}

	[DomainMethod]
	public GameData.Domains.Building.Feast GetFeast(BuildingBlockKey blockKey)
	{
		GameData.Domains.Building.Feast value;
		return TryGetElement_Feasts((ulong)blockKey, out value) ? value : new GameData.Domains.Building.Feast(blockKey);
	}

	public void SetFeast(DataContext context, BuildingBlockKey blockKey, GameData.Domains.Building.Feast feast)
	{
		ulong num = (ulong)blockKey;
		if (_feasts.ContainsKey(num))
		{
			SetElement_Feasts(num, feast, context);
		}
		else
		{
			AddElement_Feasts(num, feast, context);
		}
	}

	public void RemoveFeast(DataContext context, BuildingBlockKey blockKey)
	{
		FeastReceiveGift(context, blockKey, -1);
		for (int i = 0; i < GlobalConfig.Instance.FeastCount; i++)
		{
			FeastRemoveDish(context, blockKey, i);
		}
		ulong num = (ulong)blockKey;
		if (_feasts.ContainsKey(num))
		{
			RemoveElement_Feasts(num, context);
		}
	}

	[DomainMethod]
	public void FeastRemoveDish(DataContext context, BuildingBlockKey blockKey, int index, ItemSourceType sourceType = ItemSourceType.Invalid)
	{
		GameData.Domains.Building.Feast feast = GetFeast(blockKey);
		ItemKey dish = feast.GetDish(index);
		if (!dish.IsValid())
		{
			return;
		}
		feast.DishDurability.Remove(index, out var value);
		feast.Dish[index] = ItemKey.Invalid;
		DomainManager.Item.RemoveOwner(dish, ItemOwnerType.Building, 47);
		if (value < GlobalConfig.Instance.FeastDurability)
		{
			DomainManager.Item.RemoveItem(context, dish);
		}
		else
		{
			if (sourceType == ItemSourceType.Invalid)
			{
				sourceType = DomainManager.Building.ApplyBuildingItemOutputSetting(feast.BuildingBlockKey, dish);
			}
			DomainManager.Taiwu.AddItem(context, dish, 1, sourceType);
		}
		SetFeast(context, blockKey, feast);
	}

	[DomainMethod]
	public void FeastAddDish(DataContext context, BuildingBlockKey blockKey, int index, ItemKey itemKey, ItemSourceType sourceType)
	{
		GameData.Domains.Building.Feast feast = GetFeast(blockKey);
		if (feast.GetDish(index).IsValid())
		{
			FeastRemoveDish(context, blockKey, index, sourceType);
		}
		feast.Dish[index] = itemKey;
		feast.DishDurability[index] = GlobalConfig.Instance.FeastDurability;
		DomainManager.Taiwu.RemoveItem(context, itemKey, 1, sourceType, deleteItem: false);
		DomainManager.Item.SetOwner(itemKey, ItemOwnerType.Building, 47);
		SetFeast(context, blockKey, feast);
	}

	[DomainMethod]
	public bool IsFeastException(DataContext context, BuildingBlockKey blockKey)
	{
		GameData.Domains.Building.Feast feast = GetFeast(blockKey);
		return feast.GetInUseDishSlotCount() <= 0;
	}

	[DomainMethod]
	public void FeastSetAutoRefill(DataContext context, BuildingBlockKey blockKey, bool value)
	{
		GameData.Domains.Building.Feast feast = GetFeast(blockKey);
		feast.AutoRefill = value;
		SetFeast(context, blockKey, feast);
	}

	[DomainMethod]
	public void FeastQuickRefill(DataContext context, BuildingBlockKey blockKey)
	{
		List<int> diet = new List<int>();
		List<ItemKey> items = new List<ItemKey>();
		GameData.Domains.Building.Feast feast = GetFeast(blockKey);
		if (DomainManager.Building.BuildingBlockLevel(feast.BuildingBlockKey) != 0)
		{
			List<int> collection = DomainManager.Building.GetCharsInComfortableHouse(context, feast.BuildingBlockKey).GetCollection();
			FeastAutoRefill(context, feast, items, diet, collection);
		}
	}

	[DomainMethod]
	public void FeastSetTargetType(DataContext context, BuildingBlockKey blockKey, short targetType)
	{
		GameData.Domains.Building.Feast feast = GetFeast(blockKey);
		feast.TargetType = targetType;
		SetFeast(context, blockKey, feast);
	}

	[DomainMethod]
	public void FeastReceiveGift(DataContext context, BuildingBlockKey blockKey, int index)
	{
		GameData.Domains.Building.Feast feast = GetFeast(blockKey);
		if (index >= 0)
		{
			ReceiveGift(context, feast, index);
		}
		else
		{
			for (int i = 0; i < GlobalConfig.Instance.FeastGiftCount; i++)
			{
				ReceiveGift(context, feast, i);
			}
		}
		SetFeast(context, blockKey, feast);
	}

	public void FeastAddGift(DataContext context, GameData.Domains.Building.Feast feast, ItemKey itemKey, int amount)
	{
		if (feast.GetInUseGiftSlotCount() >= GlobalConfig.Instance.FeastGiftCount)
		{
			FeastReceiveGift(context, feast.BuildingBlockKey, -1);
		}
		for (int i = 0; i < GlobalConfig.Instance.FeastGiftCount; i++)
		{
			if (feast.GetGift(i) == ItemKey.Invalid)
			{
				feast.Gift[i] = itemKey;
				feast.GiftCount[i] = amount;
				break;
			}
		}
		SetFeast(context, feast.BuildingBlockKey, feast);
	}

	public void FeastAdvanceMonth(DataContext context)
	{
		DomainManager.Building.ClearFeastParticipants();
		List<int> list = new List<int>();
		List<ItemKey> items = new List<ItemKey>();
		foreach (var (num2, feast2) in _feasts)
		{
			if (DomainManager.Building.BuildingBlockLevel(feast2.BuildingBlockKey) != 0)
			{
				List<int> collection = DomainManager.Building.GetCharsInComfortableHouse(context, feast2.BuildingBlockKey).GetCollection();
				for (int num3 = collection.Count - 1; num3 >= 0; num3--)
				{
					DomainManager.Building.TryRemoveFeastCustomer(context, collection[num3]);
				}
				if (feast2.AutoRefill)
				{
					FeastAutoRefill(context, feast2, items, list, collection);
				}
				FeastResidentTryEat(context, feast2, items, list, collection);
				if (feast2.GetInUseDishSlotCount() <= 0)
				{
					BuildingBlockKey buildingBlockKey = (BuildingBlockKey)num2;
					BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(buildingBlockKey);
					DomainManager.Building.AddBuildingException(buildingBlockKey, buildingBlockData, BuildingExceptionType.ComfortableHouseEntertainNoFood);
				}
			}
		}
	}

	public void ExchangeFeast(DataContext context, BuildingBlockKey keyA, BuildingBlockKey keyB)
	{
		ulong elementId = (ulong)keyA;
		ulong elementId2 = (ulong)keyB;
		GameData.Domains.Building.Feast value;
		bool flag = TryGetElement_Feasts(elementId, out value);
		GameData.Domains.Building.Feast value2;
		bool flag2 = TryGetElement_Feasts(elementId2, out value2);
		if (flag && flag2)
		{
			RemoveElement_Feasts(elementId, context);
			RemoveElement_Feasts(elementId2, context);
			value.BuildingBlockKey = keyB;
			value2.BuildingBlockKey = keyA;
			AddElement_Feasts(elementId2, value, context);
			AddElement_Feasts(elementId, value2, context);
		}
		else if (flag)
		{
			RemoveElement_Feasts(elementId, context);
			value.BuildingBlockKey = keyB;
			AddElement_Feasts(elementId2, value, context);
		}
		else if (flag2)
		{
			RemoveElement_Feasts(elementId2, context);
			value2.BuildingBlockKey = keyA;
			AddElement_Feasts(elementId, value2, context);
		}
	}

	private void ReceiveGift(DataContext context, GameData.Domains.Building.Feast feast, int index)
	{
		ItemKey itemKey = feast.GetGift(index);
		if (itemKey == ItemKey.Invalid)
		{
			return;
		}
		ItemSourceType itemSourceType = DomainManager.Building.ApplyBuildingItemOutputSetting(feast.BuildingBlockKey, itemKey);
		feast.GiftCount.Remove(index, out var value);
		feast.Gift[index] = ItemKey.Invalid;
		if (ItemTemplateHelper.IsMiscResource(itemKey.ItemType, itemKey.TemplateId))
		{
			DomainManager.Taiwu.GetTaiwu().ChangeResource(context, ItemTemplateHelper.GetMiscResourceType(itemKey.ItemType, itemKey.TemplateId), value);
			return;
		}
		if (itemKey.IsValid())
		{
			DomainManager.Item.RemoveOwner(itemKey, ItemOwnerType.Building, 47);
		}
		if (ItemTemplateHelper.IsThanksLetter(itemKey.ItemType, itemKey.TemplateId))
		{
			itemKey = DomainManager.Item.CreateMisc(context, itemKey.TemplateId);
			itemSourceType = ItemSourceType.Inventory;
		}
		DomainManager.Taiwu.AddItem(context, itemKey, value, itemSourceType);
	}

	[DomainMethod]
	public void UseFeastThanksLetter(DataContext context, ItemKey itemKey, int amount)
	{
		MiscItem miscItem = Config.Misc.Instance[itemKey.TemplateId];
		if (miscItem != null)
		{
			DomainManager.Taiwu.GetTaiwu().ChangeExp(context, miscItem.GainExp * amount);
			DomainManager.Taiwu.RemoveItem(context, itemKey, amount, ItemSourceType.Inventory, deleteItem: true);
		}
	}

	private void FeastAutoRefill(DataContext context, GameData.Domains.Building.Feast feast, List<ItemKey> items, List<int> diet, List<int> characters)
	{
		if (feast.IsFull)
		{
			return;
		}
		bool flag = false;
		bool flag2 = false;
		Inventory inventory = GetStockStorage().Inventories[1];
		bool flag3 = false;
		diet.Clear();
		foreach (int character in characters)
		{
			if (DomainManager.Character.TryGetElement_Objects(character, out var element))
			{
				diet.Add(element.GetHatingItemSubType());
				flag = flag || element.IsForbiddenToDrinkingWines();
				flag2 = flag2 || element.IsForbiddenToEatMeat();
			}
		}
		for (int i = 0; i < GlobalConfig.Instance.FeastCount; i++)
		{
			if (feast.GetDish(i).IsValid())
			{
				continue;
			}
			items.Clear();
			if (!flag3)
			{
				foreach (ItemKey key in inventory.Items.Keys)
				{
					short itemSubType = ItemTemplateHelper.GetItemSubType(key.ItemType, key.TemplateId);
					if (diet.Contains(itemSubType))
					{
						continue;
					}
					if (key.ItemType == 9)
					{
						if (itemSubType != 901 || !flag)
						{
							items.Add(key);
						}
					}
					else if (key.ItemType == 7 && (itemSubType != 701 || !flag2))
					{
						items.Add(key);
					}
				}
				if (items.Count == 0)
				{
					flag3 = true;
					FeastAddRandomDishFromStock(context, feast, inventory, items, i);
				}
				else
				{
					FeastAddDishFromList(context, feast, items, i);
				}
			}
			else
			{
				FeastAddRandomDishFromStock(context, feast, inventory, items, i);
			}
		}
	}

	private void FeastAddRandomDishFromStock(DataContext context, GameData.Domains.Building.Feast feast, Inventory inventory, List<ItemKey> items, int index)
	{
		foreach (ItemKey key in inventory.Items.Keys)
		{
			if (key.ItemType == 9)
			{
				items.Add(key);
			}
			else if (key.ItemType == 7)
			{
				items.Add(key);
			}
		}
		FeastAddDishFromList(context, feast, items, index);
	}

	private void FeastAddDishFromList(DataContext context, GameData.Domains.Building.Feast feast, List<ItemKey> items, int index)
	{
		if (items.Count == 0)
		{
			return;
		}
		if (feast.TargetType >= 0)
		{
			FeastItem feastItem = Config.Feast.Instance[feast.TargetType];
			int num = feastItem.RequirementData.Sum((int[] d) => d[0]);
			int num2 = num;
			sbyte b = sbyte.MaxValue;
			List<EFoodFoodType> foodTypeList = new List<EFoodFoodType>();
			Dictionary<EFoodFoodType, int> dictionary = new Dictionary<EFoodFoodType, int>();
			Dictionary<short, int> countBySubType = new Dictionary<short, int>();
			foreach (var (num4, itemKey2) in feast.Dish)
			{
				if (!itemKey2.HasTemplate)
				{
					continue;
				}
				b = Math.Min(b, ItemTemplateHelper.GetGrade(itemKey2.ItemType, itemKey2.TemplateId));
				GameData.Domains.Building.Feast.GetFoodTypeList(itemKey2, foodTypeList);
				foreach (EFoodFoodType item in foodTypeList)
				{
					dictionary.TryGetValue(item, out var value);
					dictionary[item] = value + 1;
				}
				short itemSubType = ItemTemplateHelper.GetItemSubType(itemKey2.ItemType, itemKey2.TemplateId);
				countBySubType.TryGetValue(itemSubType, out var value2);
				countBySubType[itemSubType] = value2 + 1;
			}
			bool flag = true;
			ItemKey itemKey3 = ItemKey.Invalid;
			for (int num5 = 0; num5 < feastItem.RequirementType.Count; num5++)
			{
				EFeastRequirementType eFeastRequirementType = feastItem.RequirementType[num5];
				int[] array = feastItem.RequirementData[num5];
				int num6 = array[0];
				int requirementGrade = array[1];
				EFoodFoodType targetFoodType = GameData.Domains.Building.Feast.GetFoodType(eFeastRequirementType);
				int orDefault = dictionary.GetOrDefault(targetFoodType);
				num2 -= orDefault;
				bool flag2 = ((eFeastRequirementType == EFeastRequirementType.SubTypeDiff) ? countBySubType.All((KeyValuePair<short, int> p) => p.Value <= 1) : (num2 >= 1));
				bool flag3 = b >= requirementGrade;
				if (!flag2 || !flag3)
				{
					flag = false;
					break;
				}
				int num7 = num6 - orDefault;
				int num8 = ((eFeastRequirementType == EFeastRequirementType.SubTypeDiff) ? (from k in items
					group k by ItemTemplateHelper.GetItemSubType(k.ItemType, k.TemplateId) into g
					select g.Key).Distinct().ToList().Count : items.Count((ItemKey k) => GameData.Domains.Building.Feast.GetFoodTypeList(k, foodTypeList).Contains(targetFoodType) && ItemTemplateHelper.GetGrade(k.ItemType, k.TemplateId) >= requirementGrade));
				if (num8 < num7)
				{
					flag = false;
					break;
				}
				ItemKey itemKey4 = ((eFeastRequirementType == EFeastRequirementType.SubTypeDiff) ? items.FirstOrDefault((ItemKey k) => ItemTemplateHelper.GetGrade(k.ItemType, k.TemplateId) >= requirementGrade && !countBySubType.ContainsKey(ItemTemplateHelper.GetItemSubType(k.ItemType, k.TemplateId)), ItemKey.Invalid) : items.FirstOrDefault((ItemKey k) => ItemTemplateHelper.GetGrade(k.ItemType, k.TemplateId) >= requirementGrade && GameData.Domains.Building.Feast.GetFoodTypeList(k, foodTypeList).Contains(targetFoodType), ItemKey.Invalid));
				if (!itemKey4.IsValid())
				{
					flag = false;
					break;
				}
				itemKey3 = itemKey4;
			}
			if (flag)
			{
				FeastAddDish(context, feast.BuildingBlockKey, index, itemKey3, ItemSourceType.StockStorageGoodsShelf);
				return;
			}
		}
		FeastAddDish(context, feast.BuildingBlockKey, index, items[context.Random.Next(items.Count)], ItemSourceType.StockStorageGoodsShelf);
	}

	private void FeastResidentTryEat(DataContext context, GameData.Domains.Building.Feast feast, List<ItemKey> items, List<int> indexes, List<int> characters)
	{
		if (feast.CheckAvoidAutoCheckIn())
		{
			DomainManager.Building.RemoveAllFromComfortableHouse(context, feast.BuildingBlockKey);
			return;
		}
		short feastType = feast.GetFeastType();
		AddUnlockedFestType(context, feastType);
		foreach (int character in characters)
		{
			if (!DomainManager.Character.TryGetElement_Objects(character, out var element))
			{
				continue;
			}
			if (element.GetEatingItems().GetAvailableEatingSlot(element.GetCurrMaxEatingSlotsCount()) < 0)
			{
				ShopEventCollection orCreateShopEventCollection = DomainManager.Building.GetOrCreateShopEventCollection(feast.BuildingBlockKey);
				LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
				orCreateShopEventCollection.AddBanquet_10(DomainManager.World.GetCurrDate(), character);
				lifeRecordCollection.AddBanquet_10(character, DomainManager.World.GetCurrDate());
				continue;
			}
			int num = (Config.Feast.Instance[feastType].IgnoreHate ? (-1) : element.GetHatingItemSubType());
			bool flag = element.IsForbiddenToDrinkingWines();
			bool flag2 = element.IsForbiddenToEatMeat();
			indexes.Clear();
			for (int i = 0; i < GlobalConfig.Instance.FeastCount; i++)
			{
				ItemKey dish = feast.GetDish(i);
				if (dish.IsValid())
				{
					short itemSubType = ItemTemplateHelper.GetItemSubType(dish.ItemType, dish.TemplateId);
					if (num != itemSubType && (!flag || itemSubType != 901) && (!flag2 || itemSubType != 701))
					{
						indexes.Add(i);
					}
				}
			}
			if (indexes.Count == 0)
			{
				FeastEmptyPenalty(context, feast, element);
			}
			else
			{
				FeastEatDish(context, feast, items, indexes, element, feastType, characters);
			}
		}
	}

	private void FeastEmptyPenalty(DataContext context, GameData.Domains.Building.Feast feast, GameData.Domains.Character.Character character)
	{
		character.ChangeHappiness(context, GlobalConfig.Instance.FeastEmptyHappinessPenalize);
		DomainManager.Character.ChangeFavorabilityOptional(context, character, DomainManager.Taiwu.GetTaiwu(), GlobalConfig.Instance.FeastEmptyFavorPenalize, -1);
		ShopEventCollection orCreateShopEventCollection = DomainManager.Building.GetOrCreateShopEventCollection(feast.BuildingBlockKey);
		orCreateShopEventCollection.AddBanquet_9(DomainManager.World.GetCurrDate(), character.GetId());
		LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
		lifeRecordCollection.AddBanquet_9(character.GetId(), DomainManager.World.GetCurrDate());
	}

	private void FeastEatDish(DataContext context, GameData.Domains.Building.Feast feast, List<ItemKey> items, List<int> indexes, GameData.Domains.Character.Character character, short feastType, List<int> characters)
	{
		int num = indexes[context.Random.Next(indexes.Count)];
		ItemKey dish = feast.GetDish(num);
		ItemKey dishCopy = DomainManager.Item.CreateCopyOfItem(context, dish);
		int id = character.GetId();
		sbyte grade = ItemTemplateHelper.GetGrade(dish.ItemType, dish.TemplateId);
		int num2 = GlobalConfig.Instance.FeastBaseHappiness[grade];
		int num3 = GlobalConfig.Instance.FeastBaseFaovr[grade];
		sbyte b = DomainManager.Building.BuildingBlockLevel(feast.BuildingBlockKey);
		int num4 = GlobalConfig.Instance.FeastBuildingLevelHappinessPercent[b - 1];
		int num5 = GlobalConfig.Instance.FeastBuildingLevelFavorPercent[b - 1];
		FeastItem feastItem = Config.Feast.Instance[feastType];
		bool flag = feastItem.ForceLove || character.GetLovingItemSubType() == ItemTemplateHelper.GetItemSubType(dish.ItemType, dish.TemplateId);
		if (flag)
		{
			num4 += GlobalConfig.Instance.FeastLoveItemHappinessPercent;
			num5 += GlobalConfig.Instance.FeastLoveItemFavorPercent;
		}
		num4 += feastItem.HappinessPercent;
		num5 += feastItem.FavorPercent;
		num2 = num2 * num4 / 100;
		num3 = num3 * num5 / 100;
		character.ChangeHappiness(context, num2);
		DomainManager.Character.ChangeFavorabilityOptional(context, character, DomainManager.Taiwu.GetTaiwu(), num3, -1);
		int num6 = num3 * feastItem.ExpPercent / 100;
		int num7 = num3 * feastItem.OtherFavorPercent / 100;
		if (num6 > 0)
		{
			character.ChangeExp(context, num6);
		}
		if (num7 > 0 && characters.Count > 1)
		{
			indexes.Clear();
			foreach (int character2 in characters)
			{
				if (id != character2)
				{
					indexes.Add(character2);
				}
			}
			int objectId = indexes[context.Random.Next(indexes.Count)];
			if (DomainManager.Character.TryGetElement_Objects(objectId, out var element))
			{
				DomainManager.Character.ChangeFavorabilityOptional(context, character, element, num3, -1);
			}
		}
		bool flag2 = character.GetOrganizationInfo().OrgTemplateId == 16;
		int num8 = Math.Max(0, grade + GlobalConfig.Instance.FeastGiftGradeFactor[0] + (flag ? 1 : 0) + ((!flag2) ? (-1) : 0) + feastItem.GiftBonus + 1);
		int num9 = Math.Max(0, num8 + GlobalConfig.Instance.FeastGiftGradeFactor[1]);
		sbyte b2 = (sbyte)((num8 > 0) ? context.Random.Next(num9, num8) : 0);
		IReadOnlyDictionary<ItemKey, int> taiwuGiftItems = GetTaiwuGiftItems(id);
		items.Clear();
		foreach (var (itemKey2, _) in character.GetInventory().Items)
		{
			if (!taiwuGiftItems.ContainsKey(itemKey2) && ItemTemplateHelper.IsTransferable(itemKey2.ItemType, itemKey2.TemplateId) && ItemTemplateHelper.GetGrade(itemKey2.ItemType, itemKey2.TemplateId) == b2)
			{
				items.Add(itemKey2);
			}
		}
		int num12;
		ItemKey itemKey3;
		if (items.Count == 0)
		{
			int num11 = context.Random.Next(GlobalConfig.Instance.FeastGiftResourceAddon[0], GlobalConfig.Instance.FeastGiftResourceAddon[1]);
			int baseValue = ItemTemplateHelper.GetBaseValue(2, b2);
			num12 = baseValue * context.Random.Next(GlobalConfig.Instance.FeastGiftResourcePercent[0], GlobalConfig.Instance.FeastGiftResourcePercent[1] + 1) / 100 + num11;
			indexes.Clear();
			for (sbyte b3 = 0; b3 < 6; b3++)
			{
				if (character.GetResource(b3) >= num12)
				{
					indexes.Add(b3);
				}
			}
			if (indexes.Count == 0)
			{
				num12 = baseValue * context.Random.Next(GlobalConfig.Instance.FeastGiftMoneyPercent[0], GlobalConfig.Instance.FeastGiftMoneyPercent[1] + 1) / 100 + num11;
				if (character.GetResource(6) >= num12)
				{
					itemKey3 = new ItemKey(12, 0, 327, -1);
					character.ChangeResource(context, 6, -num12);
				}
				else
				{
					itemKey3 = new ItemKey(12, 0, (short)(385 + b2), -1);
					num12 = 1;
				}
			}
			else
			{
				sbyte b4 = (sbyte)indexes.GetRandom(context.Random);
				itemKey3 = new ItemKey(12, 0, (short)(321 + b4), -1);
				character.ChangeResource(context, b4, -num12);
			}
		}
		else
		{
			itemKey3 = items.GetRandom(context.Random);
			num12 = 1;
			character.RemoveInventoryItem(context, itemKey3, num12, deleteItem: false);
			DomainManager.Item.SetOwner(itemKey3, ItemOwnerType.Building, 47);
		}
		FeastAddGift(context, feast, itemKey3, num12);
		DomainManager.Building.SetCharacterParticipantFeast(id, feastType, num2, dishCopy);
		if (--feast.DishDurability[num] <= 0)
		{
			FeastRemoveDish(context, feast.BuildingBlockKey, num);
		}
		ShopEventCollection orCreateShopEventCollection = DomainManager.Building.GetOrCreateShopEventCollection(feast.BuildingBlockKey);
		orCreateShopEventCollection.AddFeastRecord(id, character.GetHappiness(), dish, itemKey3, feastType, flag);
		LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
		lifeRecordCollection.AddFeastRecord(character, dish, itemKey3, feastType, flag);
		SetFeast(context, feast.BuildingBlockKey, feast);
	}

	private void AddUnlockedFestType(DataContext context, short feastType)
	{
		if (!_unlockedFeastTypes.Contains(feastType))
		{
			_unlockedFeastTypes.Add(feastType);
			SetUnlockedFeastTypes(_unlockedFeastTypes, context);
		}
	}

	public void SaveFollowingNpcList(DataContext context, List<int> list)
	{
		SetFollowingNpcList(list, context);
	}

	public int SetFollowingNpcNickName(DataContext context, int characterId, string nickName)
	{
		if (!_followingNpcList.Contains(characterId))
		{
			return -1;
		}
		if (string.IsNullOrEmpty(nickName))
		{
			RemoveFollowingNpcNickName(context, characterId);
			return -1;
		}
		if (_followingNickNameMap.TryGetValue(characterId, out var value))
		{
			DomainManager.World.UnregisterCustomText(context, value);
			int num = DomainManager.World.RegisterCustomText(context, nickName);
			SetElement_FollowingNickNameMap(characterId, num, context);
			return num;
		}
		int num2 = DomainManager.World.RegisterCustomText(context, nickName);
		AddElement_FollowingNickNameMap(characterId, num2, context);
		return num2;
	}

	public void RemoveFollowingNpcNickName(DataContext context, int characterId)
	{
		if (_followingNickNameMap.TryGetValue(characterId, out var value))
		{
			DomainManager.World.UnregisterCustomText(context, value);
			RemoveElement_FollowingNickNameMap(characterId, context);
		}
	}

	public sbyte GetCharacterSecretInformationUsedCount(int characterId, int metaDataId)
	{
		if (_characterSecretInformationUsedCounts.TryGetValue(characterId, out var value) && value != null && value.UsedCounts.TryGetValue(metaDataId, out var value2))
		{
			return Math.Max(0, value2);
		}
		return 0;
	}

	public void SetCharacterSecretInformationUsedCount(DataContext context, int characterId, int metaDataId, sbyte usedCount)
	{
		if (TryGetElement_CharacterSecretInformationUsedCounts(characterId, out var value))
		{
			if (value == null)
			{
				value = new SecretInformationCharacterUsedCount();
			}
			value.UsedCounts[metaDataId] = usedCount;
			SetElement_CharacterSecretInformationUsedCounts(characterId, value, context);
		}
		else
		{
			value = new SecretInformationCharacterUsedCount();
			value.UsedCounts[metaDataId] = usedCount;
			AddElement_CharacterSecretInformationUsedCounts(characterId, value, context);
		}
	}

	public void ClearCharacterSecretInformationUsedCount(DataContext context, int characterId, int metaDataId)
	{
		if (TryGetElement_CharacterSecretInformationUsedCounts(characterId, out var value) && value != null && value.UsedCounts.ContainsKey(metaDataId))
		{
			value.UsedCounts.Remove(metaDataId);
			SetElement_CharacterSecretInformationUsedCounts(characterId, value, context);
		}
	}

	public void ClearCharacterAllSecretInformationUsedCount(DataContext context, int characterId)
	{
		if (TryGetElement_CharacterSecretInformationUsedCounts(characterId, out var _))
		{
			RemoveElement_CharacterSecretInformationUsedCounts(characterId, context);
		}
	}

	public void TransferCharacterAllSecretInformationUsedCount(DataContext context, int characterId, int targetCharacterId)
	{
		RemoveElement_CharacterSecretInformationUsedCounts(targetCharacterId, context);
		if (TryGetElement_CharacterSecretInformationUsedCounts(characterId, out var value) && value != null)
		{
			RemoveElement_CharacterSecretInformationUsedCounts(characterId, context);
			AddElement_CharacterSecretInformationUsedCounts(targetCharacterId, value, context);
		}
	}

	public void ClearCharacterAllSecretInformationUsedCount(DataContext context)
	{
		ClearCharacterSecretInformationUsedCounts(context);
	}

	public void SetSecretInformationOccurredLocation(DataContext context, int metaDataId, Location location)
	{
		if (TryGetElement_SecretInformationOccurredLocations(metaDataId, out var _))
		{
			SetElement_SecretInformationOccurredLocations(metaDataId, location, context);
		}
		else
		{
			AddElement_SecretInformationOccurredLocations(metaDataId, location, context);
		}
	}

	public Location GetSecretInformationOccurredLocation(int metaDataId)
	{
		if (TryGetElement_SecretInformationOccurredLocations(metaDataId, out var value))
		{
			return value;
		}
		return Location.Invalid;
	}

	public void RemoveSecretInformationOccurredLocation(DataContext context, int metaDataId)
	{
		RemoveElement_SecretInformationOccurredLocations(metaDataId, context);
	}

	public void ClearAllSecretInformationOccurredLocation(DataContext context)
	{
		ClearSecretInformationOccurredLocations(context);
	}

	public bool IsSecretInformationInBroadcastList(int metaDataId)
	{
		VoidValue value;
		return TryGetElement_SecretInformationBroadcastList(metaDataId, out value);
	}

	public void AddSecretInformationInBroadcastList(DataContext context, int metaDataId)
	{
		if (!TryGetElement_SecretInformationBroadcastList(metaDataId, out var _))
		{
			AddElement_SecretInformationBroadcastList(metaDataId, default(VoidValue), context);
		}
	}

	public IEnumerable<int> GetSecretInformationInBroadcastList()
	{
		return _secretInformationBroadcastList.Keys;
	}

	public void RemoveSecretInformationInBroadcastList(DataContext context, int metaDataId)
	{
		RemoveElement_SecretInformationBroadcastList(metaDataId, context);
	}

	public void ClearSecretInformationInBroadcastList(DataContext context)
	{
		ClearSecretInformationBroadcastList(context);
	}

	public void RemoveSecretInformationShopCharacterData(DataContext context, int charId)
	{
		RemoveElement_SecretInformationShopCharacterData(charId, context);
	}

	public IReadOnlyCollection<int> GetSecretInformationShopCharacterKeys()
	{
		return _secretInformationShopCharacterData.Keys;
	}

	public void SetSecretInformationShopCharacterData(DataContext context, int charId, SecretInformationShopCharacterData data)
	{
		SetElement_SecretInformationShopCharacterData(charId, data, context);
	}

	public SecretInformationShopCharacterData AddOrGetSecretInformationShopCharacterData(DataContext context, int charId, bool forceFilter = true)
	{
		if (!TryGetElement_SecretInformationShopCharacterData(charId, out var value))
		{
			value = new SecretInformationShopCharacterData();
			AddElement_SecretInformationShopCharacterData(charId, value, context);
		}
		if (value.CollectedSecretInformationIds.CheckIndex(0) && !SecretInformationDisplayData.IsSecretInformationValid(value.CollectedSecretInformationIds[0]))
		{
			return value;
		}
		if (!value.CollectedSecretInformationIds.CheckIndex(0) && DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			short areaId = element.GetLocation().AreaId;
			if (areaId >= 0)
			{
				int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
				HashSet<int> hashSet = new HashSet<int>();
				foreach (int item in DomainManager.Information.SecretInformationAllHandledCharacterIds())
				{
					if (DomainManager.Character.TryGetElement_Objects(item, out var element2) && element2.GetLocation().AreaId == areaId)
					{
						hashSet.UnionWith(DomainManager.Information.QuerySecretInformationIdsHandledByCharacter(item));
					}
				}
				EventArgBox argBox = new EventArgBox();
				hashSet.RemoveWhere((int secretId) => DomainManager.Information.RequestShopSecretInformationIdShouldExclude(secretId, argBox, charId));
				value.CollectedSecretInformationIds.AddRange(hashSet);
				InformationDomain informationDomain = DomainManager.Information;
				value.CollectedSecretInformationIds.Sort(delegate(int secretId1, int secretId2)
				{
					int num = informationDomain.QuerySecretInformationOccurrenceDate(secretId1);
					int num2 = informationDomain.QuerySecretInformationOccurrenceDate(secretId2);
					if (num != num2)
					{
						return num2.CompareTo(num);
					}
					int num3 = (DomainManager.Information.IsCharacterIsOwningSecretInformation(taiwuCharId, secretId1) ? 1 : (-1));
					int value2 = (DomainManager.Information.IsCharacterIsOwningSecretInformation(taiwuCharId, secretId2) ? 1 : (-1));
					return num3.CompareTo(value2);
				});
				int secretInformationShopCharacterCollectInAreaMaxAmount = GlobalConfig.Instance.SecretInformationShopCharacterCollectInAreaMaxAmount;
				if (value.CollectedSecretInformationIds.Count > secretInformationShopCharacterCollectInAreaMaxAmount)
				{
					value.CollectedSecretInformationIds.RemoveRange(secretInformationShopCharacterCollectInAreaMaxAmount, value.CollectedSecretInformationIds.Count - secretInformationShopCharacterCollectInAreaMaxAmount);
				}
				SetElement_SecretInformationShopCharacterData(charId, value, context);
			}
		}
		else if (forceFilter)
		{
			EventArgBox argBox2 = new EventArgBox();
			value.CollectedSecretInformationIds.RemoveAll((int secretId) => DomainManager.Information.RequestShopSecretInformationIdShouldExclude(secretId, argBox2, charId));
			SetElement_SecretInformationShopCharacterData(charId, value, context);
		}
		return value;
	}

	public void PackReceivedNormalInformationInLastMonth(DataContext ctx, List<NormalInformation> taiwuReceivedNormalInformationInMonth)
	{
		TaiwuInformationReceivedHistories taiwuInformationReceivedHistories = GetTaiwuInformationReceivedHistories();
		List<NormalInformation> list = new List<NormalInformation>();
		list.AddRange(taiwuReceivedNormalInformationInMonth);
		taiwuInformationReceivedHistories.PackReceivedNormalInformationInLastMonth(list);
		SetTaiwuInformationReceivedHistories(taiwuInformationReceivedHistories, ctx);
	}

	public void ClearPackReceivedNormalInformationInLastMonth(DataContext ctx)
	{
		TaiwuInformationReceivedHistories taiwuInformationReceivedHistories = GetTaiwuInformationReceivedHistories();
		taiwuInformationReceivedHistories.ClearReceivedInformation();
		SetTaiwuInformationReceivedHistories(taiwuInformationReceivedHistories, ctx);
	}

	public bool IsTaiwuLover(int charId)
	{
		return _loveDataDict.ContainsKey(charId);
	}

	public bool TryGetInteractOfLoveData(int charId, out LoveDataItem loveDataItem)
	{
		return TryGetElement_LoveDataDict(charId, out loveDataItem);
	}

	public void AddInteractOfLoveData(DataContext context, int charId, LoveDataItem loveDataItem)
	{
		AddElement_LoveDataDict(charId, loveDataItem, context);
	}

	public void SetInteractOfLoveData(DataContext context, int charId, LoveDataItem loveDataItem)
	{
		SetElement_LoveDataDict(charId, loveDataItem, context);
	}

	public void RemoveInteractOfLoveData(DataContext context, int charId)
	{
		if (_loveDataDict.ContainsKey(charId))
		{
			RemoveElement_LoveDataDict(charId, context);
		}
	}

	public bool IsConfessLoveFailedCharacter(int charId)
	{
		return _confessLoveFailedSet.ContainsKey(charId);
	}

	public void AddConfessLoveFailedCharacter(DataContext context, int charId)
	{
		if (!_confessLoveFailedSet.ContainsKey(charId))
		{
			AddElement_ConfessLoveFailedSet(charId, default(VoidValue), context);
		}
	}

	public void RemoveConfessLoveFailedCharacter(DataContext context, int charId)
	{
		if (_confessLoveFailedSet.ContainsKey(charId))
		{
			RemoveElement_ConfessLoveFailedSet(charId, context);
		}
	}

	public bool IsPreviousTaiwuLover(int charId)
	{
		return _previousLoverSet.ContainsKey(charId);
	}

	public void AddPreviousTaiwuLover(DataContext context, int charId)
	{
		if (!_previousLoverSet.ContainsKey(charId))
		{
			AddElement_PreviousLoverSet(charId, default(VoidValue), context);
		}
	}

	public void RemovePreviousTaiwuLover(DataContext context, int charId)
	{
		if (_previousLoverSet.ContainsKey(charId))
		{
			RemoveElement_PreviousLoverSet(charId, context);
		}
	}

	public bool IsLoveToken(ItemKey itemKey)
	{
		return _loveTokenDataDict.ContainsKey(itemKey);
	}

	public bool TryGetLoveTokenData(ItemKey itemKey, out LoveTokenDataItem loveTokenDataItem)
	{
		return TryGetElement_LoveTokenDataDict(itemKey, out loveTokenDataItem);
	}

	public ItemKey AddLoveTokenData(DataContext context, ItemKey itemKey, LoveTokenDataItem loveTokenDataItem)
	{
		if (ModificationStateHelper.IsActive(itemKey.ModificationState, 4))
		{
			return itemKey;
		}
		ItemBase itemBase = SetLoveTokenState(context, itemKey, isLoveToken: true);
		ItemKey itemKey2 = itemBase.GetItemKey();
		AddElement_LoveTokenDataDict(itemKey2, loveTokenDataItem, context);
		if (loveTokenDataItem.IsTaiwuPresent)
		{
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(loveTokenDataItem.LoverCharId);
			element_Objects.RemoveInventoryItem(context, itemKey, 1, deleteItem: false);
			element_Objects.AddInventoryItem(context, itemKey2, 1);
		}
		else
		{
			DomainManager.Taiwu.RemoveItem(context, itemKey, 1, ItemSourceType.Inventory, deleteItem: false);
			DomainManager.Taiwu.AddItem(context, itemKey2, 1, ItemSourceType.Inventory);
		}
		return itemKey2;
	}

	private ItemBase SetLoveTokenState(DataContext context, ItemKey itemKey, bool isLoveToken)
	{
		byte modificationState = (isLoveToken ? ModificationStateHelper.Activate(itemKey.ModificationState, 4) : ModificationStateHelper.Deactivate(itemKey.ModificationState, 4));
		if (ItemTemplateHelper.IsPureStackable(itemKey))
		{
			ItemBase itemBase = DomainManager.Item.CreateUniqueStackableItem(context, itemKey.ItemType, itemKey.TemplateId);
			itemBase.SetModificationState(modificationState, context);
			return itemBase;
		}
		if (isLoveToken)
		{
			ItemBase baseItem = DomainManager.Item.GetBaseItem(itemKey);
			baseItem.SetModificationState(modificationState, context);
			return baseItem;
		}
		ItemKey itemKey2 = DomainManager.Item.CreateItem(context, itemKey.ItemType, itemKey.TemplateId);
		return DomainManager.Item.GetBaseItem(itemKey2);
	}

	public void SetLoveTokenData(DataContext context, ItemKey itemKey, LoveTokenDataItem loveTokenDataItem)
	{
		SetElement_LoveTokenDataDict(itemKey, loveTokenDataItem, context);
	}

	public ItemKey RemoveLoveTokenData(DataContext context, ItemKey itemKey, bool itemIsDeleted = false)
	{
		if (!TryGetLoveTokenData(itemKey, out var loveTokenDataItem))
		{
			return ItemKey.Invalid;
		}
		RemoveElement_LoveTokenDataDict(itemKey, context);
		if (TryGetInteractOfLoveData(loveTokenDataItem.LoverCharId, out var loveDataItem))
		{
			if (loveDataItem.LoverOwnedToken.Equals(itemKey))
			{
				loveDataItem.LoverOwnedToken = ItemKey.Invalid;
			}
			else if (loveDataItem.TaiwuOwnedToken.Equals(itemKey))
			{
				loveDataItem.TaiwuOwnedToken = ItemKey.Invalid;
			}
			SetInteractOfLoveData(context, loveTokenDataItem.LoverCharId, loveDataItem);
		}
		if (!itemIsDeleted)
		{
			byte modificationState = ModificationStateHelper.Deactivate(itemKey.ModificationState, 4);
			ItemBase itemBase = SetLoveTokenState(context, itemKey, isLoveToken: false);
			itemBase.SetModificationState(modificationState, context);
			ItemKey itemKey2 = itemBase.GetItemKey();
			GameData.Domains.Character.Character element;
			if (loveTokenDataItem.CurHolderCharId == DomainManager.Taiwu.GetTaiwuCharId())
			{
				ItemSourceType notPureStackableItemSource = DomainManager.Taiwu.GetNotPureStackableItemSource(itemKey);
				DomainManager.Taiwu.RemoveItem(context, itemKey, 1, notPureStackableItemSource, deleteItem: false);
				DomainManager.Taiwu.AddItem(context, itemKey2, 1, notPureStackableItemSource);
			}
			else if (DomainManager.Character.TryGetElement_Objects(loveTokenDataItem.CurHolderCharId, out element))
			{
				element.RemoveInventoryItem(context, itemKey, 1, deleteItem: false);
				element.AddInventoryItem(context, itemKey2, 1);
			}
			itemKey = itemKey2;
		}
		return itemKey;
	}

	public void ResetInteractOfLoveData(DataContext context)
	{
		foreach (KeyValuePair<int, LoveDataItem> item in _loveDataDict)
		{
			AddElement_PreviousLoverSet(item.Key, default(VoidValue), context);
		}
		foreach (var (itemKey2, _) in _loveTokenDataDict)
		{
			RemoveLoveTokenData(context, itemKey2);
		}
		ClearLoveDataDict(context);
		ClearConfessLoveFailedSet(context);
		ClearLoveTokenDataDict(context);
	}

	public bool TryGetPoisonEffect(int id, out FullPoisonEffects poisonEffects)
	{
		return TryGetElement_FullPoisonEffects(id, out poisonEffects);
	}

	public void SetPoisonEffect(DataContext context, int id, FullPoisonEffects poisonEffects)
	{
		poisonEffects.PoisonSlotList.RemoveAll((PoisonSlot s) => !s.IsValid);
		if (_fullPoisonEffects.ContainsKey(id))
		{
			SetElement_FullPoisonEffects(id, poisonEffects, context);
		}
		else
		{
			AddElement_FullPoisonEffects(id, poisonEffects, context);
		}
	}

	public void AddPoisonEffect(DataContext context, int id, FullPoisonEffects poisonEffects)
	{
		AddElement_FullPoisonEffects(id, poisonEffects, context);
	}

	public void RemovePoisonEffect(DataContext context, int id)
	{
		RemoveElement_FullPoisonEffects(id, context);
	}

	public int GetItemPriceFluctuation(TemplateKey templateKey)
	{
		return _itemPriceFluctuation.GetValueOrDefault(templateKey, 0);
	}

	public void ChangeItemPriceFluctuation(DataContext context, TemplateKey templateKey, int delta)
	{
		if (delta == 0)
		{
			return;
		}
		if (_itemPriceFluctuation.TryGetValue(templateKey, out var value))
		{
			value += delta;
			if (value == 0)
			{
				RemoveElement_ItemPriceFluctuation(templateKey, context);
			}
			else
			{
				SetElement_ItemPriceFluctuation(templateKey, value, context);
			}
		}
		else
		{
			AddElement_ItemPriceFluctuation(templateKey, delta, context);
		}
	}

	public void UpdateItemPriceFluctuations(DataContext context)
	{
		if (_itemPriceFluctuation.Count == 0)
		{
			return;
		}
		List<TemplateKey> list = new List<TemplateKey>(_itemPriceFluctuation.Keys);
		IReadOnlySet<int> merchantIds = DomainManager.Taiwu.GetVillagerRoleSet(3);
		foreach (TemplateKey item in list)
		{
			if (!HasMerchant(item))
			{
				int num = _itemPriceFluctuation[item];
				if (num > 0)
				{
					num = Math.Max(0, num - 10);
				}
				else if (num < 0)
				{
					num = Math.Min(0, num + 10);
				}
				if (num == 0)
				{
					RemoveElement_ItemPriceFluctuation(item, context);
				}
				else
				{
					SetElement_ItemPriceFluctuation(item, num, context);
				}
			}
		}
		bool HasMerchant(TemplateKey key)
		{
			if (merchantIds.Count == 0)
			{
				return false;
			}
			foreach (int item2 in merchantIds)
			{
				if (DomainManager.Extra.GetVillagerRole(item2) is VillagerRoleMerchant villagerRoleMerchant && villagerRoleMerchant.ItemTemplateKey.Equals(key) && villagerRoleMerchant.ArrangementTemplateId == 1)
				{
					return true;
				}
			}
			return false;
		}
	}

	private int GetPresentInheritPropertyValue(GameData.DLC.FiveLoong.Jiao jiao1, GameData.DLC.FiveLoong.Jiao jiao2, short propertyTemplateId)
	{
		int num = 0;
		int num2 = 0;
		switch (propertyTemplateId)
		{
		case 9:
			num = jiao1.Height.Inherited + jiao2.Height.Inherited;
			num2 = jiao1.Height.Fostered + jiao2.Height.Fostered;
			break;
		case 10:
			num = jiao1.Weight.Inherited + jiao2.Weight.Inherited;
			num2 = jiao1.Weight.Fostered + jiao2.Weight.Fostered;
			break;
		case 11:
			num = jiao1.LifeSpan.Inherited + jiao2.LifeSpan.Inherited;
			num2 = jiao1.LifeSpan.Fostered + jiao2.LifeSpan.Fostered;
			break;
		}
		num2 /= 100;
		return num * GlobalConfig.Instance.JiaoLoongPresentPropertyFactor[0] / 100 + num2 * GlobalConfig.Instance.JiaoLoongPresentPropertyFactor[1] / 100;
	}

	private int GetCarrierInheritPropertyValue(GameData.DLC.FiveLoong.Jiao jiao1, GameData.DLC.FiveLoong.Jiao jiao2, short propertyTemplateId)
	{
		int num = jiao1.Properties.SeparateGet(propertyTemplateId).Inherited + jiao2.Properties.SeparateGet(propertyTemplateId).Inherited;
		int num2 = (jiao1.Properties.SeparateGet(propertyTemplateId).Fostered + jiao2.Properties.SeparateGet(propertyTemplateId).Fostered) / 100;
		return num * GlobalConfig.Instance.JiaoLoongCarrierPropertyFactor[0] / 100 + num2 * GlobalConfig.Instance.JiaoLoongCarrierPropertyFactor[1] / 100;
	}

	private int GetGiftInheritPropertyValue(GameData.DLC.FiveLoong.Jiao jiao1, GameData.DLC.FiveLoong.Jiao jiao2, short propertyTemplateId)
	{
		int num = jiao1.Properties.SeparateGet(propertyTemplateId).Inherited + jiao2.Properties.SeparateGet(propertyTemplateId).Inherited;
		int num2 = (jiao1.Properties.SeparateGet(propertyTemplateId).Fostered + jiao2.Properties.SeparateGet(propertyTemplateId).Fostered) / 100;
		return num * GlobalConfig.Instance.JiaoLoongGiftPropertyFactor[0] / 100 + num2 * GlobalConfig.Instance.JiaoLoongGiftPropertyFactor[1] / 100;
	}

	private int GetFleeChance(GameData.DLC.FiveLoong.Jiao jiao)
	{
		return (jiao.TamePoint >= 50) ? Math.Max(0, (900 - 10 * jiao.TamePoint) * 100 / (2 * jiao.TamePoint + 1800) * GlobalConfig.Instance.JiaoFleeBehaviorInfluence[jiao.Behavior] / 100) : ((100 - jiao.TamePoint) / 2 * GlobalConfig.Instance.JiaoFleeBehaviorInfluence[jiao.Behavior] / 100);
	}

	public int GetIsDecreaseProperty(DataContext context, GameData.DLC.FiveLoong.Jiao jiao)
	{
		return 1;
	}

	public int GetRandomEventPropertyDelta(short propertyTemplateId, GameData.DLC.FiveLoong.Jiao jiao, int isDecrease)
	{
		return Config.JiaoProperty.Instance[propertyTemplateId].EscapeChange * GlobalConfig.Instance.JiaoPropertyChangeBehaviorInfluence[jiao.Behavior] / 100 * isDecrease;
	}

	public int BringUpJiaoFailProb(GameData.DLC.FiveLoong.Jiao jiao)
	{
		int num = (jiao.LastChoiceIsAggressive ? GlobalConfig.Instance.BringUpJiaoCalcParam[1] : 0);
		int num2 = jiao.TamePoint + GlobalConfig.Instance.BringUpJiaoCalcParam[2];
		return (int)MathF.Max(0f, ((float)(GlobalConfig.Instance.BringUpJiaoCalcParam[0] - jiao.TamePoint) + (float)num / (float)num2) * (float)GlobalConfig.Instance.BringUpJiaoBehaviorParam[jiao.Behavior] / 100f);
	}

	[DomainMethod]
	public void SetIsBabysittingMode(DataContext context, int poolId, bool isOn)
	{
		if (poolId < _jiaoPools.Count)
		{
			_jiaoPools[poolId].isBabysitting = isOn;
			SetJiaoPools(_jiaoPools, context);
		}
	}

	[DomainMethod]
	public bool GetIsBabysittingMode(int poolId)
	{
		return poolId < _jiaoPools.Count && _jiaoPools[poolId].isBabysitting;
	}

	[DomainMethod]
	public bool GetIsJiaoPoolOpen()
	{
		FiveLoongDlcEntry entry;
		return TryGetDlcEntry<FiveLoongDlcEntry>(2764950uL, out entry) && entry.IsJiaoPoolOpen;
	}

	[DomainMethod]
	public GameData.DLC.FiveLoong.Jiao GetJiaoById(int id)
	{
		return _jiaos.GetValueOrDefault(id);
	}

	[DomainMethod]
	public GameData.DLC.FiveLoong.Jiao GetJiaoByItemKey(ItemKey key)
	{
		int id;
		return TryGetJiaoIdByItemKey(key, out id) ? _jiaos.GetValueOrDefault(id) : new GameData.DLC.FiveLoong.Jiao();
	}

	public bool TryGetJiaoByItemKey(ItemKey key, out GameData.DLC.FiveLoong.Jiao jiao)
	{
		jiao = null;
		int id;
		return TryGetJiaoIdByItemKey(key, out id) && _jiaos.TryGetValue(id, out jiao) && jiao != null;
	}

	[DomainMethod]
	public List<GameData.DLC.FiveLoong.Jiao> GetJiaosByItemKeys(List<ItemKey> keys)
	{
		List<GameData.DLC.FiveLoong.Jiao> list = new List<GameData.DLC.FiveLoong.Jiao>();
		if (keys != null)
		{
			foreach (ItemKey key in keys)
			{
				list.Add(GetJiaoByItemKey(key));
			}
		}
		return list;
	}

	[DomainMethod]
	public List<ItemDisplayData> GetAllJiaoForPool()
	{
		List<ItemDisplayData> list = new List<ItemDisplayData>();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		GetAllTaiwuJiao(includeEquipment: false);
		foreach (var (jiao2, itemSourceType2) in _taiwuJiaos)
		{
			if (jiao2.CanBreed)
			{
				list.Add(DomainManager.Item.GetItemDisplayData(DomainManager.Item.GetBaseItem(jiao2.Key), 1, taiwuCharId, (sbyte)itemSourceType2));
			}
		}
		return list;
	}

	[DomainMethod]
	public List<ItemDisplayData> GetAllJiaoForEvolve()
	{
		List<ItemDisplayData> list = new List<ItemDisplayData>();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		GetAllTaiwuJiao(includeEquipment: false);
		foreach (var (jiao2, itemSourceType2) in _taiwuJiaos)
		{
			if (IsAbleToEvolveChildOfLoong(jiao2.Id))
			{
				list.Add(DomainManager.Item.GetItemDisplayData(DomainManager.Item.GetBaseItem(jiao2.Key), 1, taiwuCharId, (sbyte)itemSourceType2));
			}
		}
		return list;
	}

	[DomainMethod]
	public List<ItemDisplayData> GetAllAdultJiao()
	{
		List<ItemDisplayData> list = new List<ItemDisplayData>();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		GetAllTaiwuJiao(includeEquipment: false);
		foreach (var (jiao2, itemSourceType2) in _taiwuJiaos)
		{
			if (jiao2.GrowthStage == 2)
			{
				list.Add(DomainManager.Item.GetItemDisplayData(DomainManager.Item.GetBaseItem(jiao2.Key), 1, taiwuCharId, (sbyte)itemSourceType2));
			}
		}
		return list;
	}

	[DomainMethod]
	public List<JiaoEvolutionDisplayData> GetAllEvolvingJiao()
	{
		List<JiaoEvolutionDisplayData> list = new List<JiaoEvolutionDisplayData>();
		GetAllTaiwuJiao(includeEquipment: true);
		foreach (var (jiao2, _) in _taiwuJiaos)
		{
			if (IsAbleToEvolveChildOfLoong(jiao2.Id))
			{
				list.Add(GetJiaoEvolutionDisplayData(jiao2.Id));
			}
		}
		return list;
	}

	[DomainMethod]
	public int GetJiaoEvolutionChoice(DataContext context, ItemKey key)
	{
		if (!TryGetJiaoIdByItemKey(key, out var id))
		{
			return 0;
		}
		if (!_jiaoEvolutionChoice.TryGetValue(id, out var value) || value == 0)
		{
			SetJiaoEvolutionChoice(id);
			value = _jiaoEvolutionChoice[id];
		}
		return value;
	}

	[DomainMethod]
	public void JiaoEvolveToChildOfLoong(DataContext context, ItemKey key, short childOfLoongTemplateId)
	{
		if (!TryGetJiaoIdByItemKey(key, out var id))
		{
			return;
		}
		if (childOfLoongTemplateId < 0)
		{
			if (!_jiaoEvolutionChoice.TryGetValue(id, out var value) || value == 0)
			{
				return;
			}
			List<short> list = ObjectPool<List<short>>.Instance.Get();
			list.Clear();
			for (short num = 31; num <= 39; num++)
			{
				if (IsAbleToEvolveChildOfLoong(id, num))
				{
					list.Add(num);
				}
			}
			childOfLoongTemplateId = list[context.Random.Next(0, list.Count)];
			ObjectPool<List<short>>.Instance.Return(list);
		}
		JiaoEvolveToChildOfLoong(context, id, childOfLoongTemplateId);
	}

	[DomainMethod]
	public bool IsOwnedChildrenOfLoong(short templateId)
	{
		FiveLoongDlcEntry entry;
		return TryGetDlcEntry<FiveLoongDlcEntry>(2764950uL, out entry) && ((1 << templateId - 31) & entry.OwnedChildrenOfLoong) > 0;
	}

	[DomainMethod]
	public int CalcResourceChangeByJiaoPool(sbyte resourceType)
	{
		int num = 0;
		for (int i = 0; i < _jiaoPools.Count; i++)
		{
			if (TryGetJiaoFromPool(i, out var jiao, 1) && jiao.GrowthStage == 1)
			{
				JiaoNurturanceItem jiaoNurturanceItem = JiaoNurturance.Instance[jiao.NurturanceTemplateId];
				if (jiaoNurturanceItem.ResourceCostType == resourceType)
				{
					num -= jiaoNurturanceItem.ResourceCost;
				}
			}
		}
		return num;
	}

	[DomainMethod]
	public JiaoLoongDisplayData GetJiaoLoongDisplayDataByItemKey(ItemKey key)
	{
		JiaoLoongDisplayData jiaoLoongDisplayData = new JiaoLoongDisplayData();
		if (key.ItemType == 4)
		{
			short templateId = key.TemplateId;
			if (templateId >= 77 && templateId <= 85)
			{
				jiaoLoongDisplayData.IsJiao = false;
				jiaoLoongDisplayData.Jiao = null;
				jiaoLoongDisplayData.Loong = GetChildrenOfLoongByItemKey(key);
				jiaoLoongDisplayData.Id = jiaoLoongDisplayData.Loong.Id;
				jiaoLoongDisplayData.EvolutionChoice = 0;
			}
			else
			{
				jiaoLoongDisplayData.IsJiao = true;
				jiaoLoongDisplayData.Jiao = GetJiaoByItemKey(key);
				jiaoLoongDisplayData.Loong = null;
				jiaoLoongDisplayData.Id = jiaoLoongDisplayData.Jiao.Id;
				jiaoLoongDisplayData.EvolutionChoice = GetJiaoEvolutionChoice(jiaoLoongDisplayData.Jiao.Id);
			}
			jiaoLoongDisplayData.TemplateId = GetJiaoTemplateIdByCarrierTemplateId(key.TemplateId);
			jiaoLoongDisplayData.TamePoint = GetCarrierTamePoint(key.Id);
		}
		else
		{
			jiaoLoongDisplayData.IsJiao = true;
			jiaoLoongDisplayData.Jiao = GetJiaoByItemKey(key);
			jiaoLoongDisplayData.Loong = null;
			jiaoLoongDisplayData.Id = jiaoLoongDisplayData.Jiao.Id;
			jiaoLoongDisplayData.EvolutionChoice = 0;
			jiaoLoongDisplayData.TemplateId = jiaoLoongDisplayData.Jiao.TemplateId;
			jiaoLoongDisplayData.TamePoint = GetCarrierTamePoint(key.Id);
			jiaoLoongDisplayData.TamePoint = jiaoLoongDisplayData.Jiao.TamePoint;
		}
		jiaoLoongDisplayData.ItemDisplayData = DomainManager.Item.GetItemDisplayData(key);
		jiaoLoongDisplayData.MaxTamePoint = GetCarrierMaxTamePoint(key.Id);
		return jiaoLoongDisplayData;
	}

	public int GetJiaoPoolIdByJiaoId(int id)
	{
		for (int i = 0; i < _jiaoPools.Count; i++)
		{
			JiaoPool jiaoPool = _jiaoPools[i];
			if (jiaoPool.Jiaos.Contains(id))
			{
				return i;
			}
		}
		return -1;
	}

	public bool TryGetJiaoPoolIdByJiaoId(int id, out int poolId)
	{
		poolId = -1;
		for (int i = 0; i < _jiaoPools.Count; i++)
		{
			JiaoPool jiaoPool = _jiaoPools[i];
			if (jiaoPool.Jiaos.Contains(id))
			{
				poolId = i;
				return true;
			}
		}
		return false;
	}

	public bool TryGetJiaoFromPool(int poolId, out GameData.DLC.FiveLoong.Jiao jiao, int jiaoCount = -1, int jiaoIndex = 0)
	{
		jiao = null;
		if (poolId >= _jiaoPools.Count)
		{
			return false;
		}
		JiaoPool jiaoPool = _jiaoPools[poolId];
		if (jiaoCount == 0 && jiaoPool.Jiaos.Count == 0)
		{
			return true;
		}
		if (jiaoCount > 0 && jiaoPool.Jiaos.Count != jiaoCount)
		{
			return false;
		}
		if (jiaoIndex >= jiaoPool.Jiaos.Count)
		{
			return false;
		}
		return _jiaos.TryGetValue(jiaoPool.Jiaos[jiaoIndex], out jiao);
	}

	public bool TryGetJiaoPool(int poolId, out JiaoPool jiaoPool)
	{
		jiaoPool = null;
		if (poolId >= _jiaoPools.Count)
		{
			return false;
		}
		jiaoPool = _jiaoPools[poolId];
		return true;
	}

	public bool TryGetJiao(int id, out GameData.DLC.FiveLoong.Jiao jiao)
	{
		return _jiaos.TryGetValue(id, out jiao);
	}

	public bool TryGetJiaoIdByItemKey(ItemKey key, out int id)
	{
		if (_jiaoKeyToId.TryGetValue(key, out id))
		{
			return true;
		}
		return false;
	}

	public int GetJiaoEvolutionChoice(int jiaoId)
	{
		if (!_jiaos.TryGetValue(jiaoId, out var value) || value.GrowthStage != 2)
		{
			return 0;
		}
		int num = 0;
		int num2 = 0;
		for (short num3 = 0; num3 <= 8; num3++)
		{
			int num4 = value.Properties.Get(value.TemplateId, num3);
			if (num4 >= Config.JiaoProperty.Instance[num3].MaxValue)
			{
				num |= 1 << PropertyToChildrenOfLoong[num3];
				num2++;
			}
			else if (num4 >= Config.JiaoProperty.Instance[num3].MaxValue * 75 / 100)
			{
				num2++;
			}
		}
		return (num2 >= 3) ? num : 0;
	}

	public void SetJiaoKeyToId(ItemKey key, int id)
	{
		_jiaoKeyToId[key] = id;
	}

	public void SetJiaoEvolutionChoice(int id)
	{
		_jiaoEvolutionChoice[id] = GetJiaoEvolutionChoice(id);
	}

	public ItemKey DropJiaoEgg(DataContext context, bool isIgnoreDropRate, short charTemplateId, sbyte forceGender = -1)
	{
		if (!TryGetDlcEntry<FiveLoongDlcEntry>(2764950uL, out var entry))
		{
			return ItemKey.Invalid;
		}
		if (!isIgnoreDropRate && !context.Random.CheckPercentProb(entry.JiaoEggDropRate))
		{
			entry.JiaoEggDropRate += GlobalConfig.Instance.JiaoEggDropRateUpPerMiss;
			return ItemKey.Invalid;
		}
		Tester.Assert(FiveLoongDlcEntry.IsCharacterLoong(charTemplateId) || FiveLoongDlcEntry.IsCharacterMinionLoong(charTemplateId));
		short index = (FiveLoongDlcEntry.IsCharacterLoong(charTemplateId) ? LoongInfo.CharacterTemplateIdToLoongTemplateId(charTemplateId) : LoongInfo.CharacterTemplateIdToLoongTemplateId(FiveLoongDlcEntry.MinionLoongToLoong(charTemplateId)));
		short jiao = Loong.Instance[index].Jiao;
		bool flag = ((forceGender != -1) ? (forceGender == 1) : context.Random.CheckPercentProb(entry.MaleJiaoEggDropRate));
		ItemKey itemKey = DomainManager.Item.CreateItem(context, 5, GetJiaoEggTemplateIdByJiaoTemplateId(jiao));
		int tamePoint = context.Random.Next(GlobalConfig.Instance.JiaoInitialTamePoint[0], GlobalConfig.Instance.JiaoInitialTamePoint[1] + 1);
		sbyte behavior = (sbyte)context.Random.Next(5);
		GameData.DLC.FiveLoong.Jiao jiao2 = new GameData.DLC.FiveLoong.Jiao(itemKey, flag, tamePoint, jiao, behavior);
		if (forceGender == -1)
		{
			entry.MaleJiaoEggDropRate += (flag ? (-GlobalConfig.Instance.JiaoEggGenderModification) : GlobalConfig.Instance.JiaoEggGenderModification);
		}
		entry.JiaoEggDropRate = GlobalConfig.Instance.InitJiaoEggDropRate;
		AddElement_Jiaos(jiao2.Id, jiao2, context);
		SetJiaoKeyToId(jiao2.Key, jiao2.Id);
		return itemKey;
	}

	public void SetJiaoItemKey(DataContext context, int jiaoId, GameData.DLC.FiveLoong.Jiao jiao, ItemKey itemKey)
	{
		jiao.Key = itemKey;
		if (_jiaos.ContainsKey(jiaoId))
		{
			SetElement_Jiaos(jiaoId, jiao, context);
		}
		else
		{
			AddElement_Jiaos(jiaoId, jiao, context);
		}
		SetJiaoKeyToId(jiao.Key, jiaoId);
	}

	public void SetJiaoTamePoint(DataContext context, GameData.DLC.FiveLoong.Jiao jiao, int value)
	{
		jiao.TamePoint = value;
		SetJiao(context, jiao);
	}

	public void UpdateJiaoEvolveRemainingMonth(DataContext context, GameData.DLC.FiveLoong.Jiao jiao)
	{
		jiao.EvolveRemainingMonth--;
		SetJiao(context, jiao);
	}

	public void SetJiaoProperty(DataContext context, GameData.DLC.FiveLoong.Jiao jiao, short propertyTemplateId, int value)
	{
		switch (propertyTemplateId)
		{
		case 9:
			jiao.Height = (Inherited: jiao.Height.Inherited, Fostered: value);
			break;
		case 10:
			jiao.Weight = (Inherited: jiao.Weight.Inherited, Fostered: value);
			break;
		case 11:
			jiao.LifeSpan = (Inherited: jiao.LifeSpan.Inherited, Fostered: value);
			break;
		default:
			jiao.Properties.Set(propertyTemplateId, value);
			break;
		}
		SetJiao(context, jiao);
	}

	public void ChangeJiaoTamePoint(DataContext context, GameData.DLC.FiveLoong.Jiao jiao, int delta)
	{
		jiao.TamePoint = Math.Clamp(jiao.TamePoint + delta, 0, 100);
		SetJiao(context, jiao);
	}

	public void AddJiaoProperty(DataContext context, GameData.DLC.FiveLoong.Jiao jiao, short propertyTemplateId, int delta)
	{
		switch (propertyTemplateId)
		{
		case 9:
			jiao.Height = (Inherited: jiao.Height.Inherited, Fostered: jiao.Height.Fostered + delta);
			break;
		case 10:
			jiao.Weight = (Inherited: jiao.Weight.Inherited, Fostered: jiao.Weight.Fostered + delta);
			break;
		case 11:
			jiao.LifeSpan = (Inherited: jiao.LifeSpan.Inherited, Fostered: jiao.LifeSpan.Fostered + delta);
			break;
		default:
			jiao.Properties.Add(propertyTemplateId, delta);
			break;
		}
		InstantNotificationCollection instantNotificationCollection = DomainManager.World.GetInstantNotificationCollection();
		switch (propertyTemplateId)
		{
		case 6:
		case 7:
		case 8:
			if (delta > 0)
			{
				instantNotificationCollection.AddJiaoGiftAbilityUp(jiao.Id, propertyTemplateId);
			}
			else
			{
				instantNotificationCollection.AddJiaoGiftAbilityDown(jiao.Id, propertyTemplateId);
			}
			break;
		case 0:
		case 2:
		case 3:
		case 5:
			if (delta > 0)
			{
				instantNotificationCollection.AddJiaoAbilityUpPercent(jiao.Id, propertyTemplateId, delta / 100);
			}
			else
			{
				instantNotificationCollection.AddJiaoAbilityDownPercent(jiao.Id, propertyTemplateId, -delta / 100);
			}
			break;
		case 1:
			if (delta > 0)
			{
				instantNotificationCollection.AddJiaoAbilityUpFloat(jiao.Id, propertyTemplateId, (float)delta / 10000f);
			}
			else
			{
				instantNotificationCollection.AddJiaoAbilityDownFloat(jiao.Id, propertyTemplateId, (float)(-delta) / 10000f);
			}
			break;
		default:
			if (delta > 0)
			{
				instantNotificationCollection.AddJiaoAbilityUp(jiao.Id, propertyTemplateId, delta / 100);
			}
			else
			{
				instantNotificationCollection.AddJiaoAbilityDown(jiao.Id, propertyTemplateId, -delta / 100);
			}
			break;
		case 9:
		case 10:
		case 11:
			break;
		}
		SetJiao(context, jiao);
	}

	public void AddJiaoAggressiveTimes(DataContext context, GameData.DLC.FiveLoong.Jiao jiao)
	{
		jiao.AggressiveTimes++;
		SetJiao(context, jiao);
	}

	public void AddJiaoNegativeTimes(DataContext context, GameData.DLC.FiveLoong.Jiao jiao)
	{
		jiao.NegativeTimes++;
		SetJiao(context, jiao);
	}

	public void SetJiaoLastChoiceIsAggressive(DataContext context, GameData.DLC.FiveLoong.Jiao jiao, bool lastChoiceIsAggressive)
	{
		jiao.LastChoiceIsAggressive = lastChoiceIsAggressive;
		SetJiao(context, jiao);
	}

	public bool IsAbleToEvolveChildOfLoong(int id, short templateId)
	{
		int value;
		return _jiaoEvolutionChoice.TryGetValue(id, out value) && (value & (1 << templateId - 31)) > 0;
	}

	public bool IsAbleToEvolveChildOfLoong(int id)
	{
		int value;
		return _jiaoEvolutionChoice.TryGetValue(id, out value) && value > 0;
	}

	public int GetEvolveChildOfLoongCount(int id)
	{
		int num = 0;
		if (_jiaoEvolutionChoice.TryGetValue(id, out var value) && value > 0)
		{
			for (short num2 = 31; num2 <= 39; num2++)
			{
				if (IsAbleToEvolveChildOfLoong(id, num2))
				{
					num++;
				}
			}
		}
		return num;
	}

	public bool IsResourceEnoughForJiaoFoster(short templateId)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		JiaoNurturanceItem jiaoNurturanceItem = JiaoNurturance.Instance[templateId];
		return (jiaoNurturanceItem.ExpCost >= 0) ? (taiwu.GetExp() >= jiaoNurturanceItem.ExpCost) : (taiwu.GetResource(jiaoNurturanceItem.ResourceCostType) >= jiaoNurturanceItem.ResourceCost);
	}

	[DomainMethod]
	public void PutEggIntoPool(int poolId, ItemKey eggItemKey)
	{
		DomainManager.TaiwuEvent.OnEvent_DlcLoongPutJiaoEggs(poolId, eggItemKey);
	}

	[DomainMethod]
	public void JiaoPoolInteract(int poolId)
	{
		DomainManager.TaiwuEvent.OnEvent_DlcLoongInteractJiao(poolId);
	}

	[DomainMethod]
	public void JiaoPoolPetJiao(int poolId)
	{
		DomainManager.TaiwuEvent.OnEvent_DlcLoongPetJiao(poolId);
	}

	public void ClearTempData()
	{
		_jiaoFostered.Clear();
	}

	public void SetJiaoFostered(int poolId)
	{
		if (TryGetJiaoFromPool(poolId, out var jiao))
		{
			_jiaoFostered.Add(jiao.Id);
		}
	}

	public bool IsJiaoFostered(int poolId)
	{
		if (!TryGetJiaoFromPool(poolId, out var jiao))
		{
			return false;
		}
		return _jiaoFostered.Contains(jiao.Id);
	}

	[DomainMethod]
	public bool IsJiaoAbleToPet(int jiaoId)
	{
		GameData.DLC.FiveLoong.Jiao jiao;
		return IsActionPointEnough(100) && TryGetJiao(jiaoId, out jiao) && jiao.GrowthStage == 1 && jiao.PettingCoolDown <= DomainManager.World.GetCurrDate();
	}

	[DomainMethod]
	public void PetJiao(DataContext context, int jiaoId)
	{
		if (TryGetJiao(jiaoId, out var jiao))
		{
			ConsumeActionPoint(context, 100);
			ChangeJiaoTamePoint(context, jiao, GlobalConfig.Instance.PettingJiaoAddsTamingPoints);
			SetJiaoPettingCoolDown(context, jiao, DomainManager.World.GetCurrDate() + GlobalConfig.Instance.PettingJiaoFunctionCoolDuration);
			SetJiaoPoolStatus(new IntPair(GetJiaoPoolIdByJiaoId(jiaoId), 11), context);
		}
	}

	public void SetJiaoPettingCoolDown(DataContext context, GameData.DLC.FiveLoong.Jiao jiao, int value)
	{
		jiao.PettingCoolDown = value;
		SetJiao(context, jiao);
	}

	[DomainMethod]
	public void ResetJiaoPoolStatus(DataContext context)
	{
		SetJiaoPoolStatus(new IntPair(-1, 0), context);
	}

	[DomainMethod]
	public List<GameData.DLC.FiveLoong.Jiao> GetJiaoPoolAllJiaoData(int poolId)
	{
		List<GameData.DLC.FiveLoong.Jiao> list = new List<GameData.DLC.FiveLoong.Jiao>();
		if (!TryGetJiaoFromPool(poolId, out var _, 0))
		{
			return list;
		}
		foreach (int jiao3 in _jiaoPools[poolId].Jiaos)
		{
			if (TryGetJiao(jiao3, out var jiao2))
			{
				list.Add(jiao2);
			}
		}
		return list;
	}

	[DomainMethod]
	public (bool, bool) GetJiaoPoolBreedingProcess(int poolId)
	{
		if (!TryGetJiaoFromPool(poolId, out var _, 2))
		{
			return (false, false);
		}
		return (_jiaoPools[poolId].Jiaos.Count == 3) ? (true, true) : (true, false);
	}

	[DomainMethod]
	public List<JiaoPool> GetJiaoPoolList()
	{
		return _jiaoPools;
	}

	public List<JiaoPoolRecordList> GetJiaoPoolRecordList()
	{
		return _jiaoPoolRecords;
	}

	[DomainMethod]
	public int GetCurrMaxJiaoPoolCount()
	{
		if (!TryGetDlcEntry<FiveLoongDlcEntry>(2764950uL, out var entry))
		{
			return 0;
		}
		BuildingScaleItem buildingScaleItem = BuildingScale.Instance[(short)109];
		return Math.Clamp(buildingScaleItem.LevelEffect.GetOrLast(entry.MaxTaiwuVillageLevel - 1), 0, 9);
	}

	[DomainMethod]
	public short GetJiaoPoolBlockStyle(int poolId)
	{
		if (poolId >= _jiaoPools.Count)
		{
			return -1;
		}
		return _jiaoPools[poolId].BlockStyle;
	}

	[DomainMethod]
	public void SetJiaoPoolBlockStyle(DataContext context, int poolId, short style)
	{
		if (poolId < _jiaoPools.Count)
		{
			_jiaoPools[poolId].BlockStyle = style;
			SetJiaoPools(_jiaoPools, context);
		}
	}

	[DomainMethod]
	public void PutJiaoInPool(DataContext context, int poolId, int id)
	{
		if (TryGetJiaoFromPool(poolId, out var _, 0) && _jiaos.TryGetValue(id, out var value) && value.CanBreed)
		{
			switch (value.GrowthStage)
			{
			case 0:
				SetJiaoPoolStatus(new IntPair(poolId, 1), context);
				break;
			case 1:
				SetJiaoPoolStatus(new IntPair(poolId, 2), context);
				break;
			case 2:
				SetJiaoPoolStatus(new IntPair(poolId, 3), context);
				break;
			}
			RemoveJiaoFromPool(context, value.Key);
			RemoveJiaoFromTaiwuStorage(context, value.Key);
			AddJiaoInPool(context, poolId, value);
		}
	}

	[DomainMethod]
	public void PutAnotherJiaoInPool(DataContext context, int poolId, int id)
	{
		if (TryGetJiao(id, out var jiao) && TryGetJiaoFromPool(poolId, out var jiao2, 1) && jiao.GrowthStage == 2 && jiao.CanBreed && jiao.Gender != jiao2.Gender)
		{
			SetJiaoPoolStatus(new IntPair(poolId, 4), context);
			AddJiaoPoolRecord(context, poolId, new JiaoPoolRecord(19, jiao.Id, jiao2.Id, -1));
			RemoveJiaoFromPool(context, jiao.Key);
			RemoveJiaoFromTaiwuStorage(context, jiao.Key);
			AddJiaoInPool(context, poolId, jiao);
		}
	}

	[DomainMethod]
	public List<ItemKey> PutJiaoOutOfPool(DataContext context, int poolId)
	{
		if (!TryGetJiaoFromPool(poolId, out var jiao))
		{
			return new List<ItemKey>();
		}
		JiaoPool jiaoPool = _jiaoPools[poolId];
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Inventory inventory = taiwu.GetInventory();
		List<ItemKey> list = new List<ItemKey>();
		if (jiaoPool.Jiaos.Count == 2)
		{
			SetJiaoPoolStatus(new IntPair(poolId, 8), context);
		}
		else if (jiaoPool.Jiaos.Count > 2)
		{
			SetJiaoPoolStatus(new IntPair(poolId, 7), context);
		}
		else if (jiao.GrowthStage == 1)
		{
			SetJiaoPoolStatus(new IntPair(poolId, 9), context);
		}
		else if (jiao.GrowthStage == 2 || jiao.GrowthStage == 0)
		{
			SetJiaoPoolStatus(new IntPair(poolId, 10), context);
		}
		foreach (int jiao2 in jiaoPool.Jiaos)
		{
			if (_jiaos.TryGetValue(jiao2, out var value))
			{
				ItemBase baseItem = DomainManager.Item.GetBaseItem(value.Key);
				baseItem.RemoveOwner(ItemOwnerType.Building, 44);
				baseItem.SetOwner(ItemOwnerType.CharacterInventory, taiwu.GetId());
				inventory.OfflineAdd(value.Key, 1);
				list.Add(value.Key);
			}
		}
		jiaoPool.Jiaos.Clear();
		jiaoPool.NextPeriod = -1;
		taiwu.SetInventory(inventory, context);
		SetJiaoPools(_jiaoPools, context);
		return list;
	}

	[DomainMethod]
	public void ChangeNurturance(DataContext context, int poolId, short templateId)
	{
		if (TryGetJiaoFromPool(poolId, out var jiao, 1) && jiao.GrowthStage != 2)
		{
			jiao.NurturanceTemplateId = templateId;
			jiao.ResetGrowth();
			SetElement_Jiaos(jiao.Id, jiao, context);
		}
	}

	[DomainMethod]
	public void ChangeJiaoName(DataContext context, int poolId, string name)
	{
		if (TryGetJiaoFromPool(poolId, out var jiao, 1))
		{
			jiao.NameId = DomainManager.World.RegisterCustomText(context, name);
			SetElement_Jiaos(jiao.Id, jiao, context);
		}
	}

	[DomainMethod]
	public void DisableJiaoPool(DataContext context, int poolId)
	{
		if (poolId < _jiaoPools.Count)
		{
			_jiaoPools[poolId].IsDisabled = true;
			SetJiaoPools(_jiaoPools, context);
		}
	}

	[DomainMethod]
	public void EnableJiaoPool(DataContext context, int poolId)
	{
		if (poolId < _jiaoPools.Count)
		{
			_jiaoPools[poolId].IsDisabled = false;
			SetJiaoPools(_jiaoPools, context);
		}
	}

	public void JiaoHatch(DataContext context, int poolId)
	{
		if (TryGetJiaoFromPool(poolId, out var jiao, 1) && jiao.GrowthStage == 0)
		{
			ItemKey key = jiao.Key;
			ItemKey itemKey = DomainManager.Item.CreateItem(context, 5, GetJiaoTeenagerTemplateIdByJiaoTemplateId(jiao.TemplateId));
			DomainManager.Item.SetOwner(itemKey, ItemOwnerType.Building, 44);
			short templateId = key.TemplateId;
			jiao.GrowthStage = 1;
			jiao.Key = itemKey;
			jiao.EvolveRemainingMonth = JiaoNurturance.Instance[jiao.NurturanceTemplateId].NurturanceCostMonth;
			jiao.NextPeriod = JiaoNurturance.Instance[jiao.NurturanceTemplateId].StageCostMonth;
			DomainManager.Item.RemoveItem(context, key);
			AddJiaoPoolRecord(context, poolId, new JiaoPoolRecord(0, jiao.Id, templateId));
			SetJiaoPools(_jiaoPools, context);
			SetElement_Jiaos(jiao.Id, jiao, context);
			SetJiaoKeyToId(jiao.Key, jiao.Id);
		}
	}

	public void JiaoGrow(DataContext context, int poolId)
	{
		if (!TryGetJiaoFromPool(poolId, out var jiao, 1) || jiao.GrowthStage != 1)
		{
			return;
		}
		JiaoNurturanceItem jiaoNurturanceItem = JiaoNurturance.Instance[jiao.NurturanceTemplateId];
		foreach (IntPair item in jiaoNurturanceItem.BasePropertyChange)
		{
			AddJiaoProperty(context, jiao, (short)item.First, item.Second);
			switch (item.First)
			{
			case 0:
			case 2:
			case 3:
				AddJiaoPoolRecord(context, poolId, new JiaoPoolRecord(25, jiao.Id, jiao.NurturanceTemplateId, (short)item.First, item.Second));
				break;
			case 1:
				AddJiaoPoolRecord(context, poolId, new JiaoPoolRecord(29, jiao.Id, jiao.NurturanceTemplateId, (short)item.First, item.Second));
				break;
			default:
				AddJiaoPoolRecord(context, poolId, new JiaoPoolRecord(1, jiao.Id, jiao.NurturanceTemplateId, (short)item.First, item.Second));
				break;
			}
		}
		jiao.NextPeriod = JiaoNurturance.Instance[jiao.NurturanceTemplateId].StageCostMonth;
		SetJiaoPools(_jiaoPools, context);
		SetElement_Jiaos(jiao.Id, jiao, context);
	}

	public bool JiaoBreed(DataContext context, int poolId)
	{
		if (!TryGetJiaoFromPool(poolId, out var _, 2))
		{
			return false;
		}
		JiaoPool jiaoPool = _jiaoPools[poolId];
		if (!TryGetJiao(jiaoPool.Jiaos[0], out var jiao2) || !TryGetJiao(jiaoPool.Jiaos[1], out var jiao3))
		{
			return false;
		}
		if (!TryGetDlcEntry<FiveLoongDlcEntry>(2764950uL, out var entry))
		{
			return false;
		}
		bool flag = context.Random.CheckPercentProb(entry.MaleJiaoEggDropRate);
		short jiaoInheritTemplateId = GetJiaoInheritTemplateId(jiao2.TemplateId, jiao3.TemplateId);
		ItemKey itemKey = DomainManager.Item.CreateItem(context, 5, GetJiaoEggTemplateIdByJiaoTemplateId(jiaoInheritTemplateId));
		DomainManager.Item.SetOwner(itemKey, ItemOwnerType.Building, 44);
		int fatherId = (jiao2.Gender ? jiao2.Id : jiao3.Id);
		int motherId = (jiao2.Gender ? jiao3.Id : jiao2.Id);
		GameData.DLC.FiveLoong.Jiao jiao4 = new GameData.DLC.FiveLoong.Jiao(itemKey, flag, context.Random.Next(GlobalConfig.Instance.JiaoInitialTamePoint[0], GlobalConfig.Instance.JiaoInitialTamePoint[1] + 1), jiaoInheritTemplateId, (sbyte)context.Random.Next(5), fatherId, motherId)
		{
			Properties = new GameData.DLC.FiveLoong.JiaoProperty(GetCarrierInheritPropertyValue(jiao2, jiao3, 0), GetCarrierInheritPropertyValue(jiao2, jiao3, 1), GetCarrierInheritPropertyValue(jiao2, jiao3, 2), GetCarrierInheritPropertyValue(jiao2, jiao3, 3), GetCarrierInheritPropertyValue(jiao2, jiao3, 4), GetGiftInheritPropertyValue(jiao2, jiao3, 6), GetGiftInheritPropertyValue(jiao2, jiao3, 5), GetGiftInheritPropertyValue(jiao2, jiao3, 7), GetGiftInheritPropertyValue(jiao2, jiao3, 8)),
			Height = (Inherited: GetPresentInheritPropertyValue(jiao2, jiao3, 9), Fostered: 0),
			Weight = (Inherited: GetPresentInheritPropertyValue(jiao2, jiao3, 10), Fostered: 0),
			LifeSpan = (Inherited: GetPresentInheritPropertyValue(jiao2, jiao3, 11), Fostered: 0),
			Generation = Math.Max(jiao2.Generation, jiao3.Generation) + 1
		};
		jiaoPool.Jiaos.Add(jiao4.Id);
		entry.MaleJiaoEggDropRate += (flag ? (-GlobalConfig.Instance.JiaoEggGenderModification) : GlobalConfig.Instance.JiaoEggGenderModification);
		jiao2.CanBreed = false;
		jiao3.CanBreed = false;
		AddJiaoPoolRecord(context, poolId, new JiaoPoolRecord(20, jiao2.Id, jiao3.Id, jiao4.Key.TemplateId));
		SetJiaoPools(_jiaoPools, context);
		AddElement_Jiaos(jiao4.Id, jiao4, context);
		SetElement_Jiaos(jiao2.Id, jiao2, context);
		SetElement_Jiaos(jiao3.Id, jiao3, context);
		SetJiaoKeyToId(jiao4.Key, jiao4.Id);
		return true;
	}

	public void JiaoEvolveToCarrier(DataContext context, int poolId)
	{
		if (!TryGetJiaoFromPool(poolId, out var jiao, 1) || jiao.GrowthStage != 1)
		{
			return;
		}
		ItemKey itemKey = DomainManager.Item.CreateItem(context, 4, GetJiaoCarrierTemplateIdByJiaoTemplateId(jiao.TemplateId));
		DomainManager.Item.SetOwner(itemKey, ItemOwnerType.Building, 44);
		ItemKey key = jiao.Key;
		jiao.GrowthStage = 2;
		jiao.Key = itemKey;
		_jiaoPools[poolId].NextPeriod = -1;
		_jiaoEvolutionChoice[jiao.Id] = GetJiaoEvolutionChoice(jiao.Id);
		if (IsAbleToEvolveChildOfLoong(jiao.Id))
		{
			Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
			if (!location.IsValid())
			{
				location = DomainManager.Taiwu.GetTaiwu().GetValidLocation();
			}
			MonthlyEventCollection monthlyEventCollection = DomainManager.World.GetMonthlyEventCollection();
			monthlyEventCollection.AddDLCLoongJiaoGrowUp(location, jiao.Id);
		}
		DomainManager.Item.RemoveItem(context, key);
		AddJiaoPoolRecord(context, poolId, new JiaoPoolRecord(18, jiao.Id));
		SetCarrierTamePoint(context, jiao.Key.Id, jiao.TamePoint);
		SetJiaoPools(_jiaoPools, context);
		SetElement_Jiaos(jiao.Id, jiao, context);
		SetJiaoKeyToId(jiao.Key, jiao.Id);
		TriggerExtraTask(context, 47, 274);
	}

	public void JiaoEvolveToChildOfLoong(DataContext context, int id, short childOfLoongTemplateId)
	{
		if (_jiaos.TryGetValue(id, out var value) && value.GrowthStage == 2)
		{
			ItemKey itemKey = DomainManager.Item.CreateItem(context, 4, GetJiaoCarrierTemplateIdByJiaoTemplateId(childOfLoongTemplateId));
			ChildrenOfLoong childrenOfLoong = new ChildrenOfLoong(value, itemKey, childOfLoongTemplateId);
			GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
			int tamePoint2;
			int tamePoint = (TryGetCarrierTamePoint(value.Key.Id, out tamePoint2) ? tamePoint2 : value.TamePoint);
			ProfessionFormulaItem formulaCfg = ProfessionFormula.Instance[14];
			int baseDelta = formulaCfg.Calculate();
			RemoveJiaoFromPool(context, value.Key);
			RemoveJiaoFromTaiwuStorage(context, value.Key);
			SetChildOfLoongKeyToId(childrenOfLoong.Key, childrenOfLoong.Id);
			taiwu.AddInventoryItem(context, itemKey, 1);
			DomainManager.Item.RemoveItem(context, value.Key);
			SetCarrierTamePoint(context, childrenOfLoong.Key.Id, tamePoint);
			AddElement_ChildrenOfLoong(childrenOfLoong.Id, childrenOfLoong, context);
			RemoveElement_Jiaos(value.Id, context);
			SetOwnedChildrenOfLoong(childOfLoongTemplateId);
			FinishTriggeredExtraTask(context, 47, 274);
			DomainManager.Extra.ChangeProfessionSeniority(context, 1, baseDelta);
			List<ItemDisplayData> list = new List<ItemDisplayData>();
			list.Add(DomainManager.Item.GetItemDisplayData(itemKey, taiwu.GetId()));
			GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.OpenGetItem_Item, list, arg2: false, arg3: true);
		}
	}

	[DomainMethod]
	public sbyte GetJiaoEvolutionPageStatus()
	{
		if (DomainManager.Taiwu.GetTaiwuVillageLocation() != DomainManager.Taiwu.GetTaiwu().GetLocation())
		{
			return 1;
		}
		GetAllTaiwuJiao(includeEquipment: true);
		foreach (var (jiao2, _) in _taiwuJiaos)
		{
			if (IsAbleToEvolveChildOfLoong(jiao2.Id))
			{
				return 0;
			}
		}
		return 2;
	}

	public ItemSourceType GetJiaoSource(int jiaoId)
	{
		ItemKey key = DomainManager.Taiwu.GetTaiwu().GetEquipment()[11];
		if (key.IsValid() && IsItemJiaoRelated(key) && TryGetJiaoIdByItemKey(key, out var id) && TryGetJiao(id, out var jiao) && jiao.Id == jiaoId)
		{
			return ItemSourceType.Equipment;
		}
		IReadOnlyDictionary<ItemKey, int> items = DomainManager.Taiwu.GetItems(ItemSourceType.Inventory);
		foreach (ItemKey key2 in items.Keys)
		{
			if (TryGetJiaoIdByItemKey(key2, out var id2) && jiaoId == id2)
			{
				return ItemSourceType.Inventory;
			}
		}
		IReadOnlyDictionary<ItemKey, int> items2 = DomainManager.Taiwu.GetItems(ItemSourceType.Warehouse);
		foreach (ItemKey key3 in items2.Keys)
		{
			if (TryGetJiaoIdByItemKey(key3, out var id3) && jiaoId == id3)
			{
				return ItemSourceType.Warehouse;
			}
		}
		IReadOnlyDictionary<ItemKey, int> items3 = DomainManager.Taiwu.GetItems(ItemSourceType.Treasury);
		foreach (ItemKey key4 in items3.Keys)
		{
			if (TryGetJiaoIdByItemKey(key4, out var id4) && jiaoId == id4)
			{
				return ItemSourceType.Treasury;
			}
		}
		foreach (JiaoPool jiaoPool in _jiaoPools)
		{
			foreach (int jiao3 in jiaoPool.Jiaos)
			{
				if (TryGetJiao(jiao3, out var _) && jiaoId == jiao3)
				{
					return ItemSourceType.JiaoPool;
				}
			}
		}
		return ItemSourceType.Invalid;
	}

	[DomainMethod]
	public JiaoEvolutionDisplayData GetNextRandomChildrenOfLoong(DataContext context, int jiaoId)
	{
		if (!TryGetJiao(jiaoId, out var jiao))
		{
			return new JiaoEvolutionDisplayData();
		}
		int index;
		if (jiao.LastEvolutionResult == -1)
		{
			RemoveLoongScaleFromTaiwuStorage(context, GlobalConfig.Instance.RequiredLoongScaleForFirstTimeEvolution);
			InitializeRandomChildrenOfLoongPool(context, jiaoId, isForceNewSeed: true);
			index = _jiaoEvolutionPool[jiaoId].Count - 1;
		}
		else
		{
			RemoveLoongScaleFromTaiwuStorage(context, GlobalConfig.Instance.RequiredLoongScaleForEvolution);
			if (!_jiaoEvolutionPool.TryGetValue(jiaoId, out var _))
			{
				InitializeRandomChildrenOfLoongPool(context, jiaoId, isForceNewSeed: false);
			}
			index = _jiaoEvolutionPool[jiaoId].IndexOf(jiao.LastEvolutionResult);
			if (index <= 0)
			{
				InitializeRandomChildrenOfLoongPool(context, jiaoId, isForceNewSeed: true);
				index = _jiaoEvolutionPool[jiaoId].Count - 1;
			}
			else
			{
				index--;
			}
		}
		jiao.LastEvolutionResult = _jiaoEvolutionPool[jiaoId][index];
		SetJiao(context, jiao);
		return GetJiaoEvolutionDisplayData(jiaoId);
	}

	private void InitializeRandomChildrenOfLoongPool(DataContext context, int id, bool isForceNewSeed)
	{
		if (!TryGetJiao(id, out var jiao))
		{
			return;
		}
		if (jiao.RandomSeed == -1 || isForceNewSeed)
		{
			jiao.RandomSeed = context.Random.Next(int.MaxValue);
		}
		if (!_jiaoEvolutionPool.TryGetValue(id, out var value))
		{
			value = new List<short>();
		}
		Random random = new Random(jiao.RandomSeed);
		value.Clear();
		for (short num = 31; num <= 39; num++)
		{
			if (IsAbleToEvolveChildOfLoong(id, num))
			{
				value.Add(num);
			}
		}
		for (int num2 = value.Count - 1; num2 > 0; num2--)
		{
			int num3 = random.Next(num2 + 1);
			List<short> list = value;
			int index = num3;
			List<short> list2 = value;
			int index2 = num2;
			short value2 = value[num2];
			short value3 = value[num3];
			list[index] = value2;
			list2[index2] = value3;
		}
		_jiaoEvolutionPool[id] = value;
	}

	public JiaoEvolutionDisplayData GetJiaoEvolutionDisplayData(int jiaoId)
	{
		if (!TryGetJiao(jiaoId, out var jiao) || jiao.GrowthStage != 2)
		{
			return new JiaoEvolutionDisplayData();
		}
		if (!_jiaoEvolutionChoice.TryGetValue(jiaoId, out var value) || value == 0)
		{
			SetJiaoEvolutionChoice(jiaoId);
		}
		bool flag = jiao.LastEvolutionResult >= 0 && IsOwnedChildrenOfLoong(jiao.LastEvolutionResult);
		sbyte status = 0;
		if (GetEvolveChildOfLoongCount(jiaoId) <= 1)
		{
			status = 1;
		}
		else if (!flag)
		{
			status = 2;
		}
		else if (!IsLoongScaleEnough(GlobalConfig.Instance.RequiredLoongScaleForEvolution))
		{
			status = 3;
		}
		return new JiaoEvolutionDisplayData(jiao.Id, jiao.LastEvolutionResult, flag, status, DomainManager.Item.GetItemDisplayData(DomainManager.Item.GetBaseItem(jiao.Key), 1, DomainManager.Taiwu.GetTaiwuCharId(), (sbyte)GetJiaoSource(jiaoId)));
	}

	public bool JiaoFlee(DataContext context, int poolId)
	{
		if (poolId >= _jiaoPools.Count)
		{
			return false;
		}
		JiaoPool jiaoPool = _jiaoPools[poolId];
		if (jiaoPool.Jiaos.Count != 1)
		{
			return false;
		}
		if (!_jiaos.TryGetValue(jiaoPool.Jiaos[0], out var value) || value.GrowthStage != 1)
		{
			return false;
		}
		if (JiaoNurturance.Instance[value.NurturanceTemplateId].NurturanceCostMonth - value.EvolveRemainingMonth < 3)
		{
			return false;
		}
		if (!context.Random.CheckPercentProb(GetFleeChance(value)))
		{
			return false;
		}
		short areaId = DomainManager.Taiwu.GetTaiwuVillageLocation().AreaId;
		if (!TryGetValidCarrierLocation(context, areaId, out var location))
		{
			return false;
		}
		DomainManager.Item.RemoveOwner(value.Key, ItemOwnerType.Building, 44);
		jiaoPool.Jiaos.Clear();
		jiaoPool.NextPeriod = -1;
		SetJiaoPools(_jiaoPools, context);
		SetFleeCarrierLocation(context, value.Key, location);
		AddJiaoPoolRecord(context, poolId, new JiaoPoolRecord(15, value.Id));
		return true;
	}

	public void ApplyJiaoTamingResult(DataContext context, GameData.Domains.Character.Animal animal, bool isWin, Location location, ItemKey rope)
	{
		if (!isWin || !TryGetJiaoIdByItemKey(animal.ItemKey, out var id) || !TryGetJiao(id, out var jiao))
		{
			return;
		}
		if (rope.IsValid())
		{
			ChangeJiaoTamePoint(context, jiao, GlobalConfig.Instance.JiaoTamePointAddWhenCaught);
			GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
			taiwu.AddInventoryItem(context, animal.ItemKey, 1);
			return;
		}
		List<MapBlockData> list = ObjectPool<List<MapBlockData>>.Instance.Get();
		list.Clear();
		DomainManager.Adventure.GetValidBlocksForRandomEnemy(location.AreaId, location.BlockId, 3, onAdventureSite: false, onSettlement: false, nearTaiwu: true, list);
		if (list.Count != 0)
		{
			MapBlockData random = list.GetRandom(context.Random);
			Location location2 = new Location(random.AreaId, random.BlockId);
			SetAnimalLocation(context, animal, location2);
		}
		ObjectPool<List<MapBlockData>>.Instance.Return(list);
	}

	public void JiaoEvent(DataContext context, int poolId)
	{
		if (!TryGetJiaoFromPool(poolId, out var jiao, 1) || jiao.GrowthStage != 1)
		{
			return;
		}
		if (GetIsBabysittingMode(poolId))
		{
			AutomaticProcessJiaoEvent(context, jiao, poolId);
			return;
		}
		MonthlyEventCollection monthlyEventCollection = DomainManager.World.GetMonthlyEventCollection();
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Location location = taiwu.GetLocation();
		if (!location.IsValid())
		{
			location = taiwu.GetValidLocation();
		}
		monthlyEventCollection.AddJiaoGrowold(location, jiao.Id);
	}

	public void AutomaticProcessJiaoEvent(DataContext context, GameData.DLC.FiveLoong.Jiao jiao, int poolId)
	{
		RandomAddJiaoPresentProperty(context, jiao);
		short num = (short)context.Random.Next(0, 9);
		JiaoPropertyItem jiaoPropertyItem = Config.JiaoProperty.Instance[num];
		sbyte attitudeType = 1;
		int num2 = 0;
		if (jiao.TamePoint >= 75)
		{
			num2 = jiaoPropertyItem.AggressiveComfortParam;
			if (context.Random.CheckPercentProb(BringUpJiaoFailProb(jiao)))
			{
				num2 += jiaoPropertyItem.AggressiveNotComfortParam;
			}
			attitudeType = 0;
			AddJiaoAggressiveTimes(context, jiao);
			SetJiaoLastChoiceIsAggressive(context, jiao, lastChoiceIsAggressive: true);
		}
		else if (jiao.TamePoint < 50)
		{
			num2 = jiaoPropertyItem.ConservedTameParam;
			attitudeType = 2;
			AddJiaoNegativeTimes(context, jiao);
			SetJiaoLastChoiceIsAggressive(context, jiao, lastChoiceIsAggressive: false);
		}
		ChangeJiaoTamePoint(context, jiao, num2);
		AddJiaoPropertyInEvent(context, jiao, num, attitudeType, poolId);
	}

	public void AddJiaoPropertyInEvent(DataContext context, GameData.DLC.FiveLoong.Jiao jiao, short jiaoPropertyTemplateId, sbyte attitudeType, int poolId)
	{
		JiaoPropertyItem jiaoPropertyItem = Config.JiaoProperty.Instance[jiaoPropertyTemplateId];
		int[] eventChange = jiaoPropertyItem.EventChange;
		float num = context.Random.Next(eventChange[0], eventChange[1] + 1);
		switch (attitudeType)
		{
		case 0:
			num = num * (float)jiaoPropertyItem.AggressivePropertyParam / 100f;
			num = MathF.Ceiling(num);
			break;
		case 1:
			num = num * (float)jiaoPropertyItem.NeutralityPropertyParam / 100f;
			num = MathF.Ceiling(num);
			break;
		default:
			num = num * (float)jiaoPropertyItem.ConservedPropertyParam / 100f;
			num = MathF.Ceiling(num);
			break;
		}
		AddJiaoProperty(context, jiao, jiaoPropertyTemplateId, (int)num);
		DomainManager.Extra.AddJiaoPoolRecord(context, poolId, new JiaoPoolRecord(Config.JiaoProperty.Instance[jiaoPropertyTemplateId].JiaoRecordTemplateId, jiao.Id, (int)num));
	}

	public short RandomAddJiaoPresentProperty(DataContext context, GameData.DLC.FiveLoong.Jiao jiao)
	{
		short num = (short)context.Random.Next(9, 12);
		int[] eventChange = Config.JiaoProperty.Instance[num].EventChange;
		int delta = context.Random.Next(eventChange[0], eventChange[1] + 1);
		AddJiaoProperty(context, jiao, num, delta);
		return num;
	}

	private void SetOwnedChildrenOfLoong(short templateId)
	{
		if (TryGetDlcEntry<FiveLoongDlcEntry>(2764950uL, out var entry))
		{
			entry.OwnedChildrenOfLoong |= 1 << templateId - 31;
		}
	}

	private void RemoveJiaoFromPool(DataContext context, ItemKey key)
	{
		if (TryGetJiaoIdByItemKey(key, out var id) && TryGetJiaoPoolIdByJiaoId(id, out var poolId))
		{
			PutJiaoOutOfPool(context, poolId);
		}
	}

	private void RemoveJiaoFromTaiwuStorage(DataContext context, ItemKey key)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		ItemKey other = taiwu.GetEquipment()[11];
		if (key.Equals(other))
		{
			taiwu.ChangeEquipment(context, 11, -1, ItemKey.Invalid);
		}
		DomainManager.Taiwu.RemoveTaiwuItemFromTaiwuStorage(context, key, 1, deleteItem: false);
	}

	private void RemoveLoongScaleFromTaiwuStorage(DataContext context, int needToRemoveCount)
	{
		IReadOnlyDictionary<ItemKey, int> items = DomainManager.Taiwu.GetItems(ItemSourceType.Inventory);
		foreach (KeyValuePair<ItemKey, int> item in items)
		{
			ItemKey key = item.Key;
			if (key.ItemType == 12 && key.TemplateId == 286)
			{
				DomainManager.Taiwu.RemoveItem(context, item.Key, Math.Min(needToRemoveCount, item.Value), 1, deleteItem: true);
				needToRemoveCount -= item.Value;
				break;
			}
		}
		if (needToRemoveCount <= 0)
		{
			return;
		}
		IReadOnlyDictionary<ItemKey, int> items2 = DomainManager.Taiwu.GetItems(ItemSourceType.Warehouse);
		foreach (KeyValuePair<ItemKey, int> item2 in items2)
		{
			ItemKey key = item2.Key;
			if (key.ItemType == 12 && key.TemplateId == 286)
			{
				DomainManager.Taiwu.RemoveItem(context, item2.Key, Math.Min(needToRemoveCount, item2.Value), 2, deleteItem: true);
				needToRemoveCount -= item2.Value;
				break;
			}
		}
		if (needToRemoveCount <= 0)
		{
			return;
		}
		IReadOnlyDictionary<ItemKey, int> items3 = DomainManager.Taiwu.GetItems(ItemSourceType.Treasury);
		foreach (KeyValuePair<ItemKey, int> item3 in items3)
		{
			ItemKey key = item3.Key;
			if (key.ItemType == 12 && key.TemplateId == 286)
			{
				DomainManager.Taiwu.RemoveItem(context, item3.Key, needToRemoveCount, 3, deleteItem: true);
				break;
			}
		}
	}

	private bool IsLoongScaleEnough(int needToRemoveCount)
	{
		IReadOnlyDictionary<ItemKey, int> items = DomainManager.Taiwu.GetItems(ItemSourceType.Inventory);
		foreach (KeyValuePair<ItemKey, int> item in items)
		{
			ItemKey key = item.Key;
			if (key.ItemType == 12 && key.TemplateId == 286)
			{
				needToRemoveCount -= item.Value;
				break;
			}
		}
		if (needToRemoveCount <= 0)
		{
			return true;
		}
		IReadOnlyDictionary<ItemKey, int> items2 = DomainManager.Taiwu.GetItems(ItemSourceType.Warehouse);
		foreach (KeyValuePair<ItemKey, int> item2 in items2)
		{
			ItemKey key = item2.Key;
			if (key.ItemType == 12 && key.TemplateId == 286)
			{
				needToRemoveCount -= item2.Value;
				break;
			}
		}
		if (needToRemoveCount <= 0)
		{
			return true;
		}
		IReadOnlyDictionary<ItemKey, int> items3 = DomainManager.Taiwu.GetItems(ItemSourceType.Treasury);
		foreach (KeyValuePair<ItemKey, int> item3 in items3)
		{
			ItemKey key = item3.Key;
			if (key.ItemType == 12 && key.TemplateId == 286)
			{
				needToRemoveCount -= item3.Value;
				break;
			}
		}
		return needToRemoveCount <= 0;
	}

	private void GetAllTaiwuJiao(bool includeEquipment)
	{
		_taiwuJiaos.Clear();
		ItemKey key = DomainManager.Taiwu.GetTaiwu().GetEquipment()[11];
		if (includeEquipment && key.IsValid() && IsItemJiaoRelated(key) && TryGetJiaoIdByItemKey(key, out var id) && TryGetJiao(id, out var jiao))
		{
			_taiwuJiaos[jiao] = ItemSourceType.Equipment;
		}
		IReadOnlyDictionary<ItemKey, int> items = DomainManager.Taiwu.GetItems(ItemSourceType.Inventory);
		foreach (ItemKey key2 in items.Keys)
		{
			if (TryGetJiaoIdByItemKey(key2, out var id2) && TryGetJiao(id2, out var jiao2))
			{
				_taiwuJiaos[jiao2] = ItemSourceType.Inventory;
			}
		}
		IReadOnlyDictionary<ItemKey, int> items2 = DomainManager.Taiwu.GetItems(ItemSourceType.Warehouse);
		foreach (ItemKey key3 in items2.Keys)
		{
			if (TryGetJiaoIdByItemKey(key3, out var id3) && TryGetJiao(id3, out var jiao3))
			{
				_taiwuJiaos[jiao3] = ItemSourceType.Warehouse;
			}
		}
		IReadOnlyDictionary<ItemKey, int> items3 = DomainManager.Taiwu.GetItems(ItemSourceType.Treasury);
		foreach (ItemKey key4 in items3.Keys)
		{
			if (TryGetJiaoIdByItemKey(key4, out var id4) && TryGetJiao(id4, out var jiao4))
			{
				_taiwuJiaos[jiao4] = ItemSourceType.Treasury;
			}
		}
		foreach (JiaoPool jiaoPool in _jiaoPools)
		{
			foreach (int jiao6 in jiaoPool.Jiaos)
			{
				if (TryGetJiao(jiao6, out var jiao5))
				{
					_taiwuJiaos[jiao5] = ItemSourceType.JiaoPool;
				}
			}
		}
	}

	private void AddJiaoInPool(DataContext context, int poolId, GameData.DLC.FiveLoong.Jiao jiao)
	{
		JiaoPool jiaoPool = _jiaoPools[poolId];
		jiaoPool.Jiaos.Add(jiao.Id);
		DomainManager.Item.SetOwner(jiao.Key, ItemOwnerType.Building, 44);
		if (jiao.GrowthStage == 0)
		{
			jiaoPool.NextPeriod = GlobalConfig.Instance.JiaoEggIncubationTime;
		}
		else if (jiao.GrowthStage == 1)
		{
			jiaoPool.NextPeriod = -1;
			if (jiao.NextPeriod < 0)
			{
				jiao.NextPeriod = JiaoNurturance.Instance[jiao.NurturanceTemplateId].StageCostMonth;
			}
			SetJiao(context, jiao);
		}
		else if (jiaoPool.Jiaos.Count == 2)
		{
			jiaoPool.NextPeriod = GlobalConfig.Instance.JiaoBreedingTime;
		}
		SetJiaoPools(_jiaoPools, context);
	}

	private short GetJiaoInheritTemplateId(short parent1TemplateId, short parent2TemplateId)
	{
		int color = GetJiaoColorByTemplateId(parent1TemplateId) | GetJiaoColorByTemplateId(parent2TemplateId);
		return GetJiaoTemplateIdByColor(color);
	}

	private int GetJiaoColorByTemplateId(short templateId)
	{
		if (1 == 0)
		{
		}
		int result = templateId switch
		{
			0 => 1, 
			1 => 2, 
			2 => 4, 
			3 => 8, 
			4 => 16, 
			5 => 3, 
			6 => 5, 
			7 => 9, 
			8 => 17, 
			9 => 6, 
			10 => 10, 
			11 => 18, 
			12 => 12, 
			13 => 20, 
			14 => 24, 
			15 => 7, 
			16 => 11, 
			17 => 19, 
			18 => 13, 
			19 => 21, 
			20 => 25, 
			21 => 14, 
			22 => 22, 
			23 => 26, 
			24 => 28, 
			25 => 15, 
			26 => 23, 
			27 => 27, 
			28 => 29, 
			29 => 30, 
			30 => 31, 
			_ => throw new Exception(), 
		};
		if (1 == 0)
		{
		}
		return result;
	}

	private short GetJiaoTemplateIdByColor(int color)
	{
		if (1 == 0)
		{
		}
		short result = color switch
		{
			1 => 0, 
			2 => 1, 
			4 => 2, 
			8 => 3, 
			16 => 4, 
			3 => 5, 
			5 => 6, 
			9 => 7, 
			17 => 8, 
			6 => 9, 
			10 => 10, 
			18 => 11, 
			12 => 12, 
			20 => 13, 
			24 => 14, 
			7 => 15, 
			11 => 16, 
			19 => 17, 
			13 => 18, 
			21 => 19, 
			25 => 20, 
			14 => 21, 
			22 => 22, 
			26 => 23, 
			28 => 24, 
			15 => 25, 
			23 => 26, 
			27 => 27, 
			29 => 28, 
			30 => 29, 
			31 => 30, 
			_ => throw new Exception(), 
		};
		if (1 == 0)
		{
		}
		return result;
	}

	public short GetJiaoEggTemplateIdByJiaoTemplateId(short templateId)
	{
		return Config.Jiao.Instance[templateId].EggMaterial;
	}

	public short GetJiaoTeenagerTemplateIdByJiaoTemplateId(short templateId)
	{
		return Config.Jiao.Instance[templateId].TeenagerMaterial;
	}

	public short GetJiaoCarrierTemplateIdByJiaoTemplateId(short templateId)
	{
		return Config.Jiao.Instance[templateId].IndexOfCarrierTemplate;
	}

	public short GetJiaoCharacterTemplateIdByJiaoTemplateId(short templateId)
	{
		return Config.Jiao.Instance[templateId].IndexOfCharacterTemplate;
	}

	public Dictionary<int, GameData.DLC.FiveLoong.Jiao> GetAllJiaos()
	{
		return _jiaos;
	}

	public void SetJiao(DataContext context, GameData.DLC.FiveLoong.Jiao jiao)
	{
		if (_jiaos.ContainsKey(jiao.Id))
		{
			SetElement_Jiaos(jiao.Id, jiao, context);
		}
		else
		{
			AddElement_Jiaos(jiao.Id, jiao, context);
		}
	}

	public void ConsumeResourceForJiaoFoster(DataContext context, short templateId)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		JiaoNurturanceItem jiaoNurturanceItem = JiaoNurturance.Instance[templateId];
		if (jiaoNurturanceItem.ExpCost >= 0)
		{
			taiwu.ChangeExp(context, -jiaoNurturanceItem.ExpCost);
		}
		else
		{
			taiwu.ChangeResource(context, jiaoNurturanceItem.ResourceCostType, -jiaoNurturanceItem.ResourceCost);
		}
	}

	public bool IsItemJiaoRelated(ItemKey key)
	{
		sbyte itemType = key.ItemType;
		sbyte b = itemType;
		if (b != 4)
		{
			if (b == 5)
			{
				short templateId = key.TemplateId;
				if (templateId >= 280 && templateId <= 341)
				{
					goto IL_0042;
				}
			}
		}
		else
		{
			short templateId = key.TemplateId;
			if (templateId >= 46 && templateId <= 76)
			{
				goto IL_0042;
			}
		}
		return false;
		IL_0042:
		return true;
	}

	public int AddJiao(DataContext context, ItemKey key, short templateId, short nurturanceTemplateId, sbyte growthStage, bool isMale, bool isMaxTamePoint, bool isMaxProperty)
	{
		int tamePoint = (isMaxTamePoint ? 100 : context.Random.Next(GlobalConfig.Instance.JiaoInitialTamePoint[0], GlobalConfig.Instance.JiaoInitialTamePoint[1] + 1));
		GameData.DLC.FiveLoong.JiaoProperty properties = ((!isMaxProperty) ? new GameData.DLC.FiveLoong.JiaoProperty() : new GameData.DLC.FiveLoong.JiaoProperty(100));
		int evolveRemainingMonth = ((growthStage == 1) ? JiaoNurturance.Instance[nurturanceTemplateId].NurturanceCostMonth : 0);
		GameData.DLC.FiveLoong.Jiao jiao = new GameData.DLC.FiveLoong.Jiao(key, isMale, tamePoint, templateId, (sbyte)context.Random.Next(5))
		{
			NurturanceTemplateId = nurturanceTemplateId,
			EvolveRemainingMonth = evolveRemainingMonth,
			GrowthStage = growthStage,
			Properties = properties
		};
		if (jiao.GrowthStage == 2)
		{
			SetCarrierTamePoint(context, jiao.Key.Id, tamePoint);
		}
		SetJiaoKeyToId(jiao.Key, jiao.Id);
		AddElement_Jiaos(jiao.Id, jiao, context);
		SetJiaoEvolutionChoice(jiao.Id);
		return jiao.Id;
	}

	public void AddCopyOfJiao(DataContext context, GameData.DLC.FiveLoong.Jiao srcJiao, ItemKey dstItemKey)
	{
		GameData.DLC.FiveLoong.Jiao jiao = new GameData.DLC.FiveLoong.Jiao(srcJiao, dstItemKey);
		if (jiao.GrowthStage == 2)
		{
			SetCarrierTamePoint(context, jiao.Key.Id, jiao.TamePoint);
		}
		SetJiaoKeyToId(jiao.Key, jiao.Id);
		AddElement_Jiaos(jiao.Id, jiao, context);
		SetJiaoEvolutionChoice(jiao.Id);
	}

	[DomainMethod]
	public JiaoLoongNameRelatedData GetJiaoLoongNameRelatedData(ItemKey itemKey)
	{
		int id;
		return TryGetJiaoIdByItemKey(itemKey, out id) ? GetJiaoLoongNameRelatedData(id) : new JiaoLoongNameRelatedData
		{
			ItemType = itemKey.ItemType,
			ItemTemplateId = itemKey.TemplateId,
			NameId = -1,
			CharTemplateId = -1
		};
	}

	public JiaoLoongNameRelatedData GetJiaoLoongNameRelatedData(int jiaoLoongId)
	{
		if (_jiaos.TryGetValue(jiaoLoongId, out var value))
		{
			return value.GetNameRelatedData();
		}
		if (_childrenOfLoong.TryGetValue(jiaoLoongId, out var value2))
		{
			return value2.GetNameRelatedData();
		}
		return new JiaoLoongNameRelatedData
		{
			ItemType = -1,
			ItemTemplateId = -1,
			NameId = -1,
			CharTemplateId = -1
		};
	}

	[DomainMethod]
	public List<JiaoLoongNameRelatedData> GetJiaoLoongNameRelatedDataList(List<int> jiaoLoongIds)
	{
		List<JiaoLoongNameRelatedData> list = new List<JiaoLoongNameRelatedData>();
		foreach (int jiaoLoongId in jiaoLoongIds)
		{
			list.Add(GetJiaoLoongNameRelatedData(jiaoLoongId));
		}
		return list;
	}

	public void AddJiaoPoolRecord(DataContext context, int poolId, JiaoPoolRecord record)
	{
		record.Date = DomainManager.World.GetCurrDate();
		_jiaoPoolRecords[poolId].Collection.Add(record);
		SetJiaoPoolRecords(_jiaoPoolRecords, context);
	}

	[DomainMethod]
	public JiaoPoolRecordArgumentCollection FillJiaoRecordArgumentCollection(DataContext context, JiaoPoolRecordArgumentCollection collection)
	{
		if (collection == null)
		{
			return null;
		}
		if (collection.JiaoIdList != null)
		{
			collection.JiaoNameList = new List<string>(collection.JiaoIdList.Count);
			foreach (int jiaoId in collection.JiaoIdList)
			{
				GameData.DLC.FiveLoong.Jiao jiaoById = GetJiaoById(jiaoId);
				if (jiaoById != null)
				{
					collection.JiaoNameList.Add(jiaoById.GetNameText());
					continue;
				}
				ChildrenOfLoong childrenOfLoongById = GetChildrenOfLoongById(jiaoId);
				if (childrenOfLoongById != null)
				{
					collection.JiaoNameList.Add(childrenOfLoongById.GetNameText());
				}
				else
				{
					collection.JiaoNameList.Add(string.Empty);
				}
			}
		}
		return collection;
	}

	public void SetLegendaryBookShockedMonths(DataContext context, int charId, int months)
	{
		if (_legendaryBookShockedMonths.ContainsKey(charId))
		{
			SetElement_LegendaryBookShockedMonths(charId, months, context);
		}
		else
		{
			AddElement_LegendaryBookShockedMonths(charId, months, context);
		}
	}

	public void RemoveLegendaryBookShockedMonths(DataContext context, int charId)
	{
		if (_legendaryBookShockedMonths.ContainsKey(charId))
		{
			RemoveElement_LegendaryBookShockedMonths(charId, context);
		}
	}

	public void GetAllPrevLegendaryBookOwnerCopies(DataContext context, HashSet<int> charIds, bool onInit = false)
	{
		foreach (IntPair value in _prevLegendaryBookOwnerCopies.Values)
		{
			charIds.Add(value.First);
			if (onInit)
			{
				GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(value.First);
				element_Objects.OfflineSetSrcCharId(value.Second);
				DomainManager.Character.RemoveInfectedCharFromSet(value.First);
				context.Equipping.SelectEquipments(context, element_Objects, isOutOfTaiwuGroup: true);
			}
		}
	}

	public bool IsPrevLegendaryBookOwnerCopy(int charId)
	{
		foreach (IntPair value in _prevLegendaryBookOwnerCopies.Values)
		{
			if (value.First == charId)
			{
				return true;
			}
		}
		return false;
	}

	public int GetPrevLegendaryBookOwnerCopyId(sbyte combatSkillType)
	{
		IntPair value;
		return _prevLegendaryBookOwnerCopies.TryGetValue(combatSkillType, out value) ? value.First : (-1);
	}

	public void RegisterPrevLegendaryBookOwner(DataContext context, GameData.Domains.Character.Character character, sbyte combatSkillType)
	{
		GameData.Domains.Character.Character character2 = DomainManager.Character.CreateTemporaryCopyOfCharacter(context, character);
		IntPair value = new IntPair(character2.GetId(), character.GetId());
		if (_prevLegendaryBookOwnerCopies.TryGetValue(combatSkillType, out var value2))
		{
			int first = value2.First;
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(first);
			DomainManager.Character.RemoveTemporaryIntelligentCharacter(context, element_Objects);
			SetElement_PrevLegendaryBookOwnerCopies(combatSkillType, value, context);
		}
		else
		{
			AddElement_PrevLegendaryBookOwnerCopies(combatSkillType, value, context);
		}
	}

	public bool IsLegendaryBookConsumed(int charId)
	{
		return _legendaryBookConsumedCharIds.Contains(charId);
	}

	public void AddLegendaryBookConsumed(DataContext context, int charId)
	{
		_legendaryBookConsumedCharIds.Add(charId);
		SetLegendaryBookConsumedCharIds(_legendaryBookConsumedCharIds, context);
	}

	public void GetLegendaryBookConsumedCharacters(HashSet<int> charIds)
	{
		charIds.Clear();
		charIds.UnionWith(_legendaryBookConsumedCharIds.GetCollection());
	}

	public void RemoveLegendaryBookConsumed(DataContext context, int charId)
	{
		if (_legendaryBookConsumedCharIds.Remove(charId).Item2)
		{
			SetLegendaryBookConsumedCharIds(_legendaryBookConsumedCharIds, context);
		}
	}

	public CharacterSet GetContestForLegendaryBookCharacterSet(sbyte legendaryBookType)
	{
		_contestForLegendaryBookChars.TryGetValue(legendaryBookType, out var value);
		return value;
	}

	public void AddContestForLegendaryBookCharacter(DataContext context, int charId, sbyte legendaryBookType)
	{
		if (_contestForLegendaryBookChars.TryGetValue(legendaryBookType, out var value))
		{
			if (value.Add(charId))
			{
				SetElement_ContestForLegendaryBookChars(legendaryBookType, value, context);
			}
		}
		else
		{
			value.Add(charId);
			AddElement_ContestForLegendaryBookChars(legendaryBookType, value, context);
		}
	}

	public void RemoveContestForLegendaryBookCharacter(DataContext context, int charId, sbyte legendaryBookType)
	{
		if (_contestForLegendaryBookChars.TryGetValue(legendaryBookType, out var value))
		{
			var (flag, flag2) = value.Remove(charId);
			if (flag)
			{
				RemoveElement_ContestForLegendaryBookChars(legendaryBookType, context);
			}
			else
			{
				SetElement_ContestForLegendaryBookChars(legendaryBookType, value, context);
			}
		}
	}

	public void RemoveContestForLegendaryBookCharacters(DataContext context, sbyte legendaryBookType)
	{
		if (_contestForLegendaryBookChars.TryGetValue(legendaryBookType, out var value))
		{
			value.Clear();
			RemoveElement_ContestForLegendaryBookChars(legendaryBookType, context);
		}
	}

	public void AddPreviousLegendaryBookOwner(DataContext context, int charId, sbyte legendaryBookType)
	{
		if (_previousLegendaryBookOwners.TryGetValue(legendaryBookType, out var value))
		{
			if (value.Add(charId))
			{
				SetElement_PreviousLegendaryBookOwners(legendaryBookType, value, context);
			}
		}
		else
		{
			value.Add(charId);
			AddElement_PreviousLegendaryBookOwners(legendaryBookType, value, context);
		}
	}

	public bool IsLegendaryBookOwned(sbyte legendaryBookType)
	{
		CharacterSet value;
		return _previousLegendaryBookOwners.TryGetValue(legendaryBookType, out value) && value.GetCount() != 0;
	}

	public bool IsCharacterHiddenByLegendaryBook(int charId)
	{
		return _legendaryBookHiddenCharIds.Contains(charId);
	}

	public void AddLegendaryBookHiddenChar(DataContext context, int charId)
	{
		_legendaryBookHiddenCharIds.Add(charId);
		SetLegendaryBookHiddenCharIds(_legendaryBookHiddenCharIds, context);
	}

	public void RemoveLegendaryBookHiddenChar(DataContext context, int charId)
	{
		(bool, bool) tuple = _legendaryBookHiddenCharIds.Remove(charId);
		var (flag, _) = tuple;
		if (tuple.Item2)
		{
			SetLegendaryBookHiddenCharIds(_legendaryBookHiddenCharIds, context);
		}
	}

	public void SetFirstLegendaryBookDelay(DataContext context, sbyte value)
	{
		SetFirstLegendaryBookDelay(value, context);
	}

	private void FixXiangshuInfectedConsumedCharacters(DataContext context)
	{
		HashSet<int> collection = _legendaryBookConsumedCharIds.GetCollection();
		foreach (int item in collection)
		{
			if (DomainManager.Character.TryGetElement_Objects(item, out var element) && element.IsCompletelyInfected())
			{
				element.SetXiangshuInfection(0, context);
				element.UpdateXiangshuInfectionState(context);
				Logger.Warn($"Fixing legendary book consumed character {element}'s xiangshu infection state.");
			}
		}
	}

	[DomainMethod]
	public Dictionary<sbyte, LifeSkillCombatCardCollection> GetAllLifeSkillCombatCard(DataContext context)
	{
		CheckAndInitCard(context);
		return _lifeSkillCombatCardDict;
	}

	[DomainMethod]
	public Dictionary<sbyte, LifeSkillCombatCardCollection> GetAllLifeSkillCombatUsedCard(DataContext context)
	{
		CheckAndInitUsedCard(context);
		return _lifeSkillCombatUsedCardDict;
	}

	[DomainMethod]
	public LifeSkillCombatCardCollection GetLifeSkillCombatUsedCard(DataContext context, sbyte skillType)
	{
		Dictionary<sbyte, LifeSkillCombatCardCollection> allLifeSkillCombatUsedCard = GetAllLifeSkillCombatUsedCard(context);
		return allLifeSkillCombatUsedCard[skillType];
	}

	[DomainMethod]
	public void SetLifeSkillCombatUsedCard(DataContext context, sbyte skillType, LifeSkillCombatCardCollection collection)
	{
		SetElement_LifeSkillCombatUsedCardDict(skillType, collection, context);
	}

	private void CheckAndInitCard(DataContext context)
	{
		List<GameData.Domains.Character.LifeSkillItem> learnedLifeSkills = DomainManager.Taiwu.GetTaiwu().GetLearnedLifeSkills();
		if (_lifeSkillCombatCardDict.Count > 0)
		{
			foreach (KeyValuePair<sbyte, LifeSkillCombatCardCollection> item in _lifeSkillCombatCardDict)
			{
				if (item.Value.CardDict == null)
				{
					foreach (GameData.Domains.Character.LifeSkillItem item2 in learnedLifeSkills)
					{
						Config.LifeSkillItem lifeSkillItem = LifeSkill.Instance[item2.SkillTemplateId];
						if (lifeSkillItem.Type == item.Key)
						{
							CreateLifeSkillCombatCard(context, item2);
						}
					}
				}
			}
			return;
		}
		learnedLifeSkills.ForEach(delegate(GameData.Domains.Character.LifeSkillItem item)
		{
			CreateLifeSkillCombatCard(context, item);
		});
	}

	private void CheckAndInitUsedCard(DataContext context)
	{
		for (sbyte b = 0; b < 16; b++)
		{
			if (!_lifeSkillCombatUsedCardDict.TryGetValue(b, out var value))
			{
				value = default(LifeSkillCombatCardCollection);
				Create(ref value);
				AddElement_LifeSkillCombatUsedCardDict(b, value, context);
			}
			else if (value.CardDict == null || value.CountSum < TotalUsedCardCount)
			{
				Create(ref value);
				SetElement_LifeSkillCombatUsedCardDict(b, value, context);
			}
		}
		static void Create(ref LifeSkillCombatCardCollection cardCollection)
		{
			cardCollection.CardDict = new Dictionary<sbyte, int>();
			foreach (LifeSkillCombatEffectItem item in (IEnumerable<LifeSkillCombatEffectItem>)LifeSkillCombatEffect.Instance)
			{
				if (item.UsedCount > 0)
				{
					cardCollection.CardDict[item.TemplateId] = item.UsedCount;
				}
			}
		}
	}

	public void CreateLifeSkillCombatCard(DataContext context, GameData.Domains.Character.LifeSkillItem item)
	{
		Config.LifeSkillItem lifeSkillItem = LifeSkill.Instance[item.SkillTemplateId];
		sbyte grade = lifeSkillItem.Grade;
		if (grade >= 0 && grade <= 2)
		{
			List<byte> list = new List<byte> { 1, 2, 3 };
			{
				foreach (byte item2 in list)
				{
					if (item.IsPageRead(item2))
					{
						CreateCard(context, lifeSkillItem, item2, 0);
					}
				}
				return;
			}
		}
		grade = lifeSkillItem.Grade;
		if (grade >= 3 && grade <= 5)
		{
			List<byte> list2 = new List<byte> { 2, 3 };
			{
				foreach (byte item3 in list2)
				{
					if (item.IsPageRead(item3))
					{
						CreateCard(context, lifeSkillItem, item3, 1);
					}
				}
				return;
			}
		}
		grade = lifeSkillItem.Grade;
		if (grade >= 6 && grade <= 8)
		{
			byte b = 3;
			if (item.IsPageRead(b))
			{
				CreateCard(context, lifeSkillItem, b, 2);
			}
		}
	}

	private void CreateCard(DataContext context, Config.LifeSkillItem skillConfig, byte page, sbyte cardLevel)
	{
		LifeSkillCombatReadBookPageData value;
		bool flag = TryGetElement_LifeSkillCombatReadBookPageDict(skillConfig.TemplateId, out value);
		if (value.PageList != null && value.PageList.Contains(page))
		{
			return;
		}
		LifeSkillCombatCardCollection value2;
		bool flag2 = TryGetElement_LifeSkillCombatCardDict(skillConfig.Type, out value2);
		List<sbyte> allKeys = LifeSkillCombatEffect.Instance.GetAllKeys();
		CollectionUtils.Shuffle(context.Random, allKeys);
		LifeSkillCombatEffectItem lifeSkillCombatEffectItem = null;
		foreach (sbyte item in allKeys)
		{
			LifeSkillCombatEffectItem lifeSkillCombatEffectItem2 = LifeSkillCombatEffect.Instance[item];
			int value3 = 0;
			value2.CardDict?.TryGetValue(lifeSkillCombatEffectItem2.TemplateId, out value3);
			if (lifeSkillCombatEffectItem2.Level == cardLevel && value3 + lifeSkillCombatEffectItem2.BaseAmount < lifeSkillCombatEffectItem2.MaxAmount)
			{
				lifeSkillCombatEffectItem = lifeSkillCombatEffectItem2;
				break;
			}
		}
		if (lifeSkillCombatEffectItem != null)
		{
			ref Dictionary<sbyte, int> cardDict = ref value2.CardDict;
			if (cardDict == null)
			{
				cardDict = new Dictionary<sbyte, int>();
			}
			value2.CardDict.TryGetValue(lifeSkillCombatEffectItem.TemplateId, out var value4);
			value4 = (value2.CardDict[lifeSkillCombatEffectItem.TemplateId] = value4 + 1);
			if (flag2)
			{
				SetElement_LifeSkillCombatCardDict(skillConfig.Type, value2, context);
			}
			else
			{
				AddElement_LifeSkillCombatCardDict(skillConfig.Type, value2, context);
			}
			LifeSkillCombatCardCollection value5;
			bool flag3 = TryGetElement_LifeSkillCombatNewCardDict(skillConfig.Type, out value5);
			cardDict = ref value5.CardDict;
			if (cardDict == null)
			{
				cardDict = new Dictionary<sbyte, int>();
			}
			value5.CardDict[lifeSkillCombatEffectItem.TemplateId] = 0;
			if (flag3)
			{
				SetElement_LifeSkillCombatNewCardDict(skillConfig.Type, value5, context);
			}
			else
			{
				AddElement_LifeSkillCombatNewCardDict(skillConfig.Type, value5, context);
			}
			if (value.PageList == null)
			{
				value.PageList = new List<byte>();
			}
			value.PageList.Add(page);
			if (flag)
			{
				SetElement_LifeSkillCombatReadBookPageDict(skillConfig.TemplateId, value, context);
			}
			else
			{
				AddElement_LifeSkillCombatReadBookPageDict(skillConfig.TemplateId, value, context);
			}
		}
	}

	[DomainMethod]
	public LifeSkillCombatCardCollection GetCharacterLifeSkillCombatUsedCard(DataContext context, sbyte skillType, int charId)
	{
		if (charId == DomainManager.Taiwu.GetTaiwuCharId())
		{
			return GetLifeSkillCombatUsedCard(context, skillType);
		}
		return _aiLifeSkillCombatCard;
	}

	[DomainMethod]
	public LifeSkillCombatCardCollection InitAiLifeSkillCombatUsedCard(DataContext context, sbyte skillType, int charId)
	{
		if (_aiCharId != charId)
		{
			_aiLifeSkillCombatCard = GetAiLifeSkillCombatUsedCard(context, skillType, charId);
		}
		return _aiLifeSkillCombatCard;
	}

	private LifeSkillCombatCardCollection GetAiLifeSkillCombatUsedCard(DataContext context, sbyte skillType, int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		_aiCharId = charId;
		short morality = element_Objects.GetMorality();
		List<GameData.Domains.Character.LifeSkillItem> learnedLifeSkills = element_Objects.GetLearnedLifeSkills();
		LifeSkillCombatCardCollection cardCollection = default(LifeSkillCombatCardCollection);
		cardCollection.CardDict = new Dictionary<sbyte, int>();
		foreach (LifeSkillCombatEffectItem item3 in (IEnumerable<LifeSkillCombatEffectItem>)LifeSkillCombatEffect.Instance)
		{
			cardCollection.CardDict[item3.TemplateId] = item3.BaseAmount;
		}
		learnedLifeSkills.ForEach(delegate(GameData.Domains.Character.LifeSkillItem item)
		{
			Config.LifeSkillItem lifeSkillItem = LifeSkill.Instance[item.SkillTemplateId];
			if (skillType == lifeSkillItem.Type)
			{
				CreateAiLifeSkillCombatCard(context, item, cardCollection);
			}
		});
		Dictionary<sbyte, int> resultCardDict = new Dictionary<sbyte, int>();
		List<(sbyte, int)> rateList = new List<(sbyte, int)>();
		CalcRate(0, 18);
		CalcRate(1, 9);
		CalcRate(2, 3);
		return new LifeSkillCombatCardCollection
		{
			CardDict = resultCardDict
		};
		void CalcRate(int level, int maxUsedCount)
		{
			int levelCountSum = cardCollection.GetLevelCountSum(level);
			Dictionary<sbyte, int> dictionary = cardCollection.CardDict.Where((KeyValuePair<sbyte, int> p) => LifeSkillCombatEffect.Instance[p.Key].Level == level).ToDictionary((KeyValuePair<sbyte, int> p) => p.Key, (KeyValuePair<sbyte, int> p) => p.Value);
			float num = 1f / (float)levelCountSum;
			int num2 = 0;
			rateList.Clear();
			foreach (KeyValuePair<sbyte, int> item4 in dictionary)
			{
				LifeSkillCombatEffectItem lifeSkillCombatEffectItem = LifeSkillCombatEffect.Instance[item4.Key];
				int aiBuildCardRateOffset = GetAiBuildCardRateOffset(morality, lifeSkillCombatEffectItem.Group);
				float num3 = (float)item4.Value * num * (100f + (float)aiBuildCardRateOffset / 100f);
				int num4 = (int)(num3 * 100f);
				rateList.Add((item4.Key, num4));
				num2 += num4;
			}
			int num5 = 0;
			while (num5 < maxUsedCount)
			{
				num5++;
				int num6 = context.Random.Next(num2);
				int num7 = 0;
				for (int num8 = 0; num8 < rateList.Count; num8++)
				{
					(sbyte, int) tuple = rateList[num8];
					sbyte item = tuple.Item1;
					int item2 = tuple.Item2;
					num7 += item2;
					if (num6 < num7)
					{
						resultCardDict.TryGetValue(item, out var value);
						value = (resultCardDict[item] = value + 1);
						if (value >= cardCollection.CardDict[item])
						{
							rateList.RemoveAt(num8);
							num2 -= item2;
						}
						break;
					}
				}
			}
		}
	}

	private int GetAiBuildCardRateOffset(short morality, ELifeSkillCombatEffectGroup effectGroup)
	{
		int result = 0;
		switch (GameData.Domains.Character.BehaviorType.GetBehaviorType(morality))
		{
		case 0:
		case 1:
			switch (effectGroup)
			{
			case ELifeSkillCombatEffectGroup.ReinforceArgument:
				result = 35;
				break;
			case ELifeSkillCombatEffectGroup.DissembleArgument:
				result = -35;
				break;
			}
			break;
		case 2:
			switch (effectGroup)
			{
			case ELifeSkillCombatEffectGroup.ReinforceArgument:
				result = 20;
				break;
			case ELifeSkillCombatEffectGroup.WeakenArgument:
				result = 20;
				break;
			case ELifeSkillCombatEffectGroup.FlexibleFall:
				result = -20;
				break;
			case ELifeSkillCombatEffectGroup.DissembleArgument:
				result = -20;
				break;
			}
			break;
		case 3:
		case 4:
			switch (effectGroup)
			{
			case ELifeSkillCombatEffectGroup.ReinforceArgument:
				result = -35;
				break;
			case ELifeSkillCombatEffectGroup.WeakenArgument:
				result = 35;
				break;
			case ELifeSkillCombatEffectGroup.FlexibleFall:
				result = -35;
				break;
			case ELifeSkillCombatEffectGroup.DissembleArgument:
				result = 35;
				break;
			case ELifeSkillCombatEffectGroup.EliminateArgument:
				result = 35;
				break;
			case ELifeSkillCombatEffectGroup.RemoveEffect:
				result = 35;
				break;
			}
			break;
		}
		return result;
	}

	public void CreateAiLifeSkillCombatCard(DataContext context, GameData.Domains.Character.LifeSkillItem item, LifeSkillCombatCardCollection cardCollection)
	{
		Config.LifeSkillItem lifeSkillItem = LifeSkill.Instance[item.SkillTemplateId];
		sbyte grade = lifeSkillItem.Grade;
		if (grade >= 0 && grade <= 2)
		{
			List<byte> list = new List<byte> { 1, 2, 3 };
			{
				foreach (byte item2 in list)
				{
					if (item.IsPageRead(item2))
					{
						CreateAiCard(context, 0, cardCollection);
					}
				}
				return;
			}
		}
		grade = lifeSkillItem.Grade;
		if (grade >= 3 && grade <= 5)
		{
			List<byte> list2 = new List<byte> { 2, 3 };
			{
				foreach (byte item3 in list2)
				{
					if (item.IsPageRead(item3))
					{
						CreateAiCard(context, 1, cardCollection);
					}
				}
				return;
			}
		}
		grade = lifeSkillItem.Grade;
		if (grade >= 6 && grade <= 8)
		{
			byte pageId = 3;
			if (item.IsPageRead(pageId))
			{
				CreateAiCard(context, 2, cardCollection);
			}
		}
	}

	private void CreateAiCard(DataContext context, sbyte cardLevel, LifeSkillCombatCardCollection cardCollection)
	{
		List<sbyte> allKeys = LifeSkillCombatEffect.Instance.GetAllKeys();
		CollectionUtils.Shuffle(context.Random, allKeys);
		LifeSkillCombatEffectItem lifeSkillCombatEffectItem = null;
		foreach (sbyte item in allKeys)
		{
			LifeSkillCombatEffectItem lifeSkillCombatEffectItem2 = LifeSkillCombatEffect.Instance[item];
			int value = 0;
			cardCollection.CardDict?.TryGetValue(lifeSkillCombatEffectItem2.TemplateId, out value);
			if (lifeSkillCombatEffectItem2.Level == cardLevel && value + lifeSkillCombatEffectItem2.BaseAmount < lifeSkillCombatEffectItem2.MaxAmount)
			{
				lifeSkillCombatEffectItem = lifeSkillCombatEffectItem2;
				break;
			}
		}
		if (lifeSkillCombatEffectItem != null)
		{
			ref Dictionary<sbyte, int> cardDict = ref cardCollection.CardDict;
			if (cardDict == null)
			{
				cardDict = new Dictionary<sbyte, int>();
			}
			cardCollection.CardDict.TryGetValue(lifeSkillCombatEffectItem.TemplateId, out var value2);
			value2 = (cardCollection.CardDict[lifeSkillCombatEffectItem.TemplateId] = value2 + 1);
		}
	}

	[DomainMethod]
	public Dictionary<sbyte, LifeSkillCombatCardCollection> GetAllLifeSkillCombatNewCard(DataContext context)
	{
		return _lifeSkillCombatNewCardDict;
	}

	[DomainMethod]
	public void SetLifeSkillCombatCardNotNew(DataContext context, sbyte skillType, sbyte cardId)
	{
		if (TryGetElement_LifeSkillCombatNewCardDict(skillType, out var value))
		{
			value.CardDict.Remove(cardId);
		}
	}

	[DomainMethod]
	public void AddLocationMark(DataContext context, Location location)
	{
		if (!TryGetElement_LocationMarkHashSet(location, out var _))
		{
			AddElement_LocationMarkHashSet(location, default(VoidValue), context);
		}
	}

	[DomainMethod]
	public void RemoveLocationMark(DataContext context, Location location)
	{
		if (TryGetElement_LocationMarkHashSet(location, out var _))
		{
			RemoveElement_LocationMarkHashSet(location, context);
		}
	}

	[DomainMethod]
	public HashSetAsDictionary<Location> GetAllLocationMark()
	{
		return _locationMarkHashSet;
	}

	[DomainMethod]
	public ChildrenOfLoong GetChildrenOfLoongById(int id)
	{
		return _childrenOfLoong.GetValueOrDefault(id);
	}

	[DomainMethod]
	public ChildrenOfLoong GetChildrenOfLoongByItemKey(ItemKey key)
	{
		int id;
		return TryGetChildrenOfLoongIdByItemKey(key, out id) ? _childrenOfLoong.GetValueOrDefault(id) : new ChildrenOfLoong();
	}

	[DomainMethod]
	public short GetJiaoTemplateIdByCarrierTemplateId(short templateId)
	{
		return FiveLoongDlcEntry.CarrierToJiaoTemplate[templateId];
	}

	public bool TryGetLoong(int id, out ChildrenOfLoong childOfLoong)
	{
		return _childrenOfLoong.TryGetValue(id, out childOfLoong);
	}

	public bool TryGetChildrenOfLoongIdByItemKey(ItemKey key, out int id)
	{
		if (_childrenOfLoongKeyToId.TryGetValue(key, out id))
		{
			return true;
		}
		return false;
	}

	public void SetChildrenOfLoongItemKey(DataContext context, int id, ChildrenOfLoong loong, ItemKey itemKey)
	{
		loong.Key = itemKey;
		if (_childrenOfLoong.ContainsKey(id))
		{
			SetElement_ChildrenOfLoong(id, loong, context);
		}
		else
		{
			AddElement_ChildrenOfLoong(id, loong, context);
		}
		SetChildOfLoongKeyToId(loong.Key, id);
	}

	public void SetChildrenOfLoong(DataContext context, ChildrenOfLoong loong)
	{
		if (_childrenOfLoong.ContainsKey(loong.Id))
		{
			SetElement_ChildrenOfLoong(loong.Id, loong, context);
		}
		else
		{
			AddElement_ChildrenOfLoong(loong.Id, loong, context);
		}
	}

	public void SetChildOfLoongKeyToId(ItemKey key, int id)
	{
		_childrenOfLoongKeyToId[key] = id;
	}

	public int GetFiveLoongAppearCount()
	{
		int num = 0;
		foreach (KeyValuePair<short, LoongInfo> item in _fiveLoongDict)
		{
			if (!item.Value.IsDisappear)
			{
				num++;
			}
		}
		return num;
	}

	[DomainMethod]
	public int GetFiveLoongDictCount(DataContext context)
	{
		return _fiveLoongDict.Count;
	}

	public BoolArray8 GetAreaLoongStatus(short areaId)
	{
		//IL_0010: Unknown result type (might be due to invalid IL or missing references)
		//IL_0015: Unknown result type (might be due to invalid IL or missing references)
		//IL_0183: Unknown result type (might be due to invalid IL or missing references)
		//IL_0184: Unknown result type (might be due to invalid IL or missing references)
		//IL_0187: Unknown result type (might be due to invalid IL or missing references)
		BoolArray8 result = BoolArray8.op_Implicit((byte)0);
		((BoolArray8)(ref result))[0] = _fiveLoongDict.Values.Where(IsMatch).Any((LoongInfo x) => x.CharacterTemplateId == 686);
		((BoolArray8)(ref result))[1] = _fiveLoongDict.Values.Where(IsMatch).Any((LoongInfo x) => x.CharacterTemplateId == 688);
		((BoolArray8)(ref result))[4] = _fiveLoongDict.Values.Where(IsMatch).Any((LoongInfo x) => x.CharacterTemplateId == 690);
		((BoolArray8)(ref result))[2] = _fiveLoongDict.Values.Where(IsMatch).Any((LoongInfo x) => x.CharacterTemplateId == 687);
		((BoolArray8)(ref result))[3] = _fiveLoongDict.Values.Where(IsMatch).Any((LoongInfo x) => x.CharacterTemplateId == 689);
		return result;
		bool IsMatch(LoongInfo loongInfo)
		{
			return loongInfo.LoongCurrentLocation.AreaId == areaId && !loongInfo.IsDisappear;
		}
	}

	public List<short> GetFiveLoongStateIds()
	{
		List<short> list = new List<short>();
		foreach (KeyValuePair<short, LoongInfo> item in _fiveLoongDict)
		{
			list.Add(DomainManager.Map.GetStateIdByAreaId(item.Value.LoongTerrainCenterLocation.AreaId));
		}
		return list;
	}

	public Dictionary<int, ChildrenOfLoong> GetAllLoongs()
	{
		return _childrenOfLoong;
	}

	public void SetLoongInfo(DataContext context, short loongCharTemplateId, LoongInfo value)
	{
		Tester.Assert(FiveLoongDlcEntry.IsCharacterLoong(loongCharTemplateId));
		if (_fiveLoongDict.ContainsKey(loongCharTemplateId))
		{
			SetElement_FiveLoongDict(loongCharTemplateId, value, context);
		}
		else
		{
			AddElement_FiveLoongDict(loongCharTemplateId, value, context);
		}
	}

	private bool IsItemChildOfLoongRelated(ItemKey key)
	{
		int result;
		if (key.ItemType == 4)
		{
			short templateId = key.TemplateId;
			if (templateId >= 77)
			{
				result = ((templateId <= 85) ? 1 : 0);
				goto IL_0021;
			}
		}
		result = 0;
		goto IL_0021;
		IL_0021:
		return (byte)result != 0;
	}

	public void AddCopyOfChildOfLoong(DataContext context, ChildrenOfLoong srcChildOfLoong, ItemKey dstItemKey)
	{
		ChildrenOfLoong childrenOfLoong = new ChildrenOfLoong(srcChildOfLoong, dstItemKey);
		SetChildOfLoongKeyToId(childrenOfLoong.Key, childrenOfLoong.Id);
		SetCarrierTamePoint(context, childrenOfLoong.Key.Id, GlobalConfig.Instance.MaxCarrierTamePoint);
		AddElement_ChildrenOfLoong(childrenOfLoong.Id, childrenOfLoong, context);
	}

	public int AddChildOfLoong(DataContext context, ItemKey key, short templateId)
	{
		ChildrenOfLoong childrenOfLoong = new ChildrenOfLoong(key.Id, key, (sbyte)context.Random.Next(5), templateId, new GameData.DLC.FiveLoong.JiaoProperty(50));
		SetChildOfLoongKeyToId(childrenOfLoong.Key, childrenOfLoong.Id);
		SetCarrierTamePoint(context, childrenOfLoong.Key.Id, GlobalConfig.Instance.MaxCarrierTamePoint);
		AddElement_ChildrenOfLoong(childrenOfLoong.Id, childrenOfLoong, context);
		return childrenOfLoong.Id;
	}

	public void UpdateEnemyNestInitializationDates(DataContext context, int beginDate)
	{
		if (_enemyNestInitializationDates != null && _enemyNestInitializationDates.Count > 0)
		{
			return;
		}
		_enemyNestInitializationDates = new List<IntList>();
		for (int i = 0; i < 45; i++)
		{
			MapAreaData element_Areas = DomainManager.Map.GetElement_Areas(i);
			MapAreaItem config = element_Areas.GetConfig();
			IntList item = IntList.Create();
			_enemyNestInitializationDates.Add(item);
			List<IntPair> enemyNestCreationDateRanges = config.EnemyNestCreationDateRanges;
			if (enemyNestCreationDateRanges == null || enemyNestCreationDateRanges.Count <= 0)
			{
				continue;
			}
			foreach (IntPair enemyNestCreationDateRange in config.EnemyNestCreationDateRanges)
			{
				int num = ((enemyNestCreationDateRange.First == enemyNestCreationDateRange.Second) ? enemyNestCreationDateRange.First : context.Random.Next(enemyNestCreationDateRange.First, enemyNestCreationDateRange.Second));
				num += beginDate;
				item.Items.Add(num);
			}
		}
		SetEnemyNestInitializationDates(_enemyNestInitializationDates, context);
	}

	public int GetEnemyNestInitializationDate(short areaId, int index)
	{
		if (!_enemyNestInitializationDates.CheckIndex(areaId))
		{
			return int.MinValue;
		}
		IntList intList = _enemyNestInitializationDates[areaId];
		if (!intList.Items.CheckIndex(index))
		{
			return int.MinValue;
		}
		return intList.Items[index];
	}

	[Obsolete("This method is obsolete, and will be removed in future. Use MapDomain.HunterAnimalsCache monitor instead.")]
	[DomainMethod]
	public bool GetLocationHasHunterAnimal(Location location)
	{
		return false;
	}

	public void AddTriggeredTravelingEvent(DataContext context, short templateId)
	{
		if (!_prevTriggeredTravelingEvents.Contains(templateId))
		{
			_prevTriggeredTravelingEvents.Add(templateId);
			SetPrevTriggeredTravelingEvents(_prevTriggeredTravelingEvents, context);
		}
	}

	public bool HasTravelingEventBeenTriggered(short templateId)
	{
		return _prevTriggeredTravelingEvents.Contains(templateId);
	}

	public int GetTravelingEventTypeTriggerCount(ETravelingEventType type)
	{
		int num = 0;
		foreach (short prevTriggeredTravelingEvent in _prevTriggeredTravelingEvents)
		{
			if (TravelingEvent.Instance[prevTriggeredTravelingEvent].Type == type)
			{
				num++;
			}
		}
		return num;
	}

	public void CommitTravelingEvents(DataContext context)
	{
		int num = _travelingEventCollection.Size - _travelingEventsCommittedOffset;
		if (num > 0)
		{
			CommitInsert_TravelingEventCollection(context, _travelingEventsCommittedOffset, num);
			CommitSetMetadata_TravelingEventCollection(context);
			_travelingEventsCommittedOffset = _travelingEventCollection.Size;
		}
	}

	public void ClearTravelingEvents(DataContext context)
	{
		CommitTravelingEvents(context);
		_travelingEventsCommittedOffset = 0;
		int size = _travelingEventCollection.Size;
		_travelingEventCollection.Clear();
		CommitRemove_TravelingEventCollection(context, 0, size);
		CommitSetMetadata_TravelingEventCollection(context);
	}

	public void AddGainsInTravel(DataContext context, ItemKey itemKey)
	{
		_gainsInTravel.Add(itemKey);
		SetGainsInTravel(_gainsInTravel, context);
	}

	public void ClearGainsInTravel(DataContext context)
	{
		_gainsInTravel.Clear();
		SetGainsInTravel(_gainsInTravel, context);
	}

	[Obsolete]
	public void SetAnimalAreaData(DataContext context, short areaId, AnimalAreaData animalAreaData)
	{
		SetElement_AnimalAreaData(areaId, animalAreaData, context);
	}

	public int QueryAnimalCount(Location location)
	{
		List<int> animals;
		return (location.IsValid() && TryGetAnimalIdsByLocation(location, out animals)) ? animals.Count : 0;
	}

	public void UpdateMapBlockRecoveryUnlockDates(DataContext context)
	{
		int currDate = DomainManager.World.GetCurrDate();
		List<Location> list = null;
		foreach (var (item, num2) in _blockRecoveryUnlockDates)
		{
			if (currDate >= num2)
			{
				if (list == null)
				{
					list = new List<Location>();
				}
				list.Add(item);
			}
		}
		if (list == null)
		{
			return;
		}
		foreach (Location item2 in list)
		{
			RemoveElement_BlockRecoveryUnlockDates(item2, context);
		}
	}

	public void AddMapBlockRecoveryLock(DataContext context, Location location, int duration)
	{
		int num = DomainManager.World.GetCurrDate() + duration;
		if (_blockRecoveryUnlockDates.TryGetValue(location, out var value))
		{
			SetElement_BlockRecoveryUnlockDates(location, Math.Max(value, num), context);
		}
		else
		{
			AddElement_BlockRecoveryUnlockDates(location, num, context);
		}
	}

	public bool IsMapBlockRecoveryLocked(Location location)
	{
		if (!_blockRecoveryUnlockDates.TryGetValue(location, out var value))
		{
			return false;
		}
		int currDate = DomainManager.World.GetCurrDate();
		return value > currDate;
	}

	public int GetAreaSpiritualDebt(short areaId)
	{
		return _areaSpiritualDebt.GetValueOrDefault(areaId, 0);
	}

	public void SetAreaSpiritualDebt(DataContext context, short areaId, int value, bool getProfessionSeniority = true, bool addInstantNotification = true)
	{
		value = Math.Clamp(value, GlobalConfig.Instance.SpiritualDebtLimit[0], GlobalConfig.Instance.SpiritualDebtLimit[1]);
		int areaSpiritualDebt = GetAreaSpiritualDebt(areaId);
		if (value > areaSpiritualDebt)
		{
			if (addInstantNotification)
			{
				DomainManager.World.GetInstantNotifications().AddGraceIncreased(new Location(areaId, -1));
			}
			if (areaSpiritualDebt >= 0 && getProfessionSeniority)
			{
				ProfessionFormulaItem formulaCfg = ProfessionFormula.Instance[91];
				int baseDelta = formulaCfg.Calculate(value - areaSpiritualDebt);
				DomainManager.Extra.ChangeProfessionSeniority(context, 14, baseDelta);
			}
		}
		if (_areaSpiritualDebt.ContainsKey(areaId))
		{
			SetElement_AreaSpiritualDebt(areaId, value, context);
		}
		else
		{
			AddElement_AreaSpiritualDebt(areaId, value, context);
		}
	}

	public void ChangeAreaSpiritualDebt(DataContext context, short areaId, int delta, bool getProfessionSeniority = true, bool addInstantNotification = true)
	{
		SetAreaSpiritualDebt(context, areaId, GetAreaSpiritualDebt(areaId) + delta, getProfessionSeniority, addInstantNotification);
	}

	public void CreateExtraCricketMapUnit(DataContext context, Location location, short lifeTime, bool showAsRegular = false)
	{
		CricketPlaceExtraData value;
		bool flag = TryGetElement_CricketPlaceExtraData(location.AreaId, out value);
		if (value == null)
		{
			value = new CricketPlaceExtraData();
		}
		CricketPlaceExtraData cricketPlaceExtraData = value;
		if (cricketPlaceExtraData.ExtraMapUnits == null)
		{
			cricketPlaceExtraData.ExtraMapUnits = new Dictionary<short, short>();
		}
		value.ExtraMapUnits[location.BlockId] = lifeTime;
		if (showAsRegular)
		{
			cricketPlaceExtraData = value;
			if (cricketPlaceExtraData.RegularCrickets == null)
			{
				cricketPlaceExtraData.RegularCrickets = new List<short>();
			}
			value.RegularCrickets.Add(location.BlockId);
		}
		if (flag)
		{
			SetElement_CricketPlaceExtraData(location.AreaId, value, context);
		}
		else
		{
			AddElement_CricketPlaceExtraData(location.AreaId, value, context);
		}
	}

	public void RemoveExtraCricketMapUnit(DataContext context, Location location)
	{
		if (TryGetElement_CricketPlaceExtraData(location.AreaId, out var value) && value != null && value.ExtraMapUnits != null)
		{
			value.ExtraMapUnits.Remove(location.BlockId);
			SetElement_CricketPlaceExtraData(location.AreaId, value, context);
			OnBuildingAreaEffectLocationChanged(context, 1, location, Location.Invalid);
		}
	}

	internal void UpdateExtraCricketMapUnit(DataContext context)
	{
		for (short num = 0; num < 139; num++)
		{
			if (TryGetElement_CricketPlaceExtraData(num, out var value) && value != null && value.ExtraMapUnits != null)
			{
				short[] array = value.ExtraMapUnits.Keys.ToArray();
				foreach (short num2 in array)
				{
					short num3 = value.ExtraMapUnits[num2];
					num3--;
					if (num3 <= 0)
					{
						RemoveExtraCricketMapUnit(context, new Location(num, num2));
					}
					else
					{
						value.ExtraMapUnits[num2] = num3;
					}
				}
				SetElement_CricketPlaceExtraData(num, value, context);
			}
		}
	}

	public void CreatePickups(DataContext context)
	{
		if (_pickupDict.Count > 0)
		{
			AdaptableLog.TagWarning("Map", "Pickups already generated, skipped.");
			return;
		}
		Stopwatch sw = GlobalDomain.StartTimer();
		Dictionary<Location, MapPickupCollection> dictionary = new Dictionary<Location, MapPickupCollection>();
		Stopwatch sw2 = GlobalDomain.StartTimer();
		context.SwitchRandomSource((ulong)DomainManager.World.GetWorldId());
		new MapPickupGenerator().Generate(context.Random, dictionary);
		context.RestoreRandomSource();
		GlobalDomain.StopTimer(sw2, "CreatePickups.Generate");
		Stopwatch sw3 = GlobalDomain.StartTimer();
		ClearPickupDict(context);
		foreach (var (elementId, value) in dictionary)
		{
			AddElement_PickupDict(elementId, value, context);
		}
		GlobalDomain.StopTimer(sw3, "CreatePickups.Save");
		RefreshPickupsVisibleByResource(context);
		GlobalDomain.StopTimer(sw, "CreatePickups");
	}

	public void MapPickupsPostAdvanceMonth(DataContext context)
	{
		RefreshPickupsVisibleByResource(context);
		ClearPickupsIgnoredAndTriggered(context);
	}

	private void ClearPickupsIgnoredAndTriggered(DataContext context)
	{
		List<(Location, MapPickupCollection)> list = new List<(Location, MapPickupCollection)>();
		foreach (var (item, mapPickupCollection2) in _pickupDict)
		{
			if (mapPickupCollection2.ClearIgnoredAndTriggered())
			{
				list.Add((item, mapPickupCollection2));
			}
		}
		foreach (var (elementId, value) in list)
		{
			SetElement_PickupDict(elementId, value, context);
		}
	}

	private void RefreshPickupsVisibleByResource(DataContext context)
	{
		List<(Location, MapPickupCollection)> list = new List<(Location, MapPickupCollection)>();
		foreach (KeyValuePair<Location, MapPickupCollection> item in _pickupDict)
		{
			item.Deconstruct(out var key, out var value);
			Location location = key;
			MapPickupCollection mapPickupCollection = value;
			MapBlockData block = DomainManager.Map.GetBlock(location);
			MaterialResources currResources = block.CurrResources;
			foreach (MapPickup pickup in mapPickupCollection.PickupList)
			{
				pickup.VisibleByResource = true;
				MapPickupsItem mapPickupsItem = MapPickups.Instance[pickup.TemplateId];
				for (sbyte b = 0; b <= 5; b++)
				{
					if (currResources.Get(b) < mapPickupsItem.Resources[b])
					{
						pickup.VisibleByResource = false;
						break;
					}
				}
				if (pickup.VisibleByResource)
				{
				}
			}
			list.Add((location, mapPickupCollection));
		}
		foreach (var (elementId, value2) in list)
		{
			SetElement_PickupDict(elementId, value2, context);
		}
	}

	public void FixAbnormalMapPickups(DataContext context)
	{
		if (_pickupDict.Count <= 0)
		{
			CreatePickups(context);
		}
	}

	public void SetMapPickupCollection(DataContext context, Location location, MapPickupCollection pickupCollection)
	{
		SetElement_PickupDict(location, pickupCollection, context);
	}

	[DomainMethod]
	public List<sbyte> GetBlockMerchantTypes(Location location)
	{
		MapBlockData block = DomainManager.Map.GetBlock(location);
		if (block?.CharacterSet == null || block.CharacterSet.Count == 0)
		{
			return null;
		}
		List<sbyte> list = new List<sbyte>();
		foreach (int item in block.CharacterSet)
		{
			if (DomainManager.Character.TryGetElement_Objects(item, out var element) && OrganizationDomain.CanInteractWithType(element, 4) && TryGetMerchantCharToType(item, out var type) && !list.Contains(type))
			{
				list.Add(type);
			}
		}
		return list;
	}

	public sbyte GetMerchantCharToType(int charId)
	{
		if (!TryGetMerchantCharToType(charId, out var type))
		{
			return -1;
		}
		return type;
	}

	public bool TryGetMerchantCharToType(int charId, out sbyte type)
	{
		return TryGetElement_MerchantCharToType(charId, out type);
	}

	public void AddMerchantCharToType(int charId, sbyte type, DataContext dataContext)
	{
		AddElement_MerchantCharToType(charId, type, dataContext);
	}

	public void SetMerchantCharToType(int charId, sbyte type, DataContext dataContext)
	{
		SetElement_MerchantCharToType(charId, type, dataContext);
	}

	public void RemoveMerchantCharToType(int charId, DataContext dataContext)
	{
		RemoveElement_MerchantCharToType(charId, dataContext);
	}

	public void ClearObsoletedMerchantDebtData(DataContext context)
	{
		ClearMerchantTypeToDebts(context);
		ClearMerchantBuyBackDict(context);
		ClearCaravanBuyBackDict(context);
		for (int i = 0; i < 7; i++)
		{
			SetElement_MerchantMaxLevelBuyBackData(i, null, context);
		}
	}

	public MerchantOverFavorData GetMerchantOverFavorData(sbyte merchantType)
	{
		MerchantOverFavorData merchantOverFavorData = (_merchantOverFavorDataArray.CheckIndex(merchantType) ? GetElement_MerchantOverFavorDataArray(merchantType) : null);
		if (merchantOverFavorData == null)
		{
			merchantOverFavorData = new MerchantOverFavorData();
			merchantOverFavorData.MerchantOverFavorLevelDataArray = new MerchantOverFavorLevelData[7];
			for (int i = 0; i < merchantOverFavorData.MerchantOverFavorLevelDataArray.Length; i++)
			{
				MerchantOverFavorLevelData merchantOverFavorLevelData = new MerchantOverFavorLevelData();
				short num = GlobalConfig.Instance.MerchantOverFavorBuyCount[i];
				if (num < 0)
				{
					num = short.MaxValue;
				}
				merchantOverFavorLevelData.BuyCount = num;
				merchantOverFavorData.MerchantOverFavorLevelDataArray[i] = merchantOverFavorLevelData;
			}
		}
		return merchantOverFavorData;
	}

	public void SetMerchantOverFavorData(DataContext context, sbyte merchantType, MerchantOverFavorData merchantOverFavorData)
	{
		int curFavorability = DomainManager.Merchant.GetCurFavorability(merchantType);
		IsReachProgressLimit(curFavorability, out var _, out var worldProgressLimitedFavor);
		int favor = Math.Min(worldProgressLimitedFavor, curFavorability);
		for (int i = 0; i < merchantOverFavorData.MerchantOverFavorLevelDataArray.Length; i++)
		{
			MerchantOverFavorLevelData merchantOverFavorLevelData = merchantOverFavorData.MerchantOverFavorLevelDataArray[i];
			if (i <= GameData.Domains.Merchant.SharedMethods.GetFavorLevel(favor))
			{
				short num = GlobalConfig.Instance.MerchantOverFavorBuyCount[i];
				if (num < 0)
				{
					num = short.MaxValue;
				}
				merchantOverFavorLevelData.BuyCount = num;
				merchantOverFavorLevelData.Inventory.Items.Clear();
			}
		}
		if (_merchantOverFavorDataArray.CheckIndex(merchantType))
		{
			SetElement_MerchantOverFavorDataArray(merchantType, merchantOverFavorData, context);
		}
	}

	public bool IsReachProgressLimit(int merchantFavorability, out int worldProgressLimitedLevel, out int worldProgressLimitedFavor)
	{
		sbyte xiangshuProgress = DomainManager.World.GetXiangshuProgress();
		int num = GlobalConfig.Instance.MerchantFavorabilityXiangshuLevelRequirements.Length;
		int num2 = num;
		for (int i = 0; i < num; i++)
		{
			if (GlobalConfig.Instance.MerchantFavorabilityXiangshuLevelRequirements[i] > xiangshuProgress)
			{
				num2 = i;
				break;
			}
		}
		worldProgressLimitedFavor = num2 * 10;
		worldProgressLimitedLevel = GameData.Domains.Merchant.SharedMethods.GetFavorLevel(worldProgressLimitedFavor);
		return merchantFavorability >= worldProgressLimitedFavor;
	}

	public void SetBranchMerchantData(DataContext context, sbyte merchantType, MerchantData merchantData)
	{
		SetElement_BranchMerchantData(merchantType, merchantData, context);
	}

	[DomainMethod]
	public MerchantExtraGoodsData GetMerchantExtraGoods(int charId)
	{
		TryGetElement_MerchantExtraGoods(charId, out var value);
		return value;
	}

	public bool TryGetMerchantExtraGoods(int charId, out MerchantExtraGoodsData data)
	{
		return TryGetElement_MerchantExtraGoods(charId, out data);
	}

	public void SetMerchantExtraGoods(DataContext context, int charId, MerchantExtraGoodsData data)
	{
		if (TryGetElement_MerchantExtraGoods(charId, out var _))
		{
			SetElement_MerchantExtraGoods(charId, data, context);
		}
		else
		{
			AddElement_MerchantExtraGoods(charId, data, context);
		}
	}

	public void RemoveMerchantExtraGoods(DataContext context, int charId)
	{
		RemoveElement_MerchantExtraGoods(charId, context);
	}

	public void ClearAllMerchantExtraGoods(DataContext context, int id)
	{
		if (TryGetElement_MerchantExtraGoods(id, out var value))
		{
			value.Clear();
			SetMerchantExtraGoods(context, id, value);
		}
	}

	public void TransferOldMerchantExtraGoods(DataContext context)
	{
		foreach (KeyValuePair<int, MerchantExtraGoods> merchantCharToExtraGood in _merchantCharToExtraGoods)
		{
			merchantCharToExtraGood.Deconstruct(out var key, out var value);
			int charId = key;
			MerchantExtraGoods merchantExtraGoods = value;
			MerchantExtraGoodsData merchantExtraGoodsData = new MerchantExtraGoodsData();
			List<MerchantExtraGoodsItem> items = merchantExtraGoods.Items;
			if (items != null && items.Count > 0)
			{
				merchantExtraGoodsData.NormalExtraGoods.AddRange(merchantExtraGoods.Items);
				SetMerchantExtraGoods(context, charId, merchantExtraGoodsData);
			}
		}
		ClearMerchantCharToExtraGoods(context);
	}

	public MerchantExtraGoodsData.ExtraGoodsType GetExtraGoodsType(ItemKey itemKey)
	{
		MerchantExtraGoodsData.ExtraGoodsType type = MerchantExtraGoodsData.ExtraGoodsType.None;
		if (!itemKey.IsValid())
		{
			return type;
		}
		if (!ModificationStateHelper.IsActive(itemKey.ModificationState, 8))
		{
			return type;
		}
		foreach (var (num2, merchantExtraGoodsData2) in _merchantExtraGoods)
		{
			if (merchantExtraGoodsData2.Check(itemKey.Id, out type))
			{
				break;
			}
		}
		return type;
	}

	private void InitializeMonthlyNotificationSortingGroups(DataContext context)
	{
		foreach (MonthlyNotificationSortingGroupItem item in (IEnumerable<MonthlyNotificationSortingGroupItem>)MonthlyNotificationSortingGroup.Instance)
		{
			if (!_monthlyNotificationSortingGroups.ContainsKey(item.TemplateId))
			{
				AddElement_MonthlyNotificationSortingGroups(item.TemplateId, new NotificationSortingGroup(item.TemplateId, item.Priority, isHidden: false, isOnTop: false), context);
			}
		}
		DomainManager.World.InitializeSortedMonthlyNotificationSortingGroups(_monthlyNotificationSortingGroups);
		DomainManager.World.SortMonthlyNotificationSortingGroups(context);
	}

	private void InitializeMonthlyNotificationSortingGroups()
	{
		foreach (MonthlyNotificationSortingGroupItem item in (IEnumerable<MonthlyNotificationSortingGroupItem>)MonthlyNotificationSortingGroup.Instance)
		{
			_monthlyNotificationSortingGroups.TryAdd(item.TemplateId, new NotificationSortingGroup(item.TemplateId, item.Priority, isHidden: false, isOnTop: false));
		}
		DomainManager.World.InitializeSortedMonthlyNotificationSortingGroups(_monthlyNotificationSortingGroups);
	}

	private void InitializePreviousMonthlyNotifications()
	{
		_lastMonthNotificationsIndex = 0;
		for (int i = 0; i < 12; i++)
		{
			_previousMonthlyNotifications[i] = new MonthlyNotificationCollection();
		}
	}

	[DomainMethod]
	public void SetMonthlyNotificationSortingGroup(DataContext context, NotificationSortingGroup group)
	{
		if (_monthlyNotificationSortingGroups.ContainsKey(group.Id))
		{
			SetElement_MonthlyNotificationSortingGroups(group.Id, group, context);
		}
		else
		{
			AddElement_MonthlyNotificationSortingGroups(group.Id, group, context);
		}
		DomainManager.World.SortMonthlyNotificationSortingGroups(context);
	}

	[DomainMethod]
	public List<MonthlyNotificationCollection> GetAllPreviousMonthlyNotifications()
	{
		List<MonthlyNotificationCollection> list = new List<MonthlyNotificationCollection>();
		for (int num = _lastMonthNotificationsIndex; num >= 0; num--)
		{
			list.Add(_previousMonthlyNotifications[num]);
		}
		for (int num2 = 11; num2 > _lastMonthNotificationsIndex; num2--)
		{
			list.Add(_previousMonthlyNotifications[num2]);
		}
		return list;
	}

	[DomainMethod]
	public MonthlyNotificationCollection GetPreviousMonthlyNotifications(int monthCount)
	{
		if (monthCount > 12)
		{
			throw new Exception($"Invalid input when requesting PreviousMonthlyNotifications : {monthCount}");
		}
		return _previousMonthlyNotifications[(_lastMonthNotificationsIndex - monthCount + 1 + 12) % 12];
	}

	public void UpdatePreviousMonthlyNotifications(DataContext context, ref MonthlyNotificationCollection currMonthlyNotificationCollection)
	{
		int num = (_lastMonthNotificationsIndex + 1) % 12;
		MonthlyNotificationCollection monthlyNotificationCollection = _previousMonthlyNotifications[num];
		SetLastMonthNotificationsIndex(num, context);
		SetElement_PreviousMonthlyNotifications(num, currMonthlyNotificationCollection, context);
		currMonthlyNotificationCollection = monthlyNotificationCollection;
		currMonthlyNotificationCollection.Clear();
	}

	[DomainMethod]
	public void SetFarmerAutoCollectStorageType(DataContext context, sbyte type)
	{
		SetFarmerAutoCollectStorageType(type, context);
	}

	private void ClearObsoleteVillagerRoles(DataContext context)
	{
		if (!DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 78))
		{
			return;
		}
		Dictionary<int, VillagerWorkData> villagerWorkDict = DomainManager.Taiwu.GetVillagerWorkDict();
		int num = 0;
		foreach (var (charId, villagerWorkData2) in villagerWorkDict)
		{
			if (villagerWorkData2.WorkType == 10)
			{
				DomainManager.Taiwu.RemoveVillagerWork(context, charId);
				num++;
			}
		}
		Logger.Warn($"Clearing {num} obsolete villager works.");
		int[] array = _villagerRoles.Keys.ToArray();
		int[] array2 = array;
		foreach (int num3 in array2)
		{
			DomainManager.Taiwu.SetVillagerRole(context, num3, -1);
			DomainManager.Character.GetElement_Objects(num3).ReturnVillagerRoleClothing(context);
		}
		Logger.Warn($"Clearing {array.Length} obsolete villager roles.");
	}

	private void FixAbnormalVillagerRole(DataContext context)
	{
		int[] array = _villagerRoles.Keys.ToArray();
		foreach (int num in array)
		{
			VillagerRoleBase villagerRole = _villagerRoles[num].VillagerRole;
			if (!(villagerRole is VillagerRoleMerchant villagerRoleMerchant))
			{
				continue;
			}
			bool flag = false;
			if (villagerRoleMerchant.SelfDecideMerchantType >= 7)
			{
				villagerRoleMerchant.SelfDecideMerchantType = (sbyte)context.Random.Next(7);
				flag = true;
			}
			if (villagerRoleMerchant.DesignatedMerchantType > 7)
			{
				villagerRoleMerchant.DesignatedMerchantType = 7;
				flag = true;
			}
			if (villagerRoleMerchant.CurrentMerchantType >= 7)
			{
				GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(num);
				if (villagerRoleMerchant.SelfDecideMerchantType >= 7)
				{
					villagerRoleMerchant.SelfDecideMerchantType = (sbyte)context.Random.Next(7);
				}
				Logger.Warn($"Fix abnormal merchant {element_Objects} CurrentMerchantType: {villagerRoleMerchant.CurrentMerchantType} -> {villagerRoleMerchant.SelfDecideMerchantType}");
				villagerRoleMerchant.CurrentMerchantType = villagerRoleMerchant.SelfDecideMerchantType;
				element_Objects.ChangeMerchantType(context, element_Objects.GetOrganizationInfo());
				flag = true;
			}
			TemplateKey other = new TemplateKey(0, 0);
			if (villagerRoleMerchant.ItemTemplateKey.Equals(other))
			{
				Logger.Warn("Fix abnormal merchant Dispatch ItemTemplateKey");
				villagerRoleMerchant.ItemTemplateKey = TemplateKey.Invalid;
				flag = true;
			}
			if (flag)
			{
				DomainManager.Extra.SetVillagerRole(context, num);
			}
		}
	}

	private void InitializeVillagerRoleCaches()
	{
		foreach (var (charId, villagerRoleWrapper2) in _villagerRoles)
		{
			villagerRoleWrapper2.VillagerRole.Initialize(charId);
		}
	}

	private void InitializeVillagerRoleAutoActions(DataContext context, bool isNewGame)
	{
		foreach (VillagerRoleAutoActionItem item in (IEnumerable<VillagerRoleAutoActionItem>)VillagerRoleAutoAction.Instance)
		{
			if (!_villagerRoleAutoActionStates.ContainsKey(item.TemplateId))
			{
				if (isNewGame)
				{
					_villagerRoleAutoActionStates.Add(item.TemplateId, ulong.MaxValue);
				}
				else
				{
					AddElement_VillagerRoleAutoActionStates(item.TemplateId, ulong.MaxValue, context);
				}
			}
		}
	}

	public VillagerRoleBase GetVillagerRole(int charId)
	{
		if (_villagerRoles.TryGetValue(charId, out var value))
		{
			return value.VillagerRole;
		}
		return null;
	}

	public ICollection<int> GetVillagerRoleCharacters()
	{
		return _villagerRoles.Keys;
	}

	public void GetVillagerRoleCharactersByTemplateId(short villagerRoleTemplateId, ref List<int> charIds)
	{
		foreach (var (item, villagerRoleWrapper2) in _villagerRoles)
		{
			if (villagerRoleWrapper2.TemplateId == villagerRoleTemplateId)
			{
				charIds.Add(item);
			}
		}
	}

	public short GetVillagerRoleTemplateId(int charId)
	{
		if (_villagerRoles.TryGetValue(charId, out var value))
		{
			return value.TemplateId;
		}
		return -1;
	}

	public void SetVillagerRole(DataContext context, int charId)
	{
		if (_villagerRoles.TryGetValue(charId, out var value))
		{
			SetElement_VillagerRoles(charId, value, context);
		}
	}

	public void RegisterVillagerRole(DataContext context, int charId, short roleTemplateId)
	{
		if (_villagerRoles.TryGetValue(charId, out var value))
		{
			value.SetRoleTemplateId(roleTemplateId);
			SetElement_VillagerRoles(charId, value, context);
		}
		else
		{
			value = new VillagerRoleWrapper(roleTemplateId);
			value.VillagerRole.Initialize(charId);
			AddElement_VillagerRoles(charId, value, context);
		}
	}

	public void UnregisterVillagerRole(DataContext context, int charId)
	{
		if (_villagerRoles.ContainsKey(charId))
		{
			RemoveElement_VillagerRoles(charId, context);
		}
	}

	internal void WipeAllVillagerRoleData(DataContext context)
	{
		int[] array = _villagerRoles.Keys.ToArray();
		foreach (int objectId in array)
		{
			if (DomainManager.Character.TryGetElement_Objects(objectId, out var element))
			{
				DomainManager.Organization.ChangeGrade(context, element, 0, destPrincipal: false);
			}
		}
	}

	public int SetVillagerRoleMaxUnlockCount(DataContext context, short templateId, int currCount)
	{
		if (currCount <= 0)
		{
			return 0;
		}
		if (_villagerRoleMaxUnlockCounts.TryGetValue(templateId, out var value))
		{
			if (currCount <= value)
			{
				return 0;
			}
			SetElement_VillagerRoleMaxUnlockCounts(templateId, currCount, context);
			return currCount - value;
		}
		AddElement_VillagerRoleMaxUnlockCounts(templateId, currCount, context);
		return currCount;
	}

	internal VillagerRoleRecords GetVillagerRoleRecordsData()
	{
		return GetVillagerRoleRecords();
	}

	internal void SetVillagerRoleRecordsData(DataContext ctx, VillagerRoleRecords data)
	{
		SetVillagerRoleRecords(data, ctx);
	}

	public short GetMaxApprovingRateTempBonus(short settlementId)
	{
		short num = 0;
		foreach (MaxApprovingRateTempBonus maxApprovingRateTemporaryBonu in _maxApprovingRateTemporaryBonus)
		{
			if (maxApprovingRateTemporaryBonu.SettlementId == settlementId)
			{
				num += maxApprovingRateTemporaryBonu.Bonus;
			}
		}
		return num;
	}

	public void UpdateMaxApprovingRateTempBonus(DataContext context)
	{
		int currDate = DomainManager.World.GetCurrDate();
		_maxApprovingRateTemporaryBonus.RemoveAll((MaxApprovingRateTempBonus bonus) => bonus.ExpireDate <= currDate);
		SetMaxApprovingRateTemporaryBonus(_maxApprovingRateTemporaryBonus, context);
	}

	public void AddMaxApprovingRateTempBonus(DataContext context, short settlementId, short bonus, int duration)
	{
		int currDate = DomainManager.World.GetCurrDate();
		_maxApprovingRateTemporaryBonus.Add(new MaxApprovingRateTempBonus(settlementId, bonus, currDate + duration));
		SetMaxApprovingRateTemporaryBonus(_maxApprovingRateTemporaryBonus, context);
	}

	public short GetLastMartialArtTournamentWinner()
	{
		List<short> prevMartialArtTournamentWinners = _prevMartialArtTournamentWinners;
		if (prevMartialArtTournamentWinners == null || prevMartialArtTournamentWinners.Count <= 0)
		{
			return -1;
		}
		List<short> prevMartialArtTournamentWinners2 = _prevMartialArtTournamentWinners;
		return prevMartialArtTournamentWinners2[prevMartialArtTournamentWinners2.Count - 1];
	}

	public void RegisterMartialArtTournamentWinner(DataContext context, short orgTemplateId)
	{
		_prevMartialArtTournamentWinners.Add(orgTemplateId);
		SetPrevMartialArtTournamentWinners(_prevMartialArtTournamentWinners, context);
	}

	public SettlementTreasuryRecordCollection GetSettlementTreasuryRecordCollection(DataContext context, short settlementId)
	{
		if (!TryGetElement_SettlementTreasuryRecordCollections(settlementId, out var value))
		{
			value = new SettlementTreasuryRecordCollection();
			AddElement_SettlementTreasuryRecordCollections(settlementId, value, context);
		}
		return value;
	}

	public void SetSettlementTreasuryRecordCollection(DataContext context, short settlementId, SettlementTreasuryRecordCollection collection)
	{
		SetElement_SettlementTreasuryRecordCollections(settlementId, collection, context);
	}

	public SettlementPrisonRecordCollection GetSettlementPrisonRecordCollection(DataContext context, short settlementId)
	{
		if (!TryGetElement_SettlementPrisonRecordCollections(settlementId, out var value))
		{
			value = new SettlementPrisonRecordCollection();
			AddElement_SettlementPrisonRecordCollections(settlementId, value, context);
		}
		return value;
	}

	public void SetSettlementPrisonRecordCollection(DataContext context, short settlementId, SettlementPrisonRecordCollection collection)
	{
		SetElement_SettlementPrisonRecordCollections(settlementId, collection, context);
	}

	public int SetVillagerRoleNickName(DataContext context, short roleTemplateId, string nickName)
	{
		if (roleTemplateId < 0 || roleTemplateId >= VillagerRole.Instance.Count)
		{
			return -1;
		}
		if (string.IsNullOrEmpty(nickName))
		{
			RemoveVillagerRoleNickName(context, roleTemplateId);
			return -1;
		}
		if (_villagerRoleNickNameMap.TryGetValue(roleTemplateId, out var value))
		{
			DomainManager.World.UnregisterCustomText(context, value);
			int num = DomainManager.World.RegisterCustomText(context, nickName);
			SetElement_VillagerRoleNickNameMap(roleTemplateId, num, context);
			return num;
		}
		int num2 = DomainManager.World.RegisterCustomText(context, nickName);
		AddElement_VillagerRoleNickNameMap(roleTemplateId, num2, context);
		return num2;
	}

	private void RemoveVillagerRoleNickName(DataContext context, short roleTemplateId)
	{
		if (_villagerRoleNickNameMap.TryGetValue(roleTemplateId, out var value))
		{
			DomainManager.World.UnregisterCustomText(context, value);
			RemoveElement_VillagerRoleNickNameMap(roleTemplateId, context);
		}
	}

	public bool TaiwuWantedInteracted(int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		if (TryGetElement_TaiwuWantedFirstInteractOrganizationMember(element_Objects.GetOrganizationInfo().OrgTemplateId, out var value))
		{
			return value.Items.Contains(charId);
		}
		return false;
	}

	public void TaiwuWantedAddInteracted(DataContext context, int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		OrganizationInfo organizationInfo = element_Objects.GetOrganizationInfo();
		if (TryGetElement_TaiwuWantedFirstInteractOrganizationMember(organizationInfo.OrgTemplateId, out var value))
		{
			value.Items.Add(charId);
			SetElement_TaiwuWantedFirstInteractOrganizationMember(organizationInfo.OrgTemplateId, value, context);
		}
		else
		{
			IntList value2 = IntList.Create();
			value2.Items.Add(charId);
			AddElement_TaiwuWantedFirstInteractOrganizationMember(organizationInfo.OrgTemplateId, value2, context);
		}
	}

	public void TaiwuWantedRemoveInteracted(DataContext context, int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		OrganizationInfo organizationInfo = element_Objects.GetOrganizationInfo();
		if (TryGetElement_TaiwuWantedFirstInteractOrganizationMember(organizationInfo.OrgTemplateId, out var value))
		{
			if (value.Items.Contains(charId))
			{
				value.Items.Remove(charId);
				SetElement_TaiwuWantedFirstInteractOrganizationMember(organizationInfo.OrgTemplateId, value, context);
				return;
			}
			Logger.Warn($"TaiwuWantedRemoveInteracted(),OrgTemplateId: {organizationInfo.OrgTemplateId} has not contains charId:{charId}");
		}
		else
		{
			Logger.Warn($"TaiwuWantedRemoveInteracted(),OrgTemplateId: {organizationInfo.OrgTemplateId} has not data");
		}
	}

	public void TaiwuWantedResetSectInteracted(DataContext context, sbyte orgTemplateId)
	{
		RemoveElement_TaiwuWantedFirstInteractOrganizationMember(orgTemplateId, context);
	}

	public void TaiwuWantedResetAllSectInteracted(DataContext context)
	{
		ClearTaiwuWantedFirstInteractOrganizationMember(context);
	}

	public bool TryGetVillagerLastInfluencePowerGrade(int charId, out sbyte value)
	{
		return TryGetElement_VillagerLastInfluencePowerGrade(charId, out value);
	}

	public void SetVillagerLastInfluencePowerGrade(DataContext context, int charId, sbyte value)
	{
		if (TryGetElement_VillagerLastInfluencePowerGrade(charId, out var _))
		{
			SetElement_VillagerLastInfluencePowerGrade(charId, value, context);
		}
		else
		{
			AddElement_VillagerLastInfluencePowerGrade(charId, value, context);
		}
	}

	public void ClearVillagerLastInfluencePowerGrades(DataContext context)
	{
		ClearVillagerLastInfluencePowerGrade(context);
	}

	public bool TryGetVillagerTreasuryNeed(int charId, out VillagerTreasuryNeed villagerTreasuryNeed)
	{
		return TryGetElement_VillagerTreasuryNeeds(charId, out villagerTreasuryNeed);
	}

	public void SetVillagerTreasuryNeed(DataContext context, int charId, VillagerTreasuryNeed villagerTreasuryNeed)
	{
		if (TryGetElement_VillagerTreasuryNeeds(charId, out var _))
		{
			List<GameData.Domains.Character.Ai.PersonalNeed> list = villagerTreasuryNeed?.PersonalNeeds;
			if (list != null && list.Count > 0)
			{
				SetElement_VillagerTreasuryNeeds(charId, villagerTreasuryNeed, context);
			}
			else
			{
				RemoveElement_VillagerTreasuryNeeds(charId, context);
			}
		}
		else
		{
			AddElement_VillagerTreasuryNeeds(charId, villagerTreasuryNeed, context);
		}
	}

	[DomainMethod]
	public void UpdateCityPunishmentSeverityCustomizeData(DataContext context, sbyte stateTemplateId, bool isSect, short punishmentTypeTemplateId, sbyte customizedPunishmentSeverityTemplateId)
	{
		short punishmentSeverityCustomizeKey = PunishmentSeverityCustomizeData.GetPunishmentSeverityCustomizeKey(stateTemplateId, isSect);
		if (TryGetElement_CityPunishmentSeverityCustomizeDict(punishmentSeverityCustomizeKey, out var value))
		{
			if (value.Items == null)
			{
				value = SerializableList<PunishmentSeverityCustomizeData>.Create();
			}
			for (int num = value.Items.Count - 1; num >= 0; num--)
			{
				PunishmentSeverityCustomizeData punishmentSeverityCustomizeData = value.Items[num];
				if (punishmentSeverityCustomizeData.PunishmentTypeTemplateId == punishmentTypeTemplateId)
				{
					value.Items.RemoveAt(num);
					break;
				}
			}
			PunishmentSeverityCustomizeData item = new PunishmentSeverityCustomizeData
			{
				PunishmentTypeTemplateId = punishmentTypeTemplateId,
				CustomizedPunishmentSeverityTemplateId = customizedPunishmentSeverityTemplateId,
				ModifyDate = DomainManager.World.GetCurrDate()
			};
			value.Items.Add(item);
			SetElement_CityPunishmentSeverityCustomizeDict(punishmentSeverityCustomizeKey, value, context);
		}
		else
		{
			PunishmentSeverityCustomizeData item2 = new PunishmentSeverityCustomizeData
			{
				PunishmentTypeTemplateId = punishmentTypeTemplateId,
				CustomizedPunishmentSeverityTemplateId = customizedPunishmentSeverityTemplateId,
				ModifyDate = DomainManager.World.GetCurrDate()
			};
			SerializableList<PunishmentSeverityCustomizeData> value2 = SerializableList<PunishmentSeverityCustomizeData>.Create();
			value2.Items.Add(item2);
			AddElement_CityPunishmentSeverityCustomizeDict(punishmentSeverityCustomizeKey, value2, context);
		}
	}

	public void UpdateSpecialCustomizedSeverity(DataContext context)
	{
		Dictionary<short, VillagerRoleHead> dictionary = new Dictionary<short, VillagerRoleHead>();
		IReadOnlySet<int> villagerRoleSet = DomainManager.Taiwu.GetVillagerRoleSet(6);
		foreach (int item in villagerRoleSet)
		{
			VillagerRoleBase villagerRole = DomainManager.Extra.GetVillagerRole(item);
			if (villagerRole is VillagerRoleHead villagerRoleHead && villagerRoleHead.TryGetWorkingStateCustomizeKey(out var key))
			{
				dictionary.TryAdd(key, villagerRoleHead);
			}
		}
		int modifySeverityDefaultRange = GlobalConfig.Instance.ModifySeverityDefaultRange;
		foreach (KeyValuePair<short, SerializableList<PunishmentSeverityCustomizeData>> item2 in _cityPunishmentSeverityCustomizeDict)
		{
			item2.Deconstruct(out var key2, out var value);
			short num = key2;
			SerializableList<PunishmentSeverityCustomizeData> value2 = value;
			List<PunishmentSeverityCustomizeData> items = value2.Items;
			if (items == null || items.Count <= 0)
			{
				continue;
			}
			VillagerRoleHead orDefault = dictionary.GetOrDefault(num, null);
			int num2 = orDefault?.ArrangementSpecialRuleRange ?? 0;
			int num3 = orDefault?.ArrangementSpecialRuleCount ?? 0;
			int num4 = 0;
			bool flag = false;
			for (int num5 = value2.Items.Count - 1; num5 >= 0; num5--)
			{
				PunishmentSeverityCustomizeData punishmentSeverityCustomizeData = value2.Items[num5];
				int num6 = punishmentSeverityCustomizeData.ModificationDiff(num);
				if (num6 > modifySeverityDefaultRange)
				{
					if (num6 > num2 || num4 >= num3)
					{
						value2.Items.RemoveAt(num5);
						flag = true;
					}
					else
					{
						num4++;
					}
				}
			}
			if (flag)
			{
				SetElement_CityPunishmentSeverityCustomizeDict(num, value2, context);
			}
		}
	}

	public (int, int) GetSpecialCustomizedSeverityRangeAndAvailableAmount(short settlementId, out bool hasVillageHead)
	{
		Settlement settlement = DomainManager.Organization.GetSettlement(settlementId);
		Location location = settlement.GetLocation();
		sbyte stateTemplateIdByAreaId = DomainManager.Map.GetStateTemplateIdByAreaId(location.AreaId);
		bool isSect = settlement is Sect;
		int specialCustomizedCityPunishmentSeverityCount = GetSpecialCustomizedCityPunishmentSeverityCount(stateTemplateIdByAreaId, isSect);
		short punishmentSeverityCustomizeKey = PunishmentSeverityCustomizeData.GetPunishmentSeverityCustomizeKey(stateTemplateIdByAreaId, isSect);
		IReadOnlySet<int> villagerRoleSet = DomainManager.Taiwu.GetVillagerRoleSet(6);
		foreach (int item in villagerRoleSet)
		{
			VillagerRoleBase villagerRole = GetVillagerRole(item);
			if (!(villagerRole is VillagerRoleHead villagerRoleHead) || !villagerRoleHead.TryGetWorkingStateCustomizeKey(out var key) || key != punishmentSeverityCustomizeKey)
			{
				continue;
			}
			hasVillageHead = true;
			return (villagerRoleHead.ArrangementSpecialRuleRange, villagerRoleHead.ArrangementSpecialRuleCount - specialCustomizedCityPunishmentSeverityCount);
		}
		hasVillageHead = false;
		return (GlobalConfig.Instance.ModifySeverityDefaultRange, 0);
	}

	public int GetSpecialCustomizedCityPunishmentSeverityCount(sbyte stateTemplateId, bool isSect)
	{
		int modifySeverityDefaultRange = GlobalConfig.Instance.ModifySeverityDefaultRange;
		short punishmentSeverityCustomizeKey = PunishmentSeverityCustomizeData.GetPunishmentSeverityCustomizeKey(stateTemplateId, isSect);
		int num = 0;
		if (TryGetElement_CityPunishmentSeverityCustomizeDict(punishmentSeverityCustomizeKey, out var value))
		{
			List<PunishmentSeverityCustomizeData> items = value.Items;
			if (items != null && items.Count > 0)
			{
				foreach (PunishmentSeverityCustomizeData item in value.Items)
				{
					if (item.ModificationDiff(stateTemplateId, isSect) > modifySeverityDefaultRange)
					{
						num++;
					}
				}
			}
		}
		return num;
	}

	public bool TryGetCustomizedCityPunishmentSeverity(sbyte stateTemplateId, bool isSect, short punishmentTypeTemplateId, ref sbyte customizedPunishmentSeverityTemplateId)
	{
		short punishmentSeverityCustomizeKey = PunishmentSeverityCustomizeData.GetPunishmentSeverityCustomizeKey(stateTemplateId, isSect);
		if (TryGetElement_CityPunishmentSeverityCustomizeDict(punishmentSeverityCustomizeKey, out var value) && value.Items != null)
		{
			for (int num = value.Items.Count - 1; num >= 0; num--)
			{
				PunishmentSeverityCustomizeData punishmentSeverityCustomizeData = value.Items[num];
				if (punishmentSeverityCustomizeData.PunishmentTypeTemplateId == punishmentTypeTemplateId)
				{
					customizedPunishmentSeverityTemplateId = punishmentSeverityCustomizeData.CustomizedPunishmentSeverityTemplateId;
					return true;
				}
			}
		}
		return false;
	}

	public void RemoveOverdueCityPunishmentSeverityCustomizeData(DataContext context)
	{
		int currDate = DomainManager.World.GetCurrDate();
		foreach (KeyValuePair<short, SerializableList<PunishmentSeverityCustomizeData>> item in _cityPunishmentSeverityCustomizeDict)
		{
			if (item.Value.Items == null)
			{
				continue;
			}
			bool flag = false;
			for (int num = item.Value.Items.Count - 1; num >= 0; num--)
			{
				PunishmentSeverityCustomizeData punishmentSeverityCustomizeData = item.Value.Items[num];
				if (currDate - punishmentSeverityCustomizeData.ModifyDate >= GlobalConfig.Instance.TownPunishmentSeverityCustomizeDuration)
				{
					flag = true;
					item.Value.Items.RemoveAt(num);
				}
			}
			if (flag)
			{
				SetElement_CityPunishmentSeverityCustomizeDict(item.Key, item.Value, context);
			}
		}
	}

	[DomainMethod]
	public int GetCustomizePunishmentSeverityCost(sbyte stateTemplateId, bool isSect)
	{
		ICollection<int> villagerRoleCharacters = DomainManager.Extra.GetVillagerRoleCharacters();
		int num = 0;
		foreach (int item in villagerRoleCharacters)
		{
			VillagerRoleBase villagerRole = DomainManager.Extra.GetVillagerRole(item);
			if (villagerRole is VillagerRoleHead villagerRoleHead && villagerRole.WorkData != null && villagerRoleHead.TryGetWorkingStateCustomizeKey(out var key))
			{
				var (b, flag) = PunishmentSeverityCustomizeData.DecodePunishmentSeverityCustomizeKey(key);
				if (b == stateTemplateId && isSect == flag)
				{
					num += villagerRoleHead.GetAuthorityCost(removeExceeded: false, out var _);
				}
			}
		}
		return num;
	}

	[DomainMethod]
	public bool WillCustomizePunishmentBreakWithoutVillagerHead(int villagerHeadCharId)
	{
		IReadOnlySet<int> villagerRoleSet = DomainManager.Taiwu.GetVillagerRoleSet(6);
		VillagerRoleHead villagerRoleHead = null;
		short num = -1;
		foreach (int item in villagerRoleSet)
		{
			if (item == villagerHeadCharId)
			{
				VillagerRoleBase villagerRole = DomainManager.Extra.GetVillagerRole(item);
				if (villagerRole is VillagerRoleHead villagerRoleHead2 && villagerRoleHead2.TryGetWorkingStateCustomizeKey(out var key))
				{
					villagerRoleHead = villagerRoleHead2;
					num = key;
					break;
				}
			}
		}
		if (villagerRoleHead == null || num < 0)
		{
			Logger.Warn($"WillCustomizePunishmentBreakWithoutVillagerHead() failed to find villager head with charId: {villagerHeadCharId}");
			return false;
		}
		var (b, flag) = PunishmentSeverityCustomizeData.DecodePunishmentSeverityCustomizeKey(num);
		if (!TryGetElement_CityPunishmentSeverityCustomizeDict(num, out var value))
		{
			Logger.Warn($"WillCustomizePunishmentBreakWithoutVillagerHead() failed to find punishment severity customize for key: {num}");
			return false;
		}
		if (value.Items == null || value.Items.Count <= 0)
		{
			Logger.Warn($"WillCustomizePunishmentBreakWithoutVillagerHead() no items found for key: {num}");
			return false;
		}
		int modifySeverityDefaultRange = GlobalConfig.Instance.ModifySeverityDefaultRange;
		int num2 = 0;
		foreach (PunishmentSeverityCustomizeData item2 in value.Items)
		{
			if (item2.ModificationDiff(b, flag) > modifySeverityDefaultRange)
			{
				num2++;
			}
		}
		int num3 = 0;
		foreach (int item3 in villagerRoleSet)
		{
			VillagerRoleBase villagerRole2 = DomainManager.Extra.GetVillagerRole(item3);
			if (villagerRole2 is VillagerRoleHead villagerRoleHead3 && villagerRole2.WorkData != null && villagerRoleHead3.TryGetWorkingStateCustomizeKey(out var key2))
			{
				var (b2, flag2) = PunishmentSeverityCustomizeData.DecodePunishmentSeverityCustomizeKey(key2);
				if (b == b2 && flag == flag2)
				{
					num3 += villagerRoleHead3.ArrangementSpecialRuleCount;
				}
			}
		}
		if (num3 - villagerRoleHead.ArrangementSpecialRuleCount < num2)
		{
			return true;
		}
		return false;
	}

	[DomainMethod]
	public void SetVillagerRoleAutoActionState(DataContext context, short roleTemplateId, ulong actionStates)
	{
		if (TryGetElement_VillagerRoleAutoActionStates(roleTemplateId, out var _))
		{
			SetElement_VillagerRoleAutoActionStates(roleTemplateId, actionStates, context);
		}
		else
		{
			AddElement_VillagerRoleAutoActionStates(roleTemplateId, actionStates, context);
		}
	}

	private void InitializeProfessions()
	{
		_taiwuProfessionSkillSlots.Initialize();
		foreach (ProfessionItem item in (IEnumerable<ProfessionItem>)Profession.Instance)
		{
			int templateId = item.TemplateId;
			if (!_taiwuProfessions.ContainsKey(templateId))
			{
				ProfessionData professionData = new ProfessionData(templateId, 0);
				if (professionData.SkillsData != null)
				{
					professionData.SkillsData.Initialize();
				}
				_taiwuProfessions.Add(templateId, professionData);
			}
		}
	}

	private void ComplementProfessions(DataContext context)
	{
		if (_obsoleteTaiwuProfessions.Count > 0)
		{
			foreach (KeyValuePair<int, ObsoleteProfessionData> obsoleteTaiwuProfession in _obsoleteTaiwuProfessions)
			{
				obsoleteTaiwuProfession.Deconstruct(out var key, out var value);
				int elementId = key;
				ObsoleteProfessionData obsoleteProfessionData = value;
				ProfessionData professionData = new ProfessionData(obsoleteProfessionData);
				AddElement_TaiwuProfessions(elementId, professionData, context);
				DomainManager.Information.FixOldProfessionInformation(context, professionData, DomainManager.Taiwu.GetTaiwuCharId());
			}
			ClearObsoleteTaiwuProfessions(context);
		}
		foreach (ProfessionItem item in (IEnumerable<ProfessionItem>)Profession.Instance)
		{
			int templateId = item.TemplateId;
			if (!_taiwuProfessions.ContainsKey(templateId))
			{
				ProfessionData professionData2 = new ProfessionData(templateId, 0);
				if (professionData2.SkillsData != null)
				{
					professionData2.SkillsData.Initialize();
				}
				AddElement_TaiwuProfessions(templateId, professionData2, context);
			}
		}
		if (_taiwuProfessionSkillSlots.Slots == null)
		{
			_taiwuProfessionSkillSlots.Initialize();
			SetTaiwuProfessionSkillSlots(_taiwuProfessionSkillSlots, context);
		}
	}

	[DomainMethod]
	public void ExecuteActiveProfessionSkill(int professionId, int skillIndex)
	{
		ProfessionData professionData = _taiwuProfessions[professionId];
		Tester.Assert(ProfessionSkillHandle.CanExecuteSkill(professionData, skillIndex), $"ProfessionSkillHandle.CanExecuteSkill({professionData.GetConfig().Name}, {skillIndex})");
		Tester.Assert(IsProfessionalSkillUnlocked(professionId, skillIndex), $"IsProfessionalSkillUnlocked({professionId}, {skillIndex})");
		ProfessionSkillItem skillConfig = professionData.GetSkillConfig(skillIndex);
		Tester.Assert(skillConfig.TriggerType == EProfessionSkillTriggerType.Active, $"ProfessionalSkillTriggerTypeIsNotActive({professionId}, {skillIndex})");
		ProfessionSkillHandle.ExecuteActiveProfessionSkill(professionId, skillIndex);
	}

	[DomainMethod]
	public void ConfirmExecuteSkill(DataContext context, ProfessionSkillArg professionSkillArg, bool isFinished)
	{
		if (isFinished)
		{
			ProfessionSkillHandle.OnSkillExecuted(context, ref professionSkillArg);
			ProfessionSkillHandle.OnActiveSkillExecuted(context, ref professionSkillArg);
		}
		DomainManager.TaiwuEvent.SetIsSequential(value: true);
		DomainManager.TaiwuEvent.SetListenerEventActionBoolArg("ConfirmProfessionSkillExecuteAndAnimComplete", "ConchShip_PresetKey_FinishSkillExecute", isFinished);
		DomainManager.TaiwuEvent.TriggerListener("ConfirmProfessionSkillExecuteAndAnimComplete", value: true);
	}

	[DomainMethod]
	public void ConfirmProfessionSkillsEquipment(DataContext context, TaiwuProfessionSkillSlots slots)
	{
		for (int i = 0; i < 4; i++)
		{
			IntList intList = slots.Slots[i];
			for (int j = 0; j < intList.Items.Count; j++)
			{
				int num = intList.Items[j];
				if (num >= 0)
				{
					ProfessionSkillItem professionSkillItem = ProfessionSkill.Instance[num];
					if (professionSkillItem.TriggerType == EProfessionSkillTriggerType.Passive && !_taiwuProfessionSkillSlots.Slots[i].Items.Contains(num))
					{
						ProfessionData professionData = _taiwuProfessions[professionSkillItem.Profession];
						professionData.OfflineSkillCooldown(professionSkillItem.Level - 1);
						DomainManager.Extra.SetProfessionData(context, professionData);
					}
				}
			}
		}
		TaiwuProfessionSkillSlots taiwuProfessionSkillSlots = GetTaiwuProfessionSkillSlots();
		SetTaiwuProfessionSkillSlots(slots, context);
		HandleNewlyEquippedSkill(context, taiwuProfessionSkillSlots, slots);
		HandleNewlyRemovedSkill(context, taiwuProfessionSkillSlots, slots);
	}

	private void HandleNewlyEquippedSkill(DataContext context, TaiwuProfessionSkillSlots oldSlots, TaiwuProfessionSkillSlots newSlots)
	{
		foreach (int newlyEquippedSkill in oldSlots.GetNewlyEquippedSkills(newSlots))
		{
			OnProfessionSkillEquipped(context, newlyEquippedSkill);
		}
	}

	private void HandleNewlyRemovedSkill(DataContext context, TaiwuProfessionSkillSlots oldSlots, TaiwuProfessionSkillSlots newSlots)
	{
		foreach (int newlyRemovedSkill in oldSlots.GetNewlyRemovedSkills(newSlots))
		{
			OnProfessionSkillRemoved(context, newlyRemovedSkill);
		}
	}

	private void OnProfessionSkillEquipped(DataContext context, int skillId)
	{
		switch (skillId)
		{
		case 41:
			OnTravelingBuddhistMonkSkill3Equipped(context);
			break;
		case 62:
			DomainManager.Taiwu.ReCalcAllEquipment(context);
			break;
		case 36:
		{
			Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
			if (location.IsValid())
			{
				MapBlockData block = DomainManager.Map.GetBlock(location.AreaId, location.BlockId);
				DomainManager.Map.SetBlockAndViewRangeVisibleByMove(context, block);
			}
			break;
		}
		}
	}

	private void OnProfessionSkillRemoved(DataContext context, int skillId)
	{
		switch (skillId)
		{
		case 41:
			OnTravelingBuddhistMonkSkill3Removed(context);
			break;
		case 62:
			DomainManager.Taiwu.ReCalcAllEquipment(context);
			break;
		}
	}

	private void OnTravelingBuddhistMonkSkill3Equipped(DataContext context)
	{
		ProfessionData professionData = GetProfessionData(12);
		TravelingBuddhistMonkSkillsData skillsData = professionData.GetSkillsData<TravelingBuddhistMonkSkillsData>();
		short num = skillsData.GetSelectedSkill3FeatureId();
		if (num == -1)
		{
			num = 616;
		}
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		taiwu.AddFeature(context, num, removeMutexFeature: true);
		skillsData.OfflineSetSelectedSkill3FeatureId(num);
		SetProfessionData(context, professionData);
	}

	private void OnTravelingBuddhistMonkSkill3Removed(DataContext context)
	{
		ProfessionData professionData = GetProfessionData(12);
		TravelingBuddhistMonkSkillsData skillsData = professionData.GetSkillsData<TravelingBuddhistMonkSkillsData>();
		short selectedSkill3FeatureId = skillsData.GetSelectedSkill3FeatureId();
		Tester.Assert(selectedSkill3FeatureId != -1);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		taiwu.RemoveFeature(context, selectedSkill3FeatureId);
	}

	[DomainMethod]
	public bool IsProfessionalSkillUnlocked(int professionId, int skillIndex)
	{
		ProfessionData professionData = _taiwuProfessions[professionId];
		ProfessionSkillItem skillConfig = professionData.GetSkillConfig(skillIndex);
		return _taiwuProfessionSkillSlots.IsEquipped(skillConfig) && professionData.IsSkillUnlocked(skillIndex);
	}

	public bool IsProfessionalSkillUnlockedAndEquipped(int skillTemplateId)
	{
		ProfessionSkillItem professionSkillItem = ProfessionSkill.Instance[skillTemplateId];
		return _taiwuProfessions[professionSkillItem.Profession].IsSkillUnlocked(professionSkillItem.Level - 1) && _taiwuProfessionSkillSlots.IsEquipped(skillTemplateId);
	}

	public bool IsProfessionalSkillUnlocked(int skillTemplateId)
	{
		ProfessionSkillItem professionSkillItem = ProfessionSkill.Instance[skillTemplateId];
		return _taiwuProfessions[professionSkillItem.Profession].IsSkillUnlocked(professionSkillItem.Level - 1);
	}

	[DomainMethod]
	public bool CanExecuteProfessionSkill(int professionId, int skillIndex)
	{
		return IsProfessionalSkillUnlocked(professionId, skillIndex) && ProfessionSkillHandle.CanExecuteSkill(_taiwuProfessions[professionId], skillIndex);
	}

	[DomainMethod]
	public bool CanShowProfessionSkillUnlocked()
	{
		return !DomainManager.Map.IsContinuousMovingBreak() && DomainManager.World.GetAdvancingMonthState() == 0;
	}

	[Obsolete]
	public bool CheckSpecialSkillHasBeenUnlocked(int professionSkillId)
	{
		return true;
	}

	public void ChangeCharacterCurrProfessionSeniority(DataContext context, int charId, int delta)
	{
		//IL_005e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0063: Unknown result type (might be due to invalid IL or missing references)
		//IL_0071: Unknown result type (might be due to invalid IL or missing references)
		if (charId == DomainManager.Taiwu.GetTaiwuCharId())
		{
			throw new InvalidOperationException("Cannot set taiwu's profession.");
		}
		if (_characterProfessions.TryGetValue(charId, out var value))
		{
			short settlementId = DomainManager.Character.GetElement_Objects(charId).GetOrganizationInfo().SettlementId;
			CValuePercentBonus val = CValuePercentBonus.op_Implicit(DomainManager.Building.GetBuildingBlockEffect(settlementId, EBuildingScaleEffect.ProfessionSeniorityBonus));
			value.CurrProfession.Seniority += delta * val;
			int extraSeniority = value.CurrProfession.ExtraSeniority;
			OfflineNormalizeProfessionSeniority(charId, value.CurrProfession);
			DomainManager.Information.GiveProfessionInformationRemainUsableCount(context, charId, value.CurrProfession.TemplateId, extraSeniority, value.CurrProfession.ExtraSeniority);
			SetElement_CharacterProfessions(charId, value, context);
		}
	}

	public static void OfflineNormalizeProfessionSeniority(int charId, ProfessionData professionData)
	{
		int num = ((charId == DomainManager.Taiwu.GetTaiwuCharId()) ? 3000000 : DomainManager.Character.GetElement_Objects(charId).GetMaxProfessionSeniority(professionData.TemplateId));
		int num2 = professionData.Seniority - num;
		if (num2 > 0)
		{
			professionData.Seniority = num;
			professionData.ExtraSeniority += num2;
		}
		Tester.Assert(professionData.ExtraSeniority >= 0);
		professionData.ExtraSeniority %= 1500000;
		Tester.Assert(professionData.Seniority <= 3000000);
		Tester.Assert(professionData.ExtraSeniority <= 1500000);
	}

	public ProfessionData SetCharacterCurrProfession(DataContext context, int charId, int professionId, int initSeniority = 0)
	{
		if (charId == DomainManager.Taiwu.GetTaiwuCharId())
		{
			throw new InvalidOperationException("Cannot set taiwu's profession.");
		}
		if (_characterProfessions.TryGetValue(charId, out var value))
		{
			ProfessionData result = value.ChangeCurrProfession(professionId);
			SetElement_CharacterProfessions(charId, value, context);
			return result;
		}
		value = new ProfessionDataList();
		ProfessionData professionData = value.ChangeCurrProfession(professionId);
		professionData.Seniority = initSeniority;
		professionData.ExtraSeniority = 0;
		AddElement_CharacterProfessions(charId, value, context);
		return professionData;
	}

	[DomainMethod]
	public ProfessionData GetCharacterCurrentProfession(int charId)
	{
		if (_characterProfessions.TryGetValue(charId, out var value))
		{
			return value.CurrProfession;
		}
		return null;
	}

	[Obsolete]
	public int GetCharacterTeachTaiwuProfessionCount(int charId, int professionId)
	{
		if (!_characterProfessions.TryGetValue(charId, out var value))
		{
			return 0;
		}
		return value.GetTeachTaiwuCount(professionId);
	}

	public int GetCharacterTeachTaiwuProfessionDate(int charId)
	{
		if (!_characterProfessions.TryGetValue(charId, out var value))
		{
			return int.MinValue;
		}
		return value.GetTeachTaiwuDate();
	}

	public void CharacterTeachTaiwuProfession(DataContext context, int charId, int professionId)
	{
		ProfessionData characterProfessionData = GetCharacterProfessionData(charId, professionId);
		int unlockedSkillCount = characterProfessionData.GetUnlockedSkillCount();
		if (unlockedSkillCount > 0)
		{
			int baseDelta = GlobalConfig.Instance.TeachProfessionSkillSeniority[unlockedSkillCount - 1];
			ChangeProfessionSeniority(context, professionId, baseDelta);
			ProfessionDataList professionDataList = _characterProfessions[charId];
			professionDataList.SetTeachTaiwuDate(DomainManager.World.GetCurrDate());
			SetElement_CharacterProfessions(charId, professionDataList, context);
		}
	}

	public ProfessionData GetCharacterProfessionData(int charId, int professionId)
	{
		if (charId == DomainManager.Taiwu.GetTaiwuCharId())
		{
			return GetProfessionData(professionId);
		}
		if (_characterProfessions.TryGetValue(charId, out var value))
		{
			return value.GetProfession(professionId);
		}
		return null;
	}

	public void RemoveCharacterProfessions(DataContext context, int charId)
	{
		if (_characterProfessions.ContainsKey(charId))
		{
			RemoveElement_CharacterProfessions(charId, context);
		}
	}

	public void UpdateSeniorityForCharacterProfessions(DataContext context)
	{
		//IL_00c4: Unknown result type (might be due to invalid IL or missing references)
		//IL_00c9: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d5: Unknown result type (might be due to invalid IL or missing references)
		HashSet<int> hashSet = new HashSet<int>();
		foreach (var (num2, professionDataList2) in _characterProfessions)
		{
			if (!DomainManager.Character.TryGetElement_Objects(num2, out var element))
			{
				continue;
			}
			ProfessionData currProfession = professionDataList2.CurrProfession;
			ProfessionItem config = currProfession.GetConfig();
			sbyte interactionGrade = element.GetInteractionGrade();
			hashSet.Clear();
			for (int i = 0; i <= config.ProfessionSkills.Length; i++)
			{
				if (currProfession.IsSkillUnlocked(i))
				{
					hashSet.Add(i);
				}
			}
			CValuePercentBonus val = CValuePercentBonus.op_Implicit(DomainManager.Building.GetBuildingBlockEffect(element.GetOrganizationInfo().SettlementId, EBuildingScaleEffect.ProfessionSeniorityBonus));
			int num3 = config.ProfessionSeniorityPerMonth[interactionGrade] * val;
			currProfession.Seniority += num3;
			int extraSeniority = currProfession.ExtraSeniority;
			OfflineNormalizeProfessionSeniority(num2, currProfession);
			for (int j = 0; j <= config.ProfessionSkills.Length; j++)
			{
				if (!hashSet.Contains(j) && currProfession.IsSkillUnlocked(j))
				{
					DomainManager.Information.GiveProfessionInformation(context, num2, currProfession.TemplateId);
				}
			}
			DomainManager.Information.GiveProfessionInformationRemainUsableCount(context, num2, currProfession.TemplateId, extraSeniority, currProfession.ExtraSeniority);
			SetElement_CharacterProfessions(num2, professionDataList2, context);
		}
	}

	public ProfessionData GetProfessionData(int professionId)
	{
		return _taiwuProfessions.GetValueOrDefault(professionId);
	}

	public void SetProfessionData(DataContext context, ProfessionData professionData)
	{
		Tester.Assert(_taiwuProfessions.ContainsKey(professionData.TemplateId));
		SetElement_TaiwuProfessions(professionData.TemplateId, professionData, context);
	}

	public void UpdateProfessionExtraSkillUnlocked(DataContext context, int oneShotEventType)
	{
		if (1 == 0)
		{
		}
		int num = oneShotEventType switch
		{
			39 => 5, 
			40 => 6, 
			42 => 12, 
			22 => 14, 
			_ => -1, 
		};
		if (1 == 0)
		{
		}
		int num2 = num;
		if (num2 != -1 && _taiwuProfessions.TryGetValue(num2, out var value))
		{
			value.OfflineUpdateHadBeenUnlocked();
			SetProfessionData(context, value);
		}
	}

	public void ChangeProfessionSeniority(DataContext context, int professionId, int baseDelta, bool withBonus = true, bool cached = false)
	{
		//IL_00c5: Unknown result type (might be due to invalid IL or missing references)
		if (!DomainManager.World.GetWorldFunctionsStatus(27) || !DomainManager.Extra.TryGetElement_TaiwuProfessions(professionId, out var value))
		{
			return;
		}
		ProfessionItem config = value.GetConfig();
		HashSet<int> hashSet = new HashSet<int>();
		for (int i = 0; i <= config.ProfessionSkills.Length; i++)
		{
			if (value.IsSkillUnlocked(i))
			{
				hashSet.Add(i);
			}
		}
		int num = baseDelta;
		if (num > 0 && withBonus)
		{
			int seniorityBonusFactor = GetSeniorityBonusFactor(professionId);
			short worldProfessionUpgradePercent = GetWorldProfessionUpgradePercent();
			int buildingBlockEffect = DomainManager.Building.GetBuildingBlockEffect(DomainManager.Taiwu.GetTaiwuVillageSettlementId(), EBuildingScaleEffect.ProfessionSeniorityBonus);
			num = baseDelta * seniorityBonusFactor / 100 * worldProfessionUpgradePercent / 100;
			num *= CValuePercentBonus.op_Implicit(buildingBlockEffect);
		}
		if (num < 0)
		{
			return;
		}
		if (num > 0)
		{
			_addingProfessionSeniorityData.TryAdd(professionId, 0);
			_addingProfessionSeniorityData[professionId] += num;
		}
		int seniority = value.Seniority;
		value.Seniority += num;
		int extraSeniority = value.ExtraSeniority;
		OfflineNormalizeProfessionSeniority(DomainManager.Taiwu.GetTaiwuCharId(), value);
		DomainManager.Information.GiveProfessionInformationRemainUsableCount(context, DomainManager.Taiwu.GetTaiwuCharId(), professionId, extraSeniority, value.ExtraSeniority);
		InstantNotificationCollection instantNotificationCollection = DomainManager.World.GetInstantNotificationCollection();
		if (num > 0)
		{
			for (int j = 0; j <= config.ProfessionSkills.Length; j++)
			{
				if (!hashSet.Contains(j) && value.IsSkillUnlocked(j))
				{
					DomainManager.Information.GiveProfessionInformation(context, DomainManager.Taiwu.GetTaiwuCharId(), professionId);
				}
				if (!value.HadBeenUnlocked[j] && value.IsSkillUnlocked(j))
				{
					int skillId = GameData.Domains.Taiwu.Profession.SharedMethods.GetSkillId(professionId, j);
					GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.OpenProfessionSkillUnlocked, skillId, DomainManager.World.GetAdvancingMonthState() == 0);
					instantNotificationCollection.AddProfessionUnlockSkill(professionId, skillId);
				}
			}
			if (value.Seniority == 3000000 && !_isExtraProfessionSkillUnlocked)
			{
				UnlockExtraProfessionSkill(context);
			}
		}
		value.OfflineUpdateHadBeenUnlocked();
		DomainManager.Extra.SetProfessionData(context, value);
		for (int k = 0; k < value.HadBeenUnlocked.Length; k++)
		{
			int skillId2 = GameData.Domains.Taiwu.Profession.SharedMethods.GetSkillId(professionId, k);
			int skillUnlockSeniority = GameData.Domains.Taiwu.Profession.SharedMethods.GetSkillUnlockSeniority(skillId2);
			bool flag = seniority >= skillUnlockSeniority;
			bool flag2 = value.Seniority >= skillUnlockSeniority;
			if (!flag && flag2)
			{
				AddProfessionLegacy(context, k);
			}
		}
	}

	[DomainMethod]
	[Obsolete]
	public void InvokeSeniorityCachedEvent(int professionId)
	{
	}

	public int GetSeniorityBonusFactor(int professionId)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		int num = 100;
		short professionBestAttainment = taiwu.GetProfessionBestAttainment(professionId);
		return num + professionBestAttainment / 3;
	}

	public static short GetWorldProfessionUpgradePercent()
	{
		byte professionUpgrade = DomainManager.Extra.GetProfessionUpgrade();
		byte index = 13;
		WorldCreationItem worldCreationItem = WorldCreation.Instance[index];
		return worldCreationItem.InfluenceFactors[professionUpgrade];
	}

	[DomainMethod]
	public bool CheckSpecialCondition(int professionId, int skillIndex)
	{
		ProfessionData professionData = GetProfessionData(professionId);
		return ProfessionSkillHandle.CheckSpecialCondition(professionData, skillIndex);
	}

	public void RecoverHunterCarrierAttackCount(DataContext context)
	{
		if (_taiwuProfessions.ContainsKey(1))
		{
			ProfessionData professionData = _taiwuProfessions[1];
			((HunterSkillsData)professionData.SkillsData).UsedCarrierAnimalAttackCount = 0;
			SetElement_TaiwuProfessions(1, professionData, context);
		}
	}

	[DomainMethod]
	public int GetTianJieFuLuCount()
	{
		List<(ItemKey, int)> list = new List<(ItemKey, int)>();
		DomainManager.Taiwu.GetTaiwu().FindItems((ItemBase item) => ItemMatchers.MatchTemplateId(item, 12, 234), list, searchInventory: true, searchEquipment: false);
		if (list.Count == 0)
		{
			return 0;
		}
		return list[0].Item2;
	}

	[DomainMethod]
	public void HunterSkill_AnimalCharacterToItem(DataContext context, int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		ProfessionSkillHandle.HunterSkill_AnimalCharacterToItem(context, element_Objects);
	}

	public TasterUltimateResult CastTasterUltimateSkill(DataContext context, List<int> charIds, List<int> bookIds, bool isCombatSkill)
	{
		TasterUltimateResult result = null;
		foreach (int bookId in bookIds)
		{
			ReadBook(context, bookId, charIds, isCombatSkill, out result);
		}
		charIds.Sort();
		for (int i = 0; i < charIds.Count; i++)
		{
			int num = charIds[i];
			result.Characters.Add(num, DomainManager.Character.GetCharacterDisplayData(num));
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(num);
			sbyte behaviorType = element_Objects.GetBehaviorType();
			for (int j = i + 1; j < charIds.Count; j++)
			{
				int num2 = charIds[j];
				GameData.Domains.Character.Character element_Objects2 = DomainManager.Character.GetElement_Objects(num2);
				sbyte behaviorType2 = element_Objects2.GetBehaviorType();
				int percentProb = 50;
				if (GameData.Domains.Character.BehaviorType.IsContradictory(behaviorType, behaviorType2))
				{
					percentProb = 20;
				}
				else if (behaviorType == behaviorType2)
				{
					percentProb = 80;
				}
				bool flag = context.Random.CheckPercentProb(percentProb);
				int baseDelta = 15000 * (flag ? 1 : (-1));
				DomainManager.Character.ChangeFavorabilityOptional(context, element_Objects, element_Objects2, baseDelta, 3);
				DomainManager.Character.ChangeFavorabilityOptional(context, element_Objects2, element_Objects, baseDelta, 3);
				result.FavorabilityChangeData.Add(new IntPair(num, num2), flag);
			}
		}
		int num3 = charIds.Count / 2;
		CollectionUtils.Shuffle(context.Random, charIds);
		for (int k = 0; k < num3; k++)
		{
			foreach (var (key, flag3) in result.FavorabilityChangeData)
			{
				if ((key.First != charIds[k] && key.Second != charIds[k]) || result.RelationChangeData.ContainsKey(key))
				{
					continue;
				}
				GameData.Domains.Character.Character element_Objects3 = DomainManager.Character.GetElement_Objects(key.First);
				bool selfIsTaiwuPeople = DomainManager.Character.IsTaiwuPeople(key.First);
				sbyte behaviorType3 = element_Objects3.GetBehaviorType();
				GameData.Domains.Character.Character element_Objects4 = DomainManager.Character.GetElement_Objects(key.Second);
				bool targetIsTaiwuPeople = DomainManager.Character.IsTaiwuPeople(key.Second);
				sbyte behaviorType4 = element_Objects4.GetBehaviorType();
				RelatedCharacter relation = DomainManager.Character.GetRelation(key.First, key.Second);
				RelatedCharacter relation2 = DomainManager.Character.GetRelation(key.Second, key.First);
				short currAge = element_Objects3.GetCurrAge();
				short currAge2 = element_Objects4.GetCurrAge();
				if (flag3)
				{
					if (element_Objects3.GetAgeGroup() == 2 && element_Objects4.GetAgeGroup() == 2)
					{
						if (AiHelper.Relation.CanStartRelation_BoyOrGirlFriend(relation, behaviorType3, relation2, behaviorType4) && context.Random.CheckPercentProb(AiHelper.Relation.GetStartRelationSuccessRate_BoyOrGirlFriend(element_Objects3, element_Objects4, relation, relation2)))
						{
							GameData.Domains.Character.Character.ApplyBecomeBoyOrGirlFriend(context, element_Objects3, element_Objects4, behaviorType3, succeed: true, selfIsTaiwuPeople, targetIsTaiwuPeople);
							result.RelationChangeData.Add(key, 16384);
							continue;
						}
						if (AiHelper.Relation.CanStartRelation_Adored(relation, behaviorType3) && context.Random.CheckPercentProb(AiHelper.Relation.GetStartRelationSuccessRate_Adored(element_Objects3, element_Objects4, relation, relation2)))
						{
							GameData.Domains.Character.Character.ApplyAddRelation_Adore(context, element_Objects3, element_Objects4, behaviorType3, targetLovesBack: true, selfIsTaiwuPeople, targetIsTaiwuPeople);
							result.RelationChangeData.Add(key, 16384);
							continue;
						}
					}
					if (AiHelper.Relation.CanStartRelation_SwornBrotherOrSister(relation, behaviorType3, relation2, behaviorType4))
					{
						GameData.Domains.Character.Character.ApplyBecomeSwornBrotherOrSister(context, element_Objects3, element_Objects4, behaviorType3, selfIsTaiwuPeople, targetIsTaiwuPeople);
						result.RelationChangeData.Add(key, 512);
					}
					else if (AiHelper.Relation.CanStartRelation_AdoptiveChild(key.First, relation, currAge, key.Second, relation2, currAge2) && currAge - currAge2 > 25)
					{
						GameData.Domains.Character.Character.ApplyAddRelation_AdoptiveChild(context, element_Objects3, element_Objects4, behaviorType3, selfIsTaiwuPeople, targetIsTaiwuPeople);
						result.RelationChangeData.Add(key, 128);
					}
					else if (AiHelper.Relation.CanStartRelation_AdoptiveParent(key.Second, relation2, currAge2, key.First, relation, currAge) && currAge2 - currAge > 25)
					{
						GameData.Domains.Character.Character.ApplyAddRelation_AdoptiveParent(context, element_Objects3, element_Objects4, behaviorType3, selfIsTaiwuPeople, targetIsTaiwuPeople);
						result.RelationChangeData.Add(key, 64);
					}
					else if (AiHelper.Relation.CanStartRelation_Friend(relation, behaviorType3, relation2, behaviorType4))
					{
						GameData.Domains.Character.Character.ApplyBecomeFriend(context, element_Objects3, element_Objects4, behaviorType3, selfIsTaiwuPeople, targetIsTaiwuPeople);
						result.RelationChangeData.Add(key, 8192);
					}
				}
				else if (AiHelper.Relation.CanStartRelation_Enemy(relation, behaviorType3))
				{
					GameData.Domains.Character.Character.ApplyAddRelation_Enemy(context, element_Objects3, element_Objects4, selfIsTaiwuPeople, 0);
					result.RelationChangeData.Add(key, 32768);
				}
			}
		}
		return result;
	}

	public void ReadBook(DataContext context, int bookId, List<int> charIds, bool isCombatSkill, out TasterUltimateResult result)
	{
		result = new TasterUltimateResult();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		GameData.Domains.Item.SkillBook element_SkillBooks = DomainManager.Item.GetElement_SkillBooks(bookId);
		byte pageTypes = element_SkillBooks.GetPageTypes();
		short num = 0;
		sbyte b = 0;
		sbyte grade = element_SkillBooks.GetGrade();
		result.Books.Add(element_SkillBooks.GetTemplateId());
		short num2;
		if (isCombatSkill)
		{
			num2 = element_SkillBooks.GetCombatSkillTemplateId();
			foreach (int charId in charIds)
			{
				GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
				if (!element_Objects.GetLearnedCombatSkills().Contains(num2))
				{
					element_Objects.LearnNewCombatSkill(context, num2, 0);
				}
				num += element_Objects.GetCombatSkillAttainment(element_SkillBooks.GetCombatSkillType());
			}
		}
		else
		{
			num2 = element_SkillBooks.GetLifeSkillTemplateId();
			foreach (int charId2 in charIds)
			{
				GameData.Domains.Character.Character element_Objects2 = DomainManager.Character.GetElement_Objects(charId2);
				if (element_Objects2.FindLearnedLifeSkillIndex(num2) < 0)
				{
					element_Objects2.LearnNewLifeSkill(context, num2, 0);
				}
				b = element_SkillBooks.GetLifeSkillType();
				num += element_Objects2.GetLifeSkillAttainment(b);
			}
		}
		foreach (int charId3 in charIds)
		{
			GameData.Domains.Character.Character element_Objects3 = DomainManager.Character.GetElement_Objects(charId3);
			int remainingSpeedPercent = 100 * charIds.Count;
			byte readingPage = 0;
			byte b2 = 0;
			byte pageCount = element_SkillBooks.GetPageCount();
			GameData.Domains.CombatSkill.CombatSkill combatSkill = null;
			element_Objects3.TryApplyAttachedPoison(context, element_SkillBooks.GetItemKey());
			if (isCombatSkill)
			{
				combatSkill = DomainManager.CombatSkill.GetElement_CombatSkills(new CombatSkillKey(charId3, num2));
			}
			while (remainingSpeedPercent > 0 && readingPage < pageCount)
			{
				ushort readingState = 0;
				int num3 = 0;
				byte b3;
				bool flag;
				if (isCombatSkill)
				{
					readingState = combatSkill.GetReadingState();
					sbyte outlinePageType = SkillBookStateHelper.GetOutlinePageType(pageTypes);
					sbyte normalPageType = SkillBookStateHelper.GetNormalPageType(pageTypes, readingPage);
					b3 = CombatSkillStateHelper.GetPageInternalIndex(outlinePageType, normalPageType, readingPage);
					flag = CombatSkillStateHelper.IsPageRead(readingState, b3);
				}
				else
				{
					num3 = element_Objects3.FindLearnedLifeSkillIndex(num2);
					b3 = readingPage;
					flag = element_Objects3.GetLearnedLifeSkills()[num3].IsPageRead(readingPage);
				}
				if (flag)
				{
					readingPage++;
					continue;
				}
				sbyte pageIncompleteState = SkillBookStateHelper.GetPageIncompleteState(element_SkillBooks.GetPageIncompleteState(), readingPage);
				sbyte b4 = SkillBookPageIncompleteState.BaseReadingSpeed[pageIncompleteState];
				int tasterUltimateReadingSpeedBonus = GetTasterUltimateReadingSpeedBonus(element_SkillBooks, num, element_Objects3, readingPage, num2);
				int num4 = b4 * tasterUltimateReadingSpeedBonus / 100;
				if (num4 == 0)
				{
					break;
				}
				if (charId3 == taiwuCharId)
				{
					if (!DomainManager.Taiwu.ReadSkillBookPage(context, element_SkillBooks, b3, num4, isCombatSkill, ref remainingSpeedPercent, ref readingPage).Item1)
					{
						break;
					}
					if (!isCombatSkill)
					{
						switch (b)
						{
						case 13:
						{
							int baseDelta2 = ProfessionFormulaImpl.Calculate(42, grade);
							DomainManager.Extra.ChangeProfessionSeniority(context, 6, baseDelta2);
							break;
						}
						case 12:
						{
							int baseDelta = ProfessionFormulaImpl.Calculate(36, grade);
							DomainManager.Extra.ChangeProfessionSeniority(context, 5, baseDelta);
							break;
						}
						}
					}
				}
				else
				{
					int num5 = 10000 / num4;
					if (remainingSpeedPercent < num5)
					{
						break;
					}
					if (isCombatSkill)
					{
						combatSkill.SetReadingState(CombatSkillStateHelper.SetPageRead(readingState, b3), context);
						DomainManager.CombatSkill.TryActivateCombatSkillBookPageWhenSetReadingState(context, charId3, num2, b3);
					}
					else
					{
						element_Objects3.ReadLifeSkillPage(context, num3, readingPage);
					}
					remainingSpeedPercent -= num5;
					readingPage++;
				}
				b2 = (byte)(b2 | (1 << (int)readingPage));
			}
			if (readingPage == pageCount)
			{
				int readPageCountByTasterUltimateRereading = GetReadPageCountByTasterUltimateRereading(element_SkillBooks, num, element_Objects3, num2, remainingSpeedPercent);
				element_Objects3.ChangeExp(context, SkillGradeData.Instance[grade].ReadingExpGainPerPage * GlobalConfig.Instance.ReadingFinishedBookExpGainPercent * readPageCountByTasterUltimateRereading / 100);
				if (charId3 == taiwuCharId && !isCombatSkill)
				{
					switch (b)
					{
					case 13:
					{
						int baseDelta4 = ProfessionFormulaImpl.Calculate(43, grade) * readPageCountByTasterUltimateRereading;
						DomainManager.Extra.ChangeProfessionSeniority(context, 6, baseDelta4);
						break;
					}
					case 12:
					{
						int baseDelta3 = ProfessionFormulaImpl.Calculate(37, grade) * readPageCountByTasterUltimateRereading;
						DomainManager.Extra.ChangeProfessionSeniority(context, 5, baseDelta3);
						break;
					}
					}
				}
			}
			result.ReadBookPageData.Add(new IntPair(charId3, bookId), b2);
		}
		element_SkillBooks.SetCurrDurability((short)(element_SkillBooks.GetCurrDurability() - charIds.Count), context);
		if (element_SkillBooks.GetCurrDurability() <= 0)
		{
			ItemKey itemKey = element_SkillBooks.GetItemKey();
			DomainManager.Taiwu.RemoveTaiwuItemFromTaiwuStorage(context, itemKey, 1, deleteItem: true);
			if (itemKey == DomainManager.Taiwu.GetCurReadingBook())
			{
				DomainManager.Taiwu.SetReadingBook(context, ItemKey.Invalid);
			}
		}
	}

	private int GetReadPageCountByTasterUltimateRereading(GameData.Domains.Item.SkillBook book, short skillAttainment, GameData.Domains.Character.Character character, short skillTemplateId, int remainingSpeedPercent)
	{
		int num = 0;
		byte pageCount = book.GetPageCount();
		byte b = 0;
		while (b < pageCount)
		{
			int tasterUltimateReadingSpeedBonus = GetTasterUltimateReadingSpeedBonus(book, skillAttainment, character, b, skillTemplateId);
			int num2 = SkillBookPageIncompleteState.BaseReadingSpeed[0] * tasterUltimateReadingSpeedBonus / 100;
			int num3 = num2 * remainingSpeedPercent / 100;
			if (num3 >= 100)
			{
				num++;
				remainingSpeedPercent -= 10000 / num2;
				b++;
				continue;
			}
			break;
		}
		return num;
	}

	private int GetTasterUltimateReadingSpeedBonus(GameData.Domains.Item.SkillBook book, short skillAttainment, GameData.Domains.Character.Character character, byte readingPage, short skillTemplateId)
	{
		int num = 0;
		int num2 = 0;
		int num3 = 0;
		int num4 = 0;
		byte pageTypes = book.GetPageTypes();
		bool flag = book.IsCombatSkillBook();
		if (character.GetId() == DomainManager.Taiwu.GetTaiwuCharId())
		{
			Location location = character.GetLocation();
			if (DomainManager.Extra.IsProfessionalSkillUnlocked(4, 1))
			{
				int seniority = DomainManager.Extra.GetProfessionData(4).Seniority;
				int num5 = 3000000;
				num3 = 30 + 30 * seniority / num5;
			}
			if (flag)
			{
				sbyte sectId = Config.CombatSkill.Instance[skillTemplateId].SectId;
				sbyte combatSkillDirection = ((readingPage == 0) ? SkillBookStateHelper.GetOutlinePageType(pageTypes) : SkillBookStateHelper.GetNormalPageType(pageTypes, readingPage));
				num2 = DomainManager.Taiwu.CalcReadingSpeedSectApprovalFactor(sectId, combatSkillDirection, (sbyte)readingPage, isInBattle: false);
				sbyte combatSkillType = book.GetCombatSkillType();
				num += DomainManager.Building.GetBuildingBlockEffect(location, EBuildingScaleEffect.CombatSkillReadingSpeedBonusFactor, combatSkillType);
			}
			else
			{
				sbyte lifeSkillType = book.GetLifeSkillType();
				num += DomainManager.Building.GetBuildingBlockEffect(location, EBuildingScaleEffect.LifeSkillReadingSpeedBonusFactor, lifeSkillType);
			}
		}
		if (flag)
		{
			foreach (short featureId in character.GetFeatureIds())
			{
				num4 += CharacterFeature.Instance[featureId].CombatSkillBookReadEfficiency;
			}
		}
		else
		{
			foreach (short featureId2 in character.GetFeatureIds())
			{
				num4 += CharacterFeature.Instance[featureId2].LifeSkillBookReadEfficiency;
			}
		}
		int num6 = TaiwuDomain.CalcReadingSpeedAttainmentFactor(skillAttainment, book.GetGrade());
		byte readingDifficulty = DomainManager.Extra.GetReadingDifficulty();
		short num7 = WorldCreation.Instance[(byte)8].InfluenceFactors[readingDifficulty];
		int num8 = 100 + num4 + num + num3;
		num8 = num8 * (100 + num6) / 100;
		num8 = num8 * (100 + num2) / 100;
		num8 = num8 * num7 / 100;
		return Math.Max(num8, 0);
	}

	[DomainMethod]
	public int CheckTasterUltimateSpecialCondition(bool isCombatSkill)
	{
		int num = 0;
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Location location = taiwu.GetLocation();
		if (!location.IsValid())
		{
			num = ProfessionSkillInvalidType.Add(num, 1);
		}
		else
		{
			MapBlockData block = DomainManager.Map.GetBlock(location);
			if (!block.IsCityTown())
			{
				num = ProfessionSkillInvalidType.Add(num, 1);
			}
			if (block.CharacterSet == null || block.CharacterSet.Count == 0)
			{
				num = ProfessionSkillInvalidType.Add(num, 2);
			}
		}
		Span<ItemSourceType> span = stackalloc ItemSourceType[3]
		{
			ItemSourceType.Warehouse,
			ItemSourceType.Inventory,
			ItemSourceType.Treasury
		};
		bool flag = false;
		short num2 = (short)(isCombatSkill ? 1001 : 1000);
		Span<ItemSourceType> span2 = span;
		for (int i = 0; i < span2.Length; i++)
		{
			ItemSourceType itemSourceType = span2[i];
			IReadOnlyDictionary<ItemKey, int> items = DomainManager.Taiwu.GetItems(itemSourceType);
			foreach (ItemKey key in items.Keys)
			{
				if (ItemTemplateHelper.GetItemSubType(key.ItemType, key.TemplateId) == num2)
				{
					flag = true;
					break;
				}
			}
			if (flag)
			{
				break;
			}
		}
		if (!flag)
		{
			num = ProfessionSkillInvalidType.Add(num, 4);
		}
		return num;
	}

	[DomainMethod]
	public int CheckBeggarUltimateSpecialCondition()
	{
		int num = 0;
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Location location = taiwu.GetLocation();
		if (!location.IsValid())
		{
			num = ProfessionSkillInvalidType.Add(num, 1);
		}
		else
		{
			MapBlockData block = DomainManager.Map.GetBlock(location);
			if (block.CharacterSet == null || block.CharacterSet.Count == 0)
			{
				num = ProfessionSkillInvalidType.Add(num, 1);
			}
			else
			{
				bool flag = false;
				foreach (int item in block.CharacterSet)
				{
					if (!DomainManager.Character.TryGetElement_Objects(item, out var element))
					{
						continue;
					}
					Inventory inventory = element.GetInventory();
					foreach (KeyValuePair<ItemKey, int> item2 in inventory.Items)
					{
						if ((item2.Key.ItemType == 8 || item2.Key.ItemType == 7 || item2.Key.ItemType == 9 || ItemTemplateHelper.IsTianJieFuLu(item2.Key.ItemType, item2.Key.TemplateId) || (item2.Key.ItemType == 12 && Config.Misc.Instance[item2.Key.TemplateId].Neili > 0)) && item2.Value > 0)
						{
							flag = true;
							break;
						}
						if (item2.Key.ItemType == 5 && IsProfessionalSkillUnlockedAndEquipped(44) && Config.Material.Instance[item2.Key.TemplateId].Grade > 6 && Config.Material.Instance[item2.Key.TemplateId].ItemSubType == 505)
						{
							flag = true;
							break;
						}
					}
					if (flag)
					{
						break;
					}
				}
				if (!flag)
				{
					num = ProfessionSkillInvalidType.Add(num, 1);
				}
			}
		}
		if (taiwu.GetEatingItems().GetAvailableEatingSlot(taiwu.GetCurrMaxEatingSlotsCount()) < 0)
		{
			num = ProfessionSkillInvalidType.Add(num, 16);
		}
		return num;
	}

	[DomainMethod]
	public int CheckAristocratUltimateSpecialCondition()
	{
		int num = 0;
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Location location = taiwu.GetLocation();
		if (!location.IsValid())
		{
			num = ProfessionSkillInvalidType.Add(num, 1);
		}
		else
		{
			MapBlockData block = DomainManager.Map.GetBlock(location);
			if (!block.IsCityTown())
			{
				return ProfessionSkillInvalidType.Add(num, 1);
			}
			MapBlockData rootBlock = block.GetRootBlock();
			Settlement settlementByLocation = DomainManager.Organization.GetSettlementByLocation(rootBlock.GetLocation());
			sbyte orgTemplateId = settlementByLocation.GetOrgTemplateId();
			if (!OrganizationDomain.IsSect(orgTemplateId))
			{
				return ProfessionSkillInvalidType.Add(num, 1);
			}
			if (settlementByLocation is Sect sect)
			{
				if (sect.Prison.Prisoners.Count == 0)
				{
					return ProfessionSkillInvalidType.Add(num, 8);
				}
				bool flag = false;
				foreach (SettlementPrisoner prisoner in sect.Prison.Prisoners)
				{
					if (DomainManager.Character.TryGetElement_Objects(prisoner.CharId, out var element) && !element.IsCompletelyInfected())
					{
						flag = true;
						break;
					}
				}
				if (!flag)
				{
					num = ProfessionSkillInvalidType.Add(num, 8);
				}
			}
		}
		return num;
	}

	[DomainMethod]
	public bool CheckSpecialCondition_SavageSkill_1(ProfessionData professionData)
	{
		MapDomain map = DomainManager.Map;
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		foreach (Location item in ProfessionSkillHandle.GetSavageSkill_1_EffectRange(taiwu.GetLocation()))
		{
			if (!item.IsValid())
			{
				continue;
			}
			MapBlockData block = map.GetBlock(item);
			if (block.IsCityTown())
			{
				continue;
			}
			MapBlockItem config = block.GetConfig();
			if (config.Type != EMapBlockType.Station && config.ResourceCollectionType >= 0)
			{
				MapBlockData block2 = map.GetBlock(item);
				if (block2.MaxResources.GetSum() >= 0)
				{
					return true;
				}
			}
		}
		return false;
	}

	[DomainMethod]
	public void EatTianJieFuLu(DataContext context, int charId, ItemKey itemKey, int amount)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		element_Objects.RemoveInventoryItem(context, itemKey, amount, deleteItem: true);
		ItemKey itemKey2 = DomainManager.Item.CreateItem(context, 8, 432);
		int num = amount / ItemTemplateHelper.GetTianJieFuLuCountUnit();
		for (int i = 0; i < num; i++)
		{
			element_Objects.AddEatingItem(context, itemKey2);
		}
	}

	private void AddProfessionLegacy(DataContext context, int skillIndex)
	{
		int num = 42 + skillIndex;
		LegacyPointItem legacyPointItem = LegacyPoint.Instance[num];
		if (legacyPointItem != null)
		{
			DomainManager.Taiwu.AddLegacyPoint(context, (short)num);
		}
	}

	public bool TryTriggerAddSeniorityPoint(DataContext context, int formulaTemplateId, int targetId)
	{
		IntPair intPair = new IntPair(formulaTemplateId, targetId);
		if (_triggeredAddSeniorityPoints.ContainsKey(intPair))
		{
			return false;
		}
		AddElement_TriggeredAddSeniorityPoints(intPair, default(VoidValue), context);
		return true;
	}

	private void AddMartialArtistCreateRandomEnemyDict(Location location, short templateId)
	{
		if (MartialArtistCreateRandomEnemyDict == null)
		{
			MartialArtistCreateRandomEnemyDict = new Dictionary<Location, List<short>>();
		}
		if (!MartialArtistCreateRandomEnemyDict.ContainsKey(location))
		{
			MartialArtistCreateRandomEnemyDict.Add(location, new List<short>());
		}
		List<short> list = MartialArtistCreateRandomEnemyDict[location];
		list.Add(templateId);
	}

	private void ClearMartialArtistCreateRandomEnemyDict(DataContext context)
	{
		MartialArtistCreateRandomEnemyDict?.Clear();
	}

	public void MartialArtistSkill3Execute(DataContext context, bool updateData)
	{
		List<short> list = new List<short>();
		if (updateData)
		{
			UpdateDataForMartialArtistSkill3(context);
		}
		if (MartialArtistCreateRandomEnemyDict == null || MartialArtistCreateRandomEnemyDict.Count == 0)
		{
			return;
		}
		List<short> list2 = ObjectPool<List<short>>.Instance.Get();
		CombatResultDisplayData combatResultDisplayData = new CombatResultDisplayData();
		List<ItemDisplayData> list3 = new List<ItemDisplayData>();
		List<(MapTemplateEnemyInfo, Location)> list4 = new List<(MapTemplateEnemyInfo, Location)>();
		foreach (KeyValuePair<Location, List<short>> item in MartialArtistCreateRandomEnemyDict)
		{
			item.Deconstruct(out var key, out var value);
			Location location = key;
			List<short> list5 = value;
			MapBlockData blockData = DomainManager.Map.GetBlockData(location.AreaId, location.BlockId);
			for (int num = list5.Count - 1; num >= 0; num--)
			{
				short templateId = list5[num];
				MapTemplateEnemyInfo mapTemplateEnemyInfo = new MapTemplateEnemyInfo(templateId, location.BlockId, Location.Invalid.BlockId, 1);
				bool flag = blockData.TemplateEnemyList != null && blockData.TemplateEnemyList.Contains(mapTemplateEnemyInfo);
				if (updateData || flag)
				{
					GameData.Domains.Character.Character character = DomainManager.Character.CreateRandomEnemy(context, templateId);
					int id = character.GetId();
					DomainManager.Character.CompleteCreatingCharacter(id);
					DomainManager.Adventure.AddTemporaryEnemyId(id);
					int[] array = new int[1] { -1 };
					int mapBlockAttackedNpc = GetMapBlockAttackedNpc(context, templateId, blockData);
					bool flag2 = false;
					if (mapBlockAttackedNpc >= 0)
					{
						GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(mapBlockAttackedNpc);
						AiHelper.NpcCombatResultType npcCombatResultType = DomainManager.Character.SimulateCharacterCombat(context, character, element_Objects, CombatType.Beat);
						list.Add(location.BlockId);
						flag2 = npcCombatResultType <= AiHelper.NpcCombatResultType.MinorVictory;
						array[0] = mapBlockAttackedNpc;
					}
					else
					{
						MapTemplateEnemyInfo mapBlockAttackedRandomEnemy = GetMapBlockAttackedRandomEnemy(context, templateId, blockData);
						if (mapBlockAttackedRandomEnemy.IsValid())
						{
							GameData.Domains.Character.Character character2 = DomainManager.Character.CreateRandomEnemy(context, mapBlockAttackedRandomEnemy.TemplateId);
							int id2 = character2.GetId();
							DomainManager.Character.CompleteCreatingCharacter(id2);
							DomainManager.Adventure.AddTemporaryEnemyId(id2);
							AiHelper.NpcCombatResultType npcCombatResultType2 = DomainManager.Character.SimulateCharacterCombat(context, character, character2, CombatType.Beat);
							list.Add(location.BlockId);
							flag2 = npcCombatResultType2 <= AiHelper.NpcCombatResultType.MinorVictory;
							array[0] = id2;
							if (flag2)
							{
								Events.RaiseTemplateEnemyLocationChanged(context, mapBlockAttackedRandomEnemy, location, Location.Invalid);
								list2.Add(mapBlockAttackedRandomEnemy.TemplateId);
							}
						}
						else
						{
							flag2 = true;
						}
					}
					if (updateData)
					{
						if (flag2 && DomainManager.Character.TryGetElement_Objects(array[0], out var element))
						{
							CombatConfigItem combatConfigItem = CombatConfig.Instance[(short)1];
							combatResultDisplayData.CombatStatus = CombatStatusType.EnemyFail;
							CombatDomain.ResultCalcExp(combatConfigItem, isPlaygroundCombat: false, character, array, combatResultDisplayData);
							CombatDomain.ResultCalcResource(combatConfigItem, isPlaygroundCombat: false, character, array, combatResultDisplayData);
							CombatDomain.ResultCalcAreaSpiritualDebt(isWin: true, character, array, combatResultDisplayData);
							CombatDomain.ResultCalcLootItem(context.Random, 50, combatConfigItem.CombatType, combatResultDisplayData.CombatStatus, isPuppetCombat: false, combatConfigItem, character, array, Array.Empty<int>(), combatResultDisplayData);
							ItemKey[] equipment = element.GetEquipment();
							foreach (ItemDisplayData item2 in combatResultDisplayData.ItemList)
							{
								ItemKey key2 = item2.Key;
								sbyte b = (sbyte)equipment.IndexOf(key2);
								if (b >= 0)
								{
									element.ChangeEquipment(context, b, -1, ItemKey.Invalid);
								}
								element.RemoveInventoryItem(context, key2, item2.Amount, deleteItem: false);
								list3.Add(item2);
								if (GameData.Domains.Character.Character.IsCharacterIdValid(mapBlockAttackedNpc))
								{
									LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
									int currDate = DomainManager.World.GetCurrDate();
									if (id >= 307 && id <= 315)
									{
										lifeRecordCollection.AddMartialArtistSkill3NPCItemDropCaseB(mapBlockAttackedNpc, currDate, element.GetValidLocation(), id, key2.ItemType, key2.TemplateId);
									}
									else
									{
										lifeRecordCollection.AddMartialArtistSkill3NPCItemDropCaseA(mapBlockAttackedNpc, currDate, element.GetValidLocation(), id, key2.ItemType, key2.TemplateId);
									}
								}
							}
							combatResultDisplayData.ItemList.Clear();
						}
						if (flag2)
						{
							list4.Add((mapTemplateEnemyInfo, location));
						}
						else
						{
							list5.RemoveAt(num);
						}
					}
				}
			}
		}
		foreach (var item3 in list4)
		{
			Events.RaiseTemplateEnemyLocationChanged(context, item3.Item1, Location.Invalid, item3.Item2);
		}
		if (!updateData)
		{
			ClearMartialArtistCreateRandomEnemyDict(context);
		}
		else
		{
			DomainManager.Combat.GetExpAndAuthorityAndAreaSpiritualDebtOutOfCombat(context, list2, 3);
			combatResultDisplayData.ItemList.Clear();
			MergeKeyForItemDisplayDataList(list3);
			combatResultDisplayData.ItemList.AddRange(list3);
			ProfessionSkillArg arg = new ProfessionSkillArg
			{
				ProfessionId = 3,
				SkillId = 63,
				IsSuccess = false,
				EffectBlocks = list,
				SkipAnimation = false,
				CombatResultData = combatResultDisplayData
			};
			GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.ConfirmSkillExecuteAndPlayAnim, arg, arg2: false);
		}
		ObjectPool<List<short>>.Instance.Return(list2);
	}

	internal static void MergeKeyForItemDisplayDataList(List<ItemDisplayData> itemDisplayDataList)
	{
		for (int i = 0; i < itemDisplayDataList.Count; i++)
		{
			ItemDisplayData itemDisplayData = itemDisplayDataList[i];
			ItemKey key = itemDisplayData.Key;
			int num = itemDisplayData.Amount;
			for (int j = i + 1; j < itemDisplayDataList.Count; j++)
			{
				if (itemDisplayDataList[j].Key == key)
				{
					num += itemDisplayDataList[j].Amount;
					itemDisplayDataList.RemoveAt(j);
					j--;
				}
			}
			itemDisplayDataList[i].Amount = num;
		}
	}

	public void UpdateDataForMartialArtistSkill3(DataContext context)
	{
		ClearMartialArtistCreateRandomEnemyDict(context);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Location location = taiwu.GetLocation();
		List<MapBlockData> mapBlockList = ObjectPool<List<MapBlockData>>.Instance.Get();
		DomainManager.Map.GetLocationByDistance(location, 0, 3, ref mapBlockList);
		CollectionUtils.Shuffle(context.Random, mapBlockList);
		foreach (MapBlockData item in mapBlockList)
		{
			if (!item.Visible)
			{
				item.SetVisible(visible: true, context);
			}
		}
		int martialArtistCreateGoodRandomEnemyCount = GetMartialArtistCreateGoodRandomEnemyCount();
		int martialArtistCreateBadRandomEnemyCount = GetMartialArtistCreateBadRandomEnemyCount();
		short martialArtistCreateGoodRandomEnemyTemplateId = GetMartialArtistCreateGoodRandomEnemyTemplateId(context);
		short martialArtistCreateBadRandomEnemyTemplateId = GetMartialArtistCreateBadRandomEnemyTemplateId(context);
		DomainManager.World.GetInstantNotificationCollection().AddGatherCompanions(martialArtistCreateGoodRandomEnemyCount, martialArtistCreateBadRandomEnemyCount);
		for (int i = 0; i < martialArtistCreateGoodRandomEnemyCount; i++)
		{
			int index = i % mapBlockList.Count;
			Location location2 = mapBlockList[index].GetLocation();
			DomainManager.Extra.AddMartialArtistCreateRandomEnemyDict(location2, martialArtistCreateGoodRandomEnemyTemplateId);
		}
		CollectionUtils.Shuffle(context.Random, mapBlockList);
		for (int j = 0; j < martialArtistCreateBadRandomEnemyCount; j++)
		{
			int index2 = j % mapBlockList.Count;
			Location location3 = mapBlockList[index2].GetLocation();
			DomainManager.Extra.AddMartialArtistCreateRandomEnemyDict(location3, martialArtistCreateBadRandomEnemyTemplateId);
		}
		ObjectPool<List<MapBlockData>>.Instance.Return(mapBlockList);
	}

	private int GetMapBlockAttackedNpc(DataContext context, short templateId, MapBlockData mapBlockData)
	{
		if (mapBlockData.CharacterSet == null || mapBlockData.CharacterSet.Count == 0)
		{
			return -1;
		}
		bool flag = CharacterDomain.TemplateIdIsRighteous(templateId);
		List<int> list = mapBlockData.CharacterSet.ToArray().ToList();
		CollectionUtils.Shuffle(context.Random, list);
		foreach (int item in list)
		{
			if (item == DomainManager.Taiwu.GetTaiwuCharId())
			{
				continue;
			}
			DomainManager.Character.TryGetElement_Objects(item, out var element);
			if (element == null)
			{
				continue;
			}
			sbyte fameType = element.GetFameType();
			if (flag)
			{
				if (fameType < 3 && fameType != -1)
				{
					return item;
				}
			}
			else if (fameType > 3 || fameType == -2)
			{
				return item;
			}
		}
		return -1;
	}

	private MapTemplateEnemyInfo GetMapBlockAttackedRandomEnemy(DataContext context, short templateId, MapBlockData mapBlockData)
	{
		if (mapBlockData.TemplateEnemyList == null || mapBlockData.TemplateEnemyList.Count == 0)
		{
			return MapTemplateEnemyInfo.Invalid;
		}
		bool flag = CharacterDomain.TemplateIdIsRighteous(templateId);
		List<MapTemplateEnemyInfo> list = mapBlockData.TemplateEnemyList.ToArray().ToList();
		foreach (MapTemplateEnemyInfo item in list)
		{
			short templateId2 = item.TemplateId;
			if (templateId2 >= 298 && templateId2 <= 304)
			{
				return item;
			}
			bool flag2 = CharacterDomain.TemplateIdIsRighteous(item.TemplateId);
			if (item.SourceAdventureBlockId == Location.Invalid.BlockId || flag == flag2)
			{
				continue;
			}
			return item;
		}
		return MapTemplateEnemyInfo.Invalid;
	}

	private static int GetMartialArtistCreateRandomEnemyCount()
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		int fame = taiwu.GetFame();
		return Math.Abs(fame) * 36 / 100 + 12;
	}

	private static int GetMartialArtistCreateGoodRandomEnemyCount()
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		int fame = taiwu.GetFame();
		int fameType = taiwu.GetFameType();
		int martialArtistCreateRandomEnemyCount = GetMartialArtistCreateRandomEnemyCount();
		if (fameType == -2 || fameType == 3)
		{
			return martialArtistCreateRandomEnemyCount / 2;
		}
		switch (fameType)
		{
		case 6:
			return martialArtistCreateRandomEnemyCount;
		case 0:
			return 0;
		default:
			if (fame > 25)
			{
				return (int)((float)(fame + 100) / 200f * (float)martialArtistCreateRandomEnemyCount);
			}
			return (int)((float)martialArtistCreateRandomEnemyCount - (float)Math.Abs(fame) / 100f * (float)martialArtistCreateRandomEnemyCount);
		}
	}

	private static int GetMartialArtistCreateBadRandomEnemyCount()
	{
		return GetMartialArtistCreateRandomEnemyCount() - GetMartialArtistCreateGoodRandomEnemyCount();
	}

	private static short GetMartialArtistCreateGoodRandomEnemyTemplateId(DataContext context)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		sbyte consummateLevel = taiwu.GetConsummateLevel();
		for (short num = 307; num <= 315; num++)
		{
			CharacterItem item = Config.Character.Instance.GetItem(num);
			if (item.ConsummateLevel == consummateLevel)
			{
				return num;
			}
		}
		for (short num2 = 307; num2 <= 315; num2++)
		{
			CharacterItem item2 = Config.Character.Instance.GetItem(num2);
			if (item2.ConsummateLevel >= consummateLevel)
			{
				return context.Random.CheckPercentProb(50) ? num2 : ((short)(num2 - 1));
			}
		}
		return 315;
	}

	private static short GetMartialArtistCreateBadRandomEnemyTemplateId(DataContext context)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		sbyte consummateLevel = taiwu.GetConsummateLevel();
		List<short> list = ObjectPool<List<short>>.Instance.Get();
		for (short num = 228; num <= 297; num++)
		{
			CharacterItem item = Config.Character.Instance.GetItem(num);
			if (item.ConsummateLevel == consummateLevel)
			{
				list.Add(num);
			}
		}
		short random = list.GetRandom(context.Random);
		ObjectPool<List<short>>.Instance.Return(list);
		return random;
	}

	[DomainMethod]
	public IntPair GetMartialArtistCreateGoodRandomEnemyAndBadRandomEnemyCount(DataContext context)
	{
		int martialArtistCreateGoodRandomEnemyCount = GetMartialArtistCreateGoodRandomEnemyCount();
		int second = GetMartialArtistCreateRandomEnemyCount() - martialArtistCreateGoodRandomEnemyCount;
		return new IntPair(martialArtistCreateGoodRandomEnemyCount, second);
	}

	[DomainMethod]
	public void SetDukeSkill3Crickets(DataContext context, List<short> effectBlocks)
	{
		TaiwuDomain taiwu = DomainManager.Taiwu;
		DomainManager.Character.TryGetElement_Objects(taiwu.GetTaiwuCharId(), out var element);
		Location location = element.GetLocation();
		foreach (short effectBlock in effectBlocks)
		{
			DomainManager.Extra.CreateExtraCricketMapUnit(context, new Location(location.AreaId, effectBlock), 3);
		}
	}

	[DomainMethod]
	public bool CheckSpecialCondition_HunterSkill2(DataContext context)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Location location = taiwu.GetLocation();
		return DomainManager.Extra.GetAnimalGenerateCenterLocationByHunterSkill(context, location.AreaId).IsValid();
	}

	[DomainMethod]
	public bool CanConvertToAnimalCharacter(ItemKey itemKey)
	{
		bool flag = ProfessionSkillHandle.CheckGroupCountForConvertToAnimalCharacter();
		bool flag2 = ProfessionSkillHandle.IsItemCanConvertToAnimalCharacter(itemKey);
		return flag && flag2;
	}

	public bool MartialArtistSkill0Useful(OrganizationItem orgCfg)
	{
		return IsProfessionalSkillUnlockedAndEquipped(9) && orgCfg.IsSect;
	}

	public bool CivilianSkill0Useful(OrganizationItem orgCfg)
	{
		return IsProfessionalSkillUnlockedAndEquipped(32) && (orgCfg.IsCivilian || orgCfg.TemplateId == 16);
	}

	public void ExtraProfessionSkillSetFeature(DataContext context, short featureId)
	{
		if (featureId >= 0)
		{
			GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
			taiwu.AddFeature(context, featureId, removeMutexFeature: true);
		}
	}

	private void UnlockExtraProfessionSkill(DataContext context)
	{
		SetIsExtraProfessionSkillUnlocked(value: true, context);
		GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.ExtraProfessionSkillUnlocked);
	}

	[DomainMethod]
	public void GmCmd_ShowUnlockedProfessionSkill(int skillTemplateId)
	{
		GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.OpenProfessionSkillUnlocked, skillTemplateId, DomainManager.World.GetAdvancingMonthState() == 0);
	}

	[DomainMethod]
	public int GetResourceBlockProducingCoreCooldown(BuildingBlockKey blockKey)
	{
		ResourceBlockExtraData value;
		return _resourceBlockExtraData.TryGetValue((ulong)blockKey, out value) ? (value.Cooldown - DomainManager.World.GetCurrDate()) : 0;
	}

	public void SetResourceBlockExtraData(DataContext context, ResourceBlockExtraData data)
	{
		ulong elementId = (ulong)data.BuildingBlockKey;
		if (TryGetElement_ResourceBlockExtraData(elementId, out var _))
		{
			SetElement_ResourceBlockExtraData(elementId, data, context);
		}
		else
		{
			AddElement_ResourceBlockExtraData(elementId, data, context);
		}
	}

	public void InitializeResourceBlockExtraData(DataContext context, Location location)
	{
		List<ulong> list = new List<ulong>();
		foreach (ulong key in _resourceBlockExtraData.Keys)
		{
			list.Add(key);
		}
		foreach (ulong item in list)
		{
			RemoveElement_ResourceBlockExtraData(item, context);
		}
		IEnumerable<BuildingBlockData> buildingBlocksAtLocation = DomainManager.Building.GetBuildingBlocksAtLocation(location);
		foreach (BuildingBlockData item2 in buildingBlocksAtLocation)
		{
			EBuildingBlockType? eBuildingBlockType = item2?.ConfigData?.Type;
			bool flag;
			if (eBuildingBlockType.HasValue)
			{
				EBuildingBlockType valueOrDefault = eBuildingBlockType.GetValueOrDefault();
				if ((uint)valueOrDefault <= 1u)
				{
					flag = true;
					goto IL_00f5;
				}
			}
			flag = false;
			goto IL_00f5;
			IL_00f5:
			if (flag)
			{
				DomainManager.Extra.SetResourceBlockExtraData(context, new ResourceBlockExtraData(new BuildingBlockKey(location.AreaId, location.BlockId, item2.BlockIndex)));
			}
		}
	}

	public void ExchangeResourceBlockExtraData(DataContext context, BuildingBlockKey keyA, BuildingBlockKey keyB)
	{
		ulong elementId = (ulong)keyA;
		ulong elementId2 = (ulong)keyB;
		ResourceBlockExtraData value;
		bool flag = TryGetElement_ResourceBlockExtraData(elementId, out value);
		ResourceBlockExtraData value2;
		bool flag2 = TryGetElement_ResourceBlockExtraData(elementId2, out value2);
		if (flag && flag2)
		{
			RemoveElement_ResourceBlockExtraData(elementId, context);
			RemoveElement_ResourceBlockExtraData(elementId2, context);
			value.BuildingBlockKey = keyB;
			value2.BuildingBlockKey = keyA;
			AddElement_ResourceBlockExtraData(elementId2, value, context);
			AddElement_ResourceBlockExtraData(elementId, value2, context);
		}
		else if (flag)
		{
			RemoveElement_ResourceBlockExtraData(elementId, context);
			value.BuildingBlockKey = keyB;
			AddElement_ResourceBlockExtraData(elementId2, value, context);
		}
		else if (flag2)
		{
			RemoveElement_ResourceBlockExtraData(elementId2, context);
			value2.BuildingBlockKey = keyA;
			AddElement_ResourceBlockExtraData(elementId, value2, context);
		}
	}

	public void TryRemoveResourceBlockExtraData(DataContext context, BuildingBlockKey key)
	{
		ulong elementId = (ulong)key;
		if (TryGetElement_ResourceBlockExtraData(elementId, out var _))
		{
			RemoveElement_ResourceBlockExtraData(elementId, context);
		}
	}

	public void UpdateResourceBlockBuildingCoreProducing(DataContext context)
	{
		int currDate = DomainManager.World.GetCurrDate();
		Dictionary<BuildingBlockKey, IntPair> tempDict = new Dictionary<BuildingBlockKey, IntPair>();
		BuildingAreaData element_BuildingAreas = DomainManager.Building.GetElement_BuildingAreas(DomainManager.Taiwu.GetTaiwuVillageLocation());
		List<short> list = ObjectPool<List<short>>.Instance.Get();
		List<int> list2 = ObjectPool<List<int>>.Instance.Get();
		List<(BuildingBlockKey, IntPair)> list3 = new List<(BuildingBlockKey, IntPair)>();
		foreach (ResourceBlockExtraData value2 in _resourceBlockExtraData.Values)
		{
			if (value2.Cooldown >= currDate)
			{
				continue;
			}
			sbyte b = DomainManager.Building.BuildingBlockLevel(value2.BuildingBlockKey);
			if (b <= 0)
			{
				continue;
			}
			int num = b * b;
			short templateId = DomainManager.Building.GetBuildingBlockData(value2.BuildingBlockKey).TemplateId;
			BuildingBlockItem buildingBlockItem = BuildingBlock.Instance[templateId];
			if (buildingBlockItem == null)
			{
				continue;
			}
			int num2 = 0;
			GetResourceBlockCollectingBuildings(element_BuildingAreas, value2.BuildingBlockKey, buildingBlockItem.Width, buildingBlockItem.ExpandBuildings, list, list2, tempDict, list3);
			foreach (var item3 in list3)
			{
				BuildingBlockKey item = item3.Item1;
				IntPair item2 = item3.Item2;
				BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(item);
				sbyte buildingSlotCount = GameData.Domains.Building.SharedMethods.GetBuildingSlotCount(buildingBlockData.TemplateId);
				if (DomainManager.Building.TryGetElement_CollectBuildingEarningsData(item, out var value) && value != null && buildingSlotCount <= value.CollectionItemList.Count + value.CollectionResourceList.Count)
				{
					continue;
				}
				List<short> succesEvent = buildingBlockData.ConfigData.SuccesEvent;
				if (succesEvent == null || succesEvent.Count == 0)
				{
					continue;
				}
				ShopEventItem shopEventItem = ShopEvent.Instance[succesEvent[0]];
				if (shopEventItem.BuildingCore < 0)
				{
					continue;
				}
				int[] collectResourceBuildingProductivityDistanceOne = GlobalConfig.Instance.CollectResourceBuildingProductivityDistanceOne;
				int num3 = collectResourceBuildingProductivityDistanceOne.Length;
				int num4 = ((item2.First == 1) ? collectResourceBuildingProductivityDistanceOne[(num2 >= num3) ? (num3 - 1) : num2++] : GlobalConfig.Instance.CollectResourceBuildingProductivityDistanceMore);
				int num5 = (item2.Second + GlobalConfig.Instance.AddOnAttainmentOfLeader) * num / 100 * num4 / 100;
				int num6 = ((Config.Misc.Instance[shopEventItem.BuildingCore].Grade >= 4) ? 1 : 0);
				int num7 = GlobalConfig.Instance.ResourceBlockBuildingCoreProducingMaxChance[num6];
				value2.Progress += num5;
				if (!context.Random.CheckPercentProb(value2.Progress * 100 / num7))
				{
					SetResourceBlockExtraData(context, value2);
					continue;
				}
				ItemKey itemKey = DomainManager.Item.CreateItem(context, 12, shopEventItem.BuildingCore);
				DomainManager.Item.SetOwner(itemKey, ItemOwnerType.Building, buildingBlockData.TemplateId);
				if (value == null)
				{
					value = new BuildingEarningsData();
				}
				value.CollectionItemList.Add(itemKey);
				value2.Cooldown = currDate + GlobalConfig.Instance.ResourceBlockBuildingCoreProducingCooldown[num6];
				value2.Progress = 0;
				DomainManager.Building.SetCollectBuildingEarningsData(context, item, value);
				SetResourceBlockExtraData(context, value2);
				DomainManager.World.GetMonthlyNotificationCollection().AddCoreMaterialIncome(templateId, itemKey.ItemType, itemKey.TemplateId);
				break;
			}
		}
		ObjectPool<List<short>>.Instance.Return(list);
		ObjectPool<List<int>>.Instance.Return(list2);
	}

	private void GetResourceBlockCollectingBuildings(BuildingAreaData areaData, BuildingBlockKey blockKey, sbyte width, List<short> expandBuildings, List<short> neighborList, List<int> neighborDistanceList, Dictionary<BuildingBlockKey, IntPair> tempDict, List<(BuildingBlockKey, IntPair)> res)
	{
		neighborList.Clear();
		neighborDistanceList.Clear();
		tempDict.Clear();
		res.Clear();
		areaData.GetNeighborBlocks(blockKey.BuildingBlockIndex, width, neighborList, neighborDistanceList, 2);
		for (int i = 0; i < neighborList.Count; i++)
		{
			BuildingBlockKey buildingBlockKey = new BuildingBlockKey(blockKey.AreaId, blockKey.BlockId, neighborList[i]);
			if (!DomainManager.Building.TryGetElement_BuildingBlocks(buildingBlockKey, out var value) || !expandBuildings.Contains(value.TemplateId))
			{
				continue;
			}
			if (value.RootBlockIndex >= 0)
			{
				buildingBlockKey = new BuildingBlockKey(blockKey.AreaId, blockKey.BlockId, value.RootBlockIndex);
			}
			GameData.Domains.Character.Character shopManagerLeader = DomainManager.Building.GetShopManagerLeader(buildingBlockKey);
			if (shopManagerLeader != null)
			{
				BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(buildingBlockKey);
				sbyte requireLifeSkillType = buildingBlockData.ConfigData.RequireLifeSkillType;
				int num = neighborDistanceList[i];
				if (tempDict.TryGetValue(buildingBlockKey, out var value2))
				{
					num = Math.Min(num, value2.First);
				}
				tempDict[buildingBlockKey] = new IntPair(num, shopManagerLeader.GetLifeSkillAttainment(requireLifeSkillType));
			}
		}
		foreach (var (item, item2) in tempDict)
		{
			res.Add((item, item2));
		}
		res.Sort(CompareCollectBuildingBlock);
	}

	private int CompareCollectBuildingBlock((BuildingBlockKey, IntPair) a, (BuildingBlockKey, IntPair) b)
	{
		return (a.Item2.First == b.Item2.First) ? (-a.Item2.Second.CompareTo(b.Item2.Second)) : a.Item2.First.CompareTo(b.Item2.First);
	}

	public void AddSecretInformationBroadcastNotify(SecretInformationBroadcastTipsData data, DataContext dataContext)
	{
		if (data != null)
		{
			if (_secretInformationBroadcastNotifyList == null)
			{
				_secretInformationBroadcastNotifyList = new List<SecretInformationBroadcastTipsData>();
			}
			_secretInformationBroadcastNotifyList.Add(data);
			SetSecretInformationBroadcastNotifyList(_secretInformationBroadcastNotifyList, dataContext);
		}
	}

	public void AddSecretInformationBroadcastNotifyExtra(SecretInformationBroadcastTipsExtraData data, DataContext dataContext)
	{
		if (data != null)
		{
			if (_secretInformationBroadcastNotifyExtraList == null)
			{
				_secretInformationBroadcastNotifyExtraList = new List<SecretInformationBroadcastTipsExtraData>();
			}
			_secretInformationBroadcastNotifyExtraList.Add(data);
			SetSecretInformationBroadcastNotifyExtraList(_secretInformationBroadcastNotifyExtraList, dataContext);
		}
	}

	public void ClearSecretInformationBroadcastNotifyList(DataContext dataContext)
	{
		_secretInformationBroadcastNotifyList.Clear();
		SetSecretInformationBroadcastNotifyList(_secretInformationBroadcastNotifyList, dataContext);
		_secretInformationBroadcastNotifyExtraList.Clear();
		SetSecretInformationBroadcastNotifyExtraList(_secretInformationBroadcastNotifyExtraList, dataContext);
	}

	[DomainMethod]
	public List<sbyte> GetInformationSettings(DataContext dataContext)
	{
		return GetInformationSettings();
	}

	private void InitInformationSettings()
	{
		_informationSettings.Add(0);
		_informationSettings.Add(1);
		_informationSettings.Add(1);
		_informationSettings.Add(1);
		_informationSettings.Add(1);
	}

	private void FixAbnormalSectStoryData(DataContext context)
	{
		if (_sectWuxianWugJugPoisons.Poisons.Count != 6)
		{
			_sectWuxianWugJugPoisons.Reset();
			SetSectWuxianWugJugPoisons(_sectWuxianWugJugPoisons, context);
		}
		FixAbnormalSectStoryEmeiData(context);
		FixWudangMiscData(context);
	}

	public void GenerateRandomBloodLightInXuehou(DataContext context)
	{
		Settlement settlementByOrgTemplateId = DomainManager.Organization.GetSettlementByOrgTemplateId(15);
		Location location = settlementByOrgTemplateId.GetLocation();
		List<MapBlockData> list = ObjectPool<List<MapBlockData>>.Instance.Get();
		DomainManager.Map.QueryRegularBelongBlocks(list, location, false);
		CollectionUtils.Shuffle(context.Random, list);
		if (list.Count < 3)
		{
			throw new Exception($"GenerateRandomBloodLightInXuehou() count out of belongs range: count={3}, belongs={list.Count}");
		}
		List<MapBlockData> list2 = ObjectPool<List<MapBlockData>>.Instance.Get();
		for (int i = 0; i < 3; i++)
		{
			MapBlockData mapBlockData = list[i];
			if (mapBlockData.GetConfig().SubType == EMapBlockSubType.DLCLoong)
			{
				continue;
			}
			_sectXuehouBloodLightLocations.Add(mapBlockData.GetLocation());
			DomainManager.Map.GetRealNeighborBlocks(mapBlockData.AreaId, mapBlockData.BlockId, list2, 1, includeCenter: true);
			foreach (MapBlockData item in list2)
			{
				if (!item.Visible)
				{
					item.SetVisible(visible: true, context);
				}
			}
		}
		ObjectPool<List<MapBlockData>>.Instance.Return(list);
		ObjectPool<List<MapBlockData>>.Instance.Return(list2);
		SetSectXuehouBloodLightLocations(_sectXuehouBloodLightLocations, context);
	}

	public bool IsLocationContainsBloodLight(Location location)
	{
		return _sectXuehouBloodLightLocations.Contains(location);
	}

	public void RemoveBloodLightInLocation(DataContext context, Location location)
	{
		if (_sectXuehouBloodLightLocations.Contains(location))
		{
			_sectXuehouBloodLightLocations.Remove(location);
			SetSectXuehouBloodLightLocations(_sectXuehouBloodLightLocations, context);
		}
	}

	public void SetSectShaolinDemonSlayerData(DataContext context, SectShaolinDemonSlayerData data)
	{
		SetSectShaolinDemonSlayerData(data, context);
	}

	public void GenerateWudangFairyland(DataContext context, Location location)
	{
		Tester.Assert(location.IsValid(), "generate fairyland must in valid location");
		SectStoryFairyland item = new SectStoryFairyland(location);
		_sectWudangFairylandData.Add(item);
		SetSectWudangFairylandData(_sectWudangFairylandData, context);
	}

	public void RemoveWudangFairyland(DataContext context, Location location)
	{
		for (int i = 0; i < _sectWudangFairylandData.Count; i++)
		{
			SectStoryFairyland value = _sectWudangFairylandData[i];
			if (value.Location == location && !value.Destroyed)
			{
				value.Destroyed = true;
				_sectWudangFairylandData[i] = value;
				break;
			}
		}
		SetSectWudangFairylandData(_sectWudangFairylandData, context);
	}

	public void PlantHeavenlyTree(DataContext context, int charId, short itemTemplateId, Location location)
	{
		_sectWudangHeavenlyTreeList.Add(new SectStoryHeavenlyTreeExtendable(charId, itemTemplateId, location));
		SetSectWudangHeavenlyTreeList(_sectWudangHeavenlyTreeList, context);
		DomainManager.Map.UpdateWudangHeavenlyTreeLocations();
	}

	public int HeavenlyTreeGrewUp(DataContext context, int id, int delta, bool showUI)
	{
		if (!DomainManager.Extra.TryGetHeavenlyTreeById(id, out var tree))
		{
			return id;
		}
		tree.GrowPoint += (ushort)delta;
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(id);
		short heavenlyTreeTemplateIdByGrowValue = GetHeavenlyTreeTemplateIdByGrowValue(tree.GrowPoint);
		Location location = element_Objects.GetLocation();
		int result = id;
		int num = tree.GrowPoint / 100;
		if (num > tree.TriggerRandomEnemyCount)
		{
			tree.TriggerRandomEnemyCount = (ushort)num;
			int count = 3;
			int range = 2;
			if (num < 4)
			{
				count = 1;
				range = 3;
			}
			else if (num < 7)
			{
				count = 2;
				range = (context.Random.NextBool() ? 2 : 3);
			}
			CreateRandomEnemyAroundHeavenlyTree(context, count, range, tree.Location, showUI);
		}
		if (element_Objects.GetTemplateId() != heavenlyTreeTemplateIdByGrowValue)
		{
			GameData.Domains.Character.Character character = DomainManager.Character.CreateFixedEnemy(context, heavenlyTreeTemplateIdByGrowValue);
			DomainManager.Character.RemoveNonIntelligentCharacter(context, element_Objects);
			DomainManager.Character.CompleteCreatingCharacter(character.GetId());
			character.SetLocation(location, context);
			tree.Id = character.GetId();
			result = tree.Id;
			MapBlockData blockData = DomainManager.Map.GetBlockData(location.AreaId, location.BlockId);
			DomainManager.Map.SetBlockData(context, blockData);
			if (heavenlyTreeTemplateIdByGrowValue == 677)
			{
				ProfessionFormulaItem formulaCfg = ProfessionFormula.Instance[3];
				DomainManager.Extra.ChangeProfessionSeniority(context, 0, formulaCfg.Calculate());
				RemoveRandomEnemyAroundHeavenlyTree(context, location);
				if (DomainManager.World.GetSectMainStoryTaskStatus(4) == 0 && !ItemTemplateHelper.CheckIsHeavenlyNormalTreeSeeds(12, tree.TemplateId))
				{
					TriggerExtraTask(context, 41, 244);
				}
				if (GetGrowingHeavenlyTreeCount() == 0)
				{
					FinishTriggeredExtraTask(context, 41, 238);
				}
				if (GetNormalSeedAndTreeCount() == 0)
				{
					FinishTriggeredExtraTask(context, 57, 405);
				}
			}
		}
		SetSectWudangHeavenlyTreeList(_sectWudangHeavenlyTreeList, context);
		return result;
	}

	private void CreateRandomEnemyAroundHeavenlyTree(DataContext context, int count, int range, Location treeLocation, bool showUI)
	{
		sbyte b = DomainManager.World.GetXiangshuLevel();
		if (b > 8)
		{
			b = 8;
		}
		int num = b + 298;
		List<MapBlockData> mapBlockList = new List<MapBlockData>();
		DomainManager.Map.GetLocationByDistance(treeLocation, range, range, ref mapBlockList);
		DomainManager.Adventure.CreateRandomEnemiesOnValidBlocks(context, treeLocation, (short)num, count, mapBlockList);
		if (showUI)
		{
			DomainManager.TaiwuEvent.CloseUI("CreateRandomEnemyAroundHeavenlyTree");
		}
	}

	private void RemoveRandomEnemyAroundHeavenlyTree(DataContext context, Location location)
	{
		List<MapBlockData> list = ObjectPool<List<MapBlockData>>.Instance.Get();
		DomainManager.Map.GetRealNeighborBlocks(location.AreaId, location.BlockId, list, 3);
		MapBlockData blockData = DomainManager.Map.GetBlockData(location.AreaId, location.BlockId);
		list.Add(blockData);
		foreach (MapBlockData item in list)
		{
			List<MapTemplateEnemyInfo> list2 = ObjectPool<List<MapTemplateEnemyInfo>>.Instance.Get();
			List<short> list3 = ObjectPool<List<short>>.Instance.Get();
			if (item.TemplateEnemyList != null && item.TemplateEnemyList.Count > 0)
			{
				foreach (MapTemplateEnemyInfo templateEnemy in item.TemplateEnemyList)
				{
					list2.Add(templateEnemy);
					list3.Add(templateEnemy.TemplateId);
				}
				foreach (MapTemplateEnemyInfo item2 in list2)
				{
					Events.RaiseTemplateEnemyLocationChanged(context, item2, item.GetLocation(), Location.Invalid);
				}
				DomainManager.Combat.GetExpAndAuthorityAndAreaSpiritualDebtOutOfCombat(context, list3);
			}
			ObjectPool<List<MapTemplateEnemyInfo>>.Instance.Return(list2);
			ObjectPool<List<short>>.Instance.Return(list3);
		}
		ObjectPool<List<MapBlockData>>.Instance.Return(list);
	}

	public int GetGrowingHeavenlyTreeCount()
	{
		int num = 0;
		List<SectStoryHeavenlyTreeExtendable> allHeavenlyTrees = GetAllHeavenlyTrees();
		foreach (SectStoryHeavenlyTreeExtendable item in allHeavenlyTrees)
		{
			if (!ItemTemplateHelper.CheckIsHeavenlyNormalTreeSeeds(12, item.TemplateId))
			{
				GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(item.Id);
				if (element_Objects.GetTemplateId() != 677)
				{
					num++;
				}
			}
		}
		return num;
	}

	public int GetNormalSeedAndTreeCount()
	{
		int num = 0;
		List<SectStoryHeavenlyTreeExtendable> allHeavenlyTrees = GetAllHeavenlyTrees();
		foreach (SectStoryHeavenlyTreeExtendable item in allHeavenlyTrees)
		{
			if (ItemTemplateHelper.CheckIsHeavenlyNormalTreeSeeds(12, item.TemplateId))
			{
				GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(item.Id);
				if (element_Objects.GetTemplateId() != 677)
				{
					num++;
				}
			}
		}
		int num2 = 0;
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		for (short num3 = 394; num3 <= 405; num3++)
		{
			num2 += taiwu.GetInventory().GetInventoryItemCount(12, num3);
		}
		return num2 + num;
	}

	public short GetHeavenlyTreeTemplateIdByGrowValue(ushort growPoint)
	{
		if (growPoint < 100)
		{
			return 673;
		}
		if (growPoint < 300)
		{
			return 674;
		}
		if (growPoint < 600)
		{
			return 675;
		}
		if (growPoint < 900)
		{
			return 676;
		}
		return 677;
	}

	public int GetHeavenlyTreeRequiredGrowPointById(int id)
	{
		DomainManager.Extra.TryGetHeavenlyTreeById(id, out var tree);
		if (tree.GrowPoint < 100)
		{
			return 100 - tree.GrowPoint;
		}
		if (tree.GrowPoint < 300)
		{
			return 300 - tree.GrowPoint;
		}
		if (tree.GrowPoint < 600)
		{
			return 600 - tree.GrowPoint;
		}
		if (tree.GrowPoint < 900)
		{
			return 900 - tree.GrowPoint;
		}
		return -1;
	}

	public void HeavenlyTreeUpdateId(DataContext context, int id, int newId)
	{
		foreach (SectStoryHeavenlyTreeExtendable sectWudangHeavenlyTree in _sectWudangHeavenlyTreeList)
		{
			if (sectWudangHeavenlyTree.Id == id)
			{
				sectWudangHeavenlyTree.Id = newId;
				SetSectWudangHeavenlyTreeList(_sectWudangHeavenlyTreeList, context);
				break;
			}
		}
	}

	public void HeavenlyTreeUpdateTriggerRandomEnemyCount(DataContext context, int id, ushort triggerCount)
	{
		foreach (SectStoryHeavenlyTreeExtendable sectWudangHeavenlyTree in _sectWudangHeavenlyTreeList)
		{
			if (sectWudangHeavenlyTree.Id == id)
			{
				sectWudangHeavenlyTree.TriggerRandomEnemyCount = triggerCount;
				SetSectWudangHeavenlyTreeList(_sectWudangHeavenlyTreeList, context);
				break;
			}
		}
	}

	public void SetHeavenlyTreeMetInDream(DataContext context, int id, bool met)
	{
		foreach (SectStoryHeavenlyTreeExtendable sectWudangHeavenlyTree in _sectWudangHeavenlyTreeList)
		{
			if (sectWudangHeavenlyTree.Id == id)
			{
				sectWudangHeavenlyTree.MetInDream = met;
				SetSectWudangHeavenlyTreeList(_sectWudangHeavenlyTreeList, context);
				GenerateWudangFairyland(context, sectWudangHeavenlyTree.Location);
				break;
			}
		}
	}

	public void SetHeavenlyTreeFindFairyland(DataContext context, int id, bool find)
	{
		foreach (SectStoryHeavenlyTreeExtendable sectWudangHeavenlyTree in _sectWudangHeavenlyTreeList)
		{
			if (sectWudangHeavenlyTree.Id == id)
			{
				sectWudangHeavenlyTree.FindFairyland = find;
				SetSectWudangHeavenlyTreeList(_sectWudangHeavenlyTreeList, context);
				break;
			}
		}
	}

	public void SetHeavenlyTreeSnakeTemplateId(DataContext context, int id, short snakeTemplateId)
	{
		foreach (SectStoryHeavenlyTreeExtendable sectWudangHeavenlyTree in _sectWudangHeavenlyTreeList)
		{
			if (sectWudangHeavenlyTree.Id == id)
			{
				sectWudangHeavenlyTree.SnakeTemplateId = snakeTemplateId;
				SetSectWudangHeavenlyTreeList(_sectWudangHeavenlyTreeList, context);
				break;
			}
		}
	}

	public void SetHeavenlyTreeFightWithSnake(DataContext context, int id, bool alreadyFight)
	{
		foreach (SectStoryHeavenlyTreeExtendable sectWudangHeavenlyTree in _sectWudangHeavenlyTreeList)
		{
			if (sectWudangHeavenlyTree.Id == id)
			{
				sectWudangHeavenlyTree.FightWithSnake = alreadyFight;
				SetSectWudangHeavenlyTreeList(_sectWudangHeavenlyTreeList, context);
				break;
			}
		}
	}

	[DomainMethod]
	public List<SectStoryHeavenlyTreeExtendable> GetAllHeavenlyTrees()
	{
		return _sectWudangHeavenlyTreeList.OrderBy((SectStoryHeavenlyTreeExtendable item) => NegativeEnemies(item)).ToList();
		static int NegativeEnemies(SectStoryHeavenlyTreeExtendable tree)
		{
			List<MapBlockData> mapBlockList = new List<MapBlockData>();
			DomainManager.Map.GetLocationByDistance(tree.Location, 0, 3, ref mapBlockList);
			int num = 0;
			foreach (MapBlockData item in mapBlockList)
			{
				num += item.TemplateEnemyList?.Count(delegate(MapTemplateEnemyInfo x)
				{
					short templateId = x.TemplateId;
					return templateId >= 298 && templateId <= 306;
				}) ?? 0;
			}
			return -num;
		}
	}

	public bool TryGetHeavenlyTreeByLocation(Location location, out SectStoryHeavenlyTreeExtendable tree)
	{
		foreach (SectStoryHeavenlyTreeExtendable sectWudangHeavenlyTree in _sectWudangHeavenlyTreeList)
		{
			if (sectWudangHeavenlyTree.Location != location)
			{
				continue;
			}
			tree = sectWudangHeavenlyTree;
			return true;
		}
		tree = null;
		return false;
	}

	public bool TryGetHeavenlyTreeById(int id, out SectStoryHeavenlyTreeExtendable tree)
	{
		foreach (SectStoryHeavenlyTreeExtendable sectWudangHeavenlyTree in _sectWudangHeavenlyTreeList)
		{
			if (sectWudangHeavenlyTree.Id != id)
			{
				continue;
			}
			tree = sectWudangHeavenlyTree;
			return true;
		}
		tree = null;
		return false;
	}

	public void RemoveHeavenlyTree(DataContext context, int id)
	{
		foreach (SectStoryHeavenlyTreeExtendable sectWudangHeavenlyTree in _sectWudangHeavenlyTreeList)
		{
			if (sectWudangHeavenlyTree.Id == id)
			{
				_sectWudangHeavenlyTreeList.Remove(sectWudangHeavenlyTree);
				SetSectWudangHeavenlyTreeList(_sectWudangHeavenlyTreeList, context);
				break;
			}
		}
		DomainManager.Map.UpdateWudangHeavenlyTreeLocations();
	}

	public int GetPlantedHeavenlyTreeCount()
	{
		return _sectWudangHeavenlyTreeList.Count;
	}

	[DomainMethod]
	public List<MapBlockData> GetHeavenlyTreeNearBlocks(int id, int maxSteps)
	{
		List<MapBlockData> list = new List<MapBlockData>();
		if (TryGetHeavenlyTreeById(id, out var tree))
		{
			DomainManager.Map.GetRealNeighborBlocks(tree.Location.AreaId, tree.Location.BlockId, list, maxSteps, includeCenter: true);
		}
		return list;
	}

	public bool CreateWudangLingbaoLight(DataContext context, Location location)
	{
		if (_sectWudangLingBaoLight.Contains(location))
		{
			return false;
		}
		_sectWudangLingBaoLight.Add(location);
		SetSectWudangLingBaoLight(_sectWudangLingBaoLight, context);
		return true;
	}

	public bool CreateWudangLingbaoDark(DataContext context, Location location)
	{
		if (_sectWudangLingBaoDark.Contains(location))
		{
			return false;
		}
		_sectWudangLingBaoDark.Add(location);
		SetSectWudangLingBaoDark(_sectWudangLingBaoDark, context);
		return true;
	}

	public void ClearAllWudangLingbao(DataContext context)
	{
		_sectWudangLingBaoLight.Clear();
		_sectWudangLingBaoDark.Clear();
		SetSectWudangLingBaoLight(_sectWudangLingBaoLight, context);
		SetSectWudangLingBaoDark(_sectWudangLingBaoDark, context);
	}

	[DomainMethod]
	public void GmCmd_CreateRandomEnemyAroundHeavenlyTree(DataContext context, int count, int range)
	{
		Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
		CreateRandomEnemyAroundHeavenlyTree(context, count, range, location, showUI: false);
	}

	[DomainMethod]
	public bool AreVitalsDemon()
	{
		int arg = 1;
		return DomainManager.Extra.GetSectMainStoryEventArgBox(5).Get("Adventure", ref arg) && arg == 0;
	}

	public void InitThreeVitals(DataContext context)
	{
		if (_sectYuanshanThreeVitals.Count <= 0)
		{
			SectStoryThreeVitalsCharacterType[] values = Enum.GetValues<SectStoryThreeVitalsCharacterType>();
			foreach (SectStoryThreeVitalsCharacterType type in values)
			{
				_sectYuanshanThreeVitals.Add(new SectStoryThreeVitalsCharacter(type));
			}
			SetSectYuanshanThreeVitals(_sectYuanshanThreeVitals, context);
		}
	}

	[DomainMethod]
	public void SetVitalInPrison(DataContext context, SectStoryThreeVitalsCharacterType type, bool isInPrison)
	{
		SectStoryThreeVitalsCharacter vitalByType = GetVitalByType(type);
		vitalByType.IsInPrison = isInPrison;
		SetSectYuanshanThreeVitals(_sectYuanshanThreeVitals, context);
	}

	[DomainMethod]
	public void SetVitalHasPlayedComeAnim(DataContext context, SectStoryThreeVitalsCharacterType type, bool hasPlayedComeAnim)
	{
		SectStoryThreeVitalsCharacter vitalByType = GetVitalByType(type);
		vitalByType.HasPlayedComeAnim = hasPlayedComeAnim;
		SetSectYuanshanThreeVitals(_sectYuanshanThreeVitals, context);
	}

	[DomainMethod]
	public void TransferInfectionBetweenVitalAndCharacter(DataContext context, int charId, SectStoryThreeVitalsCharacterType type, int value)
	{
		SectStoryThreeVitalsCharacter vitalByType = GetVitalByType(type);
		if (AreVitalsDemon())
		{
			vitalByType.Infection = Math.Clamp(vitalByType.Infection + value, 0, GlobalConfig.Instance.ThreeVitalsMaxInfection);
			DomainManager.Character.GetElement_Objects(charId).ChangeXiangshuInfection(context, -value);
		}
		else
		{
			vitalByType.Infection = Math.Clamp(vitalByType.Infection - value, 0, GlobalConfig.Instance.ThreeVitalsMaxInfection);
			DomainManager.Character.GetElement_Objects(charId).ChangeXiangshuInfection(context, value);
		}
		SetSectYuanshanThreeVitals(_sectYuanshanThreeVitals, context);
	}

	public SectStoryThreeVitalsCharacter GetVitalByType(SectStoryThreeVitalsCharacterType type)
	{
		foreach (SectStoryThreeVitalsCharacter sectYuanshanThreeVital in _sectYuanshanThreeVitals)
		{
			if (sectYuanshanThreeVital.VitalType == type)
			{
				return sectYuanshanThreeVital;
			}
		}
		AdaptableLog.Warning($"get invalid vital data by type {type}");
		return null;
	}

	public GameData.Domains.Character.Character GetVitalCharacterByType(DataContext context, SectStoryThreeVitalsCharacterType type)
	{
		short vitalTemplateId = type.GetVitalTemplateId(AreVitalsDemon());
		return DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, vitalTemplateId);
	}

	public GameData.Domains.Character.Character GetOppositeVitalCharacterByType(DataContext context, SectStoryThreeVitalsCharacterType type)
	{
		short vitalTemplateId = type.GetVitalTemplateId(!AreVitalsDemon());
		return DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, vitalTemplateId);
	}

	public void UpdateThreeVitalsInfection(DataContext context)
	{
		bool flag = false;
		int num = (AreVitalsDemon() ? (-GlobalConfig.Instance.ThreeVitalsInfectionDelta) : GlobalConfig.Instance.ThreeVitalsInfectionDelta);
		foreach (SectStoryThreeVitalsCharacter sectYuanshanThreeVital in _sectYuanshanThreeVitals)
		{
			if (!sectYuanshanThreeVital.IsInPrison)
			{
				sectYuanshanThreeVital.Infection = Math.Clamp(sectYuanshanThreeVital.Infection + num, 0, GlobalConfig.Instance.ThreeVitalsMaxInfection);
				flag = true;
			}
		}
		if (flag)
		{
			SetSectYuanshanThreeVitals(_sectYuanshanThreeVitals, context);
		}
	}

	[DomainMethod]
	public List<CharacterDisplayDataForInfect> GetThreeVitalsTargetCharDataList()
	{
		List<CharacterDisplayDataForInfect> list = new List<CharacterDisplayDataForInfect>();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		HashSet<int> collection = DomainManager.Taiwu.GetGroupCharIds().GetCollection();
		foreach (int item3 in collection)
		{
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(item3);
			if (element_Objects.GetCreatingType() == 1 && element_Objects.GetAgeGroup() == 2)
			{
				CharacterDisplayDataForInfect item = new CharacterDisplayDataForInfect
				{
					DataForTooltip = DomainManager.Character.GetCharacterDisplayDataForTooltip(element_Objects),
					Infection = element_Objects.GetXiangshuInfection(),
					IsTaiwu = (item3 == taiwuCharId),
					IsTeammate = (item3 != taiwuCharId)
				};
				list.Add(item);
			}
		}
		KidnappedCharacterList someoneKidnapCharacters = DomainManager.Character.GetSomeoneKidnapCharacters(taiwuCharId);
		if (someoneKidnapCharacters != null)
		{
			foreach (KidnappedCharacter item4 in someoneKidnapCharacters.GetCollection())
			{
				GameData.Domains.Character.Character element_Objects2 = DomainManager.Character.GetElement_Objects(item4.CharId);
				if (element_Objects2.GetCreatingType() == 1 && element_Objects2.GetAgeGroup() == 2)
				{
					CharacterDisplayDataForInfect item2 = new CharacterDisplayDataForInfect
					{
						DataForTooltip = DomainManager.Character.GetCharacterDisplayDataForTooltip(element_Objects2),
						Infection = element_Objects2.GetXiangshuInfection(),
						IsKidnapped = true
					};
					list.Add(item2);
				}
			}
		}
		return list;
	}

	[DomainMethod]
	public List<CharacterDisplayData> GetThreeVitalsCharDataList(DataContext context)
	{
		List<CharacterDisplayData> list = new List<CharacterDisplayData>();
		foreach (SectStoryThreeVitalsCharacter sectYuanshanThreeVital in _sectYuanshanThreeVitals)
		{
			GameData.Domains.Character.Character vitalCharacterByType = GetVitalCharacterByType(context, sectYuanshanThreeVital.VitalType);
			CharacterDisplayData characterDisplayData = DomainManager.Character.GetCharacterDisplayData(vitalCharacterByType.GetId());
			list.Add(characterDisplayData);
		}
		return list;
	}

	[DomainMethod]
	public List<CharacterDisplayData> GetOppositeThreeVitalsCharDataList(DataContext context)
	{
		List<CharacterDisplayData> list = new List<CharacterDisplayData>();
		foreach (SectStoryThreeVitalsCharacter sectYuanshanThreeVital in _sectYuanshanThreeVitals)
		{
			GameData.Domains.Character.Character oppositeVitalCharacterByType = GetOppositeVitalCharacterByType(context, sectYuanshanThreeVital.VitalType);
			CharacterDisplayData characterDisplayData = DomainManager.Character.GetCharacterDisplayData(oppositeVitalCharacterByType.GetId());
			list.Add(characterDisplayData);
		}
		return list;
	}

	[DomainMethod]
	public List<CharacterDisplayData> GetCanSelectThreeVitalsDisplayData(DataContext context)
	{
		List<CharacterDisplayData> list = new List<CharacterDisplayData>();
		List<SectStoryThreeVitalsCharacter> sectYuanshanThreeVitals = _sectYuanshanThreeVitals;
		if (sectYuanshanThreeVitals == null || sectYuanshanThreeVitals.Count <= 0)
		{
			return list;
		}
		SectStoryThreeVitalsCharacterType[] values = Enum.GetValues<SectStoryThreeVitalsCharacterType>();
		foreach (SectStoryThreeVitalsCharacterType type in values)
		{
			SectStoryThreeVitalsCharacter vitalByType = GetVitalByType(type);
			if (!vitalByType.IsInPrison)
			{
				GameData.Domains.Character.Character vitalCharacterByType = GetVitalCharacterByType(context, type);
				CharacterDisplayData characterDisplayData = DomainManager.Character.GetCharacterDisplayData(vitalCharacterByType.GetId());
				list.Add(characterDisplayData);
			}
		}
		return list;
	}

	public int GetCurrentVitalIndex()
	{
		return _sectYuanshanCurrentVitalIndex;
	}

	public void SetCurrentVitalIndex(int index)
	{
		_sectYuanshanCurrentVitalIndex = index;
	}

	public void AddShixiangBarbarianMasterId(DataContext context, int id)
	{
		List<int> shixiangBarbarianMasterIdList = DomainManager.Extra.GetShixiangBarbarianMasterIdList();
		shixiangBarbarianMasterIdList.Add(id);
		DomainManager.Extra.SetShixiangBarbarianMasterIdList(shixiangBarbarianMasterIdList, context);
	}

	private void FixAbnormalSectStoryEmeiData(DataContext context)
	{
		FixNotInitializedEmeiBreakBonusCountData(context);
		FixEmeiBreakBonusCollectionData(context);
	}

	private void FixNotInitializedEmeiBreakBonusCountData(DataContext context)
	{
		foreach (SkillBreakPlateGridBonusTypeItem item in (IEnumerable<SkillBreakPlateGridBonusTypeItem>)SkillBreakPlateGridBonusType.Instance)
		{
			if (item.IsExtraBonus && !_sectEmeiBreakBonusData.ContainsKey(item.TemplateId))
			{
				AddElement_SectEmeiBreakBonusData(item.TemplateId, new SectEmeiBreakBonusData
				{
					TemplateId = item.TemplateId
				}, context);
			}
		}
	}

	private void FixEmeiBreakBonusCollectionData(DataContext context)
	{
		foreach (var (num2, skillBreakBonusCollection2) in _sectEmeiSkillBreakBonus)
		{
			skillBreakBonusCollection2.Clear();
			if (_sectEmeiBreakBonusTemplateIds.TryGetValue(num2, out var value))
			{
				foreach (short item in value.Items)
				{
					skillBreakBonusCollection2.AddBonusType(item);
				}
			}
			SetElement_SectEmeiSkillBreakBonus(num2, skillBreakBonusCollection2, context);
		}
	}

	private void FixWudangMiscData(DataContext context)
	{
		if (DomainManager.World.GetSectMainStoryTaskStatus(4) == 0)
		{
			return;
		}
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		Inventory inventory = DomainManager.Taiwu.GetTaiwu().GetInventory();
		for (short num = 248; num <= 257; num++)
		{
			ItemKey inventoryItemKey = inventory.GetInventoryItemKey(12, num);
			if (inventoryItemKey.IsValid())
			{
				taiwu.RemoveInventoryItem(context, inventoryItemKey, inventory.Items[inventoryItemKey], deleteItem: true);
				AdaptableLog.Warning($"FixWudangMiscData,delete item: {inventoryItemKey}");
			}
		}
	}

	[DomainMethod]
	public SectStoryBonusDisplayData GetEmeiBreakBonusDisplayData(short combatSkillId)
	{
		_sectEmeiSkillBreakBonus.TryGetValue(combatSkillId, out var value);
		_sectEmeiBreakBonusTemplateIds.TryGetValue(combatSkillId, out var value2);
		return new SectStoryBonusDisplayData
		{
			CombatSkillId = combatSkillId,
			BreakBonusTemplateIds = value2.Items,
			NormalBonus = DomainManager.Taiwu.GetBreakGridBonusCollection(combatSkillId),
			ExtraBonus = value
		};
	}

	[DomainMethod]
	public SkillBreakBonusCollection GetEmeiBreakBonusCollection(short combatSkillId)
	{
		SkillBreakBonusCollection value;
		return _sectEmeiSkillBreakBonus.TryGetValue(combatSkillId, out value) ? value : null;
	}

	[DomainMethod]
	public bool AddEmeiSkillBreakBonus(DataContext context, short combatSkillId, short bonusTypeTemplateId)
	{
		if (!_sectEmeiBreakBonusData.TryGetValue(bonusTypeTemplateId, out var value))
		{
			return false;
		}
		if (value.BonusCount <= 0)
		{
			return false;
		}
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		if (!DomainManager.CombatSkill.TryGetElement_CombatSkills(new CombatSkillKey(taiwuCharId, combatSkillId), out var _))
		{
			return false;
		}
		value.BonusCount--;
		SetElement_SectEmeiBreakBonusData(bonusTypeTemplateId, value, context);
		return AddEmeiSkillBreakBonusWithoutCost(context, combatSkillId, bonusTypeTemplateId);
	}

	[DomainMethod]
	public bool RemoveEmeiSkillBreakBonus(DataContext context, short combatSkillId, short bonusTypeTemplateId)
	{
		if (!RemoveEmeiSkillBreakBonusNoRecycle(context, combatSkillId, bonusTypeTemplateId))
		{
			return false;
		}
		RemoveEmeiSkillBreakBonusRecycleBonus(context, bonusTypeTemplateId);
		return true;
	}

	public bool AddEmeiSkillBreakBonusWithoutCost(DataContext context, short combatSkillId, short bonusTypeTemplateId)
	{
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		if (!DomainManager.CombatSkill.TryGetElement_CombatSkills(new CombatSkillKey(taiwuCharId, combatSkillId), out var _))
		{
			return false;
		}
		if (!_sectEmeiSkillBreakBonus.TryGetValue(combatSkillId, out var value))
		{
			value = new SkillBreakBonusCollection();
			value.AddBonusType(bonusTypeTemplateId);
			AddElement_SectEmeiSkillBreakBonus(combatSkillId, value, context);
		}
		else
		{
			value.AddBonusType(bonusTypeTemplateId);
			SetElement_SectEmeiSkillBreakBonus(combatSkillId, value, context);
		}
		if (!_sectEmeiBreakBonusTemplateIds.TryGetValue(combatSkillId, out var value2))
		{
			value2 = GameData.Utilities.ShortList.Create();
			value2.Items.Add(bonusTypeTemplateId);
			AddElement_SectEmeiBreakBonusTemplateIds(combatSkillId, value2, context);
		}
		else
		{
			value2.Items.Add(bonusTypeTemplateId);
			SetElement_SectEmeiBreakBonusTemplateIds(combatSkillId, value2, context);
		}
		SectEmeiUpdateBonusEffect(context, combatSkillId);
		return true;
	}

	public bool RemoveEmeiSkillBreakBonusNoRecycle(DataContext context, short combatSkillId, short bonusTypeTemplateId)
	{
		if (!_sectEmeiSkillBreakBonus.TryGetValue(combatSkillId, out var value) || !_sectEmeiBreakBonusTemplateIds.TryGetValue(combatSkillId, out var value2))
		{
			return false;
		}
		value.RemoveBonusType(bonusTypeTemplateId);
		value2.Items.Remove(bonusTypeTemplateId);
		if (value2.Items.Count > 0)
		{
			SetElement_SectEmeiSkillBreakBonus(combatSkillId, value, context);
			SetElement_SectEmeiBreakBonusTemplateIds(combatSkillId, value2, context);
		}
		else
		{
			ClearEmeiSkillBreakBonus(context, combatSkillId);
		}
		SectEmeiUpdateBonusEffect(context, combatSkillId);
		return true;
	}

	private void RemoveEmeiSkillBreakBonusRecycleBonus(DataContext context, short bonusTypeTemplateId)
	{
		//IL_0018: Unknown result type (might be due to invalid IL or missing references)
		//IL_001d: Unknown result type (might be due to invalid IL or missing references)
		//IL_0028: Unknown result type (might be due to invalid IL or missing references)
		SectEmeiBreakBonusData bonusData = _sectEmeiBreakBonusData[bonusTypeTemplateId];
		CValuePercent val = CValuePercent.op_Implicit(GlobalConfig.Instance.SectStoryEmeiBonusProgressRecyclePercent);
		int progress = GlobalConfig.Instance.SectStoryEmeiBonusProgressPerCount * val;
		bonusData.OfflineAddProgress(progress);
		SectEmeiSetBonus(context, bonusTypeTemplateId, bonusData);
	}

	public bool ClearEmeiSkillBreakBonus(DataContext context, short combatSkillId)
	{
		if (!_sectEmeiSkillBreakBonus.ContainsKey(combatSkillId) || !_sectEmeiBreakBonusTemplateIds.ContainsKey(combatSkillId))
		{
			return false;
		}
		RemoveElement_SectEmeiSkillBreakBonus(combatSkillId, context);
		RemoveElement_SectEmeiBreakBonusTemplateIds(combatSkillId, context);
		SectEmeiUpdateBonusEffect(context, combatSkillId);
		return true;
	}

	public bool TryGetEmeiExtraBonusCollection(short combatSkillId, out SkillBreakBonusCollection extraBonusCollection)
	{
		return _sectEmeiSkillBreakBonus.TryGetValue(combatSkillId, out extraBonusCollection);
	}

	private void SectEmeiUpdateBonusEffect(DataContext context, short combatSkillId)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		if (taiwu.IsCombatSkillEquipped(combatSkillId))
		{
			DomainManager.SpecialEffect.UpdateEquippedSkillEffect(context, taiwu);
		}
		DomainManager.Taiwu.GetTaiwu().UpdateAllocatedGenericGrids(context);
	}

	public void SectEmeiSetBonus(DataContext context, short bonusId, SectEmeiBreakBonusData bonusData)
	{
		SetElement_SectEmeiBreakBonusData(bonusId, bonusData, context);
	}

	public void SectEmeiAddInsaneCharacterId(int id)
	{
		_sectEmeiInsaneCharacterIds.Add(id);
	}

	public void SectEmeiRemoveInsaneCharacterId(int id)
	{
		_sectEmeiInsaneCharacterIds.Remove(id);
	}

	public int SectEmeiGetInsaneCharacterIdCount()
	{
		return _sectEmeiInsaneCharacterIds.Count;
	}

	public void GenerateEmeiBlood(DataContext context, Location location)
	{
		_sectEmeiBloodLocations.Add(location);
		SetSectEmeiBloodLocations(_sectEmeiBloodLocations, context);
	}

	public void ClearEmeiBlood(DataContext context)
	{
		_sectEmeiBloodLocations.Clear();
		SetSectEmeiBloodLocations(_sectEmeiBloodLocations, context);
	}

	public void TurnOnEmeiBlood(DataContext context, Location location)
	{
		if (!_sectEmeiBloodLocations.Contains(location))
		{
			_sectEmeiBloodLocations.Add(location);
			SetSectEmeiBloodLocations(_sectEmeiBloodLocations, context);
		}
	}

	public void TurnOffEmeiBlood(DataContext context, Location location)
	{
		if (_sectEmeiBloodLocations.Remove(location))
		{
			SetSectEmeiBloodLocations(_sectEmeiBloodLocations, context);
		}
	}

	public void UnlockSectXuannvMusicByMapBlockId(DataContext context, short mapBlockTemplateId)
	{
		Music.Instance.Iterate(delegate(MusicItem music)
		{
			if (music.MapBlock == mapBlockTemplateId)
			{
				UnlockSectXuannvMusic(context, music.TemplateId);
				return false;
			}
			return true;
		});
	}

	public void UnlockSectXuannvMusicByMapStateId(DataContext context, sbyte mapStateTemplateId)
	{
		Music.Instance.Iterate(delegate(MusicItem music)
		{
			if (music.MapState == mapStateTemplateId)
			{
				UnlockSectXuannvMusic(context, music.TemplateId);
				return false;
			}
			return true;
		});
	}

	public void UnlockSectXuannvMusicOfTaiwuVillage(DataContext context)
	{
		Music.Instance.Iterate(delegate(MusicItem music)
		{
			if (music.MapState == 0 || music.MapBlock == 0)
			{
				UnlockSectXuannvMusic(context, music.TemplateId);
			}
			return true;
		});
	}

	private void UnlockSectXuannvMusic(DataContext context, short musicId)
	{
		if (!DomainManager.World.GetWorldFunctionsStatus(28))
		{
			return;
		}
		List<short> sectXuannvUnlockedMusicList = GetSectXuannvUnlockedMusicList();
		if (sectXuannvUnlockedMusicList.Contains(musicId))
		{
			return;
		}
		sectXuannvUnlockedMusicList.Add(musicId);
		SetSectXuannvUnlockedMusicList(sectXuannvUnlockedMusicList, context);
		InstantNotificationCollection instantNotificationCollection = DomainManager.World.GetInstantNotificationCollection();
		MusicItem musicItem = Music.Instance[musicId];
		if (musicItem.MapState > -1)
		{
			if (musicItem.MapState == 0)
			{
				short taiwuVillageSettlementId = DomainManager.Taiwu.GetTaiwuVillageSettlementId();
				instantNotificationCollection.AddXuannvBlockMusicTranscribe(taiwuVillageSettlementId, musicId);
			}
			else
			{
				instantNotificationCollection.AddXuannvStateMusicTranscribe(musicItem.MapState, musicId);
			}
		}
		else if (musicItem.MapBlock > -1)
		{
			MapBlockItem mapBlockConfig = MapBlock.Instance[musicItem.MapBlock];
			OrganizationItem targetOrg = null;
			Config.Organization.Instance.Iterate(delegate(OrganizationItem org)
			{
				if (org.Name == mapBlockConfig.Name)
				{
					targetOrg = org;
					return false;
				}
				return true;
			});
			if (targetOrg != null)
			{
				short settlementIdByOrgTemplateId = DomainManager.Organization.GetSettlementIdByOrgTemplateId(targetOrg.TemplateId);
				instantNotificationCollection.AddXuannvBlockMusicTranscribe(settlementIdByOrgTemplateId, musicId);
			}
		}
		if (IsExtraTaskChainInProgress(42) && sectXuannvUnlockedMusicList.Count >= Music.Instance.CountWithExtra)
		{
			FinishAllTaskInChain(context, 42);
		}
	}

	public int GetSectXuannvUnlockedMusicCount()
	{
		List<short> sectXuannvUnlockedMusicList = GetSectXuannvUnlockedMusicList();
		int num = 0;
		foreach (short item in sectXuannvUnlockedMusicList)
		{
			MusicItem musicItem = Music.Instance[item];
			if (musicItem.MapState > 0 || musicItem.MapBlock > 0)
			{
				num++;
			}
		}
		return num;
	}

	public bool CheckIsUnlockedSectXuannvMusicByMapBlockId(short mapBlockTemplateId)
	{
		List<short> list = GetSectXuannvUnlockedMusicList();
		bool isUnlocked = false;
		Music.Instance.Iterate(delegate(MusicItem music)
		{
			if (music.MapBlock == mapBlockTemplateId)
			{
				isUnlocked = list.Contains(music.TemplateId);
				return false;
			}
			return true;
		});
		return isUnlocked;
	}

	public bool CheckIsUnlockedSectXuannvMusicByMapStateId(sbyte mapStateTemplateId)
	{
		List<short> list = GetSectXuannvUnlockedMusicList();
		bool isUnlocked = false;
		Music.Instance.Iterate(delegate(MusicItem music)
		{
			if (music.MapState == mapStateTemplateId)
			{
				isUnlocked = list.Contains(music.TemplateId);
				return false;
			}
			return true;
		});
		return isUnlocked;
	}

	public void EvaluateSectXuannvMusicByMapBlockId(DataContext context, short mapBlockTemplateId)
	{
		Music.Instance.Iterate(delegate(MusicItem music)
		{
			if (music.MapBlock == mapBlockTemplateId)
			{
				EvaluateSectXuannvMusic(context, music.TemplateId);
				return false;
			}
			return true;
		});
	}

	public void EvaluateSectXuannvMusicByMapStateId(DataContext context, sbyte mapStateTemplateId)
	{
		Music.Instance.Iterate(delegate(MusicItem music)
		{
			if (music.MapState == mapStateTemplateId)
			{
				EvaluateSectXuannvMusic(context, music.TemplateId);
				return false;
			}
			return true;
		});
	}

	private void EvaluateSectXuannvMusic(DataContext context, short musicId)
	{
		if (DomainManager.World.GetWorldFunctionsStatus(28))
		{
			List<short> sectXuannvEvaluatedMusicList = GetSectXuannvEvaluatedMusicList();
			if (!sectXuannvEvaluatedMusicList.Contains(musicId))
			{
				sectXuannvEvaluatedMusicList.Add(musicId);
				SetSectXuannvEvaluatedMusicList(sectXuannvEvaluatedMusicList, context);
			}
		}
	}

	public bool SectXuannvIsCharacterMirrored(int id)
	{
		int value;
		return TryGetElement_MirrorCharacters(id, out value);
	}

	public bool SectXuannvIsCharacterMirrorImage(int id)
	{
		foreach (int value in _mirrorCharacters.Values)
		{
			if (value == id)
			{
				return true;
			}
		}
		return false;
	}

	public bool SectXuannvIsMirrorImageUsed()
	{
		return _mirrorCharacters.Count != 0;
	}

	public void SectXuannvSaveMirrorCharacters(DataContext context, int characterId, int imageId)
	{
		AddElement_MirrorCharacters(characterId, imageId, context);
	}

	public void RecordPossessionData(DataContext context, int charId, PossessionData data)
	{
		if (TryGetElement_SectJingangPossessionCharacters(charId, out var _))
		{
			SetElement_SectJingangPossessionCharacters(charId, data, context);
		}
		else
		{
			AddElement_SectJingangPossessionCharacters(charId, data, context);
		}
	}

	public bool IsCharacterPossession(int charId)
	{
		foreach (KeyValuePair<int, PossessionData> sectJingangPossessionCharacter in _sectJingangPossessionCharacters)
		{
			if (sectJingangPossessionCharacter.Key == charId || sectJingangPossessionCharacter.Value.SoulCharId == charId)
			{
				return true;
			}
		}
		return false;
	}

	public int InitializeRanshanThreeCorpsesCharacter(DataContext context, short templateId)
	{
		GameData.Domains.Character.Character orCreateFixedCharacterByTemplateId = DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, templateId);
		int id = orCreateFixedCharacterByTemplateId.GetId();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		DomainManager.Character.DirectlySetFavorabilities(context, id, taiwuCharId, 10000, 10000);
		_sectRanshanThreeCorpses.Add(new SectStoryThreeCorpsesCharacter(id, templateId, taiwuCharId));
		SetSectRanshanThreeCorpses(_sectRanshanThreeCorpses, context);
		SetRanshanThreeCorpsesCharacterLocation(context, templateId);
		return id;
	}

	public void SetRanshanThreeCorpsesCharacterGoodEnd(DataContext context, short templateId)
	{
		SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(templateId);
		if (ranshanThreeCorpsesCharacterByTemplateId != null)
		{
			ranshanThreeCorpsesCharacterByTemplateId.IsGoodEnd = true;
			SetSectRanshanThreeCorpses(_sectRanshanThreeCorpses, context);
		}
	}

	public void SetRanshanThreeCorpsesCharacterProgress(DataContext context, short templateId)
	{
		SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(templateId);
		if (ranshanThreeCorpsesCharacterByTemplateId != null)
		{
			ranshanThreeCorpsesCharacterByTemplateId.Progress++;
			SetSectRanshanThreeCorpses(_sectRanshanThreeCorpses, context);
		}
	}

	[DomainMethod]
	public void SetRanshanThreeCorpsesCharacterTarget(DataContext context, short templateId, sbyte targetId, sbyte notch)
	{
		SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(templateId);
		if (ranshanThreeCorpsesCharacterByTemplateId == null)
		{
			return;
		}
		RanshanGiveupLegendaryBookItem ranshanGiveUpLegendaryBookItem = GetRanshanGiveUpLegendaryBookItem(templateId, notch);
		int currDate = DomainManager.World.GetCurrDate();
		if (SectStoryThreeCorpsesCharacterNotch.IsValid(notch))
		{
			GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
			if (ranshanGiveUpLegendaryBookItem.ExpCost > 0)
			{
				taiwu.ChangeExp(context, -ranshanGiveUpLegendaryBookItem.ExpCost);
			}
			if (ranshanGiveUpLegendaryBookItem.ResourceType != -1)
			{
				taiwu.ChangeResource(context, ranshanGiveUpLegendaryBookItem.ResourceType, -ranshanGiveUpLegendaryBookItem.ResourceCost);
			}
		}
		ranshanThreeCorpsesCharacterByTemplateId.Target = targetId;
		ranshanThreeCorpsesCharacterByTemplateId.TargetOwner = DomainManager.LegendaryBook.GetOwner(targetId);
		ranshanThreeCorpsesCharacterByTemplateId.Notch = notch;
		ranshanThreeCorpsesCharacterByTemplateId.EndDate = currDate + ranshanGiveUpLegendaryBookItem.FollowDuration;
		ranshanThreeCorpsesCharacterByTemplateId.NextDate = currDate + ranshanGiveUpLegendaryBookItem.ResponseCycle;
		SetRanshanThreeCorpsesCharacterLocation(context, templateId);
		SetSectRanshanThreeCorpses(_sectRanshanThreeCorpses, context);
	}

	public void SetRanshanThreeCorpsesCharacterLocation(DataContext context, short templateId)
	{
		SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(templateId);
		if (ranshanThreeCorpsesCharacterByTemplateId != null)
		{
			List<MapBlockData> list = ObjectPool<List<MapBlockData>>.Instance.Get();
			GameData.Domains.Character.Character element;
			Location location = ((GameData.Domains.Character.Character.IsCharacterIdValid(ranshanThreeCorpsesCharacterByTemplateId.TargetOwner) && DomainManager.Character.TryGetElement_Objects(ranshanThreeCorpsesCharacterByTemplateId.TargetOwner, out element) && element.GetLocation().IsValid()) ? element.GetLocation() : (ranshanThreeCorpsesCharacterByTemplateId.IsAroundTaiwu ? DomainManager.Taiwu.GetTaiwu().GetValidLocation() : DomainManager.Organization.GetSettlementByOrgTemplateId(7).GetLocation()));
			DomainManager.Map.GetRealNeighborBlocks(location.AreaId, location.BlockId, list, 2);
			Location location2 = list.GetRandom(context.Random).GetLocation();
			GameData.Domains.Character.Character orCreateFixedCharacterByTemplateId = DomainManager.Character.GetOrCreateFixedCharacterByTemplateId(context, templateId);
			Events.RaiseFixedCharacterLocationChanged(context, orCreateFixedCharacterByTemplateId.GetId(), orCreateFixedCharacterByTemplateId.GetLocation(), location2);
			orCreateFixedCharacterByTemplateId.SetLocation(location2, context);
			ObjectPool<List<MapBlockData>>.Instance.Return(list);
		}
	}

	public void SetRanshanThreeCorpsesCharacterPassLegacyEventTriggered(DataContext context, short templateId)
	{
		SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(templateId);
		if (ranshanThreeCorpsesCharacterByTemplateId != null)
		{
			ranshanThreeCorpsesCharacterByTemplateId.PassLegacyEventTriggered = true;
			SetSectRanshanThreeCorpses(_sectRanshanThreeCorpses, context);
		}
	}

	public void SetRanshanThreeCorpsesCharacterFollowing(DataContext context, short templateId, bool value)
	{
		SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(templateId);
		if (ranshanThreeCorpsesCharacterByTemplateId != null)
		{
			ranshanThreeCorpsesCharacterByTemplateId.IsAroundTaiwu = value;
			SetRanshanThreeCorpsesCharacterLocation(context, templateId);
			SetSectRanshanThreeCorpses(_sectRanshanThreeCorpses, context);
		}
	}

	public void SetRanshanThreeCorpsesCharacterNextDate(DataContext context, short templateId)
	{
		SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(templateId);
		RanshanGiveupLegendaryBookItem ranshanGiveUpLegendaryBookItem = GetRanshanGiveUpLegendaryBookItem(templateId, ranshanThreeCorpsesCharacterByTemplateId.Notch);
		ranshanThreeCorpsesCharacterByTemplateId.NextDate = DomainManager.World.GetCurrDate() + ranshanGiveUpLegendaryBookItem.ResponseCycle;
		SetSectRanshanThreeCorpses(_sectRanshanThreeCorpses, context);
	}

	public void ApplyRanshanThreeCorpsesLegendaryBookActionTargetDeadResult(DataContext context, int charId)
	{
		foreach (short ranshanThreeCorpsesCharacterTemplateId in SectMainStoryRelatedConstants.RanshanThreeCorpsesCharacterTemplateIdList)
		{
			SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(ranshanThreeCorpsesCharacterTemplateId);
			if (ranshanThreeCorpsesCharacterByTemplateId != null && ranshanThreeCorpsesCharacterByTemplateId.TargetOwner == charId)
			{
				ApplyRanshanThreeCorpsesLegendaryBookActionResult(context, ranshanThreeCorpsesCharacterTemplateId, 320, isSuccess: false);
			}
		}
	}

	public void ApplyRanshanThreeCorpsesLegendaryBookActionResult(DataContext context, short characterTemplateId, short monthlyNotificationTemplateId, bool isSuccess)
	{
		SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(characterTemplateId);
		if (monthlyNotificationTemplateId >= 0)
		{
			AddRanshanThreeCorpsesActionMonthlyNotification(ranshanThreeCorpsesCharacterByTemplateId, monthlyNotificationTemplateId);
		}
		if (isSuccess)
		{
			ItemKey legendaryBookItem = DomainManager.LegendaryBook.GetLegendaryBookItem(ranshanThreeCorpsesCharacterByTemplateId.Target);
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(ranshanThreeCorpsesCharacterByTemplateId.TargetOwner);
			DomainManager.LegendaryBook.LoseTargetLegendaryBook(context, element_Objects, createAdventures: true, legendaryBookItem);
			AddRanshanThreeCorpsesActionLifeRecord(ranshanThreeCorpsesCharacterByTemplateId, legendaryBookItem);
		}
		ranshanThreeCorpsesCharacterByTemplateId.Target = -1;
		ranshanThreeCorpsesCharacterByTemplateId.TargetOwner = -1;
		ranshanThreeCorpsesCharacterByTemplateId.Notch = -1;
		ranshanThreeCorpsesCharacterByTemplateId.EndDate = -1;
		ranshanThreeCorpsesCharacterByTemplateId.NextDate = -1;
		SetSectRanshanThreeCorpses(_sectRanshanThreeCorpses, context);
	}

	[DomainMethod]
	public void ApplyRanshanThreeCorpsesLegendaryBookKeepingResult(DataContext context, List<sbyte> huajuBooks, List<sbyte> xuanzhiBooks, List<sbyte> yingjiaoBooks)
	{
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		int threeCorpsesOwnedLegendaryBookTypes = GetThreeCorpsesOwnedLegendaryBookTypes();
		int num = 0;
		if (huajuBooks != null)
		{
			foreach (sbyte huajuBook in huajuBooks)
			{
				if (huajuBook != -1)
				{
					num |= 1 << (int)huajuBook;
				}
			}
		}
		if (xuanzhiBooks != null)
		{
			foreach (sbyte xuanzhiBook in xuanzhiBooks)
			{
				if (xuanzhiBook != -1)
				{
					num |= 1 << (int)xuanzhiBook;
				}
			}
		}
		if (yingjiaoBooks != null)
		{
			foreach (sbyte yingjiaoBook in yingjiaoBooks)
			{
				if (yingjiaoBook != -1)
				{
					num |= 1 << (int)yingjiaoBook;
				}
			}
		}
		for (sbyte b = 0; b < 14; b++)
		{
			int num2 = 1 << (int)b;
			if ((threeCorpsesOwnedLegendaryBookTypes & num2) != 0 && (num & num2) == 0)
			{
				ItemKey legendaryBookItem = DomainManager.LegendaryBook.GetLegendaryBookItem(b);
				taiwu.AddInventoryItem(context, legendaryBookItem, 1);
			}
			else if ((threeCorpsesOwnedLegendaryBookTypes & num2) == 0 && (num & num2) != 0)
			{
				ItemKey legendaryBookItem2 = DomainManager.LegendaryBook.GetLegendaryBookItem(b);
				taiwu.RemoveInventoryItem(context, legendaryBookItem2, 1, deleteItem: false);
				DomainManager.Item.SetOwner(legendaryBookItem2, ItemOwnerType.System, 11);
			}
		}
		GetRanshanThreeCorpsesCharacterByTemplateId(660).LegendaryBooks = huajuBooks;
		GetRanshanThreeCorpsesCharacterByTemplateId(661).LegendaryBooks = xuanzhiBooks;
		GetRanshanThreeCorpsesCharacterByTemplateId(662).LegendaryBooks = yingjiaoBooks;
		SetSectRanshanThreeCorpses(_sectRanshanThreeCorpses, context);
	}

	public void AddDisplayEventLegendaryBookKeeping(DataContext context)
	{
		LegendaryBookOwnerData legendaryBookOwnerData = new LegendaryBookOwnerData();
		for (sbyte b = 0; b < 14; b++)
		{
			int owner = DomainManager.LegendaryBook.GetOwner(b);
			if (GameData.Domains.Character.Character.IsCharacterIdValid(owner) && DomainManager.Character.TryGetElement_Objects(owner, out var element))
			{
				legendaryBookOwnerData.BookMap.Add(b, owner);
				legendaryBookOwnerData.CharacterDisplayDataMap.TryAdd(owner, DomainManager.Character.GetCharacterDisplayData(owner));
				legendaryBookOwnerData.CharacterHappinessMap.TryAdd(owner, element.GetHappiness());
				legendaryBookOwnerData.CharacterAttributeMap.TryAdd(owner, element.GetCurrMainAttributes());
				legendaryBookOwnerData.CharacterHealthMap.TryAdd(owner, element.GetHealth());
				legendaryBookOwnerData.CharacterLeftMaxHealthMap.TryAdd(owner, element.GetLeftMaxHealth());
			}
		}
		DomainManager.LegendaryBook.SetLegendaryBookOwnerData(legendaryBookOwnerData, context);
		GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.RanshanLegendaryBookKeeping);
	}

	public SectStoryThreeCorpsesCharacter GetRanshanThreeCorpsesCharacterByTemplateId(short templateId)
	{
		foreach (SectStoryThreeCorpsesCharacter sectRanshanThreeCorpse in _sectRanshanThreeCorpses)
		{
			if (sectRanshanThreeCorpse.TemplateId == templateId)
			{
				return sectRanshanThreeCorpse;
			}
		}
		return null;
	}

	public void TransferRanshanThreeCorpsesRelations(DataContext context, int oldTaiwuCharId, int newTaiwuCharId)
	{
		foreach (SectStoryThreeCorpsesCharacter sectRanshanThreeCorpse in _sectRanshanThreeCorpses)
		{
			int id = sectRanshanThreeCorpse.Id;
			RelatedCharacter relation = DomainManager.Character.GetRelation(id, oldTaiwuCharId);
			DomainManager.Character.DirectlySetFavorabilities(context, id, newTaiwuCharId, relation.Favorability, relation.Favorability);
		}
	}

	public bool IsRanshanMenteeGoodStoryEnding()
	{
		foreach (short ranshanThreeCorpsesCharacterTemplateId in SectMainStoryRelatedConstants.RanshanThreeCorpsesCharacterTemplateIdList)
		{
			if (GetRanshanThreeCorpsesCharacterByTemplateId(ranshanThreeCorpsesCharacterTemplateId).IsGoodEnd)
			{
				return true;
			}
		}
		return false;
	}

	public bool GetRanshanThreeCorpsesActionSucceed(DataContext context, short templateId)
	{
		SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(templateId);
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(ranshanThreeCorpsesCharacterByTemplateId.TargetOwner);
		sbyte happinessType = element_Objects.GetHappinessType();
		OrganizationInfo organizationInfo = element_Objects.GetOrganizationInfo();
		OrganizationItem organizationItem = Config.Organization.Instance[organizationInfo.OrgTemplateId];
		short index = organizationItem.Members[organizationInfo.Grade];
		OrganizationMemberItem organizationMemberItem = OrganizationMember.Instance[index];
		int num = 0;
		RanshanGiveupLegendaryBookItem ranshanGiveUpLegendaryBookItem = GetRanshanGiveUpLegendaryBookItem(templateId, ranshanThreeCorpsesCharacterByTemplateId.Notch);
		if (happinessType > 3)
		{
			element_Objects.ChangeHappiness(context, ranshanGiveUpLegendaryBookItem.MoodChange);
		}
		else if (happinessType < 3)
		{
			element_Objects.ChangeHappiness(context, -ranshanGiveUpLegendaryBookItem.MoodChange);
		}
		foreach (sbyte item in ranshanGiveUpLegendaryBookItem.JudgeAttribute)
		{
			num += element_Objects.GetMaxMainAttribute(item);
		}
		switch (templateId)
		{
		case 660:
			num = num * (350 - organizationMemberItem.ResourceSatisfyingThreshold * 100 / OrganizationMember.Instance[Config.Organization.Instance[(sbyte)1].Members[8]].ResourceSatisfyingThreshold) / 100;
			break;
		case 661:
			num = num * (350 - organizationMemberItem.ResourceSatisfyingThreshold * 100 / OrganizationMember.Instance[Config.Organization.Instance[(sbyte)1].Members[8]].ResourceSatisfyingThreshold) / 100;
			break;
		case 662:
			num = num * Math.Max(350 - element_Objects.GetFertility() * 2, 50) / 100;
			break;
		}
		return context.Random.CheckProb(element_Objects.GetHappiness() / 5, num);
	}

	private int GetThreeCorpsesOwnedLegendaryBookTypes()
	{
		int num = 0;
		foreach (short ranshanThreeCorpsesCharacterTemplateId in SectMainStoryRelatedConstants.RanshanThreeCorpsesCharacterTemplateIdList)
		{
			SectStoryThreeCorpsesCharacter ranshanThreeCorpsesCharacterByTemplateId = GetRanshanThreeCorpsesCharacterByTemplateId(ranshanThreeCorpsesCharacterTemplateId);
			if (ranshanThreeCorpsesCharacterByTemplateId?.LegendaryBooks == null)
			{
				continue;
			}
			foreach (sbyte legendaryBook in ranshanThreeCorpsesCharacterByTemplateId.LegendaryBooks)
			{
				if (legendaryBook != -1)
				{
					num |= 1 << (int)legendaryBook;
				}
			}
		}
		return num;
	}

	private RanshanGiveupLegendaryBookItem GetRanshanGiveUpLegendaryBookItem(short templateId, sbyte notch)
	{
		RanshanGiveupLegendaryBook instance = RanshanGiveupLegendaryBook.Instance;
		if (1 == 0)
		{
		}
		byte b = templateId switch
		{
			660 => 0, 
			661 => 3, 
			_ => 6, 
		};
		if (1 == 0)
		{
		}
		return instance[b + notch];
	}

	private void AddRanshanThreeCorpsesActionMonthlyNotification(SectStoryThreeCorpsesCharacter character, short monthlyNotificationTemplateId)
	{
		int num = monthlyNotificationTemplateId + character.TemplateId - 660;
		MonthlyNotificationCollection monthlyNotificationCollection = DomainManager.World.GetMonthlyNotificationCollection();
		switch (num)
		{
		case 314:
		{
			Location location = DomainManager.Character.GetElement_Objects(character.TargetOwner).GetLocation();
			monthlyNotificationCollection.AddGiveUpLegendaryBookSuccessHuaJu(character.TargetOwner, 12, (short)(211 + character.Target), location);
			break;
		}
		case 315:
		{
			Location location = DomainManager.Character.GetElement_Objects(character.TargetOwner).GetLocation();
			monthlyNotificationCollection.AddGiveUpLegendaryBookSuccessXuanZhi(character.TargetOwner, 12, (short)(211 + character.Target), location);
			break;
		}
		case 316:
		{
			Location location = DomainManager.Character.GetElement_Objects(character.TargetOwner).GetLocation();
			monthlyNotificationCollection.AddGiveUpLegendaryBookSuccessYingJiao(character.TargetOwner, 12, (short)(211 + character.Target), location);
			break;
		}
		case 317:
			monthlyNotificationCollection.AddGiveUpLegendaryBookFailureHuaJu(character.TargetOwner, 12, (short)(211 + character.Target));
			break;
		case 318:
			monthlyNotificationCollection.AddGiveUpLegendaryBookFailureXuanZhi(character.TargetOwner, 12, (short)(211 + character.Target));
			break;
		case 319:
			monthlyNotificationCollection.AddGiveUpLegendaryBookFailureYingJiao(character.TargetOwner, 12, (short)(211 + character.Target));
			break;
		case 320:
			monthlyNotificationCollection.AddGiveUpLegendaryBookLoseTargetHuaJu(character.TargetOwner);
			break;
		case 321:
			monthlyNotificationCollection.AddGiveUpLegendaryBookLoseTargetXuanZhi(character.TargetOwner);
			break;
		case 322:
			monthlyNotificationCollection.AddGiveUpLegendaryBookLoseTargetYingJiao(character.TargetOwner);
			break;
		}
	}

	private void AddRanshanThreeCorpsesActionLifeRecord(SectStoryThreeCorpsesCharacter character, ItemKey itemKey)
	{
		LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
		int currDate = DomainManager.World.GetCurrDate();
		Location location = DomainManager.Character.GetElement_Objects(character.TargetOwner).GetLocation();
		switch (character.TemplateId)
		{
		case 660:
			lifeRecordCollection.AddGiveUpLegendaryBookSuccessHuaJu(character.TargetOwner, currDate, itemKey.ItemType, itemKey.TemplateId, location);
			break;
		case 661:
			lifeRecordCollection.AddGiveUpLegendaryBookSuccessXuanZhi(character.TargetOwner, currDate, itemKey.ItemType, itemKey.TemplateId, location);
			break;
		case 662:
			lifeRecordCollection.AddGiveUpLegendaryBookSuccessYingJiao(character.TargetOwner, currDate, itemKey.ItemType, itemKey.TemplateId, location);
			break;
		}
	}

	[DomainMethod]
	public List<ItemDisplayData> GetItemListForRanshanTreeCorpsesLegendaryBookKeeping(int corpseId)
	{
		List<ItemDisplayData> list = new List<ItemDisplayData>();
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		List<ItemDisplayData> allInventoryItems = DomainManager.Character.GetAllInventoryItems(taiwu.GetId());
		foreach (ItemDisplayData item in allInventoryItems)
		{
			if (item.Key.ItemType == 12)
			{
				short templateId = item.Key.TemplateId;
				if (templateId >= 211 && templateId < 225)
				{
					list.Add(item);
				}
			}
		}
		List<SectStoryThreeCorpsesCharacter> sectRanshanThreeCorpses = _sectRanshanThreeCorpses;
		foreach (SectStoryThreeCorpsesCharacter item2 in sectRanshanThreeCorpses)
		{
			if (item2.Id == corpseId || item2.LegendaryBooks == null || item2.LegendaryBooks.Count == 0)
			{
				continue;
			}
			foreach (sbyte legendaryBook in item2.LegendaryBooks)
			{
				if (legendaryBook >= 0)
				{
					ItemKey legendaryBookItem = DomainManager.LegendaryBook.GetLegendaryBookItem(legendaryBook);
					ItemDisplayData itemDisplayData = DomainManager.Item.GetItemDisplayData(DomainManager.Item.GetBaseItem(legendaryBookItem), 1, item2.Id, -1);
					list.Add(itemDisplayData);
				}
			}
		}
		return list;
	}

	public bool IsThreeCorpseKeepingLegendaryBook(ItemKey itemKey)
	{
		if (!itemKey.IsValid())
		{
			return false;
		}
		if (itemKey.ItemType != 12)
		{
			return false;
		}
		short templateId = itemKey.TemplateId;
		if ((templateId < 211 || templateId >= 225) ? true : false)
		{
			return false;
		}
		int num = templateId - 211;
		List<SectStoryThreeCorpsesCharacter> sectRanshanThreeCorpses = _sectRanshanThreeCorpses;
		if (sectRanshanThreeCorpses == null || sectRanshanThreeCorpses.Count < 0)
		{
			return false;
		}
		foreach (SectStoryThreeCorpsesCharacter item in sectRanshanThreeCorpses)
		{
			if (item.LegendaryBooks == null || item.LegendaryBooks.Count == 0 || !item.LegendaryBooks.Contains((sbyte)num))
			{
				continue;
			}
			return true;
		}
		return false;
	}

	public void AddOrSetFulongChickens(DataContext context, short orgMemberTemplateId, IntList chickenIds)
	{
		chickenIds.Items?.RemoveAll(ChickenNotExist);
		if (TryGetElement_SectFulongOrgMemberChickens(orgMemberTemplateId, out var _))
		{
			SetElement_SectFulongOrgMemberChickens(orgMemberTemplateId, chickenIds, context);
		}
		else
		{
			AddElement_SectFulongOrgMemberChickens(orgMemberTemplateId, chickenIds, context);
		}
	}

	private static bool ChickenNotExist(int id)
	{
		GameData.Domains.Building.Chicken value;
		return !DomainManager.Building.TryGetElement_Chicken(id, out value);
	}

	public List<FulongInFlameArea> GetAllFulongInFlameAreas()
	{
		return _sectFulongInFlameAreas;
	}

	public void GenerateFulongInFlameArea(DataContext context, int range, int mineCount, bool isBig)
	{
		short areaId = DomainManager.Organization.GetSettlementByOrgTemplateId(14).GetLocation().AreaId;
		List<MapBlockData> list = ObjectPool<List<MapBlockData>>.Instance.Get();
		byte areaSize = DomainManager.Map.GetAreaSize(areaId);
		if (DomainManager.Map.TryGetAvailableBlockIdInRange(areaId, range, list))
		{
			Dictionary<short, sbyte> dictionary = new Dictionary<short, sbyte>();
			Dictionary<short, int> dictionary2 = new Dictionary<short, int>();
			List<short> list2 = new List<short>();
			CollectionUtils.Shuffle(context.Random, list);
			foreach (MapBlockData item in list)
			{
				dictionary2.Add(item.BlockId, 0);
				if (!item.Visible)
				{
					item.SetVisible(visible: true, context);
				}
				DomainManager.Map.SplitMultiBlock(context, item);
			}
			for (int i = 0; i < mineCount; i++)
			{
				list2.Add(list[i].BlockId);
				dictionary2[list[i].BlockId]++;
				foreach (MapBlockData item2 in list)
				{
					if (FulongInFlameArea.IsAdjacent(list[i], item2))
					{
						dictionary2[item2.BlockId]++;
					}
				}
			}
			foreach (MapBlockData item3 in list)
			{
				dictionary[item3.BlockId] = MapBlockEightDirectionType.GetDirectionType(dictionary2, areaSize, item3.BlockId);
			}
			_sectFulongInFlameAreas.Add(new FulongInFlameArea(dictionary2, list2, dictionary, isBig, areaId, mineCount));
			SetSectFulongInFlameAreas(_sectFulongInFlameAreas, context);
			DomainManager.Map.RemoveTrivialObjectsOnBlocks(context, list);
		}
		DomainManager.Map.UpdateFulongFlameLocations();
		DomainManager.Map.UpdateIsTaiwuInFulongFlameArea(context);
		ObjectPool<List<MapBlockData>>.Instance.Return(list);
	}

	[DomainMethod]
	public int ExtinguishFulongInFlameArea(DataContext context, short blockId, bool isEvent = false)
	{
		if (!isEvent)
		{
			DomainManager.Extra.SaveArgToSectMainStoryEventArgBox(context, 14, "ConchShip_PresetKey_FulongPutOutFire", value: true);
			DomainManager.Extra.SaveArgToSectMainStoryEventArgBox(context, 14, "ConchShip_PresetKey_FulongPutOutFireOnce", value: true);
		}
		int result = -1;
		if (DomainManager.Taiwu.GetTaiwu().GetLocation().BlockId != blockId && !isEvent)
		{
			GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.SetEventLockInputState, arg1: false);
			return result;
		}
		for (int i = 0; i < _sectFulongInFlameAreas.Count; i++)
		{
			FulongInFlameArea fulongInFlameArea = _sectFulongInFlameAreas[i];
			if (fulongInFlameArea.LightedBlocks.ContainsKey(blockId))
			{
				ExtinguishFulongInFlameArea(context, blockId, fulongInFlameArea);
				if (fulongInFlameArea.IsFullyExtinguished())
				{
					result = i;
				}
				break;
			}
		}
		GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.SetEventLockInputState, arg1: false);
		return result;
	}

	[DomainMethod]
	public unsafe void TriggerFulongInFlameAreaMine(DataContext context, short blockId)
	{
		if (DomainManager.Taiwu.GetTaiwu().GetLocation().BlockId != blockId)
		{
			GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.SetEventLockInputState, arg1: false);
			return;
		}
		HashSet<int> collection = DomainManager.Taiwu.GetGroupCharIds().GetCollection();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		List<sbyte> list = ObjectPool<List<sbyte>>.Instance.Get();
		short areaId = DomainManager.Organization.GetSettlementByOrgTemplateId(14).GetLocation().AreaId;
		MapBlockData blockData = DomainManager.Map.GetBlockData(areaId, blockId);
		foreach (FulongInFlameArea sectFulongInFlameArea in _sectFulongInFlameAreas)
		{
			if (!sectFulongInFlameArea.MineBlocks.Contains(blockId))
			{
				continue;
			}
			sectFulongInFlameArea.TriggeredMineBlocks.Add(blockId);
			sectFulongInFlameArea.ExtinguishedBlocks.Add(blockId);
			Span<MapBlockData> areaBlocks = DomainManager.Map.GetAreaBlocks(areaId);
			Span<MapBlockData> span = areaBlocks;
			for (int i = 0; i < span.Length; i++)
			{
				MapBlockData mapBlockData = span[i];
				if (sectFulongInFlameArea.LightedBlocks.ContainsKey(mapBlockData.BlockId) && (blockId == mapBlockData.BlockId || FulongInFlameArea.IsAdjacent(mapBlockData, blockData)))
				{
					sectFulongInFlameArea.LightedBlocks[mapBlockData.BlockId]--;
				}
			}
		}
		for (int j = 0; j < 6; j++)
		{
			blockData.CurrResources.Items[j] = 0;
		}
		if (DomainManager.Character.TryGetKidnappedCharacters(taiwuCharId, out var list2))
		{
			foreach (KidnappedCharacter item in list2.GetCollection())
			{
				ApplyCharacterGetRandomPartDamaged(context, item.CharId, GlobalConfig.Instance.FulongMineDamage, list);
			}
		}
		foreach (int item2 in collection)
		{
			ApplyCharacterGetRandomPartDamaged(context, item2, (item2 == taiwuCharId) ? GlobalConfig.Instance.FulongMineDamageTaiwu : GlobalConfig.Instance.FulongMineDamage, list);
		}
		if (blockData.CharacterSet != null)
		{
			foreach (int item3 in blockData.CharacterSet)
			{
				ApplyCharacterGetRandomPartDamaged(context, item3, GlobalConfig.Instance.FulongMineDamage, list);
			}
		}
		ObjectPool<List<sbyte>>.Instance.Return(list);
		SetSectFulongInFlameAreas(_sectFulongInFlameAreas, context);
		DomainManager.Map.SetBlockData(context, blockData);
		DomainManager.Map.UpdateIsTaiwuInFulongFlameArea(context);
		DomainManager.World.GetInstantNotificationCollection().AddMechanismOfDetonation();
		GameData.GameDataBridge.GameDataBridge.AddDisplayEvent(DisplayEventType.SetEventLockInputState, arg1: false);
	}

	public void ApplyCharacterGetRandomPartDamaged(DataContext context, int charId, sbyte delta, List<sbyte> bodyPartRandomPool)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		Injuries injuries = element_Objects.GetInjuries();
		bodyPartRandomPool.Clear();
		bodyPartRandomPool.AddRange(BodyPart.Instance.GetAllKeys());
		bodyPartRandomPool.RemoveAll((sbyte part) => injuries.Get(part, isInnerInjury: false) >= 6);
		if (bodyPartRandomPool.Count > 0)
		{
			injuries.Change(bodyPartRandomPool[context.Random.Next(bodyPartRandomPool.Count)], isInnerInjury: true, delta);
			injuries.Change(bodyPartRandomPool[context.Random.Next(bodyPartRandomPool.Count)], isInnerInjury: false, delta);
			element_Objects.SetInjuries(injuries, context);
		}
	}

	[DomainMethod]
	public void ApplyFulongInFlameAreaFullyExtinguished(DataContext context, int index, bool triggerEvent = true)
	{
		FulongInFlameArea fulongInFlameArea = _sectFulongInFlameAreas[index];
		_sectFulongInFlameAreas.Remove(fulongInFlameArea);
		SetSectFulongInFlameAreas(_sectFulongInFlameAreas, context);
		DomainManager.Map.UpdateFulongFlameLocations();
		DomainManager.Map.UpdateIsTaiwuInFulongFlameArea(context);
		if (triggerEvent)
		{
			DomainManager.TaiwuEvent.CloseUI("PutOutFire");
		}
		if (_sectFulongInFlameAreas.Count != 0)
		{
			return;
		}
		List<short> list = DomainManager.Adventure.GetAdventuresInArea(fulongInFlameArea.AreaId).AdventureSites.Keys.ToList();
		List<short> list2 = fulongInFlameArea.LightedBlocks.Keys.ToList();
		for (int i = 0; i < list2.Count; i++)
		{
			if (!list.Contains(list2[i]))
			{
				Location location = new Location(fulongInFlameArea.AreaId, list2[i]);
				if (DomainManager.Adventure.TryCreateAdventureSite(context, location.AreaId, location.BlockId, 192, MonthlyActionKey.Invalid))
				{
					TriggerExtraTask(context, 52, 331);
					DomainManager.Extra.SaveArgToSectMainStoryEventArgBox(context, 14, "ConchShip_PresetKey_FulongAdventureStartTime", DomainManager.World.GetCurrDate());
					break;
				}
			}
		}
	}

	public unsafe void ApplyFulongInFlameAreaAdvanceMonth(DataContext context)
	{
		HashSet<int> collection = DomainManager.Taiwu.GetGroupCharIds().GetCollection();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		List<sbyte> list = ObjectPool<List<sbyte>>.Instance.Get();
		short areaId = DomainManager.Organization.GetSettlementByOrgTemplateId(14).GetLocation().AreaId;
		Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
		foreach (FulongInFlameArea sectFulongInFlameArea in _sectFulongInFlameAreas)
		{
			foreach (short key in sectFulongInFlameArea.LightedBlocks.Keys)
			{
				if (sectFulongInFlameArea.ExtinguishedBlocks.Contains(key))
				{
					continue;
				}
				MapBlockData blockData = DomainManager.Map.GetBlockData(areaId, key);
				for (int i = 0; i < 6; i++)
				{
					blockData.CurrResources.Items[i] = (short)Math.Max(0, blockData.CurrResources.Items[i] - blockData.MaxResources.Items[i] / 4);
				}
				if (blockData.CharacterSet != null)
				{
					foreach (int item in blockData.CharacterSet)
					{
						ApplyCharacterGetRandomPartDamaged(context, item, GlobalConfig.Instance.FulongFlameDamage, list);
					}
				}
				DomainManager.Map.SetBlockData(context, blockData);
				if (!(location == blockData.GetLocation()))
				{
					continue;
				}
				if (DomainManager.Character.TryGetKidnappedCharacters(taiwuCharId, out var list2))
				{
					foreach (KidnappedCharacter item2 in list2.GetCollection())
					{
						ApplyCharacterGetRandomPartDamaged(context, item2.CharId, GlobalConfig.Instance.FulongFlameDamage, list);
					}
				}
				foreach (int item3 in collection)
				{
					ApplyCharacterGetRandomPartDamaged(context, item3, GlobalConfig.Instance.FulongFlameDamage, list);
				}
			}
		}
		ObjectPool<List<sbyte>>.Instance.Return(list);
		SetSectFulongInFlameAreas(_sectFulongInFlameAreas, context);
	}

	public List<int> GetFulongOutLawRobIds()
	{
		return _sectFulongOutLaws.Keys.ToList();
	}

	public void ApplyTaiwuKillFulongOutLaw(DataContext context, int robberId)
	{
		if (DomainManager.Character.TryGetElement_Objects(robberId, out var element))
		{
			DomainManager.Character.RemoveNonIntelligentCharacter(context, element);
		}
		RemoveElement_SectFulongOutLaws(robberId, context);
		DomainManager.LifeRecord.GetLifeRecordCollection().AddSectMainStoryFulongRobberKilledByTaiwu(DomainManager.Taiwu.GetTaiwuCharId(), DomainManager.World.GetCurrDate(), DomainManager.Taiwu.GetTaiwu().GetLocation());
	}

	public void ApplyTaiwuGetRobbedByFulongOutLaws(DataContext context, sbyte resourceType, int resourceValue, int robberId, int victimId)
	{
		Settlement settlementByOrgTemplateId = DomainManager.Organization.GetSettlementByOrgTemplateId(14);
		SettlementLayeredTreasuries treasuries = settlementByOrgTemplateId.Treasuries;
		SettlementTreasury treasury = treasuries.GetTreasury(SettlementTreasuryLayers.Deep);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		int id = taiwu.GetId();
		Location location = taiwu.GetLocation();
		int currDate = DomainManager.World.GetCurrDate();
		treasury.Resources.Add(resourceType, resourceValue);
		SetTreasuries(context, settlementByOrgTemplateId.GetId(), treasuries, needUpdateTotalValue: true);
		SetElement_SectFulongOutLaws(robberId, new IntPair(currDate, _sectFulongOutLaws[robberId].Second), context);
		if (GameData.Domains.Character.Character.IsCharacterIdValid(victimId))
		{
			ushort relationType = DomainManager.Character.GetRelation(id, victimId).RelationType;
			bool flag = RelationType.IsFamilyRelation(relationType) || RelationType.IsFriendRelation(relationType);
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(victimId);
			int delta = (flag ? 8000 : 6000);
			DomainManager.Character.DirectlyChangeFavorabilityOptional(context, element_Objects, taiwu, delta, 4);
			DomainManager.LifeRecord.GetLifeRecordCollection().AddSectMainStoryFulongProtect(victimId, currDate, id, location);
		}
	}

	public void ApplyFulongOutLawRobSucceed(DataContext context, int robberId, int victimId)
	{
		Span<sbyte> resourceTypes = stackalloc sbyte[8] { 0, 1, 2, 3, 4, 5, 6, 7 };
		short num = ProcessFulongOutLawRobbing(context, robberId, victimId, resourceTypes);
		if (num == 348)
		{
			RemoveElement_SectFulongOutLaws(robberId, context);
		}
		else
		{
			SetElement_SectFulongOutLaws(robberId, new IntPair(DomainManager.World.GetCurrDate(), _sectFulongOutLaws[robberId].Second), context);
		}
	}

	public void RemoveAllFulongOutLaws(DataContext context)
	{
		List<int> list = ObjectPool<List<int>>.Instance.Get();
		foreach (int key in _sectFulongOutLaws.Keys)
		{
			list.Add(key);
		}
		foreach (int item in list)
		{
			RemoveElement_SectFulongOutLaws(item, context);
			if (DomainManager.Character.TryGetElement_Objects(item, out var element))
			{
				DomainManager.Character.RemoveNonIntelligentCharacter(context, element);
			}
		}
		ObjectPool<List<int>>.Instance.Return(list);
	}

	public void ApplyFulongOutLawAdvanceMonth(DataContext context, int startDate)
	{
		Span<sbyte> resourceTypes = stackalloc sbyte[8] { 0, 1, 2, 3, 4, 5, 6, 7 };
		MonthlyNotificationCollection monthlyNotificationCollection = DomainManager.World.GetMonthlyNotificationCollection();
		MonthlyEventCollection monthlyEventCollection = DomainManager.World.GetMonthlyEventCollection();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		Location validLocation = DomainManager.Taiwu.GetTaiwu().GetValidLocation();
		MapBlockData block = DomainManager.Map.GetBlock(validLocation);
		HashSet<int> collection = DomainManager.Taiwu.GetGroupCharIds().GetCollection();
		int currDate = DomainManager.World.GetCurrDate();
		Dictionary<int, int> dictionary = new Dictionary<int, int>();
		Dictionary<int, List<int>> dictionary2 = new Dictionary<int, List<int>>();
		List<int> list = ObjectPool<List<int>>.Instance.Get();
		List<int> list2 = ObjectPool<List<int>>.Instance.Get();
		List<short> list3 = ObjectPool<List<short>>.Instance.Get();
		bool flag = false;
		sbyte[] fulongOutLawDestination = SectMainStoryRelatedConstants.FulongOutLawDestination;
		foreach (sbyte orgTemplateId in fulongOutLawDestination)
		{
			Settlement settlementByOrgTemplateId = DomainManager.Organization.GetSettlementByOrgTemplateId(orgTemplateId);
			short id = settlementByOrgTemplateId.GetId();
			Location location = settlementByOrgTemplateId.GetLocation();
			list3.Clear();
			DomainManager.Map.GetSettlementBlocksAndAffiliatedBlocks(location.AreaId, location.BlockId, list3);
			dictionary2.Add(id, new List<int>());
			foreach (short item in list3)
			{
				MapBlockData block2 = DomainManager.Map.GetBlock(location.AreaId, item);
				if (block2.CharacterSet == null)
				{
					continue;
				}
				foreach (int item2 in block2.CharacterSet)
				{
					if (DomainManager.Character.TryGetElement_Objects(item2, out var element) && element.GetAgeGroup() == 2)
					{
						dictionary2[id].Add(item2);
					}
				}
			}
			dictionary.Add(id, 0);
		}
		short areaId = DomainManager.Taiwu.GetTaiwu().GetLocation().AreaId;
		foreach (int key4 in dictionary2.Keys)
		{
			short areaId2 = DomainManager.Organization.GetSettlement((short)key4).GetLocation().AreaId;
			if (areaId2 != areaId)
			{
				continue;
			}
			HashSet<int> collection2 = DomainManager.Taiwu.GetGroupCharIds().GetCollection();
			foreach (int item3 in collection2)
			{
				if (DomainManager.Character.TryGetElement_Objects(item3, out var element2) && element2.GetAgeGroup() == 2)
				{
					dictionary2[key4].Add(item3);
				}
			}
		}
		int key;
		IntPair value;
		foreach (KeyValuePair<int, IntPair> sectFulongOutLaw in _sectFulongOutLaws)
		{
			sectFulongOutLaw.Deconstruct(out key, out value);
			int num = key;
			IntPair intPair = value;
			Dictionary<int, int> dictionary3 = dictionary;
			key = intPair.Second;
			dictionary3[key]++;
			if (dictionary2[intPair.Second].Count > 0)
			{
				int objectId = dictionary2[intPair.Second][context.Random.Next(dictionary2[intPair.Second].Count)];
				GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(num);
				Location location2 = DomainManager.Character.GetElement_Objects(objectId).GetLocation();
				Events.RaiseEnemyCharacterLocationChanged(context, num, element_Objects.GetLocation(), location2);
				element_Objects.SetLocation(location2, context);
			}
		}
		int key2;
		if ((DomainManager.World.GetCurrDate() - startDate - SectMainStoryRelatedConstants.FulongZealotStartRobTime) % 6 == 0)
		{
			foreach (KeyValuePair<int, int> item4 in dictionary)
			{
				item4.Deconstruct(out key, out key2);
				int num2 = key;
				int num3 = key2;
				bool flag2 = num2 == DomainManager.Organization.GetSettlementByOrgTemplateId(16).GetId();
				int num4 = (flag2 ? 6 : 9);
				int num5 = (flag2 ? 3 : 5);
				if (num3 < num5)
				{
					int num6 = context.Random.Next(num5, num4);
					short templateIdOfFixedCharacterCombatWith = SectMainStoryRelatedConstants.GetTemplateIdOfFixedCharacterCombatWith(825, 5);
					Settlement settlement = DomainManager.Organization.GetSettlement((short)num2);
					Location location3 = settlement.GetLocation();
					list3.Clear();
					DomainManager.Map.GetSettlementBlocksAndAffiliatedBlocks(location3.AreaId, location3.BlockId, list3);
					for (int j = num3; j < num6; j++)
					{
						GameData.Domains.Character.Character character = DomainManager.Character.CreateFixedEnemy(context, templateIdOfFixedCharacterCombatWith);
						int id2 = character.GetId();
						Location location4 = new Location(location3.AreaId, list3[context.Random.Next(list3.Count)]);
						DomainManager.Character.CompleteCreatingCharacter(id2);
						AddElement_SectFulongOutLaws(id2, new IntPair(0, num2), context);
						Events.RaiseEnemyCharacterLocationChanged(context, character.GetId(), character.GetLocation(), location4);
						character.SetLocation(location4, context);
						Dictionary<int, int> dictionary3 = dictionary;
						key2 = num2;
						dictionary3[key2]++;
					}
					flag = true;
				}
			}
		}
		if (flag)
		{
			monthlyNotificationCollection.AddSectMainStoryFulongLooting();
		}
		foreach (KeyValuePair<int, int> item5 in dictionary)
		{
			item5.Deconstruct(out key2, out key);
			int key3 = key2;
			int num7 = key;
			dictionary[key3] = context.Random.Next(0, num7 * 3 / 10 + 2);
		}
		list.Clear();
		list2.Clear();
		foreach (KeyValuePair<int, IntPair> sectFulongOutLaw2 in _sectFulongOutLaws)
		{
			sectFulongOutLaw2.Deconstruct(out key, out value);
			int num8 = key;
			IntPair intPair2 = value;
			short num9 = (short)intPair2.Second;
			if (dictionary[num9] == 0 || currDate - intPair2.First <= 1 || dictionary2[num9].Count <= 0)
			{
				continue;
			}
			int num10 = dictionary2[num9][context.Random.Next(dictionary2[num9].Count)];
			RelatedCharacter relation;
			bool flag3 = DomainManager.Character.TryGetRelation(taiwuCharId, num10, out relation) && (RelationType.IsFamilyRelation(relation.RelationType) || RelationType.IsFriendRelation(relation.RelationType));
			GameData.Domains.Character.Character element_Objects2 = DomainManager.Character.GetElement_Objects(num8);
			Location location5 = DomainManager.Character.GetElement_Objects(num10).GetLocation();
			Events.RaiseEnemyCharacterLocationChanged(context, num8, element_Objects2.GetLocation(), location5);
			element_Objects2.SetLocation(location5, context);
			if (num10 == taiwuCharId)
			{
				monthlyEventCollection.AddSectMainStoryFulongRobTaiwu(validLocation, num8);
				_sectFulongOutLawInEvent = new IntPair(num8, -1);
			}
			else if (collection.Contains(num10))
			{
				monthlyEventCollection.AddSectMainStoryFulongProtect(num10, validLocation, taiwuCharId, num8);
				_sectFulongOutLawInEvent = new IntPair(num8, num10);
			}
			else if (block.CharacterSet != null && block.CharacterSet.Contains(num10))
			{
				if (flag3)
				{
					monthlyEventCollection.AddSectMainStoryFulongProtect(num10, validLocation, taiwuCharId, num8);
				}
				else
				{
					monthlyEventCollection.AddSectMainStoryFulongInterfereRobbery(num10, validLocation, num8);
				}
				_sectFulongOutLawInEvent = new IntPair(num8, num10);
			}
			else
			{
				switch (ProcessFulongOutLawRobbing(context, num8, num10, resourceTypes))
				{
				case 348:
					DomainManager.Character.RemoveNonIntelligentCharacter(context, element_Objects2);
					monthlyNotificationCollection.AddSectMainStoryFulongFightSucceed(num10, num9);
					list2.Add(num8);
					break;
				case 349:
					if (flag3)
					{
						monthlyNotificationCollection.AddSectMainStoryFulongFamilyFightFail(num10, num9);
					}
					else
					{
						monthlyNotificationCollection.AddSectMainStoryFulongFightFail(num10, num9);
					}
					list.Add(num8);
					break;
				case 351:
					if (flag3)
					{
						monthlyNotificationCollection.AddSectMainStoryFulongFamilyRobbery(num10, num9);
					}
					else
					{
						monthlyNotificationCollection.AddSectMainStoryFulongRobbery(num10, num9);
					}
					list.Add(num8);
					break;
				}
			}
			Dictionary<int, int> dictionary3 = dictionary;
			key = num9;
			dictionary3[key]--;
		}
		foreach (int item6 in list2)
		{
			RemoveElement_SectFulongOutLaws(item6, context);
		}
		foreach (int item7 in list)
		{
			SetElement_SectFulongOutLaws(item7, new IntPair(currDate, _sectFulongOutLaws[item7].Second), context);
		}
		ObjectPool<List<int>>.Instance.Return(list);
		ObjectPool<List<int>>.Instance.Return(list2);
		ObjectPool<List<short>>.Instance.Return(list3);
	}

	public short ProcessFulongOutLawRobbing(DataContext context, int robberId, int victimId, Span<sbyte> resourceTypes)
	{
		int currDate = DomainManager.World.GetCurrDate();
		short id = DomainManager.Organization.GetSettlementByOrgTemplateId(14).GetId();
		SettlementTreasuryRecordCollection settlementTreasuryRecordCollection = DomainManager.Extra.GetSettlementTreasuryRecordCollection(context, id);
		LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(victimId);
		GameData.Domains.Character.Character element_Objects2 = DomainManager.Character.GetElement_Objects(robberId);
		int percentProb = (element_Objects.GetConsummateLevel() - element_Objects2.GetConsummateLevel()) * 10 + element_Objects.GetPersonality(3) + SectMainStoryRelatedConstants.FulongOutLawFightBehaviorBonus[element_Objects.GetBehaviorType()];
		Span<int> resourceResults = stackalloc int[2];
		if (context.Random.CheckPercentProb(percentProb))
		{
			AiHelper.NpcCombatResultType npcCombatResultType = DomainManager.Character.SimulateCharacterCombat(context, element_Objects, element_Objects2, CombatType.Die);
			if ((uint)npcCombatResultType <= 1u)
			{
				DomainManager.Character.RemoveNonIntelligentCharacter(context, element_Objects2);
				lifeRecordCollection.AddSectMainStoryFulongFightSucceed(victimId, currDate, element_Objects.GetLocation());
				return 348;
			}
			ApplyFulongOutLawRobSucceed(context, element_Objects, resourceTypes, resourceResults);
			settlementTreasuryRecordCollection.AddSectStoryFulongLooting(currDate, id, resourceTypes[0], resourceResults[0], resourceTypes[1], resourceResults[1]);
			lifeRecordCollection.AddSectMainStoryFulongFightFail(victimId, currDate, element_Objects.GetLocation(), resourceTypes[0], resourceResults[0], resourceTypes[1], resourceResults[1]);
			return 349;
		}
		ApplyFulongOutLawRobSucceed(context, element_Objects, resourceTypes, resourceResults);
		settlementTreasuryRecordCollection.AddSectStoryFulongLooting(currDate, id, resourceTypes[0], resourceResults[0], resourceTypes[1], resourceResults[1]);
		lifeRecordCollection.AddSectMainStoryFulongRobbery(victimId, currDate, element_Objects.GetLocation(), resourceTypes[0], resourceResults[0], resourceTypes[1], resourceResults[1]);
		return 351;
	}

	private void ApplyFulongOutLawRobSucceed(DataContext context, GameData.Domains.Character.Character victim, Span<sbyte> resourceTypes, Span<int> resourceResults)
	{
		Settlement settlementByOrgTemplateId = DomainManager.Organization.GetSettlementByOrgTemplateId(14);
		SettlementLayeredTreasuries treasuries = settlementByOrgTemplateId.Treasuries;
		SettlementTreasury treasury = treasuries.GetTreasury(SettlementTreasuryLayers.Deep);
		CollectionUtils.Shuffle(context.Random, resourceTypes, 8);
		for (int i = 0; i < 2; i++)
		{
			int num = victim.GetResource(resourceTypes[i]) / 2;
			victim.ChangeResource(context, resourceTypes[i], -num);
			treasury.Resources.Add(resourceTypes[i], num);
			resourceResults[i] = num;
		}
		SetTreasuries(context, settlementByOrgTemplateId.GetId(), treasuries, needUpdateTotalValue: true);
	}

	private void ExtinguishFulongInFlameArea(DataContext context, short blockId, FulongInFlameArea area)
	{
		area.ExtinguishedBlocks.Add(blockId);
		if (area.LightedBlocks[blockId] == 0)
		{
			short areaId = DomainManager.Organization.GetSettlementByOrgTemplateId(14).GetLocation().AreaId;
			foreach (short key in area.LightedBlocks.Keys)
			{
				if (!area.ExtinguishedBlocks.Contains(key) && FulongInFlameArea.IsAdjacent(DomainManager.Map.GetBlockData(areaId, blockId), DomainManager.Map.GetBlockData(areaId, key)))
				{
					ExtinguishFulongInFlameArea(context, key, area);
				}
			}
		}
		SetSectFulongInFlameAreas(_sectFulongInFlameAreas, context);
		DomainManager.Map.UpdateIsTaiwuInFulongFlameArea(context);
	}

	private bool IsAdjacentBlockInFulongFlameArea(Dictionary<short, int> blocks, byte areaSize, int coordinateX, int coordinateY)
	{
		return MapBlockEightDirectionType.IsBlockInArea(blocks, areaSize, coordinateX, coordinateY);
	}

	[DomainMethod]
	public bool FulongSpecialInteractOpen(DataContext context)
	{
		EventArgBox sectMainStoryEventArgBox = DomainManager.Extra.GetSectMainStoryEventArgBox(14);
		bool arg = false;
		sectMainStoryEventArgBox.Get("ConchShip_PresetKey_FulongSpecialFuncOpen", ref arg);
		return arg;
	}

	public void SetGearMate(DataContext context, GearMate gearMate)
	{
		if (_sectZhujianGearMates.ContainsKey(gearMate.Id))
		{
			SetElement_SectZhujianGearMates(gearMate.Id, gearMate, context);
		}
		else
		{
			AddElement_SectZhujianGearMates(gearMate.Id, gearMate, context);
		}
	}

	public Dictionary<int, GearMate>.KeyCollection GetAllGearMateId()
	{
		return _sectZhujianGearMates.Keys;
	}

	public List<GameData.Domains.Character.Character> GetAllGearMateCharacter()
	{
		List<GameData.Domains.Character.Character> list = new List<GameData.Domains.Character.Character>();
		foreach (int key in _sectZhujianGearMates.Keys)
		{
			list.Add(DomainManager.Character.GetElement_Objects(key));
		}
		return list;
	}

	[DomainMethod]
	public List<ItemDisplayData> GetAllSkillBooksGearMateCanRead(bool isCombatSkill)
	{
		List<ItemDisplayData> list = new List<ItemDisplayData>();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		short num = (short)(isCombatSkill ? 1001 : 1000);
		Span<ItemSourceType> span = stackalloc ItemSourceType[3]
		{
			ItemSourceType.Inventory,
			ItemSourceType.Warehouse,
			ItemSourceType.Treasury
		};
		Span<ItemSourceType> span2 = span;
		for (int i = 0; i < span2.Length; i++)
		{
			ItemSourceType itemSourceType = span2[i];
			List<ItemDisplayData> itemDisplayData = CharacterDomain.GetItemDisplayData(taiwuCharId, DomainManager.Taiwu.GetItems(itemSourceType), itemSourceType);
			foreach (ItemDisplayData item in itemDisplayData)
			{
				if (ItemTemplateHelper.GetItemSubType(item.Key.ItemType, item.Key.TemplateId) == num)
				{
					list.Add(item);
				}
			}
		}
		return list;
	}

	public void ClearAllGearMateNeili(DataContext context)
	{
		foreach (var (objectId, gearMate2) in _sectZhujianGearMates)
		{
			if (gearMate2.Neili != 0)
			{
				gearMate2.Neili = 0;
				SetGearMate(context, gearMate2);
				DomainManager.Character.GetElement_Objects(objectId).ResetBaseNeiliAllocation(context);
			}
		}
	}

	public int GetAllGearMateNeili()
	{
		int num = 0;
		foreach (GearMate value in _sectZhujianGearMates.Values)
		{
			num += value.Neili;
		}
		return num;
	}

	public GameData.Domains.Character.Character CreateGearMate(DataContext context, short templateId, string displayName = null)
	{
		CharacterItem characterItem = Config.Character.Instance[templateId];
		GameData.Domains.Character.Character character = ((characterItem.CreatingType == 0) ? DomainManager.Character.CreateFixedCharacter(context, templateId) : DomainManager.Character.CreateFixedEnemy(context, templateId));
		FullName fullName = character.GetFullName();
		int id = character.GetId();
		DomainManager.Character.CompleteCreatingCharacter(id);
		if (!string.IsNullOrEmpty(displayName))
		{
			fullName.Type = 8;
			character.SetFullName(fullName, context);
			DomainManager.Extra.AssignCharacterCustomDisplayName(context, id, displayName);
		}
		GearMate gearMate = new GearMate(id);
		if (templateId == 836 && TryGetSectZhujianGearMateDreamBackData(out var data))
		{
			gearMate.MainAttributeProgress = data.MainAttributeProgress;
			gearMate.ConsummateLevelProgress = data.ConsummateLevelProgress;
			gearMate.FeatureProgress = data.FeatureProgress;
			gearMate.LifeSkillReadingProgress = data.LifeSkillReadingProgress ?? new Dictionary<short, TaiwuLifeSkill>();
			gearMate.CombatSkillReadingProgress = data.CombatSkillReadingProgress ?? new Dictionary<short, TaiwuCombatSkill>();
			gearMate.SkillBreakBonusDict = data.SkillBreakBonusDict ?? new Dictionary<short, SkillBreakPlateBonusList>();
			gearMate.SkillBreakMaxPowerDict = data.SkillBreakMaxPowerDict ?? new Dictionary<short, int>();
			gearMate.CombatSkillAttainmentProgress = data.CombatSkillAttainmentProgress;
			gearMate.LifeSkillAttainmentProgress = data.LifeSkillAttainmentProgress;
			gearMate.NeiliType = data.NeiliType;
			character.SetBaseNeiliProportionOfFiveElements(new NeiliProportionOfFiveElements(NeiliType.Instance[data.NeiliType].NeiliProportionOfFiveElements), context);
			character.SetBaseMainAttributes(data.MainAttributes, context);
			character.SetConsummateLevel(data.ConsummateLevel, context);
			character.SetFeatureIds(data.FeatureIds, context);
			character.SetBaseCombatSkillQualifications(ref data.BaseCombatSkillQualifications, context);
			character.SetBaseLifeSkillQualifications(ref data.BaseLifeSkillQualifications, context);
			if (data.LifeSkills != null)
			{
				character.SetLearnedLifeSkills(data.LifeSkills, context);
			}
			if (data.CombatSkills != null)
			{
				foreach (KeyValuePair<short, GameData.Domains.CombatSkill.CombatSkill> combatSkill3 in data.CombatSkills)
				{
					combatSkill3.Deconstruct(out var key, out var value);
					short combatSkillTemplateId = key;
					GameData.Domains.CombatSkill.CombatSkill combatSkill = value;
					GameData.Domains.CombatSkill.CombatSkill combatSkill2 = character.LearnNewCombatSkill(context, combatSkillTemplateId, combatSkill.GetReadingState());
					combatSkill2.SetActivationState(combatSkill.GetActivationState(), context);
				}
			}
			DomainManager.CombatSkill.ApplyLoopingExtraNeiliAllocationProgressModify(context, character, data.ExtraNeiliAllocationProgress);
		}
		SetGearMate(context, gearMate);
		return character;
	}

	public void GearMateJoinGroup(DataContext context, int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		DomainManager.Taiwu.JoinGroup(context, charId);
		Events.RaiseFixedCharacterLocationChanged(context, element_Objects.GetId(), element_Objects.GetLocation(), Location.Invalid);
		element_Objects.SetLocation(DomainManager.Taiwu.GetTaiwu().GetLocation(), context);
	}

	public void GearMateLeaveGroup(DataContext context, int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		DomainManager.Taiwu.LeaveGroup(context, charId);
		Events.RaiseFixedCharacterLocationChanged(context, element_Objects.GetId(), element_Objects.GetLocation(), taiwu.GetLocation());
		element_Objects.SetLocation(taiwu.GetLocation(), context);
	}

	public void GearMateFollowTaiwu(DataContext context)
	{
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		Location location = DomainManager.Taiwu.GetTaiwu().GetLocation();
		if (!_characterSpecialGroup.TryGetValue(taiwuCharId, out var value))
		{
			return;
		}
		foreach (int key in _sectZhujianGearMates.Keys)
		{
			if (value.Contains(key))
			{
				DomainManager.Character.GetElement_Objects(key).SetLocation(location, context);
			}
		}
	}

	public void GearMateUpdateStatus(DataContext context)
	{
		GearMateUpgradeFeature(context);
		GearMateRecoverMainAttributes(context);
		GearMateRecoverCurrNeili(context);
	}

	private void GearMateRecoverCurrNeili(DataContext context)
	{
		foreach (KeyValuePair<int, GearMate> sectZhujianGearMate in _sectZhujianGearMates)
		{
			sectZhujianGearMate.Deconstruct(out var key, out var value);
			int num = key;
			GearMate gearMate = value;
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(num);
			int currNeili = element_Objects.GetCurrNeili();
			int maxNeili = element_Objects.GetMaxNeili();
			int currNeiliRecovery = element_Objects.GetCurrNeiliRecovery(maxNeili);
			currNeiliRecovery = DomainManager.SpecialEffect.ModifyData(num, -1, 298, currNeiliRecovery);
			int currNeili2 = Math.Clamp(currNeili + currNeiliRecovery, 0, maxNeili);
			element_Objects.SetCurrNeili(currNeili2, context);
		}
	}

	private void GearMateRecoverMainAttributes(DataContext context)
	{
		foreach (KeyValuePair<int, GearMate> sectZhujianGearMate in _sectZhujianGearMates)
		{
			sectZhujianGearMate.Deconstruct(out var key, out var value);
			int objectId = key;
			GearMate gearMate = value;
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(objectId);
			MainAttributes mainAttributesRecoveries = element_Objects.GetMainAttributesRecoveries();
			element_Objects.ChangeCurrMainAttributes(context, mainAttributesRecoveries);
		}
	}

	private void GearMateUpgradeFeature(DataContext context)
	{
		Dictionary<short, short> dictionary = ObjectPool<Dictionary<short, short>>.Instance.Get();
		List<int> obj = context.AdvanceMonthRelatedData.IntList.Occupy();
		List<int> obj2 = context.AdvanceMonthRelatedData.CharIdList.Occupy();
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		foreach (KeyValuePair<int, GearMate> sectZhujianGearMate in _sectZhujianGearMates)
		{
			sectZhujianGearMate.Deconstruct(out var key, out var value);
			int num = key;
			GearMate gearMate = value;
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(num);
			Location location = element_Objects.GetLocation();
			bool flag = true;
			while (flag)
			{
				List<short> featureIds = element_Objects.GetFeatureIds();
				int num2 = 1;
				int num3 = 0;
				flag = false;
				dictionary.Clear();
				foreach (short item2 in featureIds)
				{
					CharacterFeatureItem characterFeatureItem = CharacterFeature.Instance[item2];
					dictionary[characterFeatureItem.MutexGroupId] = item2;
					ECharacterFeatureType type = characterFeatureItem.Type;
					if ((uint)(type - 1) <= 1u)
					{
						num2 += characterFeatureItem.Level;
					}
				}
				num2 *= 10;
				if (gearMate.FeatureProgress < num2)
				{
					continue;
				}
				obj2.Clear();
				if (location.IsValid())
				{
					MapBlockData block = DomainManager.Map.GetBlock(location);
					if (block.CharacterSet != null)
					{
						foreach (int item3 in block.CharacterSet)
						{
							obj2.Add(item3);
						}
					}
				}
				if (_characterSpecialGroup.TryGetValue(taiwuCharId, out var value2) && value2.Contains(num))
				{
					foreach (int item4 in DomainManager.Taiwu.GetGroupCharIds().GetCollection())
					{
						obj2.Add(item4);
					}
					foreach (int item5 in value2.GetCollection())
					{
						if (item5 != num)
						{
							obj2.Add(item5);
						}
					}
				}
				obj.Clear();
				foreach (int item6 in obj2)
				{
					List<short> featureIds2 = DomainManager.Character.GetElement_Objects(item6).GetFeatureIds();
					foreach (short item7 in featureIds2)
					{
						if (featureIds.Contains(item7))
						{
							continue;
						}
						CharacterFeatureItem characterFeatureItem2 = CharacterFeature.Instance[item7];
						if (characterFeatureItem2.Type != ECharacterFeatureType.Good)
						{
							continue;
						}
						short value3;
						int num4 = (dictionary.TryGetValue(characterFeatureItem2.MutexGroupId, out value3) ? CharacterFeature.Instance[value3].Level : 0);
						if (num4 < num3 || num4 > characterFeatureItem2.Level)
						{
							continue;
						}
						short item = ((num4 == 0) ? characterFeatureItem2.MutexGroupId : CharacterFeature.Instance[value3].Upgrade().TemplateId);
						if (!obj.Contains(item))
						{
							if (num3 < num4)
							{
								obj.Clear();
							}
							num3 = num4;
							obj.Add(item);
						}
					}
				}
				if (obj.Count > 0)
				{
					element_Objects.AddFeature(context, (short)obj[context.Random.Next(obj.Count)], removeMutexFeature: true);
					gearMate.FeatureProgress -= num2;
					SetGearMate(context, gearMate);
					flag = true;
				}
			}
		}
		context.AdvanceMonthRelatedData.CharIdList.Release(ref obj2);
		context.AdvanceMonthRelatedData.IntList.Release(ref obj);
		ObjectPool<Dictionary<short, short>>.Instance.Return(dictionary);
	}

	[DomainMethod]
	public GearMate GetGearMateById(int artisanId)
	{
		return _sectZhujianGearMates[artisanId];
	}

	[DomainMethod]
	public GearMateRepairCount GetGearMateAvailableRepairCount(int artisanId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(artisanId);
		GearMateRepairCount gearMateRepairCount = new GearMateRepairCount
		{
			OuterInjuryHealingCount = (sbyte)Math.Min(99, 1 + element_Objects.GetLifeSkillAttainment(6) / 60),
			InnerInjuryHealingCount = (sbyte)Math.Min(99, 1 + element_Objects.GetLifeSkillAttainment(7) / 60),
			DetoxCount = (sbyte)Math.Min(99, 1 + element_Objects.GetLifeSkillAttainment(11) / 60),
			BreathingCount = (sbyte)Math.Min(99, 1 + element_Objects.GetLifeSkillAttainment(10) / 60)
		};
		return gearMateRepairCount.Sub(GetGearMateUsedRepairCount(artisanId));
	}

	[DomainMethod]
	public int GetGearMateRepairRequirement(int gearMateId, int artisanId, sbyte type, ItemKey toolKey)
	{
		int num = 0;
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(gearMateId);
		GameData.Domains.Character.Character element_Objects2 = DomainManager.Character.GetElement_Objects(artisanId);
		var (resourceType, num2, b, num3, _) = GetRepairGearMateRequirement(gearMateId, type);
		if (1 == 0)
		{
		}
		bool flag = type switch
		{
			0 => !element_Objects.GetInjuries().HasAnyInjury(isInnerInjury: false), 
			1 => !element_Objects.GetInjuries().HasAnyInjury(isInnerInjury: true), 
			2 => !element_Objects.GetPoisoned().IsNonZero(), 
			3 => element_Objects.GetDisorderOfQi() <= 0, 
			_ => false, 
		};
		if (1 == 0)
		{
		}
		if (flag)
		{
			num |= 1;
		}
		if (element_Objects2.GetResource(resourceType) < num2)
		{
			num |= 2;
		}
		if (toolKey.IsValid() && !ItemTemplateHelper.IsEmptyTool(toolKey.ItemType, toolKey.TemplateId) && !Config.CraftTool.Instance[toolKey.TemplateId].RequiredLifeSkillTypes.Contains(b))
		{
			num |= 4;
		}
		if (DomainManager.Building.GetLifeSkillTotalAttainment(artisanId, b, toolKey) < num3)
		{
			num |= 8;
		}
		return num;
	}

	[DomainMethod]
	public List<GearMateRepairRequirementDisplayData> GetGearMateRepairRequirementDisplayDatas(int gearMateId)
	{
		List<GearMateRepairRequirementDisplayData> list = new List<GearMateRepairRequirementDisplayData>();
		for (sbyte b = 0; b <= 3; b++)
		{
			(sbyte, int, sbyte, short, sbyte) repairGearMateRequirement = GetRepairGearMateRequirement(gearMateId, b);
			sbyte item = repairGearMateRequirement.Item1;
			int item2 = repairGearMateRequirement.Item2;
			sbyte item3 = repairGearMateRequirement.Item3;
			short item4 = repairGearMateRequirement.Item4;
			sbyte item5 = repairGearMateRequirement.Item5;
			GearMateRepairRequirementDisplayData item6 = new GearMateRepairRequirementDisplayData
			{
				GearMateId = gearMateId,
				RepairType = b,
				ResourceType = item,
				ResourceCost = item2,
				LifeSkillType = item3,
				AttainmentCount = item4,
				ItemGrade = item5
			};
			list.Add(item6);
		}
		return list;
	}

	[DomainMethod]
	public int GetGearMateRepairEffect(int gearMateId, int artisanId, sbyte type, ItemKey toolKey)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(gearMateId);
		switch (type)
		{
		case 0:
		case 1:
		{
			Injuries injuries = element_Objects.GetInjuries();
			return RepairGearMateInjuries(artisanId, type, toolKey, ref injuries);
		}
		case 2:
		{
			PoisonInts poisons = element_Objects.GetPoisoned();
			return RepairGearMatePoisoned(artisanId, toolKey, ref poisons);
		}
		case 3:
		{
			short qiDisorder = element_Objects.GetDisorderOfQi();
			return RepairGearMateDisorderOfQi(artisanId, toolKey, ref qiDisorder);
		}
		default:
			return 0;
		}
	}

	[DomainMethod]
	public List<ShortPair> GetGearMateBreakoutCombatSkillBanReasonList(int gearMateId, List<short> checkCombatSkillList)
	{
		return checkCombatSkillList.Select((short id) => new ShortPair(id, (short)BoolArray16.op_Implicit(GetGearMateBreakoutCombatSkillBanReason(gearMateId, id)))).ToList();
	}

	public BoolArray16 GetGearMateBreakoutCombatSkillBanReason(int gearMateId, short skillId)
	{
		//IL_0003: Unknown result type (might be due to invalid IL or missing references)
		//IL_005d: Unknown result type (might be due to invalid IL or missing references)
		//IL_005e: Unknown result type (might be due to invalid IL or missing references)
		//IL_0086: Unknown result type (might be due to invalid IL or missing references)
		//IL_0087: Unknown result type (might be due to invalid IL or missing references)
		//IL_0222: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d0: Unknown result type (might be due to invalid IL or missing references)
		//IL_00d1: Unknown result type (might be due to invalid IL or missing references)
		//IL_00ec: Unknown result type (might be due to invalid IL or missing references)
		//IL_00ed: Unknown result type (might be due to invalid IL or missing references)
		//IL_0132: Unknown result type (might be due to invalid IL or missing references)
		//IL_0133: Unknown result type (might be due to invalid IL or missing references)
		//IL_01eb: Unknown result type (might be due to invalid IL or missing references)
		//IL_01ec: Unknown result type (might be due to invalid IL or missing references)
		//IL_021d: Unknown result type (might be due to invalid IL or missing references)
		//IL_021e: Unknown result type (might be due to invalid IL or missing references)
		//IL_020d: Unknown result type (might be due to invalid IL or missing references)
		//IL_020e: Unknown result type (might be due to invalid IL or missing references)
		//IL_01c6: Unknown result type (might be due to invalid IL or missing references)
		//IL_01c7: Unknown result type (might be due to invalid IL or missing references)
		//IL_018b: Unknown result type (might be due to invalid IL or missing references)
		//IL_018c: Unknown result type (might be due to invalid IL or missing references)
		BoolArray16 result = default(BoolArray16);
		GearMate gearMate = _sectZhujianGearMates[gearMateId];
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(gearMateId);
		CombatSkillKey objectId = new CombatSkillKey(DomainManager.Taiwu.GetTaiwuCharId(), skillId);
		CombatSkillKey objectId2 = new CombatSkillKey(gearMateId, skillId);
		if (!element_Objects.GetLearnedCombatSkills().Contains(skillId))
		{
			((BoolArray16)(ref result))[0] = true;
			return result;
		}
		if (!DomainManager.CombatSkill.TryGetElement_CombatSkills(objectId, out var element))
		{
			((BoolArray16)(ref result))[0] = true;
			return result;
		}
		GameData.Domains.CombatSkill.CombatSkill element_CombatSkills = DomainManager.CombatSkill.GetElement_CombatSkills(objectId2);
		ushort activationState = element.GetActivationState();
		ushort readingState = element_CombatSkills.GetReadingState();
		int num = BitOperation.CountBits((uint)(activationState & readingState));
		if (num < 6)
		{
			((BoolArray16)(ref result))[0] = true;
			return result;
		}
		if (element_CombatSkills.GetActivationState() != activationState)
		{
			return result;
		}
		GameData.Domains.Taiwu.SkillBreakPlate breakPlate;
		bool flag = DomainManager.Taiwu.TryGetSkillBreakPlate(skillId, out breakPlate);
		bool flag2 = flag && breakPlate.AnyBonus;
		SkillBreakPlateBonusList value;
		bool flag3 = gearMate.SkillBreakBonusDict.TryGetValue(skillId, out value);
		if (flag3 != flag2)
		{
			return result;
		}
		if (flag3)
		{
			int num2 = 0;
			foreach (SkillBreakPlateBonus bonuse in breakPlate.GetBonuses())
			{
				if (!value.CheckIndex(num2) || !bonuse.Equals(value[num2]))
				{
					return result;
				}
				num2++;
			}
			if (num2 != value.Count)
			{
				return result;
			}
		}
		int value2;
		bool flag4 = gearMate.SkillBreakMaxPowerDict.TryGetValue(skillId, out value2);
		if (flag != flag4)
		{
			return result;
		}
		if (flag4 && value2 != element.GetPlateAddMaxPower())
		{
			return result;
		}
		((BoolArray16)(ref result))[1] = true;
		return result;
	}

	[DomainMethod]
	public void RepairGearMate(DataContext context, int gearMateId, int artisanId, sbyte type, ItemKey toolKey)
	{
		if (GetGearMateRepairRequirement(gearMateId, artisanId, type, toolKey) != 0)
		{
			return;
		}
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(gearMateId);
		GameData.Domains.Character.Character element_Objects2 = DomainManager.Character.GetElement_Objects(artisanId);
		var (resourceType, num, _, _, b) = GetRepairGearMateRequirement(gearMateId, type);
		switch (type)
		{
		case 0:
		case 1:
		{
			Injuries injuries = element_Objects.GetInjuries();
			RepairGearMateInjuries(artisanId, type, toolKey, ref injuries);
			element_Objects.SetInjuries(injuries, context);
			break;
		}
		case 2:
		{
			PoisonInts poisons = element_Objects.GetPoisoned();
			RepairGearMatePoisoned(artisanId, toolKey, ref poisons);
			element_Objects.SetPoisoned(ref poisons, context);
			break;
		}
		case 3:
		{
			short qiDisorder = element_Objects.GetDisorderOfQi();
			RepairGearMateDisorderOfQi(artisanId, toolKey, ref qiDisorder);
			element_Objects.SetDisorderOfQi(qiDisorder, context);
			break;
		}
		}
		ConsumeGearMateUsedRepairCount(artisanId, type);
		element_Objects2.ChangeResource(context, resourceType, -num);
		if (toolKey.IsValid() && !ItemTemplateHelper.IsEmptyTool(toolKey.ItemType, toolKey.TemplateId))
		{
			short num2 = Config.CraftTool.Instance[toolKey.TemplateId].DurabilityCost[b];
			GameData.Domains.Item.CraftTool element_CraftTools = DomainManager.Item.GetElement_CraftTools(toolKey.Id);
			element_CraftTools.SetCurrDurability((short)Math.Max(0, element_CraftTools.GetCurrDurability() - num2), context);
			if (element_CraftTools.GetCurrDurability() <= 0)
			{
				element_Objects2.RemoveInventoryItem(context, toolKey, 1, deleteItem: true);
			}
		}
	}

	[DomainMethod]
	public void UpgradeGearMate(DataContext context, int charId, sbyte type, ItemKey itemKey, int count = 1, ItemSourceType sourceType = ItemSourceType.Inventory)
	{
		int num = count;
		int num2 = 0;
		if (itemKey.IsValid())
		{
			sbyte grade = ItemTemplateHelper.GetGrade(itemKey.ItemType, itemKey.TemplateId);
			if (itemKey.ItemType == 10)
			{
				num = 2 * (grade + 1);
			}
			else
			{
				num = 1;
				for (int i = 0; i < grade; i++)
				{
					num *= 2;
				}
				num *= 5 * count;
			}
		}
		sbyte b = type;
		sbyte b2 = b;
		if (b2 > 5)
		{
			switch (b2)
			{
			case 6:
				GearMateUpgradeConsummateLevel(context, charId, num);
				break;
			case 7:
				_sectZhujianGearMates[charId].FeatureProgress += num;
				break;
			case 8:
				num2 = GearMateReadCombatSKillBook(context, charId, itemKey, num);
				break;
			case 9:
				num2 = GearMateReadLifeSkillBook(context, charId, itemKey, num);
				break;
			case 10:
				num2 = GearMateBreakCombatSkill(context, charId, num);
				break;
			case 11:
				GearMateTransferNeili(context, charId, num);
				break;
			case 12:
				GearMateChangeNeiliType(context, charId, num);
				break;
			default:
				GearMateTransferNeiliAllocationProgress(context, charId, type, num);
				break;
			}
		}
		else
		{
			GearMateUpgradeMainAttribute(context, charId, type, num);
		}
		if (itemKey.IsValid())
		{
			switch (sourceType)
			{
			case ItemSourceType.Inventory:
			{
				if (DomainManager.Taiwu.GetItems(ItemSourceType.Inventory).TryGetValue(itemKey, out var value3))
				{
					DomainManager.Taiwu.RemoveItem(context, itemKey, count, 1, value3 == count);
					break;
				}
				throw new Exception($"item not found in inventory: {itemKey}");
			}
			case ItemSourceType.Warehouse:
			{
				if (DomainManager.Taiwu.GetItems(ItemSourceType.Warehouse).TryGetValue(itemKey, out var value2))
				{
					DomainManager.Taiwu.RemoveItem(context, itemKey, count, 2, value2 == count);
					break;
				}
				throw new Exception($"item not found in warehouse: {itemKey}");
			}
			case ItemSourceType.Treasury:
			{
				if (DomainManager.Taiwu.GetItems(ItemSourceType.Treasury).TryGetValue(itemKey, out var value))
				{
					DomainManager.Taiwu.RemoveItem(context, itemKey, count, 3, value == count);
					break;
				}
				throw new Exception($"item not found in treasury: {itemKey}");
			}
			}
		}
		if (num2 != 0)
		{
			DomainManager.Taiwu.GetTaiwu().ChangeExp(context, num2);
		}
		SetGearMate(context, _sectZhujianGearMates[charId]);
	}

	private void GearMateUpgradeMainAttribute(DataContext context, int charId, sbyte type, int value)
	{
		GearMate gearMate = _sectZhujianGearMates[charId];
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		bool flag = true;
		gearMate.MainAttributeProgress[type] += value;
		while (flag)
		{
			int num = (element_Objects.GetBaseMainAttributes().Get(type) + 1) * 10;
			if (gearMate.MainAttributeProgress[type] >= num)
			{
				gearMate.MainAttributeProgress[type] -= num;
				element_Objects.ChangeBaseMainAttribute(context, type, 1);
			}
			else
			{
				flag = false;
			}
		}
	}

	private void GearMateUpgradeConsummateLevel(DataContext context, int charId, int value)
	{
		GearMate gearMate = _sectZhujianGearMates[charId];
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		bool flag = true;
		gearMate.ConsummateLevelProgress += value;
		while (flag)
		{
			sbyte consummateLevel = element_Objects.GetConsummateLevel();
			if (1 == 0)
			{
			}
			int num = consummateLevel switch
			{
				0 => 30, 
				1 => 60, 
				2 => 120, 
				_ => 240 * (consummateLevel - 2), 
			};
			if (1 == 0)
			{
			}
			int num2 = num;
			if (gearMate.ConsummateLevelProgress >= num2)
			{
				gearMate.ConsummateLevelProgress -= num2;
				element_Objects.ChangeConsummateLevel(context, 1);
			}
			else
			{
				flag = false;
			}
		}
	}

	private int GearMateReadCombatSKillBook(DataContext context, int charId, ItemKey itemKey, int value)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		GearMate gearMate = _sectZhujianGearMates[charId];
		SkillBookItem skillBookItem = Config.SkillBook.Instance[itemKey.TemplateId];
		short combatSkillTemplateId = skillBookItem.CombatSkillTemplateId;
		sbyte combatSkillType = skillBookItem.CombatSkillType;
		sbyte grade = ItemTemplateHelper.GetGrade(itemKey.ItemType, itemKey.TemplateId);
		GameData.Domains.Item.SkillBook element_SkillBooks = DomainManager.Item.GetElement_SkillBooks(itemKey.Id);
		byte pageTypes = element_SkillBooks.GetPageTypes();
		int num = -SkillGradeData.Instance[grade].ReadingExpGainPerPage;
		int num2 = 0;
		if (!element_Objects.GetLearnedCombatSkills().Contains(combatSkillTemplateId))
		{
			element_Objects.LearnNewCombatSkill(context, combatSkillTemplateId, 0);
		}
		if (!gearMate.CombatSkillReadingProgress.TryGetValue(combatSkillTemplateId, out var value2))
		{
			value2 = new TaiwuCombatSkill();
		}
		GameData.Domains.CombatSkill.CombatSkill element_CombatSkills = DomainManager.CombatSkill.GetElement_CombatSkills(new CombatSkillKey(charId, combatSkillTemplateId));
		for (byte b = 0; b < 6; b++)
		{
			ushort readingState = element_CombatSkills.GetReadingState();
			byte pageInternalIndex = CombatSkillStateHelper.GetPageInternalIndex(SkillBookStateHelper.GetOutlinePageType(pageTypes), SkillBookStateHelper.GetNormalPageType(pageTypes, b), b);
			if (!CombatSkillStateHelper.IsPageRead(readingState, pageInternalIndex))
			{
				sbyte pageIncompleteState = SkillBookStateHelper.GetPageIncompleteState(element_SkillBooks.GetPageIncompleteState(), b);
				sbyte b2 = SkillBookPageIncompleteState.GearMateReadingSpeed[pageIncompleteState];
				sbyte bookPageReadingProgress = value2.GetBookPageReadingProgress(pageInternalIndex);
				bookPageReadingProgress = (sbyte)Math.Min(100, bookPageReadingProgress + b2);
				value2.SetBookPageReadingProgress(pageInternalIndex, bookPageReadingProgress);
				if (bookPageReadingProgress == 100)
				{
					element_CombatSkills.SetReadingState(CombatSkillStateHelper.SetPageRead(readingState, pageInternalIndex), context);
					DomainManager.CombatSkill.TryActivateCombatSkillBookPageWhenSetReadingState(context, charId, combatSkillTemplateId, pageInternalIndex);
				}
				num2++;
			}
		}
		gearMate.CombatSkillReadingProgress[combatSkillTemplateId] = value2;
		int num3 = 0;
		ushort readingState2 = element_CombatSkills.GetReadingState();
		for (byte b3 = 0; b3 < 6; b3++)
		{
			byte pageInternalIndex2 = CombatSkillStateHelper.GetPageInternalIndex(SkillBookStateHelper.GetOutlinePageType(pageTypes), 0, b3);
			byte pageInternalIndex3 = CombatSkillStateHelper.GetPageInternalIndex(SkillBookStateHelper.GetOutlinePageType(pageTypes), 1, b3);
			if (CombatSkillStateHelper.IsPageRead(readingState2, pageInternalIndex2) || CombatSkillStateHelper.IsPageRead(readingState2, pageInternalIndex3))
			{
				num3++;
			}
		}
		if (num3 == 6 && !gearMate.IsCombatSkillBuffed(combatSkillType, grade))
		{
			element_Objects.ChangeBaseCombatSkillQualification(context, combatSkillType, value);
			gearMate.SetCombatSkillBuffed(combatSkillType, grade);
		}
		return num * num2;
	}

	private int GearMateReadLifeSkillBook(DataContext context, int charId, ItemKey itemKey, int value)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		GearMate gearMate = _sectZhujianGearMates[charId];
		SkillBookItem skillBookItem = Config.SkillBook.Instance[itemKey.TemplateId];
		short lifeSkillTemplateId = skillBookItem.LifeSkillTemplateId;
		sbyte lifeSkillType = skillBookItem.LifeSkillType;
		sbyte grade = ItemTemplateHelper.GetGrade(itemKey.ItemType, itemKey.TemplateId);
		int num = -SkillGradeData.Instance[grade].ReadingExpGainPerPage;
		GameData.Domains.Item.SkillBook element_SkillBooks = DomainManager.Item.GetElement_SkillBooks(itemKey.Id);
		int num2 = 0;
		int num3 = 0;
		if (element_Objects.FindLearnedLifeSkillIndex(lifeSkillTemplateId) < 0)
		{
			element_Objects.LearnNewLifeSkill(context, lifeSkillTemplateId, 0);
		}
		if (!gearMate.LifeSkillReadingProgress.TryGetValue(lifeSkillTemplateId, out var value2))
		{
			value2 = new TaiwuLifeSkill();
		}
		for (byte b = 0; b < 5; b++)
		{
			int num4 = element_Objects.FindLearnedLifeSkillIndex(lifeSkillTemplateId);
			if (element_Objects.GetLearnedLifeSkills()[num4].IsPageRead(b))
			{
				num3++;
			}
			else
			{
				sbyte pageIncompleteState = SkillBookStateHelper.GetPageIncompleteState(element_SkillBooks.GetPageIncompleteState(), b);
				sbyte b2 = SkillBookPageIncompleteState.GearMateReadingSpeed[pageIncompleteState];
				sbyte bookPageReadingProgress = value2.GetBookPageReadingProgress(b);
				bookPageReadingProgress = (sbyte)Math.Min(100, bookPageReadingProgress + b2);
				value2.SetBookPageReadingProgress(b, bookPageReadingProgress);
				if (bookPageReadingProgress == 100)
				{
					element_Objects.ReadLifeSkillPage(context, num4, b);
					num3++;
				}
				num2++;
			}
		}
		if (num3 == 5 && !gearMate.IsLifeSkillBuffed(lifeSkillType, grade))
		{
			element_Objects.ChangeBaseLifeSkillQualification(context, lifeSkillType, value);
			gearMate.SetLifeSkillBuffed(lifeSkillType, grade);
		}
		gearMate.LifeSkillReadingProgress[lifeSkillTemplateId] = value2;
		return num * num2;
	}

	private int GearMateBreakCombatSkill(DataContext context, int charId, int value)
	{
		GearMate gearMate = _sectZhujianGearMates[charId];
		short num = (short)value;
		GameData.Domains.Taiwu.SkillBreakPlate breakPlate;
		bool flag = DomainManager.Taiwu.TryGetSkillBreakPlate(num, out breakPlate);
		if (flag && breakPlate.AnyBonus)
		{
			gearMate.SkillBreakBonusDict[num] = new SkillBreakPlateBonusList(breakPlate.GetBonuses());
		}
		if (flag)
		{
			gearMate.SkillBreakMaxPowerDict[num] = breakPlate.AddMaxPower;
		}
		CombatSkillKey objectId = new CombatSkillKey(charId, num);
		CombatSkillKey objectId2 = new CombatSkillKey(DomainManager.Taiwu.GetTaiwuCharId(), num);
		if (DomainManager.CombatSkill.TryGetElement_CombatSkills(objectId, out var element) && DomainManager.CombatSkill.TryGetElement_CombatSkills(objectId2, out var element2))
		{
			element.SetActivationState(element2.GetActivationState(), context);
		}
		return -Config.SkillBreakPlate.Instance[Config.CombatSkill.Instance[num].Grade].CostExp * 25;
	}

	private void GearMateTransferNeili(DataContext context, int charId, int value)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		_sectZhujianGearMates[charId].Neili += value;
		SetGearMate(context, _sectZhujianGearMates[charId]);
		taiwu.ChangeCurrNeiliWithoutChecking(context, -value);
		element_Objects.ChangeCurrNeiliWithoutChecking(context, value);
	}

	private void GearMateChangeNeiliType(DataContext context, int charId, int value)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		_sectZhujianGearMates[charId].NeiliType = value;
		element_Objects.SetBaseNeiliProportionOfFiveElements(new NeiliProportionOfFiveElements(NeiliType.Instance[value].NeiliProportionOfFiveElements), context);
	}

	private void GearMateTransferNeiliAllocationProgress(DataContext context, int charId, sbyte type, int value)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		int[] array = new int[4];
		array[type - 13] = value;
		DomainManager.CombatSkill.ApplyLoopingExtraNeiliAllocationProgressModify(context, element_Objects, array);
		array[type - 13] = -value;
		DomainManager.CombatSkill.ApplyLoopingExtraNeiliAllocationProgressModify(context, taiwu, array);
	}

	private unsafe (sbyte, int, sbyte, short, sbyte) GetRepairGearMateRequirement(int gearMateId, sbyte type)
	{
		int num = GlobalConfig.Instance.HealInjuryBaseHerb;
		sbyte b = -1;
		sbyte item = -1;
		short num2 = 0;
		sbyte b2 = 0;
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(gearMateId);
		switch (type)
		{
		case 0:
		{
			Injuries injuries2 = element_Objects.GetInjuries();
			b = 2;
			item = 6;
			for (sbyte b6 = 0; b6 < 7; b6++)
			{
				(sbyte, sbyte) tuple2 = injuries2.Get(b6);
				if (tuple2.Item1 > 0)
				{
					sbyte val3 = (sbyte)(tuple2.Item1 - 1);
					num += GetRepairGearMateMaterialConfig(b, tuple2.Item1).ResourceAmount * 3;
					num2 = Math.Max(num2, GlobalConfig.Instance.GearMateRepairInjuryAttainmentRequirement[tuple2.Item1 - 1]);
					b2 = Math.Max(val3, b2);
				}
			}
			break;
		}
		case 1:
		{
			Injuries injuries = element_Objects.GetInjuries();
			b = 1;
			item = 7;
			for (sbyte b3 = 0; b3 < 7; b3++)
			{
				(sbyte, sbyte) tuple = injuries.Get(b3);
				if (tuple.Item2 > 0)
				{
					sbyte val = (sbyte)(tuple.Item2 - 1);
					num += GetRepairGearMateMaterialConfig(b, tuple.Item2).ResourceAmount * 3;
					num2 = Math.Max(num2, GlobalConfig.Instance.GearMateRepairInjuryAttainmentRequirement[tuple.Item2 - 1]);
					b2 = Math.Max(val, b2);
				}
			}
			break;
		}
		case 2:
		{
			PoisonInts poisoned = element_Objects.GetPoisoned();
			b = 3;
			item = 11;
			for (sbyte b4 = 0; b4 < 6; b4++)
			{
				sbyte b5 = PoisonsAndLevels.CalcPoisonedLevel(poisoned.Items[b4]);
				if (b5 > 0)
				{
					sbyte val2 = (sbyte)(b5 * 2 - 1);
					num += GetRepairGearMateMaterialConfig(b, (sbyte)(b5 * 2)).ResourceAmount * 3;
					num2 = Math.Max(num2, GlobalConfig.Instance.GearMateRepairPoisonAttainmentRequirement[b5 - 1]);
					b2 = Math.Max(val2, b2);
				}
			}
			break;
		}
		case 3:
		{
			short disorderOfQi = element_Objects.GetDisorderOfQi();
			b = 4;
			item = 10;
			if (disorderOfQi > 0)
			{
				sbyte disorderLevelOfQi = DisorderLevelOfQi.GetDisorderLevelOfQi(disorderOfQi);
				num += GetRepairGearMateMaterialConfig(b, (sbyte)(disorderLevelOfQi + 1)).ResourceAmount * 3;
				num2 = Math.Max(num2, GlobalConfig.Instance.GearMateRepairDisorderOfQiAttainmentRequirement[disorderLevelOfQi]);
				b2 = Math.Max(disorderLevelOfQi, b2);
			}
			break;
		}
		}
		return (b, num, item, num2, b2);
	}

	private int RepairGearMateInjuries(int artisanId, sbyte type, ItemKey toolKey, ref Injuries injuries)
	{
		bool flag = type == 1;
		sbyte type2 = (sbyte)(flag ? 7 : 6);
		short lifeSkillTotalAttainment = DomainManager.Building.GetLifeSkillTotalAttainment(artisanId, type2, toolKey);
		int num = 0;
		for (sbyte b = 0; b < 7; b++)
		{
			sbyte b2 = injuries.Get(b, flag);
			if (b2 > 0)
			{
				short num2 = GlobalConfig.Instance.GearMateRepairInjuryAttainmentRequirement[b2 - 1];
				if (lifeSkillTotalAttainment >= num2)
				{
					int num3 = Math.Min((lifeSkillTotalAttainment - num2) / 100 + 1, b2);
					injuries.Change(b, flag, (sbyte)(-num3));
					num += num3;
				}
			}
		}
		return num;
	}

	private int RepairGearMatePoisoned(int artisanId, ItemKey toolKey, ref PoisonInts poisons)
	{
		short lifeSkillTotalAttainment = DomainManager.Building.GetLifeSkillTotalAttainment(artisanId, 11, toolKey);
		int num = 0;
		for (sbyte b = 0; b < 6; b++)
		{
			int num2 = poisons[b];
			if (num2 > 0)
			{
				sbyte b2 = PoisonsAndLevels.CalcPoisonedLevel(num2);
				int num3 = ((b2 > 0) ? GlobalConfig.Instance.GearMateRepairPoisonAttainmentRequirement[b2 - 1] : 0);
				if (lifeSkillTotalAttainment >= num3)
				{
					int num4 = Math.Min(lifeSkillTotalAttainment * GlobalConfig.Instance.HealPoisonAttainmentPercent / 100, num2);
					poisons[b] -= num4;
					num += num4;
				}
			}
		}
		return num;
	}

	private int RepairGearMateDisorderOfQi(int artisanId, ItemKey toolKey, ref short qiDisorder)
	{
		short lifeSkillTotalAttainment = DomainManager.Building.GetLifeSkillTotalAttainment(artisanId, 10, toolKey);
		sbyte disorderLevelOfQi = DisorderLevelOfQi.GetDisorderLevelOfQi(qiDisorder);
		short num = GlobalConfig.Instance.GearMateRepairDisorderOfQiAttainmentRequirement[disorderLevelOfQi];
		if (lifeSkillTotalAttainment < num)
		{
			return 0;
		}
		short num2 = (short)Math.Min(lifeSkillTotalAttainment * GlobalConfig.Instance.HealPoisonAttainmentPercent / 100, qiDisorder);
		qiDisorder -= num2;
		return num2;
	}

	private GearMateRepairCount GetGearMateUsedRepairCount(int artisanId)
	{
		int currDate = DomainManager.World.GetCurrDate();
		if (_sectZhujianLastTimeAccessGearMateRepairCount != currDate)
		{
			_sectZhujianGearMateRepairCount.Clear();
		}
		_sectZhujianLastTimeAccessGearMateRepairCount = currDate;
		return _sectZhujianGearMateRepairCount.GetValueOrDefault(artisanId, new GearMateRepairCount());
	}

	private void ConsumeGearMateUsedRepairCount(int artisanId, sbyte type)
	{
		GearMateRepairCount gearMateUsedRepairCount = GetGearMateUsedRepairCount(artisanId);
		gearMateUsedRepairCount.Set(type, gearMateUsedRepairCount.Get(type) + 1);
		_sectZhujianGearMateRepairCount[artisanId] = gearMateUsedRepairCount;
	}

	private MaterialItem GetRepairGearMateMaterialConfig(sbyte resourceType, sbyte grade)
	{
		foreach (MaterialItem item in (IEnumerable<MaterialItem>)Config.Material.Instance)
		{
			if (item.ResourceType == resourceType && item.Grade == grade)
			{
				return item;
			}
		}
		return null;
	}

	public bool TryGetSectZhujianAreaMerchantType(short areaTemplateId, out sbyte merchantType)
	{
		return TryGetElement_SectZhujianAreaMerchantTypeDict(areaTemplateId, out merchantType);
	}

	public void SetSectZhujianAreaMerchantType(DataContext context, short areaTemplateId, sbyte merchantType)
	{
		if (TryGetElement_SectZhujianAreaMerchantTypeDict(areaTemplateId, out var _))
		{
			SetElement_SectZhujianAreaMerchantTypeDict(areaTemplateId, merchantType, context);
		}
		else
		{
			AddElement_SectZhujianAreaMerchantTypeDict(areaTemplateId, merchantType, context);
		}
	}

	public void RemoveSectZhujianAreaMerchantType(DataContext context, short areaTemplateId)
	{
		RemoveElement_SectZhujianAreaMerchantTypeDict(areaTemplateId, context);
	}

	public IReadOnlyList<SettlementMemberFeature> GetSettlementMemberFeatures(short settlementId)
	{
		SerializableList<SettlementMemberFeature> value;
		return _settlementMemberFeatures.TryGetValue(settlementId, out value) ? value.Items : null;
	}

	public void RegisterSettlementMemberFeature(DataContext context, short settlementId, SettlementMemberFeature settlementMemberFeature)
	{
		if (_settlementMemberFeatures.TryGetValue(settlementId, out var value))
		{
			ref List<SettlementMemberFeature> items = ref value.Items;
			if (items == null)
			{
				items = new List<SettlementMemberFeature>();
			}
			value.Items.Add(settlementMemberFeature);
			SetElement_SettlementMemberFeatures(settlementId, value, context);
		}
		else
		{
			value = SerializableList<SettlementMemberFeature>.Create();
			value.Items.Add(settlementMemberFeature);
			AddElement_SettlementMemberFeatures(settlementId, value, context);
		}
	}

	public void UnregisterSettlementMemberFeature(short settlementId, SettlementMemberFeature settlementMemberFeature)
	{
		if (!_settlementMemberFeatures.TryGetValue(settlementId, out var value) || value.Items == null)
		{
			return;
		}
		for (int i = 0; i < value.Items.Count; i++)
		{
			if (value.Items[i].FeatureId == settlementMemberFeature.FeatureId)
			{
				value.Items.RemoveAt(i);
				break;
			}
		}
	}

	public void SetSettlementPrison(DataContext context, short settlementId, SettlementPrison prison)
	{
		if (_settlementPrisons.ContainsKey(settlementId))
		{
			SetElement_SettlementPrisons(settlementId, prison, context);
		}
		else
		{
			AddElement_SettlementPrisons(settlementId, prison, context);
		}
	}

	private void FixAbnormalSettlementExtraData(DataContext ctx)
	{
		short[] array = _settlementExtraData.Keys.ToArray();
		foreach (short num in array)
		{
			SettlementExtraData settlementExtraData = _settlementExtraData[num];
			HashSet<BuildingBlockKey> hashSet = settlementExtraData.SupportedBlocks.Keys.Where((BuildingBlockKey key) => !settlementExtraData.DeactivateSupportedBlocks.Contains(key) && !settlementExtraData.DisabledSupportedBlocks.Contains(key)).ToHashSet();
			(BuildingBlockKey, int) tuple = (BuildingBlockKey.Invalid, 0);
			foreach (BuildingBlockKey item in hashSet)
			{
				if (!tuple.Item1.IsInvalid || tuple.Item2 <= settlementExtraData.SupportedBlocks[item])
				{
					tuple = (item, settlementExtraData.SupportedBlocks[item]);
				}
			}
			settlementExtraData.DeactivateSupportedBlocks.Clear();
			foreach (BuildingBlockKey key in settlementExtraData.SupportedBlocks.Keys)
			{
				if (!tuple.Item1.Equals(key) && !settlementExtraData.DisabledSupportedBlocks.Contains(key))
				{
					settlementExtraData.DisabledSupportedBlocks.Add(key);
				}
			}
			SetSettlementExtraData(ctx, num, settlementExtraData);
		}
	}

	private void FixAbnormalRemoveSupport(DataContext context)
	{
		foreach (KeyValuePair<short, SettlementExtraData> settlementExtraDatum in _settlementExtraData)
		{
			settlementExtraDatum.Deconstruct(out var key, out var value);
			short num = key;
			SettlementExtraData settlementExtraData = value;
			short areaId = DomainManager.Organization.GetSettlement(num).GetLocation().AreaId;
			if (settlementExtraData.SupportedBlocks.Count > 0)
			{
				int num2 = 0;
				foreach (KeyValuePair<BuildingBlockKey, int> supportedBlock in settlementExtraData.SupportedBlocks)
				{
					num2 += supportedBlock.Value * SupportingBlockPrice;
				}
				DomainManager.Extra.ChangeAreaSpiritualDebt(context, areaId, num2);
				AdaptableLog.Warning($"FixAbnormalRemoveSupport, SettlementId: {num},add AreaSpiritualDebt :{num2}");
			}
			settlementExtraData.SupportedBlocks.Clear();
			SetSettlementExtraData(context, num, settlementExtraData);
		}
	}

	[Obsolete]
	private void InitializeSupportingBlockExtraData()
	{
		foreach (KeyValuePair<short, SettlementExtraData> settlementExtraDatum in _settlementExtraData)
		{
			AddSupportingBlockListener(settlementExtraDatum.Key);
			Settlement settlement = DomainManager.Organization.GetSettlement(settlementExtraDatum.Key);
			CalcSettlementSupportingBlockResource(settlementExtraDatum.Value, settlementExtraDatum.Key, settlement.GetSafety(), settlement.GetMaxSafety());
		}
	}

	[Obsolete]
	private void AddSupportingBlockListener(short settlementId)
	{
		DataUid uid = new DataUid(3, 0, (ulong)settlementId, 3u);
		DataUid uid2 = new DataUid(3, 0, (ulong)settlementId, 5u);
		GameData.GameDataBridge.GameDataBridge.AddPostDataModificationHandler(uid, $"Settlement[{settlementId}].SupportingBlockCultureHandler", OnSettlementCultureChanged);
		GameData.GameDataBridge.GameDataBridge.AddPostDataModificationHandler(uid2, $"Settlement[{settlementId}].SupportingBlockSafetyHandler", OnSettlementSafetyChanged);
	}

	[Obsolete]
	private void RemoveSupportingBlockListener(short settlementId)
	{
		DataUid uid = new DataUid(3, 0, (ulong)settlementId, 3u);
		DataUid uid2 = new DataUid(3, 0, (ulong)settlementId, 5u);
		GameData.GameDataBridge.GameDataBridge.RemovePostDataModificationHandler(uid, $"Settlement[{settlementId}].SupportingBlockCultureHandler");
		GameData.GameDataBridge.GameDataBridge.RemovePostDataModificationHandler(uid2, $"Settlement[{settlementId}].SupportingBlockSafetyHandler");
	}

	[Obsolete]
	public void SetSettlementExtraData(DataContext context, short settlementId, SettlementExtraData data)
	{
		if (_settlementExtraData.ContainsKey(settlementId))
		{
			SetElement_SettlementExtraData(settlementId, data, context);
		}
		else
		{
			AddElement_SettlementExtraData(settlementId, data, context);
			AddSupportingBlockListener(settlementId);
		}
		Settlement settlement = DomainManager.Organization.GetSettlement(settlementId);
		CalcSettlementSupportingBlockResource(data, settlementId, settlement.GetSafety(), settlement.GetMaxSafety());
	}

	[Obsolete]
	public void RemoveSettlementExtraData(DataContext context, short settlementId)
	{
		if (_settlementExtraData.TryGetValue(settlementId, out var value))
		{
			RemoveElement_SettlementExtraData(settlementId, context);
			RemoveSupportingBlockListener(settlementId);
			Settlement settlement = DomainManager.Organization.GetSettlement(settlementId);
			CalcSettlementSupportingBlockResource(value, settlementId, settlement.GetSafety(), settlement.GetMaxSafety());
		}
	}

	[Obsolete]
	public int GetMaxSupportingBlockCount(short settlementId)
	{
		return 1;
	}

	[Obsolete]
	public int GetCurrentActivateSupportingBlockCount(short settlementId)
	{
		if (!TryGetElement_SettlementExtraData(settlementId, out var value))
		{
			return 0;
		}
		HashSet<BuildingBlockKey> hashSet = ObjectPool<HashSet<BuildingBlockKey>>.Instance.Get();
		hashSet.Clear();
		foreach (BuildingBlockKey disabledSupportedBlock in value.DisabledSupportedBlocks)
		{
			hashSet.Add(disabledSupportedBlock);
		}
		int result = value.SupportedBlocks.Count - hashSet.Count;
		ObjectPool<HashSet<BuildingBlockKey>>.Instance.Return(hashSet);
		return result;
	}

	[Obsolete]
	public int GetRemainingAvailableSupportingBlockCount(short settlementId)
	{
		return GetMaxSupportingBlockCount(settlementId) - GetCurrentActivateSupportingBlockCount(settlementId);
	}

	[Obsolete]
	public void UpdateResourceChangeBySupportingBlocks(DataContext context)
	{
		int[] array = CalcResourceChangeBySupportingBlocks();
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		for (sbyte b = 0; b < 8; b++)
		{
			taiwu.ChangeResource(context, b, array[b]);
		}
	}

	[Obsolete]
	public void RefreshSettlementExtraData(DataContext context)
	{
		short[] array = _settlementExtraData.Keys.ToArray();
		foreach (short num in array)
		{
			SetSettlementExtraData(context, num, _settlementExtraData[num]);
		}
	}

	[Obsolete]
	public void DisableSupportingBlock(DataContext context, short settlementId, BuildingBlockKey key)
	{
		SettlementExtraData settlementExtraData = _settlementExtraData[settlementId];
		if (settlementExtraData.SupportedBlocks.ContainsKey(key) && !settlementExtraData.DisabledSupportedBlocks.Contains(key))
		{
			settlementExtraData.DisabledSupportedBlocks.Add(key);
			SetSettlementExtraData(context, settlementId, settlementExtraData);
		}
	}

	[Obsolete]
	public void EnableSupportingBlock(DataContext context, short settlementId, BuildingBlockKey key)
	{
		SettlementExtraData settlementExtraData = _settlementExtraData[settlementId];
		foreach (BuildingBlockKey key2 in settlementExtraData.SupportedBlocks.Keys)
		{
			if (!key2.Equals(key) && !settlementExtraData.DisabledSupportedBlocks.Contains(key2))
			{
				settlementExtraData.DisabledSupportedBlocks.Add(key2);
			}
		}
		if (settlementExtraData.SupportedBlocks.ContainsKey(key) && settlementExtraData.DisabledSupportedBlocks.Contains(key))
		{
			settlementExtraData.DisabledSupportedBlocks.Remove(key);
		}
		SetSettlementExtraData(context, settlementId, settlementExtraData);
	}

	[Obsolete]
	public void PurchaseSupportingBlock(DataContext context, short settlementId, BuildingBlockKey key)
	{
		short areaId = DomainManager.Organization.GetSettlement(settlementId).GetLocation().AreaId;
		DomainManager.Extra.ChangeAreaSpiritualDebt(context, areaId, -SupportingBlockPrice);
		if (!TryGetElement_SettlementExtraData(settlementId, out var value))
		{
			value = new SettlementExtraData();
		}
		value.SupportedBlocks.TryAdd(key, 0);
		value.SupportedBlocks[key]++;
		if (GetRemainingAvailableSupportingBlockCount(settlementId) < 0)
		{
			value.DisabledSupportedBlocks.Add(key);
		}
		SetSettlementExtraData(context, settlementId, value);
	}

	[Obsolete]
	public void ReturnSupportingBlock(DataContext context, short settlementId, BuildingBlockKey key)
	{
		short areaId = DomainManager.Organization.GetSettlement(settlementId).GetLocation().AreaId;
		DomainManager.Extra.ChangeAreaSpiritualDebt(context, areaId, SupportingBlockPrice, getProfessionSeniority: false);
		SettlementExtraData settlementExtraData = _settlementExtraData[settlementId];
		settlementExtraData.SupportedBlocks[key]--;
		if (settlementExtraData.SupportedBlocks[key] == 0)
		{
			settlementExtraData.SupportedBlocks.Remove(key);
			if (settlementExtraData.DisabledSupportedBlocks.Contains(key))
			{
				settlementExtraData.DisabledSupportedBlocks.Remove(key);
			}
		}
		if (settlementExtraData.SupportedBlocks.Count == 0)
		{
			RemoveSettlementExtraData(context, settlementId);
		}
		else
		{
			SetSettlementExtraData(context, settlementId, settlementExtraData);
		}
	}

	[Obsolete]
	public IntPair GetActivatedBlockCountAndMaxBlockCount(short areaId, short blockId)
	{
		short id = DomainManager.Organization.GetSettlementByLocation(new Location(areaId, blockId)).GetId();
		return new IntPair(GetCurrentActivateSupportingBlockCount(id), GetMaxSupportingBlockCount(id));
	}

	[Obsolete]
	public SettlementSupportingBlockDisplayData GetSupportingBuildingBlockDisplayData(short areaId, short blockId, BuildingBlockKey key)
	{
		short id = DomainManager.Organization.GetSettlementByLocation(new Location(areaId, blockId)).GetId();
		Settlement settlement = DomainManager.Organization.GetSettlement(id);
		SettlementSupportingBlockDisplayData result = new SettlementSupportingBlockDisplayData
		{
			SettlementId = id,
			Key = key,
			CanUpgrade = IsBlockAbleToPurchase(id, key),
			CanDownGrade = IsBlockAbleToReturn(id, key),
			Safety = settlement.GetSafety(),
			SafetyMax = settlement.GetMaxSafety(),
			SettlementInfo = GetActivatedBlockCountAndMaxBlockCount(areaId, blockId),
			SupportLevel = 0,
			SupportLevelMax = GetBlockSupportLevelMax(settlement)
		};
		if (_settlementExtraData.TryGetValue(id, out var value) && value.SupportedBlocks.TryGetValue(key, out var value2))
		{
			result.SupportLevel = value2;
		}
		return result;
	}

	public int[] CalcResourceChangeBySupportingBlocks()
	{
		int[] array = new int[8];
		for (int i = 0; i < 8; i++)
		{
			array[i] = 0;
		}
		foreach (ResourceInts value in _settlementSupportingBlockResourceTotal.Values)
		{
			for (int j = 0; j < 8; j++)
			{
				array[j] += value.Get(j);
			}
		}
		return array;
	}

	[Obsolete]
	private void OnSettlementCultureChanged(DataContext context, DataUid uid)
	{
		short elementId = (short)uid.SubId0;
		if (TryGetElement_SettlementExtraData(elementId, out var _))
		{
		}
	}

	[Obsolete]
	private void OnSettlementSafetyChanged(DataContext context, DataUid uid)
	{
		short num = (short)uid.SubId0;
		Settlement settlement = DomainManager.Organization.GetSettlement(num);
		if (TryGetElement_SettlementExtraData(num, out var value))
		{
			CalcSettlementSupportingBlockResource(value, num, settlement.GetSafety(), settlement.GetMaxSafety());
		}
	}

	[Obsolete]
	private int GetBlockSupportLevelMax(Settlement settlement)
	{
		return settlement.GetCulture() / 10;
	}

	[Obsolete]
	private bool IsBlockAbleToPurchase(short settlementId, BuildingBlockKey key)
	{
		Settlement settlement = DomainManager.Organization.GetSettlement(settlementId);
		short areaId = settlement.GetLocation().AreaId;
		if (DomainManager.Extra.GetAreaSpiritualDebt(areaId) < SupportingBlockPrice)
		{
			return false;
		}
		if (!TryGetElement_SettlementExtraData(settlementId, out var value))
		{
			return true;
		}
		int value2;
		return value.SupportedBlocks.TryGetValue(key, out value2) ? (GetBlockSupportLevelMax(settlement) > value2) : (GetCurrentActivateSupportingBlockCount(settlementId) < GetMaxSupportingBlockCount(settlementId));
	}

	[Obsolete]
	private bool IsBlockAbleToReturn(short settlementId, BuildingBlockKey key)
	{
		SettlementExtraData value;
		return TryGetElement_SettlementExtraData(settlementId, out value) && value.SupportedBlocks.ContainsKey(key);
	}

	[Obsolete]
	private void CalcSettlementSupportingBlockResource(SettlementExtraData data, short settlementId, short safety, short safetyMax)
	{
		ResourceInts value = default(ResourceInts);
		foreach (var (buildingBlockKey2, level) in data.SupportedBlocks)
		{
			if (!data.DisabledSupportedBlocks.Contains(buildingBlockKey2))
			{
				BuildingBlockData buildingBlockData = DomainManager.Building.GetBuildingBlockData(buildingBlockKey2);
				ResourceInts delta = BuildingBlockData.GetSupportingBlockResource(buildingBlockData, level, safety, safetyMax);
				value.Add(ref delta);
			}
		}
		_settlementSupportingBlockResourceTotal[settlementId] = value;
		Settlement settlement = DomainManager.Organization.GetSettlement(settlementId);
		_locationSupportingBlockResourceTotal[settlement.GetLocation()] = value;
	}

	[Obsolete]
	public List<int> GetReadingEventBookList()
	{
		return GetReadingEventBookIdList();
	}

	[DomainMethod]
	public void AddManualChangeEquipGroupChar(DataContext context, int charId)
	{
		if (!_manualChangeEquipGroupCharIds.Contains(charId))
		{
			_manualChangeEquipGroupCharIds.Add(charId);
			SetManualChangeEquipGroupCharIds(_manualChangeEquipGroupCharIds, context);
		}
	}

	[DomainMethod]
	public void RemoveManualChangeEquipGroupChar(DataContext context, int charId)
	{
		if (_manualChangeEquipGroupCharIds.Contains(charId))
		{
			_manualChangeEquipGroupCharIds.Remove(charId);
			SetManualChangeEquipGroupCharIds(_manualChangeEquipGroupCharIds, context);
		}
	}

	[DomainMethod]
	public void AddHideSkeletonEquipSlot(DataContext context, sbyte slotType)
	{
		int currEquipmentPlanId = DomainManager.Taiwu.GetCurrEquipmentPlanId();
		if (!_hideSkeletonEquipSlots.ContainsKey(currEquipmentPlanId))
		{
			AddElement_HideSkeletonEquipSlots(currEquipmentPlanId, SByteList.Create(), context);
		}
		SByteList value = _hideSkeletonEquipSlots[currEquipmentPlanId];
		if (!value.Items.Contains(slotType))
		{
			value.Items.Add(slotType);
			SetElement_HideSkeletonEquipSlots(currEquipmentPlanId, value, context);
		}
	}

	[DomainMethod]
	public void RemoveHideSkeletonEquipSlot(DataContext context, sbyte slotType)
	{
		int currEquipmentPlanId = DomainManager.Taiwu.GetCurrEquipmentPlanId();
		if (_hideSkeletonEquipSlots.TryGetValue(currEquipmentPlanId, out var value) && value.Items.Contains(slotType))
		{
			value.Items.Remove(slotType);
			if (value.Items.Count > 0)
			{
				SetElement_HideSkeletonEquipSlots(currEquipmentPlanId, value, context);
			}
			else
			{
				RemoveElement_HideSkeletonEquipSlots(currEquipmentPlanId, context);
			}
		}
	}

	[DomainMethod]
	public void SetCombatSkillOrderPlan(DataContext context, GameData.Utilities.ShortList plan)
	{
		if (plan.Items != null && plan.Items.Count == 54)
		{
			int currCombatSkillPlanId = DomainManager.Taiwu.GetCurrCombatSkillPlanId();
			SetCombatSkillOrderPlan(context, currCombatSkillPlanId, plan);
		}
	}

	private void SetCombatSkillOrderPlan(DataContext context, int planId, GameData.Utilities.ShortList plan)
	{
		List<short> items = plan.Items;
		if (items != null && items.Count > 0)
		{
			if (_combatSkillOrderPlans.ContainsKey(planId))
			{
				SetElement_CombatSkillOrderPlans(planId, plan, context);
			}
			else
			{
				AddElement_CombatSkillOrderPlans(planId, plan, context);
			}
		}
		else if (_combatSkillOrderPlans.ContainsKey(planId))
		{
			RemoveElement_CombatSkillOrderPlans(planId, context);
		}
	}

	[DomainMethod]
	public void AddReadingEventBookId(DataContext context, int id)
	{
		if (!_readingEventBookIdList.Contains(id))
		{
			_readingEventBookIdList.Add(id);
			SetReadingEventBookIdList(_readingEventBookIdList, context);
			DomainManager.Taiwu.GenerateAvailableReadingStrategies(context);
			DomainManager.Taiwu.CurrentReadingEventCostedIntelligence = 0;
		}
	}

	[DomainMethod]
	public void RemoveReadingEventBookId(DataContext context, int id, short templateId)
	{
		if (_readingEventBookIdList.Remove(id))
		{
			SetReadingEventBookIdList(_readingEventBookIdList, context);
			RemoveReadingEventReferenceBooks(context, id);
			RemoveElement_AvailableReadingStrategyMap(id, context);
		}
		if (DomainManager.Taiwu.CurrentReadingEventCostedIntelligence > 0)
		{
			sbyte grade = Config.SkillBook.Instance[templateId].Grade;
			int baseDelta = ProfessionFormulaImpl.Calculate(35, DomainManager.Taiwu.CurrentReadingEventCostedIntelligence, grade);
			DomainManager.Extra.ChangeProfessionSeniority(context, 4, baseDelta);
		}
		DomainManager.Taiwu.CurrentReadingEventCostedIntelligence = 0;
	}

	public void RemoveReadingEventReferenceBooks(DataContext context, int id)
	{
		if (_readingEventReferenceBooks.ContainsKey(id))
		{
			RemoveElement_ReadingEventReferenceBooks(id, context);
		}
	}

	public void SetAvailableReadingStrategies(DataContext context, int bookId, SByteList strategyIds)
	{
		if (!_availableReadingStrategyMap.ContainsKey(bookId))
		{
			AddElement_AvailableReadingStrategyMap(bookId, strategyIds, context);
		}
		else
		{
			SetElement_AvailableReadingStrategyMap(bookId, strategyIds, context);
		}
	}

	public void UpdateTaiwuSkillDataListener(DataContext context)
	{
		if (_listeningTaiwuCharId >= 0)
		{
			DataUid uid = new DataUid(4, 0, (ulong)_listeningTaiwuCharId, 61u);
			GameData.GameDataBridge.GameDataBridge.RemovePostDataModificationHandler(uid, GetType().Name);
		}
		_listeningTaiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		DataUid dataUid = new DataUid(4, 0, (ulong)_listeningTaiwuCharId, 61u);
		GameData.GameDataBridge.GameDataBridge.AddPostDataModificationHandler(dataUid, GetType().Name, UpdateTaiwuEquipSkillEffect);
		UpdateTaiwuEquipSkillEffect(context, dataUid);
	}

	public void UpdateTaiwuEquipSkillEffect(DataContext context, DataUid dataUid = default(DataUid))
	{
		CheckCombatSkillOrderPlan(context);
	}

	public void CheckCombatSkillOrderPlan(DataContext context)
	{
		int currCombatSkillPlanId = DomainManager.Taiwu.GetCurrCombatSkillPlanId();
		GameData.Utilities.ShortList value;
		GameData.Utilities.ShortList plan = (_combatSkillOrderPlans.TryGetValue(currCombatSkillPlanId, out value) ? value : GameData.Utilities.ShortList.Create());
		List<short> list = ObjectPool<List<short>>.Instance.Get();
		list.Clear();
		CombatSkillEquipment combatSkillEquipment = DomainManager.Taiwu.GetTaiwu().GetCombatSkillEquipment();
		for (sbyte b = 1; b <= 3; b++)
		{
			ArraySegmentList<short>.Enumerator enumerator = combatSkillEquipment[b].GetEnumerator();
			while (enumerator.MoveNext())
			{
				short current = enumerator.Current;
				if (current >= 0 && !plan.Items.Contains(current))
				{
					list.Add(current);
				}
			}
		}
		for (int i = 0; i < 54; i++)
		{
			if (plan.Items.Count <= i)
			{
				plan.Items.Add(-1);
			}
			short num = plan.Items[i];
			if (num < 0 && list.Count > 0)
			{
				plan.Items[i] = list[0];
				list.RemoveAt(0);
			}
			else if (num >= 0 && !combatSkillEquipment.IsCombatSkillEquipped(num))
			{
				plan.Items[i] = -1;
			}
		}
		ObjectPool<List<short>>.Instance.Return(list);
		SetCombatSkillOrderPlan(context, plan);
	}

	public void AddClearedSkillPlateStepInfo(DataContext context, short templateId, int succeedCount, int failCount)
	{
		IntPair value = new IntPair(succeedCount, failCount);
		if (_clearedSkillPlateStepInfo.ContainsKey(templateId))
		{
			SetElement_ClearedSkillPlateStepInfo(templateId, value, context);
		}
		else
		{
			AddElement_ClearedSkillPlateStepInfo(templateId, value, context);
		}
	}

	public (int succeedCount, int failCount) GetClearedSkillPlateStepInfo(short templateId)
	{
		IntPair value;
		return _clearedSkillPlateStepInfo.TryGetValue(templateId, out value) ? (succeedCount: value.First, failCount: value.Second) : (succeedCount: 0, failCount: 0);
	}

	public void RemoveClearedSkillPlateStepInfo(DataContext context, short templateId)
	{
		if (_clearedSkillPlateStepInfo.ContainsKey(templateId))
		{
			RemoveElement_ClearedSkillPlateStepInfo(templateId, context);
		}
	}

	public IEnumerable<GameData.Domains.Taiwu.SkillBreakPlate> GetConflictRelationSkillBreakPlates(short skillId)
	{
		foreach (GameData.Domains.Taiwu.SkillBreakPlate value in _skillBreakPlates.Values)
		{
			yield return value;
		}
		foreach (SkillBreakPlateList plateList in _combatSkillBreakPlateList.Values)
		{
			foreach (GameData.Domains.Taiwu.SkillBreakPlate plate in plateList)
			{
				if (plate != null)
				{
					yield return plate;
				}
			}
		}
	}

	public void SetOrAddSkillBreakPlate(DataContext context, short skillId, GameData.Domains.Taiwu.SkillBreakPlate plate)
	{
		if (_skillBreakPlates.ContainsKey(skillId))
		{
			SetElement_SkillBreakPlates(skillId, plate, context);
		}
		else
		{
			AddElement_SkillBreakPlates(skillId, plate, context);
		}
	}

	public void UpdateSkillActivationState(DataContext context, short skillId, GameData.Domains.Taiwu.SkillBreakPlate plate)
	{
		if (!plate.Success)
		{
			return;
		}
		int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
		if (DomainManager.CombatSkill.TryGetElement_CombatSkills((charId: taiwuCharId, skillId: skillId), out var element))
		{
			if (element.GetActivationState() != plate.SelectedPages)
			{
				AdaptableLog.Warning($"Unexpected activationState {element.GetActivationState()} {plate.SelectedPages}");
			}
			element.SetActivationState(element.GetActivationState(), context);
			if (element.Template.EquipType == 0)
			{
				GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
				taiwu.SetEquippedCombatSkills(taiwu.GetEquippedCombatSkills(), context);
				taiwu.UpdateAllocatedGenericGrids(context);
			}
		}
	}

	public void RemoveSkillBreakPlate(DataContext context, short skillId)
	{
		RemoveElement_SkillBreakPlates(skillId, context);
	}

	public void SaveGroupCharEquipmentPlan(DataContext context, int charId)
	{
		if (DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			if (_groupCharacterEquipmentRecord.ContainsKey(charId))
			{
				_groupCharacterEquipmentRecord[charId].Record(element);
				SetElement_GroupCharacterEquipmentRecord(charId, _groupCharacterEquipmentRecord[charId], context);
				return;
			}
			EquipmentPlan equipmentPlan = new EquipmentPlan();
			equipmentPlan.Record(element);
			AddElement_GroupCharacterEquipmentRecord(charId, equipmentPlan, context);
			SetElement_GroupCharacterEquipmentRecord(charId, equipmentPlan, context);
		}
	}

	public void ApplyGroupCharEquipmentPlan(DataContext context, int charId)
	{
		if (_groupCharacterEquipmentRecord.TryGetValue(charId, out var value))
		{
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
			if (value.Apply(context, element_Objects, skipInvalid: true))
			{
				AddManualChangeEquipGroupChar(context, charId);
			}
			value.Record(element_Objects);
			SetElement_GroupCharacterEquipmentRecord(charId, value, context);
		}
	}

	public ItemKey GetEmptyToolKey(DataContext context)
	{
		if (!_emptyToolKey.IsValid())
		{
			ItemKey value = DomainManager.Item.CreateCraftTool(context, 54);
			SetEmptyToolKey(value, context);
		}
		return _emptyToolKey;
	}

	public void SetReadingStrategiesExpireTime(DataContext context, ItemKey book, byte pageIndex, int strategyIndex, sbyte strategyId)
	{
		if (!_bookStrategiesExpireTime.ContainsKey(book))
		{
			IntList value = IntList.Create();
			for (int i = 0; i < 18; i++)
			{
				value.Items.Add(-1);
			}
			AddElement_BookStrategiesExpireTime(book, value, context);
		}
		int index = pageIndex * 3 + strategyIndex;
		ReadingStrategyItem readingStrategyItem = ReadingStrategy.Instance[strategyId];
		_bookStrategiesExpireTime[book].Items[index] = DomainManager.World.GetCurrDate() + readingStrategyItem.Duration;
		SetElement_BookStrategiesExpireTime(book, _bookStrategiesExpireTime[book], context);
	}

	public void ClearReadingStrategiesExpireTimeForPage(DataContext context, ItemKey book, byte pageIndex)
	{
		if (TryGetElement_BookStrategiesExpireTime(book, out var value))
		{
			int num = pageIndex * 3;
			for (int i = 0; i < 3; i++)
			{
				int index = num + i;
				value.Items[index] = -1;
			}
			SetElement_BookStrategiesExpireTime(book, value, context);
		}
	}

	public void DeleteExpiredReadingStrategiesOnMonthChange(DataContext context)
	{
		int currDate = DomainManager.World.GetCurrDate();
		foreach (KeyValuePair<ItemKey, IntList> item in _bookStrategiesExpireTime)
		{
			ItemKey key = item.Key;
			IntList value = item.Value;
			for (int i = 0; i < value.Items.Count; i++)
			{
				if (value.Items[i] != -1 && currDate >= value.Items[i])
				{
					int num = i / 3;
					int strategyIndex = i % 3;
					value.Items[i] = -1;
					DomainManager.Taiwu.ClearReadingStrategy(context, key, (byte)num, strategyIndex);
				}
			}
			SetElement_BookStrategiesExpireTime(key, value, context);
		}
	}

	[DomainMethod]
	public IntList GetBookStrategiesExpireTime(DataContext context, ItemKey book)
	{
		if (TryGetElement_BookStrategiesExpireTime(book, out var value))
		{
			return value;
		}
		return default(IntList);
	}

	public bool TryFixStrategiesExpireTime(DataContext context, ItemKey book, ReadingBookStrategies strategies)
	{
		if (!TryGetElement_BookStrategiesExpireTime(book, out var value))
		{
			value = IntList.Create();
			int currDate = DomainManager.World.GetCurrDate();
			for (int i = 0; i < 6; i++)
			{
				for (int j = 0; j < 3; j++)
				{
					sbyte pageStrategy = strategies.GetPageStrategy((byte)i, j);
					if (pageStrategy != -1)
					{
						ReadingStrategyItem readingStrategyItem = ReadingStrategy.Instance[pageStrategy];
						value.Items.Add(currDate + readingStrategyItem.Duration);
					}
					else
					{
						value.Items.Add(-1);
					}
				}
			}
			AddElement_BookStrategiesExpireTime(book, value, context);
			return true;
		}
		return false;
	}

	public IEnumerable<KeyValuePair<short, SByteList>> GetQiArtStrategyMapEnumerable()
	{
		return _qiArtStrategyMap;
	}

	public SByteList GetOrInitQiArtStrategies(DataContext context, short combatSkillTid)
	{
		if (!DomainManager.Extra.TryGetElement_QiArtStrategyMap(combatSkillTid, out var value))
		{
			value = SByteList.Create();
			for (int i = 0; i < GlobalConfig.Instance.MaxQiArtStrategyCount; i++)
			{
				value.Items.Add(-1);
			}
			DomainManager.Extra.AddElement_QiArtStrategyMap(combatSkillTid, value, context);
		}
		return value;
	}

	public IntList GetOrInitQiArtStrategyExpireTimeList(DataContext context, short combatSkillTid)
	{
		if (!DomainManager.Extra.TryGetElement_QiArtStrategyExpireTimeMap(combatSkillTid, out var value))
		{
			value = IntList.Create();
			for (int i = 0; i < GlobalConfig.Instance.MaxQiArtStrategyCount; i++)
			{
				value.Items.Add(-1);
			}
			DomainManager.Extra.AddElement_QiArtStrategyExpireTimeMap(combatSkillTid, value, context);
		}
		return value;
	}

	public void SetQiArtStrategies(DataContext context, short combatSkillTid, SByteList strategies)
	{
		DomainManager.Extra.SetElement_QiArtStrategyMap(combatSkillTid, strategies, context);
	}

	public void SetQiArtStrategyExpireTimeList(DataContext context, short combatSkillTid, IntList expireTimeList)
	{
		DomainManager.Extra.SetElement_QiArtStrategyExpireTimeMap(combatSkillTid, expireTimeList, context);
	}

	public void SetAvailableQiArtStrategiesForNeigong(DataContext context, short skillId, SByteList strategyIds)
	{
		if (!_availableQiArtStrategyMap.ContainsKey(skillId))
		{
			AddElement_AvailableQiArtStrategyMap(skillId, strategyIds, context);
		}
		else
		{
			SetElement_AvailableQiArtStrategyMap(skillId, strategyIds, context);
		}
	}

	public void AddInteractedCharacter(DataContext context, int charId)
	{
		if (!_interactedCharacterList.Contains(charId))
		{
			_interactedCharacterList.Add(charId);
			SetInteractedCharacterList(_interactedCharacterList, context);
		}
	}

	public bool GetIsInteractedCharacter(int charId)
	{
		return _interactedCharacterList.Contains(charId);
	}

	public bool RemoveInteractedCharacter(DataContext context, int charId)
	{
		if (_interactedCharacterList.Remove(charId))
		{
			SetInteractedCharacterList(_interactedCharacterList, context);
			return true;
		}
		return false;
	}

	[Obsolete]
	public bool IsFriendOrFamilyInteractionCooldown(int charId, out sbyte cooldown)
	{
		cooldown = 0;
		return true;
	}

	[Obsolete]
	public sbyte GetFriendOrFamilyInteractionCooldown(int charId)
	{
		return 0;
	}

	[Obsolete]
	public void SetFriendOrFamilyInteractionCooldown(DataContext context, int charId, sbyte cooldown)
	{
	}

	[Obsolete]
	public void AddFriendOrFamilyInteractionCooldown(DataContext context, int charId, sbyte cooldown)
	{
	}

	public void SetFriendOrFamilySendGiftResult(DataContext context, int charId, EventArgBox argBox)
	{
		if (DomainManager.Character.TryGetElement_Objects(charId, out var element) && DomainManager.Extra.IsFriendOrFamilyInteractionCooldown(charId, out var _))
		{
			OrganizationInfo organizationInfo = element.GetOrganizationInfo();
			sbyte cooldown2;
			ItemKey friendOrFamilySendGift = GetFriendOrFamilySendGift(context, element, out cooldown2);
			if (!friendOrFamilySendGift.HasTemplate)
			{
				int friendOrFamilySendExpAmount = GetFriendOrFamilySendExpAmount(organizationInfo.Grade);
				argBox.Set("AddExp", arg: true);
				argBox.Set("AddExpCount", friendOrFamilySendExpAmount);
			}
			else if (ItemTemplateHelper.IsMiscResource(friendOrFamilySendGift.ItemType, friendOrFamilySendGift.TemplateId))
			{
				sbyte miscResourceType = ItemTemplateHelper.GetMiscResourceType(friendOrFamilySendGift.ItemType, friendOrFamilySendGift.TemplateId);
				int friendOrFamilySendResourceAmount = GetFriendOrFamilySendResourceAmount(organizationInfo.Grade, miscResourceType);
				int arg = CorrectFriendOrFamilySendResourceAmount(context.Random, friendOrFamilySendResourceAmount, element.GetResource(miscResourceType));
				argBox.Set("IsMiscResource", arg: true);
				argBox.Set("ResourceType", miscResourceType);
				argBox.Set("Count", arg);
			}
			else
			{
				argBox.Set("ItemKey", (ISerializableGameData)(object)friendOrFamilySendGift);
			}
			argBox.Set("CoolDown", cooldown2);
		}
	}

	public ItemKey GetFriendOrFamilySendGift(DataContext context, GameData.Domains.Character.Character character, out sbyte cooldown)
	{
		ItemKey result = ItemKey.Invalid;
		OrganizationInfo organizationInfo = character.GetOrganizationInfo();
		bool isSect = Config.Organization.Instance[organizationInfo.OrgTemplateId].IsSect;
		bool flag = organizationInfo.OrgTemplateId == 16;
		cooldown = 0;
		(sbyte, sbyte) gradeRange = (0, 8);
		sbyte grade = organizationInfo.Grade;
		if (grade >= 0 && grade <= 2)
		{
			gradeRange = (0, 2);
		}
		else
		{
			grade = organizationInfo.Grade;
			if (grade >= 3 && grade <= 5)
			{
				gradeRange = (0, 4);
			}
			else
			{
				grade = organizationInfo.Grade;
				if (grade >= 6 && grade <= 8)
				{
					gradeRange = (0, 6);
				}
			}
		}
		if (!flag)
		{
			result = (isSect ? GetFriendOrFamilySectCharGift(context, character, gradeRange) : GetFriendOrFamilyCityCharGift(context, character, gradeRange));
		}
		return result;
	}

	private ItemKey GetFriendOrFamilySectCharGift(DataContext context, GameData.Domains.Character.Character character, (sbyte min, sbyte max) gradeRange)
	{
		OrganizationInfo organizationInfo = character.GetOrganizationInfo();
		HashSet<sbyte> hashSet = new HashSet<sbyte>();
		for (sbyte b = 0; b < 13; b++)
		{
			if (b != 3 && b != 4)
			{
				hashSet.Add(b);
			}
		}
		HashSet<sbyte> hashSet2 = new HashSet<sbyte>();
		for (sbyte b2 = 0; b2 < 7; b2++)
		{
			hashSet2.Add(b2);
		}
		sbyte grade = organizationInfo.Grade;
		if (grade >= 0 && grade <= 2)
		{
			hashSet.RemoveWhere((sbyte t) => t != 10);
			hashSet2.RemoveWhere((sbyte t) => t >= 6);
		}
		List<ItemKey> list = new List<ItemKey>();
		List<ItemKey> list2 = new List<ItemKey>();
		foreach (var (itemKey2, _) in character.GetInventory().Items)
		{
			if (!hashSet.Contains(itemKey2.ItemType) || !ItemTemplateHelper.IsTransferable(itemKey2.ItemType, itemKey2.TemplateId))
			{
				continue;
			}
			bool isValid = DomainManager.Item.GetPoisonEffects(itemKey2).IsValid;
			if (!ItemType.IsEquipmentItemType(itemKey2.ItemType) && isValid)
			{
				continue;
			}
			sbyte grade2 = ItemTemplateHelper.GetGrade(itemKey2.ItemType, itemKey2.TemplateId);
			if (grade2 > gradeRange.max || grade2 < gradeRange.min)
			{
				continue;
			}
			OrganizationItem item = Config.Organization.Instance.GetItem(character.GetOrganizationInfo().OrgTemplateId);
			if (item != null)
			{
				short itemSubType = ItemTemplateHelper.GetItemSubType(itemKey2.ItemType, itemKey2.TemplateId);
				if ((item.NoMeatEating && itemSubType == 701) || (item.NoDrinking && itemSubType == 901))
				{
					continue;
				}
			}
			list.Add(itemKey2);
		}
		ResourceInts resources = character.GetResources();
		for (sbyte b3 = 0; b3 < 8; b3++)
		{
			if (hashSet2.Contains(b3))
			{
				int friendOrFamilySendResourceAmount = GetFriendOrFamilySendResourceAmount(organizationInfo.Grade, b3);
				if (resources.Get(b3) >= friendOrFamilySendResourceAmount)
				{
					int num2 = 321 + b3;
					list2.Add(new ItemKey(12, 0, (short)num2, -1));
				}
			}
		}
		return SelectFriendOrFamilyGift(context, list, list2, -1);
	}

	private ItemKey GetFriendOrFamilyCityCharGift(DataContext context, GameData.Domains.Character.Character character, (sbyte min, sbyte max) gradeRange)
	{
		ItemKey invalid = ItemKey.Invalid;
		OrganizationInfo organizationInfo = character.GetOrganizationInfo();
		if (organizationInfo.Grade == 0)
		{
			return invalid;
		}
		List<ItemKey> list = new List<ItemKey>();
		List<ItemKey> list2 = new List<ItemKey>();
		sbyte value;
		sbyte b = (sbyte)(DomainManager.Extra.TryGetElement_MerchantCharToType(character.GetId(), out value) ? value : (-1));
		foreach (KeyValuePair<ItemKey, int> item in character.GetInventory().Items)
		{
			item.Deconstruct(out var key, out var _);
			ItemKey itemKey = key;
			bool flag = false;
			if (!ItemTemplateHelper.IsTransferable(itemKey.ItemType, itemKey.TemplateId))
			{
				continue;
			}
			sbyte grade = ItemTemplateHelper.GetGrade(itemKey.ItemType, itemKey.TemplateId);
			if (grade > gradeRange.max || grade < gradeRange.min)
			{
				continue;
			}
			bool isValid = DomainManager.Item.GetPoisonEffects(itemKey).IsValid;
			if (!ItemType.IsEquipmentItemType(itemKey.ItemType) && isValid)
			{
				continue;
			}
			switch (organizationInfo.Grade)
			{
			case 1:
				if (itemKey.ItemType == 7)
				{
					flag = true;
				}
				if (itemKey.ItemType == 10 && Config.SkillBook.Instance[itemKey.TemplateId].LifeSkillType == 15)
				{
					flag = true;
				}
				break;
			case 2:
				if (itemKey.ItemType == 10)
				{
					sbyte lifeSkillType = Config.SkillBook.Instance[itemKey.TemplateId].LifeSkillType;
					if (((uint)(lifeSkillType - 6) <= 1u || (uint)(lifeSkillType - 10) <= 1u) ? true : false)
					{
						flag = true;
					}
				}
				else if (itemKey.ItemType == 6)
				{
					sbyte b2 = Config.CraftTool.Instance[itemKey.TemplateId].RequiredLifeSkillTypes.First();
					if (((uint)(b2 - 6) <= 1u || (uint)(b2 - 10) <= 1u) ? true : false)
					{
						flag = true;
					}
				}
				break;
			case 3:
				if (itemKey.ItemType == 10)
				{
					sbyte lifeSkillType2 = Config.SkillBook.Instance[itemKey.TemplateId].LifeSkillType;
					if ((uint)(lifeSkillType2 - 8) <= 1u)
					{
						flag = true;
					}
				}
				else if (itemKey.ItemType == 6)
				{
					sbyte b3 = Config.CraftTool.Instance[itemKey.TemplateId].RequiredLifeSkillTypes.First();
					if ((uint)(b3 - 8) <= 1u)
					{
						flag = true;
					}
				}
				break;
			case 4:
				switch (b)
				{
				case 0:
				{
					sbyte itemType = itemKey.ItemType;
					if ((itemType == 4 || itemType == 7) ? true : false)
					{
						flag = true;
					}
					else if (itemKey.ItemType == 12 && itemKey.TemplateId == 9)
					{
						flag = true;
					}
					break;
				}
				case 1:
					if (itemKey.ItemType == 10)
					{
						flag = true;
					}
					break;
				case 2:
				{
					sbyte itemType = itemKey.ItemType;
					if ((itemType == 5 || itemType == 9 || itemType == 12) ? true : false)
					{
						flag = true;
					}
					break;
				}
				case 3:
				{
					sbyte itemType = itemKey.ItemType;
					if ((uint)itemType <= 2u)
					{
						flag = true;
					}
					break;
				}
				case 4:
					if (itemKey.ItemType == 8)
					{
						flag = true;
					}
					else if (itemKey.ItemType == 0 && Config.Weapon.Instance[itemKey.TemplateId].ItemSubType == 0)
					{
						flag = true;
					}
					break;
				case 5:
				{
					sbyte itemType = itemKey.ItemType;
					if ((itemType == 4 || itemType == 6) ? true : false)
					{
						flag = true;
					}
					break;
				}
				case 6:
				{
					sbyte itemType = itemKey.ItemType;
					if ((uint)itemType <= 2u)
					{
						flag = true;
					}
					break;
				}
				}
				break;
			case 5:
				if (itemKey.ItemType == 10)
				{
					sbyte lifeSkillType3 = Config.SkillBook.Instance[itemKey.TemplateId].LifeSkillType;
					if ((uint)lifeSkillType3 <= 3u)
					{
						flag = true;
					}
				}
				if (itemKey.ItemType == 9)
				{
					flag = true;
				}
				break;
			case 6:
			{
				sbyte itemType = itemKey.ItemType;
				if ((uint)(itemType - 9) <= 1u)
				{
					flag = true;
				}
				break;
			}
			case 7:
			{
				sbyte itemType = itemKey.ItemType;
				if ((itemType == 3 || itemType == 7 || (uint)(itemType - 9) <= 1u) ? true : false)
				{
					flag = true;
				}
				if (itemKey.ItemType == 5)
				{
					sbyte resourceType = Config.Material.Instance[itemKey.TemplateId].ResourceType;
					if ((uint)(resourceType - 3) <= 1u)
					{
						flag = true;
					}
				}
				break;
			}
			case 8:
				flag = true;
				break;
			}
			if (flag)
			{
				list.Add(itemKey);
			}
		}
		if (organizationInfo.Grade >= 4)
		{
			ResourceInts resources = character.GetResources();
			for (sbyte b4 = 0; b4 <= 6; b4++)
			{
				switch (organizationInfo.Grade)
				{
				case 4:
					if (b4 != 6)
					{
						continue;
					}
					break;
				}
				int friendOrFamilySendResourceAmount = GetFriendOrFamilySendResourceAmount(organizationInfo.Grade, b4);
				if (resources.Get(b4) >= friendOrFamilySendResourceAmount)
				{
					int num = 321 + b4;
					list2.Add(new ItemKey(12, 0, (short)num, -1));
				}
			}
		}
		return SelectFriendOrFamilyGift(context, list, list2, b);
	}

	private ItemKey SelectFriendOrFamilyGift(DataContext context, List<ItemKey> itemList, List<ItemKey> resourceList, sbyte merchantType)
	{
		ItemKey result = ItemKey.Invalid;
		int num = 0;
		int num2 = 0;
		if (itemList.Count > 0)
		{
			num++;
			num2 = num;
		}
		int num3 = 0;
		if (resourceList.Count > 0)
		{
			num += 5;
			num3 = num;
		}
		int num4 = 0;
		num += 3;
		num4 = num;
		if (num <= 0)
		{
			return result;
		}
		int num5 = context.Random.Next(num);
		if (num5 < num2)
		{
			List<ItemKey> list = itemList.Where((ItemKey key) => ItemTemplateHelper.GetGrade(key.ItemType, key.TemplateId) <= 2).ToList();
			List<ItemKey> list2 = itemList.Where(delegate(ItemKey key)
			{
				sbyte grade = ItemTemplateHelper.GetGrade(key.ItemType, key.TemplateId);
				return grade > 2 && grade <= 4;
			}).ToList();
			List<ItemKey> list3 = itemList.Where(delegate(ItemKey key)
			{
				sbyte grade = ItemTemplateHelper.GetGrade(key.ItemType, key.TemplateId);
				return grade > 4 && grade <= 6;
			}).ToList();
			int num6 = 0;
			int num7 = 0;
			if (list.Count > 0)
			{
				num6 += 3;
				num7 = num6;
			}
			int num8 = 0;
			if (list2.Count > 0)
			{
				num6 += 5;
				num8 = num6;
			}
			int num9 = 0;
			if (list3.Count > 0)
			{
				num6++;
				num9 = num6;
			}
			List<ItemKey> list4 = null;
			if (num6 > 0)
			{
				int num10 = context.Random.Next(num6);
				if (num10 < num7)
				{
					list4 = list;
				}
				else if (num10 < num8)
				{
					list4 = list2;
				}
				else if (num10 < num9)
				{
					list4 = list3;
				}
			}
			if (list4 != null)
			{
				result = ((merchantType >= 0) ? GetCityMerchantCharGiftItem(context, merchantType, list4) : list4.GetRandom(context.Random));
			}
		}
		else if (num5 < num3)
		{
			result = resourceList.GetRandom(context.Random);
		}
		return result;
	}

	private ItemKey GetCityMerchantCharGiftItem(DataContext context, int merchantType, List<ItemKey> otherItemList)
	{
		List<(sbyte, short, sbyte)> list = new List<(sbyte, short, sbyte)>();
		switch (merchantType)
		{
		case 0:
			list.Add((4, -1, 4));
			list.Add((7, -1, 4));
			list.Add((12, -1, 2));
			break;
		case 1:
			return (otherItemList.Count > 0) ? otherItemList.First() : ItemKey.Invalid;
		case 2:
			list.Add((5, -1, 4));
			list.Add((9, -1, 4));
			list.Add((12, -1, 2));
			break;
		case 3:
			list.Add((0, -1, 4));
			list.Add((1, -1, 4));
			list.Add((2, -1, 2));
			break;
		case 4:
			list.Add((8, 800, 4));
			list.Add((8, 801, 4));
			list.Add((0, -1, 2));
			break;
		case 5:
			list.Add((6, -1, 2));
			list.Add((4, -1, 1));
			break;
		case 6:
			list.Add((2, -1, 4));
			list.Add((1, -1, 4));
			list.Add((0, -1, 2));
			break;
		}
		return GetCityMerchantCharGiftItem(context, otherItemList, list);
	}

	private ItemKey GetCityMerchantCharGiftItem(DataContext context, List<ItemKey> itemList, List<(sbyte itemType, short itemSubType, sbyte weight)> weightList)
	{
		List<ItemKey>[] array = new List<ItemKey>[weightList.Count];
		int[] array2 = new int[weightList.Count];
		int[] array3 = new int[weightList.Count];
		for (int i = 0; i < weightList.Count; i++)
		{
			(sbyte itemType, short itemSubType, sbyte weight) valueTuple = weightList[i];
			array[i] = itemList.Where(delegate(ItemKey k)
			{
				if (valueTuple.itemSubType < 0)
				{
					return k.ItemType == valueTuple.itemType;
				}
				short itemSubType = ItemTemplateHelper.GetItemSubType(k.ItemType, k.TemplateId);
				return k.ItemType == valueTuple.itemType && itemSubType == valueTuple.itemSubType;
			}).ToList();
			array2[i] = ((array[i].Count > 0) ? valueTuple.weight : 0);
		}
		int num = 0;
		for (int num2 = 0; num2 < weightList.Count; num2++)
		{
			array3[num2] = num + array2[num2];
			num += array2[num2];
		}
		ItemKey result = ItemKey.Invalid;
		if (num > 0)
		{
			int num3 = context.Random.Next(num);
			for (int num4 = 0; num4 < weightList.Count; num4++)
			{
				if (num3 < array3[num4] && array[num4].Count > 0)
				{
					result = array[num4].GetRandom(context.Random);
					break;
				}
			}
		}
		return result;
	}

	private int GetFriendOrFamilySendResourceAmount(sbyte charGrade, sbyte resourceType)
	{
		int num = 0;
		if (resourceType < 6)
		{
			num = 20;
		}
		else if (resourceType == 6)
		{
			num = 100;
		}
		return (int)Math.Pow(charGrade + 2, 2.0) * num;
	}

	private int CorrectFriendOrFamilySendResourceAmount(IRandomSource randomSource, int sendAmount, int curAmount)
	{
		int num = randomSource.Next(80, 121);
		sendAmount = sendAmount * num / 100;
		int val = curAmount / 3;
		return Math.Min(sendAmount, val);
	}

	private int GetFriendOrFamilySendExpAmount(sbyte charGrade)
	{
		return (int)Math.Pow(charGrade + 2, 2.0) * 50;
	}

	public void ClearFriendOrFamilyInteractionCooldowns(DataContext context)
	{
		ClearFriendOrFamilyInteractionCooldownDict(context);
	}

	[DomainMethod]
	public ItemKey GM_GetFriendOrFamilySendGift(DataContext context, int charId)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		sbyte cooldown;
		return GetFriendOrFamilySendGift(context, element_Objects, out cooldown);
	}

	public void AddTaiwuExtraBonus(DataContext context, short bonusType, int bonusVal)
	{
		if (_taiwuExtraBonuses.TryGetValue(bonusType, out var value))
		{
			int value2 = value + bonusVal;
			SetElement_TaiwuExtraBonuses(bonusType, value2, context);
		}
		else
		{
			AddElement_TaiwuExtraBonuses(bonusType, bonusVal, context);
		}
	}

	public int GetTaiwuExtraBonus(short bonusType)
	{
		return _taiwuExtraBonuses.GetValueOrDefault(bonusType, 0);
	}

	public void RemoveAllTaiwuExtraBonuses(DataContext context)
	{
		ClearTaiwuExtraBonuses(context);
	}

	public CharacterPropertyBonus GetTaiwuPropertyPermanentBonus(ECharacterPropertyReferencedType propertyType)
	{
		//IL_0048: Unknown result type (might be due to invalid IL or missing references)
		//IL_004d: Unknown result type (might be due to invalid IL or missing references)
		//IL_0066: Unknown result type (might be due to invalid IL or missing references)
		//IL_0085: Unknown result type (might be due to invalid IL or missing references)
		CharacterPropertyBonus valueOrDefault = _taiwuPropertyPermanentBonuses.GetValueOrDefault((short)propertyType);
		if (valueOrDefault.IsZero)
		{
			return valueOrDefault;
		}
		if (propertyType == ECharacterPropertyReferencedType.MaxNeili)
		{
			return valueOrDefault;
		}
		if (!DomainManager.Extra.IsProfessionalSkillUnlockedAndEquipped(59))
		{
			return valueOrDefault;
		}
		CValuePercentBonus val = CValuePercentBonus.op_Implicit(50);
		if (valueOrDefault.AddValue > 0)
		{
			ref int addValue = ref valueOrDefault.AddValue;
			addValue *= val;
		}
		if (valueOrDefault.AddPercent > 0)
		{
			ref int addPercent = ref valueOrDefault.AddPercent;
			addPercent *= val;
		}
		return valueOrDefault;
	}

	public void AddTaiwuPropertyPermanentBonus(DataContext context, ECharacterPropertyReferencedType propertyType, EDataModifyType bonusType, int bonusVal)
	{
		//IL_003a: Unknown result type (might be due to invalid IL or missing references)
		//IL_0019: Unknown result type (might be due to invalid IL or missing references)
		short num = (short)propertyType;
		if (_taiwuPropertyPermanentBonuses.TryGetValue(num, out var value))
		{
			value.AddBonus(bonusType, bonusVal);
			SetElement_TaiwuPropertyPermanentBonuses(num, value, context);
		}
		else
		{
			value = default(CharacterPropertyBonus);
			value.AddBonus(bonusType, bonusVal);
			AddElement_TaiwuPropertyPermanentBonuses(num, value, context);
		}
	}

	public void AddSelectedUniqueLegacies(DataContext context, short templateId)
	{
		_selectedUniqueLegacies.Add(templateId);
		SetSelectedUniqueLegacies(_selectedUniqueLegacies, context);
	}

	public bool IsUniqueLegacySelected(short templateId)
	{
		return _selectedUniqueLegacies.Contains(templateId);
	}

	[DomainMethod]
	public List<CharacterPropertyBonus> GetAllCharacterPropertyBonusData()
	{
		List<CharacterPropertyBonus> list = new List<CharacterPropertyBonus>();
		GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
		List<short> featureIds = taiwu.GetFeatureIds();
		for (ECharacterPropertyReferencedType eCharacterPropertyReferencedType = ECharacterPropertyReferencedType.Strength; eCharacterPropertyReferencedType <= ECharacterPropertyReferencedType.MaxNeili; eCharacterPropertyReferencedType++)
		{
			CharacterPropertyBonus orDefault = _taiwuPropertyPermanentBonuses.GetOrDefault((short)eCharacterPropertyReferencedType);
			foreach (short item in featureIds)
			{
				CharacterFeatureItem characterFeatureItem = CharacterFeature.Instance[item];
				if (characterFeatureItem.InheritableTransferTaiwu && characterFeatureItem.CanCrossArchive)
				{
					orDefault.AddValue += characterFeatureItem.GetCharacterPropertyBonusInt(eCharacterPropertyReferencedType);
				}
			}
			list.Add(orDefault);
		}
		return list;
	}

	public void IncreaseLegacyPointTimes(DataContext context, short templateId)
	{
		if (_legacyPointTimesDict.TryGetValue(templateId, out var value))
		{
			value++;
			SetElement_LegacyPointTimesDict(templateId, value, context);
		}
		else
		{
			value = 1;
			AddElement_LegacyPointTimesDict(templateId, value, context);
		}
	}

	public void CalcSingleVillagerSkillLegacy(DataContext context, int charId)
	{
		if (!DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			return;
		}
		for (sbyte b = 0; b < 14; b++)
		{
			short combatSkillAttainment = element.GetCombatSkillAttainment(b);
			if (combatSkillAttainment >= GlobalConfig.Instance.VillagerSkillLegacyAttainmentRequirement && !GetVillagerCombatSkillLegacy(charId, b))
			{
				SetVillagerCombatSkillLegacy(context, charId, b);
				DomainManager.Taiwu.AddLegacyPoint(context, 25);
			}
		}
		for (sbyte b2 = 0; b2 < 16; b2++)
		{
			short lifeSkillAttainment = element.GetLifeSkillAttainment(b2);
			if (lifeSkillAttainment >= GlobalConfig.Instance.VillagerSkillLegacyAttainmentRequirement && !GetVillagerLifeSkillLegacy(charId, b2))
			{
				SetVillagerLifeSkillLegacy(context, charId, b2);
				DomainManager.Taiwu.AddLegacyPoint(context, 19);
			}
		}
	}

	public void CalcSingleVillagerSkillLegacy(DataContext context, DataUid uid)
	{
		if (uid.DomainId == 4 && uid.DataId == 0)
		{
			CalcSingleVillagerSkillLegacy(context, (int)uid.SubId0);
		}
	}

	private bool GetVillagerCombatSkillLegacy(int charId, sbyte combatSkillType)
	{
		return GetVillagerSkillLegacy(charId, combatSkillType);
	}

	private bool GetVillagerLifeSkillLegacy(int charId, sbyte lifeSkillType)
	{
		return GetVillagerSkillLegacy(charId, 14 + lifeSkillType);
	}

	private bool GetVillagerSkillLegacy(int charId, int index)
	{
		if (_villagerSkillLegacyPointDict.TryGetValue(charId, out var value))
		{
			return (value & (1 << index)) != 0;
		}
		return false;
	}

	private void SetVillagerCombatSkillLegacy(DataContext context, int charId, sbyte combatSkillType)
	{
		SetVillageSkillLegacy(context, charId, combatSkillType);
	}

	private void SetVillagerLifeSkillLegacy(DataContext context, int charId, sbyte lifeSkillType)
	{
		SetVillageSkillLegacy(context, charId, 14 + lifeSkillType);
	}

	private void SetVillageSkillLegacy(DataContext context, int charId, int index)
	{
		Tester.Assert(index >= 0 && index < 30);
		if (_villagerSkillLegacyPointDict.TryGetValue(charId, out var value))
		{
			value |= 1 << index;
			SetElement_VillagerSkillLegacyPointDict(charId, value, context);
		}
		else
		{
			value |= 1 << index;
			AddElement_VillagerSkillLegacyPointDict(charId, value, context);
		}
	}

	public void RemoveVillageSkillLegacy(DataContext context, int charId)
	{
		if (_villagerSkillLegacyPointDict.ContainsKey(charId))
		{
			RemoveElement_VillagerSkillLegacyPointDict(charId, context);
			DomainManager.Extra.UnRegisterVillagerSkillLegacyPoint(charId);
		}
	}

	[DomainMethod]
	public void UnlockLegendaryBookBonus(DataContext context, sbyte skillType, bool isYin)
	{
		SByteList value = (isYin ? _legendaryBookBonusCountYin : _legendaryBookBonusCountYang);
		if (value.Items == null)
		{
			value.Items = new List<sbyte>();
			for (sbyte b = 0; b < 14; b++)
			{
				value.Items.Add(0);
			}
			if (isYin)
			{
				SetLegendaryBookBonusCountYin(value, context);
			}
			else
			{
				SetLegendaryBookBonusCountYang(value, context);
			}
		}
		if (value.Items[skillType] < 12)
		{
			int num = value.Items[skillType];
			SByteList sByteList = (isYin ? _legendaryBookBonusCountYang : _legendaryBookBonusCountYin);
			if (sByteList.Items != null)
			{
				num += sByteList.Items[skillType];
			}
			int num2 = GlobalConfig.Instance.LegendaryBookUnlockExp[num];
			GameData.Domains.Character.Character taiwu = DomainManager.Taiwu.GetTaiwu();
			if (num2 > taiwu.GetExp())
			{
				throw new Exception($"Exp not enough. need {num2}, have {taiwu.GetExp()}");
			}
			taiwu.ChangeExp(context, -num2);
			value.Items[skillType]++;
			if (isYin)
			{
				SetLegendaryBookBonusCountYin(value, context);
			}
			else
			{
				SetLegendaryBookBonusCountYang(value, context);
			}
		}
	}

	[DomainMethod]
	public void SetLegendaryBookWeaponSlot(DataContext context, sbyte skillType, ItemKey weaponKey)
	{
		ClearLegendaryBookWeaponSlot(context, skillType);
		if (weaponKey.IsValid())
		{
			long value = (IsBookOwnedByTaiwu(skillType) ? AddLegendaryBookWeaponEffect(context, skillType, weaponKey) : (-1));
			if (!_legendaryBookWeaponSlot.ContainsKey(skillType))
			{
				AddElement_LegendaryBookWeaponSlot(skillType, weaponKey, context);
				AddElement_LegendaryBookWeaponEffectId(skillType, value, context);
			}
			else
			{
				SetElement_LegendaryBookWeaponSlot(skillType, weaponKey, context);
				SetElement_LegendaryBookWeaponEffectId(skillType, value, context);
			}
		}
	}

	private void ClearLegendaryBookWeaponSlot(DataContext context, sbyte skillType)
	{
		if (_legendaryBookWeaponSlot.ContainsKey(skillType) && _legendaryBookWeaponSlot[skillType].IsValid())
		{
			SetElement_LegendaryBookWeaponSlot(skillType, ItemKey.Invalid, context);
			if (_legendaryBookWeaponEffectId[skillType] >= 0)
			{
				DomainManager.SpecialEffect.Remove(context, _legendaryBookWeaponEffectId[skillType]);
				SetElement_LegendaryBookWeaponEffectId(skillType, -1L, context);
			}
		}
	}

	private long AddLegendaryBookWeaponEffect(DataContext context, sbyte skillType, ItemKey weaponKey)
	{
		string className = LegendaryBookSlot.Instance[Config.CombatSkillType.Instance[skillType].LegendaryBookWeaponSlot].ClassName;
		if (string.IsNullOrEmpty(className))
		{
			return -1L;
		}
		string text = "GameData.Domains.SpecialEffect." + className;
		Type type = Type.GetType(text);
		if (type == null)
		{
			throw new Exception("Cannot find type '" + text + "'.");
		}
		SpecialEffectBase specialEffectBase = (SpecialEffectBase)Activator.CreateInstance(type, DomainManager.Taiwu.GetTaiwuCharId(), weaponKey);
		DomainManager.SpecialEffect.Add(context, specialEffectBase);
		return specialEffectBase.Id;
	}

	public void ClearLegendaryBookWeaponSlot(DataContext context, ItemKey weaponKey)
	{
		if (_keepLegendaryWeaponSlotOnItemRemovedFlag)
		{
			return;
		}
		foreach (KeyValuePair<sbyte, ItemKey> item in _legendaryBookWeaponSlot)
		{
			if (item.Value.Equals(weaponKey))
			{
				ClearLegendaryBookWeaponSlot(context, item.Key);
				break;
			}
		}
	}

	public void SetKeepLegendaryWeaponSlotOnItemRemovedFlag(bool flag)
	{
		_keepLegendaryWeaponSlotOnItemRemovedFlag = flag;
	}

	[DomainMethod]
	public void SetLegendaryBookSkillSlot(DataContext context, sbyte skillType, int index, short skillTemplateId)
	{
		ClearLegendaryBookSkillSlot(context, skillType, index);
		if (skillTemplateId < 0)
		{
			return;
		}
		long value = (IsBookOwnedByTaiwu(skillType) ? AddLegendaryBookSkillEffect(context, skillType, index, skillTemplateId) : (-1));
		if (!_legendaryBookSkillSlot.ContainsKey(skillType))
		{
			AddElement_LegendaryBookSkillSlot(skillType, GameData.Utilities.ShortList.Create(), context);
			AddElement_LegendaryBookSkillEffectId(skillType, LongList.Create(), context);
			for (int i = 0; i < 9; i++)
			{
				_legendaryBookSkillSlot[skillType].Items.Add(-1);
				_legendaryBookSkillEffectId[skillType].Items.Add(-1L);
			}
		}
		_legendaryBookSkillSlot[skillType].Items[index] = skillTemplateId;
		SetElement_LegendaryBookSkillSlot(skillType, _legendaryBookSkillSlot[skillType], context);
		_legendaryBookSkillEffectId[skillType].Items[index] = value;
		SetElement_LegendaryBookSkillEffectId(skillType, _legendaryBookSkillEffectId[skillType], context);
	}

	private void ClearLegendaryBookSkillSlot(DataContext context, sbyte skillType, int index)
	{
		if (!_legendaryBookSkillSlot.TryGetValue(skillType, out var value))
		{
			return;
		}
		List<short> items = value.Items;
		if (items != null && items.Count != 0 && items[index] >= 0)
		{
			items[index] = -1;
			SetElement_LegendaryBookSkillSlot(skillType, _legendaryBookSkillSlot[skillType], context);
			LongList value2 = _legendaryBookSkillEffectId[skillType];
			if (value2.Items[index] >= 0)
			{
				DomainManager.SpecialEffect.Remove(context, value2.Items[index]);
				value2.Items[index] = -1L;
				SetElement_LegendaryBookSkillEffectId(skillType, value2, context);
			}
		}
	}

	private long AddLegendaryBookSkillEffect(DataContext context, sbyte skillType, int index, short skillTemplateId)
	{
		string className = LegendaryBookSlot.Instance[Config.CombatSkillType.Instance[skillType].LegendaryBookSkillSlots[index]].ClassName;
		if (string.IsNullOrEmpty(className))
		{
			return -1L;
		}
		string text = "GameData.Domains.SpecialEffect." + className;
		Type type = Type.GetType(text);
		if (type == null)
		{
			throw new Exception("Cannot find type '" + text + "'.");
		}
		CombatSkillKey combatSkillKey = new CombatSkillKey(DomainManager.Taiwu.GetTaiwuCharId(), skillTemplateId);
		SpecialEffectBase specialEffectBase = (SpecialEffectBase)Activator.CreateInstance(type, combatSkillKey);
		DomainManager.SpecialEffect.Add(context, specialEffectBase);
		return specialEffectBase.Id;
	}

	[DomainMethod]
	public void EnterUnlockBreakPlateCombat(DataContext context, sbyte skillType, bool isYin)
	{
		int prevLegendaryBookOwnerCopyId = GetPrevLegendaryBookOwnerCopyId(skillType);
		GameData.Domains.Character.Character character = DomainManager.Character.CreateTemporaryCopyOfCharacter(context, (prevLegendaryBookOwnerCopyId >= 0) ? DomainManager.Character.GetElement_Objects(prevLegendaryBookOwnerCopyId) : DomainManager.Taiwu.GetTaiwu());
		character.SetHealth(character.GetLeftMaxHealth(), context);
		_unlockCombatInfo = (skillType: skillType, isYin: isYin, enemyChar: character);
		DomainManager.Combat.CombatEntry(context, new List<int> { character.GetId() }, 161);
		Events.RegisterHandler_CombatEnd(EnterUnlockBreakPlateCombatOnCombatEnd);
	}

	private void EnterUnlockBreakPlateCombatOnCombatEnd(DataContext context)
	{
		if (DomainManager.Combat.GetCombatStatus() == CombatStatusType.EnemyFail)
		{
			UnlockLegendaryBookBreakPlate(context, _unlockCombatInfo.skillType, _unlockCombatInfo.isYin);
		}
		DomainManager.Character.RemoveTemporaryIntelligentCharacter(context, _unlockCombatInfo.enemyChar);
		Events.UnRegisterHandler_CombatEnd(EnterUnlockBreakPlateCombatOnCombatEnd);
	}

	[DomainMethod]
	public void UnlockLegendaryBookBreakPlate(DataContext context, sbyte skillType, bool isYin)
	{
		sbyte value;
		bool flag = _legendaryBookBreakPlateCounts.TryGetValue(skillType, out value);
		ELegendaryBookSlotState eLegendaryBookSlotState = (ELegendaryBookSlotState)(flag ? value : (-1));
		ELegendaryBookSlotState eLegendaryBookSlotState2 = eLegendaryBookSlotState;
		if (1 == 0)
		{
		}
		ELegendaryBookSlotState eLegendaryBookSlotState3;
		switch (eLegendaryBookSlotState2)
		{
		case ELegendaryBookSlotState.Locked:
			eLegendaryBookSlotState3 = ((!isYin) ? ELegendaryBookSlotState.OnlyYang : ELegendaryBookSlotState.OnlyYin);
			break;
		case ELegendaryBookSlotState.OnlyYang:
			if (!isYin)
			{
				goto default;
			}
			eLegendaryBookSlotState3 = ELegendaryBookSlotState.BothUnlocked;
			break;
		case ELegendaryBookSlotState.OnlyYin:
			if (isYin)
			{
				goto default;
			}
			eLegendaryBookSlotState3 = ELegendaryBookSlotState.BothUnlocked;
			break;
		default:
			eLegendaryBookSlotState3 = eLegendaryBookSlotState;
			break;
		}
		if (1 == 0)
		{
		}
		ELegendaryBookSlotState eLegendaryBookSlotState4 = eLegendaryBookSlotState3;
		if (eLegendaryBookSlotState4 != eLegendaryBookSlotState)
		{
			if (flag)
			{
				SetElement_LegendaryBookBreakPlateCounts(skillType, (sbyte)eLegendaryBookSlotState4, context);
			}
			else
			{
				AddElement_LegendaryBookBreakPlateCounts(skillType, (sbyte)eLegendaryBookSlotState4, context);
			}
		}
	}

	[DomainMethod]
	public void ChangeCombatSkillBreakPlate(DataContext context, short skillId, sbyte index)
	{
		AutoCreateLegendaryBookPlateData(context, skillId);
		if (index != _combatSkillCurrBreakPlateIndex[skillId])
		{
			DomainManager.Taiwu.GetAutoBreakPlate(context, skillId, out var plate, out var obsoletePlate);
			int taiwuCharId = DomainManager.Taiwu.GetTaiwuCharId();
			GameData.Domains.CombatSkill.CombatSkill element_CombatSkills = DomainManager.CombatSkill.GetElement_CombatSkills(new CombatSkillKey(taiwuCharId, skillId));
			TaiwuCombatSkill element_CombatSkills2 = DomainManager.Taiwu.GetElement_CombatSkills(skillId);
			SkillBreakPlateList skillBreakPlateList = _combatSkillBreakPlateList[skillId];
			SkillBreakPlateObsoleteList value = _combatSkillBreakPlateObsoleteList[skillId];
			IntList value2 = _combatSkillBreakPlateLastClearTimeList[skillId];
			IntList value3 = _combatSkillBreakPlateLastForceBreakoutStepsCount[skillId];
			int index2 = _combatSkillCurrBreakPlateIndex[skillId];
			skillBreakPlateList[index2] = ((plate != null) ? new GameData.Domains.Taiwu.SkillBreakPlate(plate) : null);
			value.Items[index2] = ((obsoletePlate != null) ? new SkillBreakPlateObsolete(obsoletePlate) : null);
			value2.Items[index2] = element_CombatSkills2.LastClearBreakPlateTime;
			value3.Items[index2] = element_CombatSkills.GetForcedBreakoutStepsCount();
			SetElement_CombatSkillBreakPlateList(skillId, skillBreakPlateList, context);
			SetElement_CombatSkillBreakPlateObsoleteList(skillId, value, context);
			SetElement_CombatSkillBreakPlateLastClearTimeList(skillId, value2, context);
			SetElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(skillId, value3, context);
			SetElement_CombatSkillCurrBreakPlateIndex(skillId, index, context);
			index2 = _combatSkillCurrBreakPlateIndex[skillId];
			DomainManager.Taiwu.ChangeCurrBreakPlate(context, skillId, skillBreakPlateList[index2], value.Items[index2], value2.Items[index2], value3.Items[index2]);
		}
	}

	private void AutoCreateLegendaryBookPlateData(DataContext context, short skillId)
	{
		if (!TryGetElement_CombatSkillCurrBreakPlateIndex(skillId, out var _))
		{
			AddElement_CombatSkillCurrBreakPlateIndex(skillId, 0, context);
		}
		if (!TryGetElement_CombatSkillBreakPlateList(skillId, out var _))
		{
			SkillBreakPlateList skillBreakPlateList = new SkillBreakPlateList();
			for (int i = 0; i < 3; i++)
			{
				skillBreakPlateList.Add(null);
			}
			AddElement_CombatSkillBreakPlateList(skillId, skillBreakPlateList, context);
		}
		if (!TryGetElement_CombatSkillBreakPlateObsoleteList(skillId, out var _))
		{
			SkillBreakPlateObsoleteList value4 = SkillBreakPlateObsoleteList.Create();
			for (int j = 0; j < 3; j++)
			{
				value4.Items.Add(null);
			}
			AddElement_CombatSkillBreakPlateObsoleteList(skillId, value4, context);
		}
		if (!TryGetElement_CombatSkillBreakPlateLastClearTimeList(skillId, out var value5))
		{
			IntList value6 = IntList.Create();
			for (int k = 0; k < 3; k++)
			{
				value6.Items.Add(-1000);
			}
			AddElement_CombatSkillBreakPlateLastClearTimeList(skillId, value6, context);
		}
		if (!TryGetElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(skillId, out value5))
		{
			IntList value7 = IntList.Create();
			for (int l = 0; l < 3; l++)
			{
				value7.Items.Add(-1);
			}
			AddElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(skillId, value7, context);
		}
	}

	public sbyte GetLegendaryBookWeaponSlotByItemKey(ItemKey weaponKey)
	{
		foreach (var (result, itemKey2) in _legendaryBookWeaponSlot)
		{
			if (itemKey2.Equals(weaponKey))
			{
				return result;
			}
		}
		return -1;
	}

	public sbyte GetCombatSkillCurrBreakPlateIndex(short skillId)
	{
		return _combatSkillCurrBreakPlateIndex.GetValueOrDefault<short, sbyte>(skillId, 0);
	}

	public bool IsBookOwnedByTaiwu(sbyte bookType)
	{
		if (DomainManager.LegendaryBook.GetElement_BookOwners(bookType) == DomainManager.Taiwu.GetTaiwuCharId())
		{
			return true;
		}
		foreach (SectStoryThreeCorpsesCharacter sectRanshanThreeCorpse in _sectRanshanThreeCorpses)
		{
			if (sectRanshanThreeCorpse.LegendaryBooks == null)
			{
				continue;
			}
			foreach (sbyte legendaryBook in sectRanshanThreeCorpse.LegendaryBooks)
			{
				if (bookType == legendaryBook)
				{
					return true;
				}
			}
		}
		return false;
	}

	private void RegisterLegendaryBookDataListener()
	{
		for (ulong num = 0uL; num < 14; num++)
		{
			DataUid dataUid = new DataUid(11, 0, num);
			GameData.GameDataBridge.GameDataBridge.AddPostDataModificationHandler(dataUid, GetType().Name, OnLegendaryBookChange);
			OnLegendaryBookChange(DataContextManager.GetCurrentThreadDataContext(), dataUid);
		}
	}

	private void OnLegendaryBookChange(DataContext context, DataUid dataUid = default(DataUid))
	{
		sbyte b = (sbyte)dataUid.SubId0;
		if (IsBookOwnedByTaiwu(b))
		{
			if (_legendaryBookWeaponSlot.ContainsKey(b) && _legendaryBookWeaponSlot[b].IsValid() && _legendaryBookWeaponEffectId[b] < 0)
			{
				long value = AddLegendaryBookWeaponEffect(context, b, _legendaryBookWeaponSlot[b]);
				SetElement_LegendaryBookWeaponEffectId(b, value, context);
			}
			if (!_legendaryBookSkillSlot.TryGetValue(b, out var value2))
			{
				return;
			}
			List<short> items = value2.Items;
			LongList value3 = _legendaryBookSkillEffectId[b];
			for (int i = 0; i < 9; i++)
			{
				if (items[i] >= 0 && value3.Items[i] < 0)
				{
					long value4 = AddLegendaryBookSkillEffect(context, b, i, items[i]);
					value3.Items[i] = value4;
				}
			}
			SetElement_LegendaryBookSkillEffectId(b, value3, context);
			return;
		}
		if (_legendaryBookWeaponEffectId.ContainsKey(b) && _legendaryBookWeaponEffectId[b] >= 0)
		{
			DomainManager.SpecialEffect.Remove(context, _legendaryBookWeaponEffectId[b]);
			SetElement_LegendaryBookWeaponEffectId(b, -1L, context);
		}
		if (!_legendaryBookSkillSlot.ContainsKey(b))
		{
			return;
		}
		LongList value5 = _legendaryBookSkillEffectId[b];
		for (int j = 0; j < 9; j++)
		{
			if (value5.Items[j] >= 0)
			{
				DomainManager.SpecialEffect.Remove(context, value5.Items[j]);
				value5.Items[j] = -1L;
			}
		}
		SetElement_LegendaryBookSkillEffectId(b, value5, context);
	}

	public void UpdateTaiwuLegendaryBookEffects(DataContext context)
	{
		for (sbyte b = 0; b < 14; b++)
		{
			if (_legendaryBookWeaponEffectId.ContainsKey(b) && _legendaryBookWeaponEffectId[b] >= 0)
			{
				long value = AddLegendaryBookWeaponEffect(context, b, _legendaryBookWeaponSlot[b]);
				DomainManager.SpecialEffect.Remove(context, _legendaryBookWeaponEffectId[b]);
				SetElement_LegendaryBookWeaponEffectId(b, value, context);
			}
			if (_legendaryBookSkillSlot.TryGetValue(b, out var value2))
			{
				List<short> items = value2.Items;
				LongList value3 = _legendaryBookSkillEffectId[b];
				for (int i = 0; i < 9; i++)
				{
					if (value3.Items[i] >= 0)
					{
						long value4 = AddLegendaryBookSkillEffect(context, b, i, items[i]);
						DomainManager.SpecialEffect.Remove(context, value3.Items[i]);
						value3.Items[i] = value4;
					}
				}
				SetElement_LegendaryBookSkillEffectId(b, value3, context);
			}
		}
	}

	internal void SetLegendaryBookWeaponEffectId(DataContext context, sbyte skillType, long currEffectId, long prevEffectId)
	{
		Tester.Assert(_legendaryBookWeaponEffectId[skillType] == prevEffectId);
		SetElement_LegendaryBookWeaponEffectId(skillType, currEffectId, context);
	}

	internal void SetLegendaryBookSkillEffectId(DataContext context, sbyte skillType, long currEffectId, long prevEffectId)
	{
		LongList value = _legendaryBookSkillEffectId[skillType];
		Tester.Assert(value.Items.Contains(prevEffectId));
		int index = value.Items.IndexOf(prevEffectId);
		value.Items[index] = currEffectId;
		SetElement_LegendaryBookSkillEffectId(skillType, value, context);
	}

	public CValueModifyDelta CalcLegendaryBookAddPropertyValue(ECharacterPropertyReferencedType propertyType)
	{
		//IL_0154: Unknown result type (might be due to invalid IL or missing references)
		//IL_0155: Unknown result type (might be due to invalid IL or missing references)
		//IL_0157: Unknown result type (might be due to invalid IL or missing references)
		//IL_015c: Unknown result type (might be due to invalid IL or missing references)
		//IL_0160: Unknown result type (might be due to invalid IL or missing references)
		int num = 0;
		for (sbyte b = 0; b < 14; b++)
		{
			if (IsBookOwnedByTaiwu(b))
			{
				CombatSkillTypeItem combatSkillTypeItem = Config.CombatSkillType.Instance[b];
				sbyte b2 = _legendaryBookBonusCountYin.Items?[b] ?? 0;
				for (int i = 0; i < b2; i++)
				{
					short index = combatSkillTypeItem.LegendaryBookAddPropertyYin[i];
					PropertyAndValue[] propertyBonusList = LegendaryBookPropertyBonusType.Instance[index].PropertyBonusList;
					foreach (PropertyAndValue propertyAndValue in propertyBonusList)
					{
						num += propertyType.Sum(propertyAndValue);
					}
				}
				sbyte b3 = _legendaryBookBonusCountYang.Items?[b] ?? 0;
				for (int k = 0; k < b3; k++)
				{
					short index2 = combatSkillTypeItem.LegendaryBookAddPropertyYang[k];
					PropertyAndValue[] propertyBonusList2 = LegendaryBookPropertyBonusType.Instance[index2].PropertyBonusList;
					foreach (PropertyAndValue propertyAndValue2 in propertyBonusList2)
					{
						num += propertyType.Sum(propertyAndValue2);
					}
				}
			}
		}
		EDataModifyType val = (EDataModifyType)(!CharacterPropertyReferenced.Instance[(int)propertyType].LegendaryBookIsAdd);
		return new CValueModifyDelta(val, num);
	}

	[DomainMethod]
	public void SetTopTask(DataContext context, int topTaskInfoId)
	{
		_taskSortingOrder.Clear();
		_taskSortingOrder.Add(topTaskInfoId);
		SetTaskSortingOrder(_taskSortingOrder, context);
	}

	private void RegisterTaskSortingOrderUpdate()
	{
		DataUid uid = new DataUid(1, 30, ulong.MaxValue);
		GameData.GameDataBridge.GameDataBridge.AddPostDataModificationHandler(uid, "RemoveInvalidTaskSortingOrder", RemoveInvalidTaskSortingOrder);
	}

	private void RemoveInvalidTaskSortingOrder(DataContext context, DataUid uid)
	{
		List<TaskData> taskList = DomainManager.World.GetCurrTaskList();
		if (taskList.Count < _taskSortingOrder.Count)
		{
			_taskSortingOrder.RemoveAll(IsTaskInfoIdNotInTaskList);
		}
		bool IsTaskInfoIdNotInTaskList(int taskInfoId)
		{
			for (int i = 0; i < taskList.Count; i++)
			{
				if (taskList[i].TaskInfoId == taskInfoId)
				{
					return taskList[i].IsBlocked;
				}
			}
			return true;
		}
	}

	public void TriggerExtraTask(DataContext context, int taskChainId, int taskInfoId)
	{
		TaskInfoItem taskInfoItem = TaskInfo.Instance[taskInfoId];
		Tester.Assert(taskInfoItem.IsTriggeredTask, "task " + taskInfoItem.TaskTitle + " is not triggered task.");
		if (_extraTriggeredTasks.Exists((TaskData task) => task.TaskInfoId == taskInfoId && task.TaskChainId == taskChainId))
		{
			return;
		}
		TaskChainItem taskChainItem = TaskChain.Instance[taskChainId];
		Tester.Assert(taskChainItem.TaskList.Contains(taskInfoId));
		if (taskChainItem.Type == ETaskChainType.Line)
		{
			_extraTriggeredTasks.RemoveAll((TaskData task) => task.TaskChainId == taskChainId);
		}
		_extraTriggeredTasks.Add(new TaskData
		{
			TaskChainId = taskChainId,
			TaskInfoId = taskInfoId,
			TaskStatus = 0
		});
		SetExtraTriggeredTasks(_extraTriggeredTasks, context);
		if (taskChainItem.Type != ETaskChainType.Parallel || taskChainItem.TaskList[0] == taskInfoId)
		{
			SetTopTask(context, taskInfoId);
		}
	}

	public void FinishTriggeredExtraTask(DataContext context, int taskChainId, int taskInfoId)
	{
		TaskInfoItem taskInfoItem = TaskInfo.Instance[taskInfoId];
		TaskChainItem taskChainItem = TaskChain.Instance[taskChainId];
		Tester.Assert(taskInfoItem.IsTriggeredTask, "task " + taskInfoItem.TaskTitle + " is not triggered task.");
		Tester.Assert(taskChainItem.TaskList.Contains(taskInfoId));
		int num = _extraTriggeredTasks.FindIndex((TaskData task) => task.TaskChainId == taskChainId && task.TaskInfoId == taskInfoId);
		if (num >= 0)
		{
			_extraTriggeredTasks.RemoveAt(num);
			SetExtraTriggeredTasks(_extraTriggeredTasks, context);
		}
	}

	public void FinishAllTaskInChain(DataContext context, int taskChainId)
	{
		TaskChainItem taskChainItem = TaskChain.Instance[taskChainId];
		List<int> taskList = taskChainItem.TaskList;
		for (int i = 0; i < taskList.Count; i++)
		{
			int taskInfoId = taskList[i];
			TaskInfoItem taskInfoItem = TaskInfo.Instance[taskInfoId];
			Tester.Assert(taskInfoItem.IsTriggeredTask, "task " + taskInfoItem.TaskTitle + " is not triggered task.");
			Tester.Assert(taskChainItem.TaskList.Contains(taskInfoId));
			int num = _extraTriggeredTasks.FindIndex((TaskData task) => task.TaskChainId == taskChainId && task.TaskInfoId == taskInfoId);
			if (num >= 0)
			{
				_extraTriggeredTasks.RemoveAt(num);
			}
		}
		SetExtraTriggeredTasks(_extraTriggeredTasks, context);
	}

	public bool IsExtraTaskInProgress(int taskInfoId)
	{
		return _extraTriggeredTasks.Exists((TaskData task) => task.TaskInfoId == taskInfoId);
	}

	public bool IsExtraTaskChainInProgress(int taskChainId)
	{
		return _extraTriggeredTasks.Exists((TaskData task) => task.TaskChainId == taskChainId);
	}

	public int GetExtraTaskChainCurrentTask(int taskChainId)
	{
		for (int i = 0; i < _extraTriggeredTasks.Count; i++)
		{
			TaskData taskData = _extraTriggeredTasks[i];
			if (taskData.TaskChainId == taskChainId)
			{
				return taskData.TaskInfoId;
			}
		}
		return -1;
	}

	private int Comparision(short x, short y)
	{
		int value = DomainManager.Map.QueryAreaBrokenLevel(x);
		return DomainManager.Map.QueryAreaBrokenLevel(y).CompareTo(value);
	}

	public void InitializeTreasureMaterials(DataContext context, EMiscGenerateType type = EMiscGenerateType.Any)
	{
		for (int i = 0; i < 90; i++)
		{
			TreasureMaterialData[] brokenAreaMaterials = _brokenAreaMaterials;
			int num = i;
			if (brokenAreaMaterials[num] == null)
			{
				brokenAreaMaterials[num] = new TreasureMaterialData();
			}
		}
		List<short> list = ObjectPool<List<short>>.Instance.Get();
		List<short> list2 = ObjectPool<List<short>>.Instance.Get();
		List<short> list3 = ObjectPool<List<short>>.Instance.Get();
		MapDomain map = DomainManager.Map;
		TreasureMaterialHelper treasureMaterialHelper = new TreasureMaterialHelper(type);
		for (int j = 0; j < 90; j++)
		{
			if (_brokenAreaMaterials[j].BlockMaterialTemplateIds.Count == 0)
			{
				continue;
			}
			list2.Clear();
			list3.Clear();
			Dictionary<short, List<short>> blockMaterialTemplateIds = _brokenAreaMaterials[j].BlockMaterialTemplateIds;
			short areaId = (short)(45 + j);
			sbyte stateTemplateIdByAreaId = DomainManager.Map.GetStateTemplateIdByAreaId(areaId);
			foreach (var (num3, collection) in blockMaterialTemplateIds)
			{
				if (!DomainManager.Map.TryGetBlock(new Location(areaId, num3), out var blockData) || !blockData.IsPassable())
				{
					list2.AddRange(collection);
					list3.Add(num3);
				}
			}
			treasureMaterialHelper.RegenerateInState(stateTemplateIdByAreaId, list2);
			foreach (short item in list3)
			{
				blockMaterialTemplateIds.Remove(item);
			}
		}
		for (sbyte b = 0; b < 15; b++)
		{
			map.GetAllBrokenAreaInState(b, list);
			list.Sort(Comparision);
			for (int k = 0; k < list.Count; k++)
			{
				short num4 = list[k];
				list2.Clear();
				treasureMaterialHelper.PickAreaTemplates(context.Random, list2, num4);
				list3.Clear();
				Span<MapBlockData> areaBlocks = map.GetAreaBlocks(num4);
				Span<MapBlockData> span = areaBlocks;
				for (int l = 0; l < span.Length; l++)
				{
					MapBlockData mapBlockData = span[l];
					if (mapBlockData.TemplateId != 38 && mapBlockData.IsPassable())
					{
						list3.Add(mapBlockData.BlockId);
					}
				}
				TreasureMaterialData treasureMaterialData = _brokenAreaMaterials[num4 - 45];
				foreach (short item2 in list2)
				{
					short random = list3.GetRandom(context.Random);
					List<short> orNew = treasureMaterialData.BlockMaterialTemplateIds.GetOrNew(random);
					orNew.Add(item2);
				}
			}
		}
		ObjectPool<List<short>>.Instance.Return(list);
		ObjectPool<List<short>>.Instance.Return(list2);
		ObjectPool<List<short>>.Instance.Return(list3);
		for (int m = 0; m < 90; m++)
		{
			SetElement_BrokenAreaMaterials(m, _brokenAreaMaterials[m], context);
		}
	}

	public void ComplementTreasureMaterials(DataContext context)
	{
		if (_brokenAreaMaterials[0] == null)
		{
			InitializeTreasureMaterials(context);
		}
		else if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 78, 31))
		{
			InitializeTreasureMaterials(context, EMiscGenerateType.V78R31);
		}
		else if (DomainManager.World.IsCurrWorldBeforeVersion(0, 0, 78, 42))
		{
			InitializeTreasureMaterials(context, EMiscGenerateType.Invalid);
		}
	}

	[DomainMethod]
	public TreasureFindResult FindTreasure(DataContext context, int charId)
	{
		if (DomainManager.World.GetLeftDaysInCurrMonth() < 3)
		{
			return TreasureFindResult.Invalid;
		}
		if (!DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			return TreasureFindResult.Invalid;
		}
		Location location = element.GetLocation();
		if (!location.IsValid())
		{
			return TreasureFindResult.Invalid;
		}
		DomainManager.World.AdvanceDaysInMonth(context, 3);
		TreasureFindResult treasureFindResult = new TreasureFindResult();
		treasureFindResult.Location = location;
		TreasureFindResult result = treasureFindResult;
		if (FindTreasureExtra(context, location, element, ref result))
		{
			FindTreasureStandard(context, location, element, ref result);
		}
		if (result.AnyMaterial)
		{
			int arg = DomainManager.Map.QueryAreaBrokenLevel(location.AreaId);
			DomainManager.TaiwuEvent.OnEvent_TaiwuFindMaterial(arg, result);
		}
		else
		{
			FindTreasureApplyResult(context, charId, result);
			FindTreasureGenerateLifeRecord(charId, result);
		}
		return result;
	}

	private unsafe int FindTreasureChance(MapBlockData block, GameData.Domains.Character.Character character)
	{
		Personalities personalities = character.GetPersonalities();
		sbyte luck = personalities.Items[5];
		return block.CalcFindTreasureChance(luck);
	}

	private unsafe int FindTreasureChance(MapBlockData block, GameData.Domains.Character.Character character, int itemsCount)
	{
		Personalities personalities = character.GetPersonalities();
		sbyte luck = personalities.Items[5];
		return block.CalcFindTreasureChanceByItemsCount(luck, itemsCount);
	}

	private void FindTreasureStandard(DataContext context, Location location, GameData.Domains.Character.Character character, ref TreasureFindResult result)
	{
		MapBlockData block = DomainManager.Map.GetBlock(location);
		int percentProb = FindTreasureChance(block, character);
		if (context.Random.CheckPercentProb(percentProb))
		{
			result.ItemKeyAndDate = RandomUtils.GetRandomResult(block.Items.Keys.Select((ItemKeyAndDate itemAndDate) => ((ItemKeyAndDate itemAndDate, short))(itemAndDate: itemAndDate, GlobalConfig.Instance.FindTreasureGradeRate[ItemTemplateHelper.GetGrade(itemAndDate.ItemKey.ItemType, itemAndDate.ItemKey.TemplateId)])), context.Random);
			result.ItemCount = (uint)block.Items[result.ItemKeyAndDate];
		}
		if (TryGetLocationMaterials(location, out var materials) && materials.Count > 0 && context.Random.CheckPercentProb(20 + _treasureMaterialFailedTimes * 10))
		{
			SetTreasureMaterialFailedTimes(0, context);
			result.MaterialTemplateId = materials[context.Random.Next(materials.Count)];
		}
		else if (materials != null && materials.Count > 0)
		{
			SetTreasureMaterialFailedTimes(_treasureMaterialFailedTimes + 1, context);
			result.ResourceType = 6;
			result.ResourceCount = context.Random.Next(100, 300);
		}
	}

	private bool FindTreasureExtra(DataContext context, Location location, GameData.Domains.Character.Character character, ref TreasureFindResult result)
	{
		MapBlockData block = DomainManager.Map.GetBlock(location);
		if (IsExtraTaskInProgress(226) && character.GetId() == DomainManager.Taiwu.GetTaiwuCharId() && block.GetConfig().SubType == EMapBlockSubType.ShaolinPai)
		{
			List<ItemKey> extraItems = new List<ItemKey>(3);
			DomainManager.World.ShaolinGetSutraBooks(context, 0, 2, delegate(ItemKey itemKey)
			{
				extraItems.Add(itemKey);
			});
			result.ExtraItems = extraItems;
			result.SetExtraItemType(ETreasureExtraItemType.ShaolinSutra);
			return false;
		}
		if (block.Items != null && block.Items.Keys.Any((ItemKeyAndDate x) => EatingItems.IsWugKing(x.ItemKey)))
		{
			List<ItemKeyAndDate> list = ObjectPool<List<ItemKeyAndDate>>.Instance.Get();
			foreach (ItemKeyAndDate key in block.Items.Keys)
			{
				if (EatingItems.IsWugKing(key.ItemKey))
				{
					list.Add(key);
				}
			}
			ItemKeyAndDate random = list.GetRandom(context.Random);
			DomainManager.Map.RemoveBlockItem(context, block, random);
			result.ExtraItems = new List<ItemKey>();
			result.ExtraItems.Add(random.ItemKey);
			result.SetExtraItemType(ETreasureExtraItemType.WuxianWugKing);
			return false;
		}
		foreach (LoongInfo value2 in _fiveLoongDict.Values)
		{
			if (!value2.MapBlockExtraItems.TryGetValue(location, out var value))
			{
				continue;
			}
			List<ItemKey> list2 = new List<ItemKey>();
			foreach (KeyValuePair<ItemKey, int> item in value.Items)
			{
				for (int num = 0; num < item.Value; num++)
				{
					list2.Add(item.Key);
				}
			}
			if (list2.Count <= 0 || !context.Random.CheckPercentProb(FindTreasureChance(block, character, list2.Count)))
			{
				continue;
			}
			result.ExtraItems = list2;
			result.SetExtraItemType(ETreasureExtraItemType.LoongInventory);
			return false;
		}
		return true;
	}

	[DomainMethod]
	public void InvokeFindExtraTreasureEvent(TreasureFindResult result)
	{
		DomainManager.TaiwuEvent.OnEvent_TaiwuFindExtraTreasure(result);
	}

	[DomainMethod]
	public TreasureExpectResult FindTreasureExpect(Location location)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(DomainManager.Taiwu.GetTaiwuCharId());
		MapBlockData block = DomainManager.Map.GetBlock(location);
		int chance = FindTreasureChance(block, element_Objects);
		bool flag = chance > 0;
		sbyte maxGrade = 0;
		if (flag)
		{
			for (int i = 0; i < block.Items.Keys.Count; i++)
			{
				ItemKey itemKey = block.Items.Keys[i].ItemKey;
				sbyte grade = ItemTemplateHelper.GetGrade(itemKey.ItemType, itemKey.TemplateId);
				maxGrade = Math.Max(maxGrade, grade);
			}
		}
		bool anyMaterial = IsLocationContainsAnyMaterial(location);
		FindTreasureExpectExtra(location, ref maxGrade, ref chance);
		return new TreasureExpectResult
		{
			MaxGrade = maxGrade,
			Chance = chance,
			Location = location,
			AnyMaterial = anyMaterial,
			AnyNormalItem = flag
		};
	}

	private void FindTreasureExpectExtra(Location location, ref sbyte maxGrade, ref int chance)
	{
		foreach (LoongInfo value2 in _fiveLoongDict.Values)
		{
			if (!value2.MapBlockExtraItems.TryGetValue(location, out var value))
			{
				continue;
			}
			foreach (KeyValuePair<ItemKey, int> item in value.Items)
			{
				sbyte grade = ItemTemplateHelper.GetGrade(item.Key.ItemType, item.Key.TemplateId);
				if (grade > maxGrade)
				{
					maxGrade = grade;
				}
			}
			GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(DomainManager.Taiwu.GetTaiwuCharId());
			MapBlockData block = DomainManager.Map.GetBlock(location);
			chance = FindTreasureChance(block, element_Objects, value.Items.Count);
		}
	}

	public void FindTreasureApplyResult(DataContext context, int charId, TreasureFindResult result, List<ItemKey> addedItemKeys = null)
	{
		if (!result.Success || !DomainManager.Character.TryGetElement_Objects(charId, out var element))
		{
			return;
		}
		bool flag = addedItemKeys == null;
		if (addedItemKeys == null)
		{
			addedItemKeys = ObjectPool<List<ItemKey>>.Instance.Get();
		}
		addedItemKeys.Clear();
		if (result.AnyItem)
		{
			ItemKeyAndDate itemKeyAndDate = result.ItemKeyAndDate;
			MapBlockData block = DomainManager.Map.GetBlock(result.Location);
			int num = block.Items[itemKeyAndDate];
			DomainManager.Map.RemoveBlockItem(context, block, itemKeyAndDate);
			Tester.Assert(num > 0);
			element.AddInventoryItem(context, result.ItemKey, num);
			for (int i = 0; i < num; i++)
			{
				addedItemKeys.Add(result.ItemKey);
			}
		}
		if (result.AnyMaterial)
		{
			int num2 = result.Location.AreaId - 45;
			List<short> list = _brokenAreaMaterials[num2].BlockMaterialTemplateIds[result.Location.BlockId];
			list.Remove(result.MaterialTemplateId);
			SetElement_BrokenAreaMaterials(num2, _brokenAreaMaterials[num2], context);
			ItemKey itemKey = DomainManager.Item.CreateMisc(context, result.MaterialTemplateId);
			element.AddInventoryItem(context, itemKey, 1);
			addedItemKeys.Add(itemKey);
		}
		if (result.AnyResource)
		{
			element.ChangeResource(context, result.ResourceType, result.ResourceCount);
		}
		if (result.AnyExtraItem)
		{
			List<ItemKey> list2 = new List<ItemKey>();
			short[] array = _fiveLoongDict.Keys.ToArray();
			for (int num3 = result.ExtraItems.Count - 1; num3 >= 0; num3--)
			{
				ItemKey itemKey2 = result.ExtraItems[num3];
				bool flag2 = false;
				short[] array2 = array;
				foreach (short num4 in array2)
				{
					LoongInfo loongInfo = _fiveLoongDict[num4];
					bool flag3 = false;
					if (loongInfo.MapBlockExtraItems.TryGetValue(result.Location, out var value) && value.Items.ContainsKey(itemKey2))
					{
						ItemKey itemKey3 = ((itemKey2.TemplateId == 280) ? DropJiaoEgg(context, isIgnoreDropRate: true, loongInfo.CharacterTemplateId, -1) : DomainManager.Item.CreateItem(context, itemKey2.ItemType, itemKey2.TemplateId));
						if (itemKey3.IsValid())
						{
							element.AddInventoryItem(context, itemKey3, 1);
							flag3 = true;
							list2.Add(itemKey3);
						}
						value.OfflineRemove(itemKey2, 1);
						flag2 = true;
					}
					if (flag3)
					{
						SetLoongInfo(context, num4, loongInfo);
					}
				}
				if (flag2)
				{
					result.ExtraItems.RemoveAt(num3);
				}
			}
			foreach (ItemKey extraItem in result.ExtraItems)
			{
				element.AddInventoryItem(context, extraItem, 1);
			}
			result.ExtraItems.AddRange(list2);
			addedItemKeys.AddRange(result.ExtraItems);
		}
		foreach (ItemKey addedItemKey in addedItemKeys)
		{
			ItemBase baseItem = DomainManager.Item.GetBaseItem(addedItemKey);
			ProfessionFormulaItem formulaCfg = ProfessionFormula.Instance[5];
			int baseDelta = formulaCfg.Calculate(baseItem.GetValue());
			DomainManager.Extra.ChangeProfessionSeniority(context, 0, baseDelta);
		}
		if (flag)
		{
			ObjectPool<List<ItemKey>>.Instance.Return(addedItemKeys);
		}
	}

	public void FindTreasureGenerateLifeRecord(int charId, TreasureFindResult result, bool battleFailed = false)
	{
		GameData.Domains.Character.Character element_Objects = DomainManager.Character.GetElement_Objects(charId);
		Location location = element_Objects.GetLocation();
		LifeRecordCollection lifeRecordCollection = DomainManager.LifeRecord.GetLifeRecordCollection();
		int currDate = DomainManager.World.GetCurrDate();
		if (!result.Success)
		{
			lifeRecordCollection.AddFindLostItemFail(charId, currDate, location);
			return;
		}
		if (battleFailed)
		{
			lifeRecordCollection.AddDiggingXiangshuMinionCombatLost(charId, currDate, location);
			return;
		}
		if (result.AnyItem)
		{
			ItemKey itemKey = result.ItemKey;
			lifeRecordCollection.AddFindLostItemSucceed(charId, currDate, location, itemKey.ItemType, itemKey.TemplateId);
		}
		if (result.AnyExtraItem)
		{
			foreach (ItemKey extraItem in result.ExtraItems)
			{
				lifeRecordCollection.AddFindLostItemSucceed(charId, currDate, location, extraItem.ItemType, extraItem.TemplateId);
			}
		}
		if (result.AnyMaterial)
		{
			lifeRecordCollection.AddDiggingXiangshuMinionCombatWon(charId, currDate, location, 12, result.MaterialTemplateId);
		}
	}

	private bool IsLocationContainsAnyMaterial(Location location)
	{
		short areaId = location.AreaId;
		if ((areaId < 45 || areaId >= 135) ? true : false)
		{
			return false;
		}
		TreasureMaterialData treasureMaterialData = _brokenAreaMaterials[location.AreaId - 45];
		if (treasureMaterialData?.BlockMaterialTemplateIds == null)
		{
			return false;
		}
		if (!treasureMaterialData.BlockMaterialTemplateIds.TryGetValue(location.BlockId, out var value))
		{
			return false;
		}
		return value != null && value.Count > 0;
	}

	private bool TryGetLocationMaterials(Location location, out List<short> materials)
	{
		materials = null;
		short areaId = location.AreaId;
		if ((areaId < 45 || areaId >= 135) ? true : false)
		{
			return false;
		}
		TreasureMaterialData treasureMaterialData = _brokenAreaMaterials[location.AreaId - 45];
		if (treasureMaterialData?.BlockMaterialTemplateIds == null)
		{
			return false;
		}
		return treasureMaterialData.BlockMaterialTemplateIds.TryGetValue(location.BlockId, out materials);
	}

	private void InitializeTaiwuVillageStorages()
	{
		InitializeStorage(_stockStorage, 2);
		InitializeStorage(_craftStorage, 4);
		InitializeStorage(_medicineStorage, 4);
		InitializeStorage(_foodStorage, 2);
		static void InitializeStorage(TaiwuVillageStorage storage, int count)
		{
			Inventory[] inventories = storage.Inventories;
			if (inventories == null || inventories.Length <= 0)
			{
				storage.Inventories = new Inventory[count];
				for (int i = 0; i < count; i++)
				{
					storage.Inventories[i] = new Inventory();
				}
			}
		}
	}

	private void UpgradeSettlementTreasuries()
	{
		if (_settlementTreasuries.TryGetValue(DomainManager.Taiwu.GetTaiwuVillageSettlementId(), out var value))
		{
			value.UpgradeData();
		}
	}

	internal void CommitTaiwuVillageStorages(DataContext context)
	{
		if (_stockStorage.NeedCommit)
		{
			SetStockStorage(_stockStorage, context);
			_stockStorage.NeedCommit = false;
		}
		if (_craftStorage.NeedCommit)
		{
			SetCraftStorage(_craftStorage, context);
			_craftStorage.NeedCommit = false;
		}
		if (_medicineStorage.NeedCommit)
		{
			SetMedicineStorage(_medicineStorage, context);
			_medicineStorage.NeedCommit = false;
		}
		if (_foodStorage.NeedCommit)
		{
			SetFoodStorage(_foodStorage, context);
			_foodStorage.NeedCommit = false;
		}
	}

	public void AddStockStorageItem(DataContext context, sbyte subStorageType, ItemKey itemKey, int amount)
	{
		Tester.Assert(itemKey.IsValid());
		Tester.Assert(amount > 0);
		DomainManager.Item.SetOwner(itemKey, (ItemOwnerType)(10 + subStorageType), DomainManager.Taiwu.GetTaiwuVillageSettlementId());
		_stockStorage.Inventories[subStorageType].OfflineAdd(itemKey, amount);
		_stockStorage.NeedCommit = true;
		Events.RaiseTaiwuItemModified(context, itemKey);
	}

	public void RemoveStockStorageItem(DataContext context, sbyte subStorageType, ItemKey itemKey, int amount, bool deleteItem = false)
	{
		Tester.Assert(itemKey.IsValid());
		Tester.Assert(amount > 0);
		DomainManager.Item.RemoveOwner(itemKey, (ItemOwnerType)(10 + subStorageType), DomainManager.Taiwu.GetTaiwuVillageSettlementId());
		_stockStorage.Inventories[subStorageType].OfflineRemove(itemKey, amount);
		_stockStorage.NeedCommit = true;
		Events.RaiseTaiwuItemModified(context, itemKey);
		if (deleteItem)
		{
			DomainManager.Item.RemoveItem(context, itemKey);
		}
	}

	public void SetSettlementTreasuries(DataContext context, short settlementId, SettlementTreasury settlementTreasury)
	{
		settlementTreasury.DetectAndFixInvalidData();
		if (_settlementTreasuries.ContainsKey(settlementId))
		{
			SetElement_SettlementTreasuries(settlementId, settlementTreasury, context);
		}
		else
		{
			AddElement_SettlementTreasuries(settlementId, settlementTreasury, context);
		}
	}

	public int GetStockStorageGoosShelfItemCount(ItemKey itemKey)
	{
		_stockStorage.Inventories[1].Items.TryGetValue(itemKey, out var value);
		return value;
	}

	[DomainMethod]
	public void TroughAdd(DataContext context, ItemKey itemKey, int amount)
	{
		Tester.Assert(itemKey.IsValid());
		Tester.Assert(amount > 0);
		DomainManager.Item.SetOwner(itemKey, ItemOwnerType.Trough, DomainManager.Taiwu.GetTaiwuVillageSettlementId());
		if (_troughItems.TryGetValue(itemKey, out var value))
		{
			SetElement_TroughItems(itemKey, value + amount, context);
		}
		else
		{
			AddElement_TroughItems(itemKey, amount, context);
		}
		if (ItemType.IsEquipmentItemType(itemKey.ItemType))
		{
			EquipmentBase baseEquipment = DomainManager.Item.GetBaseEquipment(itemKey);
			baseEquipment.SetModificationState(baseEquipment.GetModificationState(), context);
		}
	}

	[DomainMethod]
	public void TroughAddList(DataContext context, List<ItemKey> keyList)
	{
		Tester.Assert(keyList != null);
		Tester.Assert(keyList.Count > 0);
		foreach (ItemKey key in keyList)
		{
			TroughAdd(context, key, 1);
		}
	}

	[DomainMethod]
	public void TroughRemove(DataContext context, ItemKey itemKey, int amount, bool deleteItem = false)
	{
		Tester.Assert(itemKey.IsValid());
		Tester.Assert(amount > 0);
		DomainManager.Item.RemoveOwner(itemKey, ItemOwnerType.Trough, DomainManager.Taiwu.GetTaiwuVillageSettlementId());
		int num = _troughItems[itemKey] - amount;
		if (num > 0)
		{
			SetElement_TroughItems(itemKey, num, context);
			return;
		}
		if (num == 0)
		{
			RemoveElement_TroughItems(itemKey, context);
			if (ItemType.IsEquipmentItemType(itemKey.ItemType))
			{
				EquipmentBase baseEquipment = DomainManager.Item.GetBaseEquipment(itemKey);
				baseEquipment.SetModificationState(baseEquipment.GetModificationState(), context);
			}
			if (deleteItem)
			{
				DomainManager.Item.RemoveItem(context, itemKey);
			}
			return;
		}
		throw new Exception($"Item amount cannot be negative after removing: {itemKey}, {amount}");
	}

	[DomainMethod]
	public void TroughRemoveList(DataContext context, List<ItemKey> keyList, bool deleteItem = false)
	{
		Tester.Assert(keyList != null);
		Tester.Assert(keyList.Count > 0);
		foreach (ItemKey key in keyList)
		{
			TroughRemove(context, key, 1, deleteItem);
		}
	}

	public void SetTrough(DataContext context, ItemKey itemKey, int amount)
	{
		SetElement_TroughItems(itemKey, amount, context);
	}

	public int CalcTroughCurrLoad()
	{
		int num = 0;
		foreach (KeyValuePair<ItemKey, int> troughItem in _troughItems)
		{
			troughItem.Deconstruct(out var key, out var value);
			ItemKey itemKey = key;
			int num2 = value;
			ItemBase baseItem = DomainManager.Item.GetBaseItem(itemKey);
			num += baseItem.GetWeight() * num2;
		}
		return num;
	}

	[DomainMethod]
	public TaiwuVillageStoragesRecordCollection GetTaiwuVillageStoragesRecordCollection(DataContext context)
	{
		return GetTaiwuVillageStoragesRecordCollection();
	}

	public void SetTaiwuVillageStoragesRecordCollection(DataContext context, TaiwuVillageStoragesRecordCollection value)
	{
		SetTaiwuVillageStoragesRecordCollection(value, context);
	}

	private void InitializeTaiwuVillageStorageSetting(DataContext context)
	{
		foreach (KeyValuePair<TaiwuVillageStorageType, IReadOnlyList<VillagerRoleActionType>> item in SharedData.ActionDict)
		{
			item.Deconstruct(out var key, out var value);
			TaiwuVillageStorageType taiwuVillageStorageType = key;
			IReadOnlyList<VillagerRoleActionType> readOnlyList = value;
			sbyte key2 = (sbyte)taiwuVillageStorageType;
			if (_taiwuVillageStorageSettingDict.ContainsKey(key2))
			{
				continue;
			}
			VillagerRoleActionSetting villagerRoleActionSetting = new VillagerRoleActionSetting();
			villagerRoleActionSetting.ActionStorageDict = new Dictionary<sbyte, sbyte>();
			foreach (VillagerRoleActionType item2 in readOnlyList)
			{
				villagerRoleActionSetting.SetActionStorage(item2, SharedData.StorageDefaultDict[item2]);
			}
			AddElement_TaiwuVillageStorageSettingDict((sbyte)taiwuVillageStorageType, villagerRoleActionSetting, context);
		}
	}

	[Obsolete]
	public Dictionary<sbyte, VillagerRoleActionSetting> GetVillagerRoleActionSettingDict(DataContext context)
	{
		InitializeTaiwuVillageStorageSetting(context);
		return _taiwuVillageStorageSettingDict;
	}

	[Obsolete]
	public void SetVillagerRoleActionSetting(DataContext context, TaiwuVillageStorageType storageType, VillagerRoleActionSetting setting)
	{
		SetElement_TaiwuVillageStorageSettingDict((sbyte)storageType, setting, context);
	}

	public void SetTreasuries(DataContext context, short id, SettlementLayeredTreasuries treasuries, bool needUpdateTotalValue)
	{
		if (needUpdateTotalValue)
		{
			treasuries.CurrentTotalValue = 0;
			SettlementTreasury[] settlementTreasuries = treasuries.SettlementTreasuries;
			foreach (SettlementTreasury settlementTreasury in settlementTreasuries)
			{
				for (sbyte b = 0; b < 7; b++)
				{
					treasuries.CurrentTotalValue += ResourceTypeHelper.ResourceAmountToWorth(b, settlementTreasury.Resources[b]);
				}
				treasuries.CurrentTotalValue += settlementTreasury.Inventory.GetTotalValue();
			}
		}
		if (_settlementLayeredTreasuries.ContainsKey(id))
		{
			SetElement_SettlementLayeredTreasuries(id, treasuries, context);
		}
		else
		{
			AddElement_SettlementLayeredTreasuries(id, treasuries, context);
		}
	}

	public IEnumerable<short> GetAllAlteredSettlementIds()
	{
		foreach (var (settlementId, treasury) in _settlementLayeredTreasuries)
		{
			if (treasury.AlertTime > 0)
			{
				yield return settlementId;
			}
		}
	}

	public void InitTreasurySupplies()
	{
		List<Settlement> list = new List<Settlement>();
		DomainManager.Organization.GetAllSettlements(list);
		foreach (Settlement item in list)
		{
			item.InitializeTreasurySupplyRequirements();
		}
	}

	private void InitTreasuries(DataContext context)
	{
		List<Settlement> list = new List<Settlement>();
		DomainManager.Organization.GetAllSettlements(list);
		foreach (Settlement item in list)
		{
			item.UpdateTreasury(context);
		}
	}

	public void InitializeCanResetWorldSettings(DataContext context)
	{
		SetCanResetWorldSettings(value: false, context);
	}

	public void InitializeWorldVersionInfo(DataContext context)
	{
		GameVersionInfo gameVersionInfo = GetWorldVersionInfo() ?? new GameVersionInfo();
		gameVersionInfo.TimestampCreating = DateTime.UtcNow.Ticks;
		gameVersionInfo.GameVersionCreating = DomainManager.Global.GetGameVersion();
		gameVersionInfo.GameVersionLastSaving = DomainManager.Global.GetGameVersion();
		SetWorldVersionInfo(gameVersionInfo, context);
		DomainManager.World.UpdateCurrWorldGameVersion();
	}

	public void UpdateSavingWorldVersionInfo(DataContext context)
	{
		GameVersionInfo gameVersionInfo = GetWorldVersionInfo() ?? new GameVersionInfo();
		gameVersionInfo.GameVersionLastSaving = DomainManager.Global.GetGameVersion();
		SetWorldVersionInfo(gameVersionInfo, context);
		DomainManager.World.UpdateCurrWorldGameVersion();
	}

	internal void BigEventGainSwordTombRemoved(DataContext context, sbyte swordTombType)
	{
		SwordTombItem item = SwordTomb.Instance.GetItem(swordTombType);
		if (item != null)
		{
			if (!TryGetElement_BigEvents(item.BigEventWhenRemoved, out var value))
			{
				AddElement_BigEvents(item.BigEventWhenRemoved, value = new BigEventRecord(), context);
			}
			value.OccurDate = DomainManager.World.GetCurrDate();
			SetElement_BigEvents(item.BigEventWhenRemoved, value, context);
		}
	}

	public ExtraDomain()
		: base(314)
	{
		_characterSecretInformationUsedCounts = new Dictionary<int, SecretInformationCharacterUsedCount>(0);
		_secretInformationOccurredLocations = new Dictionary<int, Location>(0);
		_secretInformationBroadcastList = new SortedSetAsDictionary<int>();
		_exchangedSpecialWeaponList = new List<int>();
		_caravanStayDays = new Dictionary<int, short>(0);
		_merchantCharToType = new Dictionary<int, sbyte>(0);
		_merchantCharToExtraGoods = new Dictionary<int, MerchantExtraGoods>(0);
		_stationInited = 0;
		_manualChangeEquipGroupCharIds = default(CharacterSet);
		_stoneRoomCharList = new List<int>();
		_hideSkeletonEquipSlots = new Dictionary<int, SByteList>(0);
		_combatSkillOrderPlans = new Dictionary<int, GameData.Utilities.ShortList>(0);
		_locationMarkHashSet = new HashSetAsDictionary<Location>();
		_taiwuExtraBonuses = new Dictionary<short, int>(0);
		_autoWorkBlockIndexList = new List<short>();
		_autoSoldBlockIndexList = new List<short>();
		_secretInformationBroadcastNotifyList = new List<SecretInformationBroadcastTipsData>();
		_treasuryItems = new Dictionary<ItemKey, int>(0);
		_troughItems = new Dictionary<ItemKey, int>(0);
		_xiangshuIdInKungfuPracticeRoom = new List<sbyte>();
		_removedSpecialRelations = new Dictionary<RelationKey, ushort>(0);
		_shopArrangeResultFirstList = new List<short>();
		_autoExpandBlockIndexList = new List<short>();
		_worldCharacterExtraTitles = new Dictionary<IntPair, int>(0);
		_readingEventBookIdList = new List<int>();
		_clearedSkillPlateStepInfo = new Dictionary<short, IntPair>(0);
		_travelingEventCollection = new TravelingEventCollection();
		_dlcArgBox = new EventArgBox();
		_prevTriggeredTravelingEvents = new List<short>();
		_gainsInTravel = new List<ItemKey>();
		_maxApprovingRateTemporaryBonus = new List<MaxApprovingRateTempBonus>();
		_lifeSkillCombatCardDict = new Dictionary<sbyte, LifeSkillCombatCardCollection>(0);
		_lifeSkillCombatUsedCardDict = new Dictionary<sbyte, LifeSkillCombatCardCollection>(0);
		_lifeSkillCombatReadBookPageDict = new Dictionary<short, LifeSkillCombatReadBookPageData>(0);
		_lifeSkillCombatNewCardDict = new Dictionary<sbyte, LifeSkillCombatCardCollection>(0);
		_characterAiActionRestrictions = new Dictionary<int, AiActionAdjusts>(0);
		_extraExternalRelationStates = new Dictionary<int, ulong>(0);
		_secretInformationBroadcastNotifyExtraList = new List<SecretInformationBroadcastTipsExtraData>();
		_charTeammateCommandDict = new Dictionary<int, SByteList>(0);
		_nicknameDict = new Dictionary<int, int>(0);
		_legendaryBookBreakPlateCounts = new Dictionary<sbyte, sbyte>(0);
		_contestForLegendaryBookChars = new Dictionary<sbyte, CharacterSet>(0);
		_legendaryBookWeaponSlot = new Dictionary<sbyte, ItemKey>(0);
		_legendaryBookWeaponEffectId = new Dictionary<sbyte, long>(0);
		_legendaryBookSkillSlot = new Dictionary<sbyte, GameData.Utilities.ShortList>(0);
		_legendaryBookSkillEffectId = new Dictionary<sbyte, LongList>(0);
		_legendaryBookBonusCountYin = default(SByteList);
		_legendaryBookBonusCountYang = default(SByteList);
		_prevLegendaryBookOwnerCopies = new Dictionary<sbyte, IntPair>(0);
		_legendaryBookShockedMonths = new Dictionary<int, int>(0);
		_combatSkillBreakPlateLastClearTimeList = new Dictionary<short, IntList>(0);
		_combatSkillCurrBreakPlateIndex = new Dictionary<short, sbyte>(0);
		_combatSkillBreakPlateObsoleteList = new Dictionary<short, SkillBreakPlateObsoleteList>(0);
		_legendaryBookConsumedCharIds = default(CharacterSet);
		_characterAiActionCooldowns = new Dictionary<int, AiExtraActionCooldowns>(0);
		_characterTemporaryFeatures = new Dictionary<IntPair, int>(0);
		_extraTriggeredTasks = new List<TaskData>();
		_taskSortingOrder = new List<int>();
		_legendaryBookHiddenCharIds = default(CharacterSet);
		_characterAiActionSuccessRateAdjusts = new Dictionary<IntPair, AiActionAdjusts>(0);
		_loveDataDict = new Dictionary<int, LoveDataItem>(0);
		_previousLoverSet = new HashSetAsDictionary<int>();
		_confessLoveFailedSet = new HashSetAsDictionary<int>();
		_loveTokenDataDict = new Dictionary<ItemKey, LoveTokenDataItem>(0);
		_obsoleteTaiwuProfessions = new Dictionary<int, ObsoleteProfessionData>(0);
		_taiwuCurrProfessionId = 0;
		_savedSouls = new HashSetAsDictionary<int>();
		_cricketIsSmart = new Dictionary<int, bool>(0);
		_cricketIsIdentified = new Dictionary<int, bool>(0);
		_taiwuInteractionCooldowns = new Dictionary<IntPair, int>(0);
		_characterCustomDisplayNames = new Dictionary<int, int>(0);
		_animalAreaData = new AnimalAreaData[139];
		_handledOneShotEvents = new HashSetAsDictionary<int>();
		_hunterAnimals = new List<HunterAnimalKeyBroken>();
		_worldVersionInfo = new GameVersionInfo();
		_sectMainStoryEventArgBoxes = new EventArgBox[15];
		_changeTrickBodyPart = 0;
		_changeTrickIndex = 0;
		_voiceWeaponInnerRatio = 0;
		_sectXuehouBloodLightLocations = new List<Location>();
		_characterAvatarSnapshot = new Dictionary<int, AvatarData>(0);
		_brokenAreaMaterials = new TreasureMaterialData[90];
		_sectWudangFairylandData = new List<SectStoryFairyland>();
		_treasureMaterialFailedTimes = 0;
		_sectYuanshanDemonEffectIds = new long[3];
		_taiwuMaxNeiliAllocation = default(NeiliAllocation);
		_characterMasteredCombatSkills = new Dictionary<int, GameData.Utilities.ShortList>(0);
		_masteredCombatSkillPlans = new GameData.Utilities.ShortList[9];
		_breakoutDifficulty = 0;
		_readingDifficulty = 0;
		_loopingDifficulty = 0;
		_combatSkillBreakPlateLastForceBreakoutStepsCount = new Dictionary<short, IntList>(0);
		_pregeneratedFixedEnemies = new Dictionary<short, int>(0);
		_autoCheckInComfortableList = new List<short>();
		_autoCheckInResidenceList = new List<short>();
		_readingEventReferenceBooks = new Dictionary<int, GameData.Utilities.ShortList>(0);
		_merchantTypeToDebts = new Dictionary<sbyte, Debts>(0);
		_merchantBuyBackDict = new Dictionary<int, MerchantBuyBackDebt>(0);
		_merchantMaxLevelBuyBackData = new MerchantBuyBackDebt[7];
		_caravanBuyBackDict = new Dictionary<int, MerchantBuyBackDebt>(0);
		_firstLegendaryBookDelay = 0;
		_legaciesBuildingTemplateIdList = new List<short>();
		_isDreamBack = false;
		_abridgedDreamBackCharacters = new Dictionary<int, AbridgedCharacter>(0);
		_unlockedWorkingVillagers = new List<int>();
		_dreamBackLifeRecords = new ReadonlyLifeRecords();
		_actionPointCurrMonth = 0;
		_actionPointPrevMonth = 0;
		_advancedTeammateCommandDict = new Dictionary<int, SByteList>(0);
		_lastMonthNotificationsIndex = 0;
		_previousMonthlyNotifications = new Dictionary<int, MonthlyNotificationCollection>(0);
		_actionPointPreserved = 0;
		_villageWorkQualificationImprove = new Dictionary<int, GameData.Utilities.ShortList>(0);
		_readInLifeSkillCombatCount = 0;
		_sectWudangHeavenlyTree = default(SectStoryHeavenlyTree);
		_sectWudangHeavenlyTreeList = new List<SectStoryHeavenlyTreeExtendable>();
		_sectWudangLingBaoDark = new List<Location>();
		_sectWudangLingBaoLight = new List<Location>();
		_shixiangBarbarianMasterIdList = new List<int>();
		_legaciesBuildingList = new List<BuildingBlockKey>();
		_groupCharacterEquipmentRecord = new Dictionary<int, EquipmentPlan>(0);
		_sectEmeiSkillBreakBonus = new Dictionary<short, SkillBreakBonusCollection>(0);
		_informationSettings = new List<sbyte>();
		_sectXuannvUnlockedMusicList = new List<short>();
		_sectXuannvPlayerPlayMode = 0;
		_sectXuannvPlayerMusicId = 0;
		_sectXuannvPlayerIsEnabled = false;
		_sectEmeiBreakBonusTemplateIds = new Dictionary<short, GameData.Utilities.ShortList>(0);
		_mirrorCharacters = new Dictionary<int, int>(0);
		_sectEmeiBloodLocations = new List<Location>();
		_sectEmeiExp = 0L;
		_enemyPracticeLevel = 0;
		_characterPoisonImmunities = new Dictionary<int, byte>(0);
		_taiwuInformationReceivedHistories = new TaiwuInformationReceivedHistories();
		_sectXuannvEvaluatedMusicList = new List<short>();
		_combatSkillJumpThreshold = new Dictionary<short, short>(0);
		_dreamBackUnlockStates = 0uL;
		_dreamBackArchiveBackup = new RawDataBlock(0);
		_overwrittenTaiwu = new AbridgedCharacter();
		_dreamBackLocationData = new List<DreamBackLocationData>();
		_dreamBackGenealogyObsoleted = new GenealogyObsoleted();
		_conflictCombatSkills = new Dictionary<short, ConflictCombatSkill>(0);
		_characterRevealedHobbies = new Dictionary<int, ShortPair>(0);
		_finalDateBeforeDreamBack = 0;
		_dreamBackTaiwu = new AbridgedCharacter();
		_conflictEffectWrappers = new Dictionary<long, SpecialEffectWrapper>(0);
		_dreamBackGlobalEventArgBox = new EventArgBox();
		_dreamBackDlcEventArgBox = new EventArgBox();
		_dreamBackSectMainStoryEventArgBox = new EventArgBox[15];
		_dejaVuEventCharacters = default(CharacterSet);
		_taiwuPropertyPermanentBonuses = new Dictionary<short, CharacterPropertyBonus>(0);
		_selectedUniqueLegacies = new List<short>();
		_taiwuAddOneWayRelationCoolDown = new Dictionary<int, IntPair>(0);
		_carrierTamePoint = new Dictionary<int, int>(0);
		_dreamBackPreviousTaiwuCharIds = new List<int>();
		_fleeCarrierLocation = new Dictionary<int, Location>(0);
		_favorabilityChange = 0;
		_canResetWorldSettings = false;
		_settlementExtraData = new Dictionary<short, SettlementExtraData>(0);
		_dlcArgBoxes = new Dictionary<ulong, EventArgBox>(0);
		_jiaoPools = new List<JiaoPool>();
		_jiaos = new Dictionary<int, GameData.DLC.FiveLoong.Jiao>(0);
		_childrenOfLoong = new Dictionary<int, ChildrenOfLoong>(0);
		_fiveLoongDict = new Dictionary<short, LoongInfo>(0);
		_jiaoPoolRecords = new List<JiaoPoolRecordList>();
		_dlcEntries = new Dictionary<ulong, DlcEntryWrapper>(0);
		_jiaoPoolStatus = default(IntPair);
		_choosyRemainUpgradeRateDict = new Dictionary<short, int>(0);
		_choosyRemainUpgradeCountDict = new Dictionary<short, int>(0);
		_buildingMoneyPrestigeSuccessRateCompensation = new Dictionary<ulong, int>(0);
		_ownedClothingSet = new HashSetAsDictionary<short>();
		_clothingDisplayModifications = new Dictionary<int, short>(0);
		_disableEnemyAi = false;
		_enemyUnyieldingFallen = false;
		_lastTargetDistance = 0;
		_weaveClothingDisplaySetting = default(WeaveClothingDisplaySetting);
		_emptyToolKey = default(ItemKey);
		_sectWuxianWugJugPoisons = new SectWuxianWugJugData();
		_locationSupportingBlockResourceTotal = new Dictionary<Location, ResourceInts>(0);
		_characterPrioritizedActionCooldowns = new Dictionary<int, PrioritizedActionCooldownList>(0);
		_cricketCollectionDataList = new List<CricketCollectionData>();
		_recruitCharacterDataLists = new Dictionary<ulong, RecruitCharacterDataList>(0);
		_sectJingangPossessionCharacters = new Dictionary<int, PossessionData>(0);
		_mixedPoisonEffectTriggerDates = new Dictionary<IntPair, int>(0);
		_cricketExtraAge = new Dictionary<int, short>(0);
		_enemyNestInitializationDates = new List<IntList>();
		_secretInformationOccurrence = new Dictionary<int, SecretInformationOccurrence>(0);
		_secretInformationHandleMap = new Dictionary<int, SecretInformationHandle>(0);
		_secretInformationCharacterOwn = new Dictionary<int, IntList>(0);
		_secretInformationSecretInformationCharacterExtraInfoCollectionMap = new Dictionary<int, SecretInformationCharacterExtraInfoCollection>(0);
		_secretInformationCharacterRelationshipSnapshotCollectionMap = new Dictionary<int, SecretInformationCharacterRelationshipSnapshotCollection>(0);
		_secretInformationShopCharacterData = new Dictionary<int, SecretInformationShopCharacterData>(0);
		_changeTrickIsFlaw = false;
		_nextAnimalId = 0;
		_animals = new Dictionary<int, GameData.Domains.Character.Animal>(0);
		_settlementTreasuries = new Dictionary<short, SettlementTreasury>(0);
		_prevMartialArtTournamentWinners = new List<short>();
		_bookStrategiesExpireTime = new Dictionary<ItemKey, IntList>(0);
		_unlockedCombatSkillPlanCount = 0;
		_activeLoopingProgress = 0;
		_activeReadingProgress = 0;
		_characterExtraNeiliAllocationProgress = new Dictionary<int, IntList>(0);
		_qiArtStrategyList = new List<sbyte>();
		_qiArtStrategyExpireTimeList = new List<int>();
		_legacyPointTimesDict = new Dictionary<short, short>(0);
		_sectRanshanThreeCorpses = new List<SectStoryThreeCorpsesCharacter>();
		_sectBaihuaLifeLinkData = new SectBaihuaLifeLinkData();
		_samsaraPlatformRecordCollection = new SamsaraPlatformRecordCollection();
		_availableReadingStrategyMap = new Dictionary<int, SByteList>(0);
		_referenceSkillList = new List<short>();
		_availableQiArtStrategyMap = new Dictionary<short, SByteList>(0);
		_loopingEventSkillIdList = new List<short>();
		_qiArtStrategyMap = new Dictionary<short, SByteList>(0);
		_qiArtStrategyExpireTimeMap = new Dictionary<short, IntList>(0);
		_loopInLifeSkillCombatCount = 0;
		_loopInCombatCount = 0;
		_settlementTreasuryRecordCollections = new Dictionary<short, SettlementTreasuryRecordCollection>(0);
		_monthlyNotificationSortingGroups = new Dictionary<int, NotificationSortingGroup>(0);
		_followingNpcList = new List<int>();
		_sectEmeiBreakBonusData = new Dictionary<short, SectEmeiBreakBonusData>(0);
		_followingNickNameMap = new Dictionary<int, int>(0);
		_merchantOverFavorDataArray = new MerchantOverFavorData[7];
		_changedTeammateCharIds = new List<int>();
		_settlementPrisons = new Dictionary<short, SettlementPrison>(0);
		_sectFulongOrgMemberChickens = new Dictionary<short, IntList>(0);
		_sectFulongInFlameAreas = new List<FulongInFlameArea>();
		_sectFulongOutLaws = new Dictionary<int, IntPair>(0);
		_settlementPrisonRecordCollections = new Dictionary<short, SettlementPrisonRecordCollection>(0);
		_villagerRoles = new Dictionary<int, VillagerRoleWrapper>(0);
		_sectFulongLoseFeatherChickens = new List<int>();
		_stockStorage = new TaiwuVillageStorage();
		_craftStorage = new TaiwuVillageStorage();
		_medicineStorage = new TaiwuVillageStorage();
		_fullPoisonEffects = new Dictionary<int, FullPoisonEffects>(0);
		_foodStorage = new TaiwuVillageStorage();
		_taiwuVillageStoragesRecordCollection = new TaiwuVillageStoragesRecordCollection();
		_itemPriceFluctuation = new Dictionary<TemplateKey, int>(0);
		_villagerRoleNickNameMap = new Dictionary<short, int>(0);
		_villagerRoleMaxUnlockCounts = new Dictionary<short, int>(0);
		_buildingResourceOutputSettings = new Dictionary<int, BuildingResourceOutputSetting>(0);
		_blockRecoveryUnlockDates = new Dictionary<Location, int>(0);
		_taiwuVillageStorageSettingDict = new Dictionary<sbyte, VillagerRoleActionSetting>(0);
		_characterConsummateLevelProgresses = new Dictionary<int, int>(0);
		_taiwuWantedFirstInteractOrganizationMember = new Dictionary<short, IntList>(0);
		_areaSpiritualDebt = new Dictionary<short, int>(0);
		_taiwuProfessions = new Dictionary<int, ProfessionData>(0);
		_taiwuProfessionSkillSlots = new TaiwuProfessionSkillSlots();
		_characterSpecialGroup = new Dictionary<int, CharacterSet>(0);
		_cricketPlaceExtraData = new Dictionary<short, CricketPlaceExtraData>(0);
		_branchMerchantData = new MerchantData[7];
		_characterCombatSkillConfigurations = new Dictionary<int, CharacterCombatSkillConfiguration>(0);
		_characterEquippedCombatSkills = new Dictionary<int, CombatSkillPlan>(0);
		_interactedCharacterList = new List<int>();
		_friendOrFamilyInteractionCooldownDict = new Dictionary<int, sbyte>(0);
		_sectZhujianGearMates = new Dictionary<int, GearMate>(0);
		_professionUpgrade = 0;
		_followMovementCharacters = new Dictionary<int, FollowMovementInfo>(0);
		_triggeredAddSeniorityPoints = new HashSetAsDictionary<IntPair>();
		_taiwuGiftItems = new Dictionary<int, Inventory>(0);
		_sectZhujianThiefList = new List<SectStoryThiefData>();
		_characterProfessions = new Dictionary<int, ProfessionDataList>(0);
		_caravanExtraDataDict = new Dictionary<int, CaravanExtraData>(0);
		_protectCaravanTime = 0;
		_sectZhujianAreaMerchantTypeDict = new Dictionary<short, sbyte>(0);
		_merchantExtraGoods = new Dictionary<int, MerchantExtraGoodsData>(0);
		_exorcismEnabled = false;
		_sectStorySpecialMerchant = new SectStorySpecialMerchant();
		_isExtraProfessionSkillUnlocked = false;
		_isDirectTraveling = false;
		_kidnappedTravelData = new KidnappedTravelData();
		_villagerLastInfluencePowerGrade = new Dictionary<int, sbyte>(0);
		_villagerTreasuryNeeds = new Dictionary<int, VillagerTreasuryNeed>(0);
		_characterAvatarExtraDataDict = new Dictionary<int, AvatarExtraData>(0);
		_lootYield = 0;
		_cityPunishmentSeverityCustomizeDict = new Dictionary<short, SerializableList<PunishmentSeverityCustomizeData>>(0);
		_characterSkillBreakBonuses = new Dictionary<CombatSkillKey, SerializableList<SkillBreakPlateBonus>>(0);
		_combatSkillProficiencies = new Dictionary<CombatSkillKey, int>(0);
		_skillBreakPlates = new Dictionary<short, GameData.Domains.Taiwu.SkillBreakPlate>(0);
		_combatSkillBreakPlateList = new Dictionary<short, SkillBreakPlateList>(0);
		_sectShaolinDemonSlayerData = new SectShaolinDemonSlayerData();
		KongsangCharacterFeaturePoisonedProb = 0;
		_pickupDict = new Dictionary<Location, MapPickupCollection>(0);
		_taiwuSelectedDebateCardType = 0;
		_villagerRoleRecords = new VillagerRoleRecords();
		_buildingBlockDataEx = new Dictionary<ulong, BuildingBlockDataEx>(0);
		_villagerRoleAutoActionStates = new Dictionary<short, ulong>(0);
		_buildingArrangementSettingPresetData = new BuildingOptionAutoGiveMemberPreset[9];
		_buildingArtisanOrders = new Dictionary<ulong, ArtisanOrder>(0);
		_taiwuVillagerPotentialData = new Dictionary<int, sbyte>(0);
		_npcArtisanOrders = new Dictionary<int, ArtisanOrder>(0);
		_shopVillagerQualificationImprove = new Dictionary<int, GameData.Utilities.ShortList>(0);
		_bigEvents = new Dictionary<short, BigEventRecord>(0);
		_hasGetShuiHuoYingQiGongSkillBookByArchiveFix = false;
		_farmerAutoCollectStorageType = 0;
		_woodenXiangshuAvatarSelectedFeatures = new List<short>();
		_buildingAreaEffectProgresses = new Dictionary<Location, SerializableList<BuildingAreaEffectProgress>>(0);
		_previousLegendaryBookOwners = new Dictionary<sbyte, CharacterSet>(0);
		_villagerSkillLegacyPointDict = new Dictionary<int, int>(0);
		_killedByYufuCharactersBinary = new RawDataBlock(0);
		_dyingCharacters = new Dictionary<int, short>(0);
		_proficiencyEnoughSkills = new HashSetAsDictionary<short>();
		_sectYuanshanThreeVitals = new List<SectStoryThreeVitalsCharacter>();
		_dreamBackGenealogy = new Genealogy();
		_resourceBlockExtraData = new Dictionary<ulong, ResourceBlockExtraData>(0);
		_unlockedFeastTypes = new List<short>();
		_feasts = new Dictionary<ulong, GameData.Domains.Building.Feast>(0);
		_settlementMemberFeatures = new Dictionary<short, SerializableList<SettlementMemberFeature>>(0);
		_settlementLayeredTreasuries = new Dictionary<short, SettlementLayeredTreasuries>(0);
		_buildingDefaultStoreLocation = new BuildingDefaultStoreLocation();
		_taiwuVillageVowOrgTemplateCrossArchiveDict = new Dictionary<sbyte, sbyte>(0);
		_cricketCombatPlans = new List<CricketCombatPlan>();
		_lastCricketPlanIndex = 0;
		_characterDarkAshCounterData = new Dictionary<int, DarkAshCounterData>(0);
		_fuyuFaith = 0;
		OnInitializedDomainData();
	}

	public SecretInformationCharacterUsedCount GetElement_CharacterSecretInformationUsedCounts(int elementId)
	{
		return _characterSecretInformationUsedCounts[elementId];
	}

	public bool TryGetElement_CharacterSecretInformationUsedCounts(int elementId, out SecretInformationCharacterUsedCount value)
	{
		return _characterSecretInformationUsedCounts.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterSecretInformationUsedCounts(int elementId, SecretInformationCharacterUsedCount value, DataContext context)
	{
		_characterSecretInformationUsedCounts.Add(elementId, value);
		_modificationsCharacterSecretInformationUsedCounts.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(0, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 0, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 0, elementId, 0);
		}
	}

	private unsafe void SetElement_CharacterSecretInformationUsedCounts(int elementId, SecretInformationCharacterUsedCount value, DataContext context)
	{
		_characterSecretInformationUsedCounts[elementId] = value;
		_modificationsCharacterSecretInformationUsedCounts.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(0, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 0, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 0, elementId, 0);
		}
	}

	private void RemoveElement_CharacterSecretInformationUsedCounts(int elementId, DataContext context)
	{
		_characterSecretInformationUsedCounts.Remove(elementId);
		_modificationsCharacterSecretInformationUsedCounts.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(0, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 0, elementId);
	}

	private void ClearCharacterSecretInformationUsedCounts(DataContext context)
	{
		_characterSecretInformationUsedCounts.Clear();
		_modificationsCharacterSecretInformationUsedCounts.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(0, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 0);
	}

	public Location GetElement_SecretInformationOccurredLocations(int elementId)
	{
		return _secretInformationOccurredLocations[elementId];
	}

	public bool TryGetElement_SecretInformationOccurredLocations(int elementId, out Location value)
	{
		return _secretInformationOccurredLocations.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SecretInformationOccurredLocations(int elementId, Location value, DataContext context)
	{
		_secretInformationOccurredLocations.Add(elementId, value);
		_modificationsSecretInformationOccurredLocations.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(1, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 1, elementId, 4);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_SecretInformationOccurredLocations(int elementId, Location value, DataContext context)
	{
		_secretInformationOccurredLocations[elementId] = value;
		_modificationsSecretInformationOccurredLocations.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(1, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 1, elementId, 4);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_SecretInformationOccurredLocations(int elementId, DataContext context)
	{
		_secretInformationOccurredLocations.Remove(elementId);
		_modificationsSecretInformationOccurredLocations.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(1, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 1, elementId);
	}

	private void ClearSecretInformationOccurredLocations(DataContext context)
	{
		_secretInformationOccurredLocations.Clear();
		_modificationsSecretInformationOccurredLocations.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(1, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 1);
	}

	public VoidValue GetElement_SecretInformationBroadcastList(int elementId)
	{
		return _secretInformationBroadcastList[elementId];
	}

	public bool TryGetElement_SecretInformationBroadcastList(int elementId, out VoidValue value)
	{
		return _secretInformationBroadcastList.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SecretInformationBroadcastList(int elementId, VoidValue value, DataContext context)
	{
		_secretInformationBroadcastList.Add(elementId, value);
		_modificationsSecretInformationBroadcastList.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(2, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 2, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_SecretInformationBroadcastList(int elementId, VoidValue value, DataContext context)
	{
		_secretInformationBroadcastList[elementId] = value;
		_modificationsSecretInformationBroadcastList.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(2, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 2, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_SecretInformationBroadcastList(int elementId, DataContext context)
	{
		_secretInformationBroadcastList.Remove(elementId);
		_modificationsSecretInformationBroadcastList.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(2, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 2, elementId);
	}

	private void ClearSecretInformationBroadcastList(DataContext context)
	{
		_secretInformationBroadcastList.Clear();
		_modificationsSecretInformationBroadcastList.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(2, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 2);
	}

	public List<int> GetExchangedSpecialWeaponList()
	{
		return _exchangedSpecialWeaponList;
	}

	public unsafe void SetExchangedSpecialWeaponList(List<int> value, DataContext context)
	{
		_exchangedSpecialWeaponList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(3, DataStates, CacheInfluences, context);
		int count = _exchangedSpecialWeaponList.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 3, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _exchangedSpecialWeaponList[i];
		}
		ptr += num;
	}

	public short GetElement_CaravanStayDays(int elementId)
	{
		return _caravanStayDays[elementId];
	}

	public bool TryGetElement_CaravanStayDays(int elementId, out short value)
	{
		return _caravanStayDays.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CaravanStayDays(int elementId, short value, DataContext context)
	{
		_caravanStayDays.Add(elementId, value);
		_modificationsCaravanStayDays.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(4, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 4, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private unsafe void SetElement_CaravanStayDays(int elementId, short value, DataContext context)
	{
		_caravanStayDays[elementId] = value;
		_modificationsCaravanStayDays.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(4, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 4, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private void RemoveElement_CaravanStayDays(int elementId, DataContext context)
	{
		_caravanStayDays.Remove(elementId);
		_modificationsCaravanStayDays.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(4, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 4, elementId);
	}

	private void ClearCaravanStayDays(DataContext context)
	{
		_caravanStayDays.Clear();
		_modificationsCaravanStayDays.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(4, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 4);
	}

	public sbyte GetElement_MerchantCharToType(int elementId)
	{
		return _merchantCharToType[elementId];
	}

	public bool TryGetElement_MerchantCharToType(int elementId, out sbyte value)
	{
		return _merchantCharToType.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_MerchantCharToType(int elementId, sbyte value, DataContext context)
	{
		_merchantCharToType.Add(elementId, value);
		_modificationsMerchantCharToType.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(5, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 5, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private unsafe void SetElement_MerchantCharToType(int elementId, sbyte value, DataContext context)
	{
		_merchantCharToType[elementId] = value;
		_modificationsMerchantCharToType.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(5, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 5, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private void RemoveElement_MerchantCharToType(int elementId, DataContext context)
	{
		_merchantCharToType.Remove(elementId);
		_modificationsMerchantCharToType.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(5, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 5, elementId);
	}

	private void ClearMerchantCharToType(DataContext context)
	{
		_merchantCharToType.Clear();
		_modificationsMerchantCharToType.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(5, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 5);
	}

	[Obsolete("DomainData _merchantCharToExtraGoods is no longer in use.")]
	public MerchantExtraGoods GetElement_MerchantCharToExtraGoods(int elementId)
	{
		return _merchantCharToExtraGoods[elementId];
	}

	[Obsolete("DomainData _merchantCharToExtraGoods is no longer in use.")]
	public bool TryGetElement_MerchantCharToExtraGoods(int elementId, out MerchantExtraGoods value)
	{
		return _merchantCharToExtraGoods.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _merchantCharToExtraGoods is no longer in use.")]
	private unsafe void AddElement_MerchantCharToExtraGoods(int elementId, MerchantExtraGoods value, DataContext context)
	{
		_merchantCharToExtraGoods.Add(elementId, value);
		_modificationsMerchantCharToExtraGoods.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(6, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 6, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 6, elementId, 0);
		}
	}

	[Obsolete("DomainData _merchantCharToExtraGoods is no longer in use.")]
	private unsafe void SetElement_MerchantCharToExtraGoods(int elementId, MerchantExtraGoods value, DataContext context)
	{
		_merchantCharToExtraGoods[elementId] = value;
		_modificationsMerchantCharToExtraGoods.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(6, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 6, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 6, elementId, 0);
		}
	}

	[Obsolete("DomainData _merchantCharToExtraGoods is no longer in use.")]
	private void RemoveElement_MerchantCharToExtraGoods(int elementId, DataContext context)
	{
		_merchantCharToExtraGoods.Remove(elementId);
		_modificationsMerchantCharToExtraGoods.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(6, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 6, elementId);
	}

	[Obsolete("DomainData _merchantCharToExtraGoods is no longer in use.")]
	private void ClearMerchantCharToExtraGoods(DataContext context)
	{
		_merchantCharToExtraGoods.Clear();
		_modificationsMerchantCharToExtraGoods.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(6, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 6);
	}

	public int GetStationInited()
	{
		return _stationInited;
	}

	public unsafe void SetStationInited(int value, DataContext context)
	{
		_stationInited = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(7, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 7, 4);
		*(int*)ptr = _stationInited;
		ptr += 4;
	}

	public CharacterSet GetManualChangeEquipGroupCharIds()
	{
		return _manualChangeEquipGroupCharIds;
	}

	private unsafe void SetManualChangeEquipGroupCharIds(CharacterSet value, DataContext context)
	{
		_manualChangeEquipGroupCharIds = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(8, DataStates, CacheInfluences, context);
		int serializedSize = _manualChangeEquipGroupCharIds.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 8, serializedSize);
		ptr += _manualChangeEquipGroupCharIds.Serialize(ptr);
	}

	public List<int> GetStoneRoomCharList()
	{
		return _stoneRoomCharList;
	}

	public unsafe void SetStoneRoomCharList(List<int> value, DataContext context)
	{
		_stoneRoomCharList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(9, DataStates, CacheInfluences, context);
		int count = _stoneRoomCharList.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 9, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _stoneRoomCharList[i];
		}
		ptr += num;
	}

	public SByteList GetElement_HideSkeletonEquipSlots(int elementId)
	{
		return _hideSkeletonEquipSlots[elementId];
	}

	public bool TryGetElement_HideSkeletonEquipSlots(int elementId, out SByteList value)
	{
		return _hideSkeletonEquipSlots.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_HideSkeletonEquipSlots(int elementId, SByteList value, DataContext context)
	{
		_hideSkeletonEquipSlots.Add(elementId, value);
		_modificationsHideSkeletonEquipSlots.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(10, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 10, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_HideSkeletonEquipSlots(int elementId, SByteList value, DataContext context)
	{
		_hideSkeletonEquipSlots[elementId] = value;
		_modificationsHideSkeletonEquipSlots.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(10, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 10, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_HideSkeletonEquipSlots(int elementId, DataContext context)
	{
		_hideSkeletonEquipSlots.Remove(elementId);
		_modificationsHideSkeletonEquipSlots.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(10, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 10, elementId);
	}

	private void ClearHideSkeletonEquipSlots(DataContext context)
	{
		_hideSkeletonEquipSlots.Clear();
		_modificationsHideSkeletonEquipSlots.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(10, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 10);
	}

	public GameData.Utilities.ShortList GetElement_CombatSkillOrderPlans(int elementId)
	{
		return _combatSkillOrderPlans[elementId];
	}

	public bool TryGetElement_CombatSkillOrderPlans(int elementId, out GameData.Utilities.ShortList value)
	{
		return _combatSkillOrderPlans.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CombatSkillOrderPlans(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_combatSkillOrderPlans.Add(elementId, value);
		_modificationsCombatSkillOrderPlans.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(11, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 11, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CombatSkillOrderPlans(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_combatSkillOrderPlans[elementId] = value;
		_modificationsCombatSkillOrderPlans.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(11, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 11, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CombatSkillOrderPlans(int elementId, DataContext context)
	{
		_combatSkillOrderPlans.Remove(elementId);
		_modificationsCombatSkillOrderPlans.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(11, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 11, elementId);
	}

	private void ClearCombatSkillOrderPlans(DataContext context)
	{
		_combatSkillOrderPlans.Clear();
		_modificationsCombatSkillOrderPlans.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(11, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 11);
	}

	public VoidValue GetElement_LocationMarkHashSet(Location elementId)
	{
		return _locationMarkHashSet[elementId];
	}

	public bool TryGetElement_LocationMarkHashSet(Location elementId, out VoidValue value)
	{
		return _locationMarkHashSet.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LocationMarkHashSet(Location elementId, VoidValue value, DataContext context)
	{
		_locationMarkHashSet.Add(elementId, value);
		_modificationsLocationMarkHashSet.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(12, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 12, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_LocationMarkHashSet(Location elementId, VoidValue value, DataContext context)
	{
		_locationMarkHashSet[elementId] = value;
		_modificationsLocationMarkHashSet.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(12, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 12, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_LocationMarkHashSet(Location elementId, DataContext context)
	{
		_locationMarkHashSet.Remove(elementId);
		_modificationsLocationMarkHashSet.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(12, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 12, elementId);
	}

	private void ClearLocationMarkHashSet(DataContext context)
	{
		_locationMarkHashSet.Clear();
		_modificationsLocationMarkHashSet.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(12, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 12);
	}

	private int GetElement_TaiwuExtraBonuses(short elementId)
	{
		return _taiwuExtraBonuses[elementId];
	}

	private bool TryGetElement_TaiwuExtraBonuses(short elementId, out int value)
	{
		return _taiwuExtraBonuses.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TaiwuExtraBonuses(short elementId, int value, DataContext context)
	{
		_taiwuExtraBonuses.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(13, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 13, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_TaiwuExtraBonuses(short elementId, int value, DataContext context)
	{
		_taiwuExtraBonuses[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(13, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 13, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_TaiwuExtraBonuses(short elementId, DataContext context)
	{
		_taiwuExtraBonuses.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(13, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 13, elementId);
	}

	private void ClearTaiwuExtraBonuses(DataContext context)
	{
		_taiwuExtraBonuses.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(13, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 13);
	}

	public List<short> GetAutoWorkBlockIndexList()
	{
		return _autoWorkBlockIndexList;
	}

	public unsafe void SetAutoWorkBlockIndexList(List<short> value, DataContext context)
	{
		_autoWorkBlockIndexList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(14, DataStates, CacheInfluences, context);
		int count = _autoWorkBlockIndexList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 14, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _autoWorkBlockIndexList[i];
		}
		ptr += num;
	}

	public List<short> GetAutoSoldBlockIndexList()
	{
		return _autoSoldBlockIndexList;
	}

	public unsafe void SetAutoSoldBlockIndexList(List<short> value, DataContext context)
	{
		_autoSoldBlockIndexList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(15, DataStates, CacheInfluences, context);
		int count = _autoSoldBlockIndexList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 15, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _autoSoldBlockIndexList[i];
		}
		ptr += num;
	}

	public List<SecretInformationBroadcastTipsData> GetSecretInformationBroadcastNotifyList()
	{
		return _secretInformationBroadcastNotifyList;
	}

	private unsafe void SetSecretInformationBroadcastNotifyList(List<SecretInformationBroadcastTipsData> value, DataContext context)
	{
		_secretInformationBroadcastNotifyList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(16, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _secretInformationBroadcastNotifyList.Count;
		for (int i = 0; i < count; i++)
		{
			SecretInformationBroadcastTipsData secretInformationBroadcastTipsData = _secretInformationBroadcastNotifyList[i];
			num = ((secretInformationBroadcastTipsData == null) ? (num + 2) : (num + (2 + secretInformationBroadcastTipsData.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 16, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			SecretInformationBroadcastTipsData secretInformationBroadcastTipsData2 = _secretInformationBroadcastNotifyList[j];
			if (secretInformationBroadcastTipsData2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = secretInformationBroadcastTipsData2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	[Obsolete("DomainData _treasuryItems is no longer in use.")]
	private int GetElement_TreasuryItems(ItemKey elementId)
	{
		return _treasuryItems[elementId];
	}

	[Obsolete("DomainData _treasuryItems is no longer in use.")]
	private bool TryGetElement_TreasuryItems(ItemKey elementId, out int value)
	{
		return _treasuryItems.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _treasuryItems is no longer in use.")]
	private unsafe void AddElement_TreasuryItems(ItemKey elementId, int value, DataContext context)
	{
		_treasuryItems.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(17, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 17, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	[Obsolete("DomainData _treasuryItems is no longer in use.")]
	private unsafe void SetElement_TreasuryItems(ItemKey elementId, int value, DataContext context)
	{
		_treasuryItems[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(17, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 17, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	[Obsolete("DomainData _treasuryItems is no longer in use.")]
	private void RemoveElement_TreasuryItems(ItemKey elementId, DataContext context)
	{
		_treasuryItems.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(17, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 17, elementId);
	}

	[Obsolete("DomainData _treasuryItems is no longer in use.")]
	private void ClearTreasuryItems(DataContext context)
	{
		_treasuryItems.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(17, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 17);
	}

	private int GetElement_TroughItems(ItemKey elementId)
	{
		return _troughItems[elementId];
	}

	private bool TryGetElement_TroughItems(ItemKey elementId, out int value)
	{
		return _troughItems.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TroughItems(ItemKey elementId, int value, DataContext context)
	{
		_troughItems.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(18, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 18, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_TroughItems(ItemKey elementId, int value, DataContext context)
	{
		_troughItems[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(18, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 18, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_TroughItems(ItemKey elementId, DataContext context)
	{
		_troughItems.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(18, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 18, elementId);
	}

	private void ClearTroughItems(DataContext context)
	{
		_troughItems.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(18, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 18);
	}

	public List<sbyte> GetXiangshuIdInKungfuPracticeRoom()
	{
		return _xiangshuIdInKungfuPracticeRoom;
	}

	public unsafe void SetXiangshuIdInKungfuPracticeRoom(List<sbyte> value, DataContext context)
	{
		_xiangshuIdInKungfuPracticeRoom = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(19, DataStates, CacheInfluences, context);
		int count = _xiangshuIdInKungfuPracticeRoom.Count;
		int num = count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 19, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr[i] = (byte)_xiangshuIdInKungfuPracticeRoom[i];
		}
		ptr += num;
	}

	private ushort GetElement_RemovedSpecialRelations(RelationKey elementId)
	{
		return _removedSpecialRelations[elementId];
	}

	private bool TryGetElement_RemovedSpecialRelations(RelationKey elementId, out ushort value)
	{
		return _removedSpecialRelations.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_RemovedSpecialRelations(RelationKey elementId, ushort value, DataContext context)
	{
		_removedSpecialRelations.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(20, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 20, elementId, 2);
		*(ushort*)ptr = value;
		ptr += 2;
	}

	private unsafe void SetElement_RemovedSpecialRelations(RelationKey elementId, ushort value, DataContext context)
	{
		_removedSpecialRelations[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(20, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 20, elementId, 2);
		*(ushort*)ptr = value;
		ptr += 2;
	}

	private void RemoveElement_RemovedSpecialRelations(RelationKey elementId, DataContext context)
	{
		_removedSpecialRelations.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(20, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 20, elementId);
	}

	private void ClearRemovedSpecialRelations(DataContext context)
	{
		_removedSpecialRelations.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(20, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 20);
	}

	[Obsolete("DomainData _shopArrangeResultFirstList is no longer in use.")]
	public List<short> GetShopArrangeResultFirstList()
	{
		return _shopArrangeResultFirstList;
	}

	[Obsolete("DomainData _shopArrangeResultFirstList is no longer in use.")]
	public unsafe void SetShopArrangeResultFirstList(List<short> value, DataContext context)
	{
		_shopArrangeResultFirstList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(21, DataStates, CacheInfluences, context);
		int count = _shopArrangeResultFirstList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 21, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _shopArrangeResultFirstList[i];
		}
		ptr += num;
	}

	[Obsolete("DomainData _autoExpandBlockIndexList is no longer in use.")]
	public List<short> GetAutoExpandBlockIndexList()
	{
		return _autoExpandBlockIndexList;
	}

	[Obsolete("DomainData _autoExpandBlockIndexList is no longer in use.")]
	public unsafe void SetAutoExpandBlockIndexList(List<short> value, DataContext context)
	{
		_autoExpandBlockIndexList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(22, DataStates, CacheInfluences, context);
		int count = _autoExpandBlockIndexList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 22, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _autoExpandBlockIndexList[i];
		}
		ptr += num;
	}

	private int GetElement_WorldCharacterExtraTitles(IntPair elementId)
	{
		return _worldCharacterExtraTitles[elementId];
	}

	private bool TryGetElement_WorldCharacterExtraTitles(IntPair elementId, out int value)
	{
		return _worldCharacterExtraTitles.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_WorldCharacterExtraTitles(IntPair elementId, int value, DataContext context)
	{
		_worldCharacterExtraTitles.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(23, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 23, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_WorldCharacterExtraTitles(IntPair elementId, int value, DataContext context)
	{
		_worldCharacterExtraTitles[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(23, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 23, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_WorldCharacterExtraTitles(IntPair elementId, DataContext context)
	{
		_worldCharacterExtraTitles.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(23, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 23, elementId);
	}

	private void ClearWorldCharacterExtraTitles(DataContext context)
	{
		_worldCharacterExtraTitles.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(23, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 23);
	}

	public List<int> GetReadingEventBookIdList()
	{
		return _readingEventBookIdList;
	}

	public unsafe void SetReadingEventBookIdList(List<int> value, DataContext context)
	{
		_readingEventBookIdList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(24, DataStates, CacheInfluences, context);
		int count = _readingEventBookIdList.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 24, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _readingEventBookIdList[i];
		}
		ptr += num;
	}

	private IntPair GetElement_ClearedSkillPlateStepInfo(short elementId)
	{
		return _clearedSkillPlateStepInfo[elementId];
	}

	private bool TryGetElement_ClearedSkillPlateStepInfo(short elementId, out IntPair value)
	{
		return _clearedSkillPlateStepInfo.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ClearedSkillPlateStepInfo(short elementId, IntPair value, DataContext context)
	{
		_clearedSkillPlateStepInfo.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(25, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 25, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_ClearedSkillPlateStepInfo(short elementId, IntPair value, DataContext context)
	{
		_clearedSkillPlateStepInfo[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(25, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 25, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_ClearedSkillPlateStepInfo(short elementId, DataContext context)
	{
		_clearedSkillPlateStepInfo.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(25, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 25, elementId);
	}

	private void ClearClearedSkillPlateStepInfo(DataContext context)
	{
		_clearedSkillPlateStepInfo.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(25, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 25);
	}

	public TravelingEventCollection GetTravelingEventCollection()
	{
		return _travelingEventCollection;
	}

	private unsafe void CommitInsert_TravelingEventCollection(DataContext context, int offset, int size)
	{
		_modificationsTravelingEventCollection.RecordInserting(offset, size);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(26, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Insert(19, 26, offset, size);
		_travelingEventCollection.CopyTo(offset, size, pDest);
	}

	private unsafe void CommitWrite_TravelingEventCollection(DataContext context, int offset, int size)
	{
		_modificationsTravelingEventCollection.RecordWriting(offset, size);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(26, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Write(19, 26, offset, size);
		_travelingEventCollection.CopyTo(offset, size, pDest);
	}

	private void CommitRemove_TravelingEventCollection(DataContext context, int offset, int size)
	{
		_modificationsTravelingEventCollection.RecordRemoving(offset, size);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(26, DataStates, CacheInfluences, context);
		OperationAdder.Binary_Remove(19, 26, offset, size);
	}

	private unsafe void CommitSetMetadata_TravelingEventCollection(DataContext context)
	{
		_modificationsTravelingEventCollection.RecordSettingMetadata();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(26, DataStates, CacheInfluences, context);
		ushort serializedFixedSizeOfMetadata = _travelingEventCollection.GetSerializedFixedSizeOfMetadata();
		byte* pData = OperationAdder.Binary_SetMetadata(19, 26, serializedFixedSizeOfMetadata);
		_travelingEventCollection.SerializeMetadata(pData);
	}

	private EventArgBox GetDlcArgBox()
	{
		return _dlcArgBox;
	}

	private unsafe void SetDlcArgBox(EventArgBox value, DataContext context)
	{
		_dlcArgBox = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(27, DataStates, CacheInfluences, context);
		int serializedSize = _dlcArgBox.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 27, serializedSize);
		ptr += _dlcArgBox.Serialize(ptr);
	}

	private List<short> GetPrevTriggeredTravelingEvents()
	{
		return _prevTriggeredTravelingEvents;
	}

	private unsafe void SetPrevTriggeredTravelingEvents(List<short> value, DataContext context)
	{
		_prevTriggeredTravelingEvents = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(28, DataStates, CacheInfluences, context);
		int count = _prevTriggeredTravelingEvents.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 28, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _prevTriggeredTravelingEvents[i];
		}
		ptr += num;
	}

	public List<ItemKey> GetGainsInTravel()
	{
		return _gainsInTravel;
	}

	private unsafe void SetGainsInTravel(List<ItemKey> value, DataContext context)
	{
		_gainsInTravel = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(29, DataStates, CacheInfluences, context);
		int count = _gainsInTravel.Count;
		int num = 8 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 29, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _gainsInTravel[i].Serialize(ptr);
		}
	}

	private List<MaxApprovingRateTempBonus> GetMaxApprovingRateTemporaryBonus()
	{
		return _maxApprovingRateTemporaryBonus;
	}

	private unsafe void SetMaxApprovingRateTemporaryBonus(List<MaxApprovingRateTempBonus> value, DataContext context)
	{
		_maxApprovingRateTemporaryBonus = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(30, DataStates, CacheInfluences, context);
		int count = _maxApprovingRateTemporaryBonus.Count;
		int num = 8 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 30, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _maxApprovingRateTemporaryBonus[i].Serialize(ptr);
		}
	}

	public LifeSkillCombatCardCollection GetElement_LifeSkillCombatCardDict(sbyte elementId)
	{
		return _lifeSkillCombatCardDict[elementId];
	}

	public bool TryGetElement_LifeSkillCombatCardDict(sbyte elementId, out LifeSkillCombatCardCollection value)
	{
		return _lifeSkillCombatCardDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LifeSkillCombatCardDict(sbyte elementId, LifeSkillCombatCardCollection value, DataContext context)
	{
		_lifeSkillCombatCardDict.Add(elementId, value);
		_modificationsLifeSkillCombatCardDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(31, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 31, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_LifeSkillCombatCardDict(sbyte elementId, LifeSkillCombatCardCollection value, DataContext context)
	{
		_lifeSkillCombatCardDict[elementId] = value;
		_modificationsLifeSkillCombatCardDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(31, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 31, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_LifeSkillCombatCardDict(sbyte elementId, DataContext context)
	{
		_lifeSkillCombatCardDict.Remove(elementId);
		_modificationsLifeSkillCombatCardDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(31, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 31, elementId);
	}

	private void ClearLifeSkillCombatCardDict(DataContext context)
	{
		_lifeSkillCombatCardDict.Clear();
		_modificationsLifeSkillCombatCardDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(31, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 31);
	}

	public LifeSkillCombatCardCollection GetElement_LifeSkillCombatUsedCardDict(sbyte elementId)
	{
		return _lifeSkillCombatUsedCardDict[elementId];
	}

	public bool TryGetElement_LifeSkillCombatUsedCardDict(sbyte elementId, out LifeSkillCombatCardCollection value)
	{
		return _lifeSkillCombatUsedCardDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LifeSkillCombatUsedCardDict(sbyte elementId, LifeSkillCombatCardCollection value, DataContext context)
	{
		_lifeSkillCombatUsedCardDict.Add(elementId, value);
		_modificationsLifeSkillCombatUsedCardDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(32, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 32, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_LifeSkillCombatUsedCardDict(sbyte elementId, LifeSkillCombatCardCollection value, DataContext context)
	{
		_lifeSkillCombatUsedCardDict[elementId] = value;
		_modificationsLifeSkillCombatUsedCardDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(32, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 32, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_LifeSkillCombatUsedCardDict(sbyte elementId, DataContext context)
	{
		_lifeSkillCombatUsedCardDict.Remove(elementId);
		_modificationsLifeSkillCombatUsedCardDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(32, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 32, elementId);
	}

	private void ClearLifeSkillCombatUsedCardDict(DataContext context)
	{
		_lifeSkillCombatUsedCardDict.Clear();
		_modificationsLifeSkillCombatUsedCardDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(32, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 32);
	}

	public LifeSkillCombatReadBookPageData GetElement_LifeSkillCombatReadBookPageDict(short elementId)
	{
		return _lifeSkillCombatReadBookPageDict[elementId];
	}

	public bool TryGetElement_LifeSkillCombatReadBookPageDict(short elementId, out LifeSkillCombatReadBookPageData value)
	{
		return _lifeSkillCombatReadBookPageDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LifeSkillCombatReadBookPageDict(short elementId, LifeSkillCombatReadBookPageData value, DataContext context)
	{
		_lifeSkillCombatReadBookPageDict.Add(elementId, value);
		_modificationsLifeSkillCombatReadBookPageDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(33, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 33, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_LifeSkillCombatReadBookPageDict(short elementId, LifeSkillCombatReadBookPageData value, DataContext context)
	{
		_lifeSkillCombatReadBookPageDict[elementId] = value;
		_modificationsLifeSkillCombatReadBookPageDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(33, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 33, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_LifeSkillCombatReadBookPageDict(short elementId, DataContext context)
	{
		_lifeSkillCombatReadBookPageDict.Remove(elementId);
		_modificationsLifeSkillCombatReadBookPageDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(33, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 33, elementId);
	}

	private void ClearLifeSkillCombatReadBookPageDict(DataContext context)
	{
		_lifeSkillCombatReadBookPageDict.Clear();
		_modificationsLifeSkillCombatReadBookPageDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(33, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 33);
	}

	public LifeSkillCombatCardCollection GetElement_LifeSkillCombatNewCardDict(sbyte elementId)
	{
		return _lifeSkillCombatNewCardDict[elementId];
	}

	public bool TryGetElement_LifeSkillCombatNewCardDict(sbyte elementId, out LifeSkillCombatCardCollection value)
	{
		return _lifeSkillCombatNewCardDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LifeSkillCombatNewCardDict(sbyte elementId, LifeSkillCombatCardCollection value, DataContext context)
	{
		_lifeSkillCombatNewCardDict.Add(elementId, value);
		_modificationsLifeSkillCombatNewCardDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(34, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 34, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_LifeSkillCombatNewCardDict(sbyte elementId, LifeSkillCombatCardCollection value, DataContext context)
	{
		_lifeSkillCombatNewCardDict[elementId] = value;
		_modificationsLifeSkillCombatNewCardDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(34, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 34, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_LifeSkillCombatNewCardDict(sbyte elementId, DataContext context)
	{
		_lifeSkillCombatNewCardDict.Remove(elementId);
		_modificationsLifeSkillCombatNewCardDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(34, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 34, elementId);
	}

	private void ClearLifeSkillCombatNewCardDict(DataContext context)
	{
		_lifeSkillCombatNewCardDict.Clear();
		_modificationsLifeSkillCombatNewCardDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(34, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 34);
	}

	private AiActionAdjusts GetElement_CharacterAiActionRestrictions(int elementId)
	{
		return _characterAiActionRestrictions[elementId];
	}

	private bool TryGetElement_CharacterAiActionRestrictions(int elementId, out AiActionAdjusts value)
	{
		return _characterAiActionRestrictions.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterAiActionRestrictions(int elementId, AiActionAdjusts value, DataContext context)
	{
		_characterAiActionRestrictions.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(35, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 35, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 35, elementId, 0);
		}
	}

	private unsafe void SetElement_CharacterAiActionRestrictions(int elementId, AiActionAdjusts value, DataContext context)
	{
		_characterAiActionRestrictions[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(35, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 35, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 35, elementId, 0);
		}
	}

	private void RemoveElement_CharacterAiActionRestrictions(int elementId, DataContext context)
	{
		_characterAiActionRestrictions.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(35, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 35, elementId);
	}

	private void ClearCharacterAiActionRestrictions(DataContext context)
	{
		_characterAiActionRestrictions.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(35, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 35);
	}

	private ulong GetElement_ExtraExternalRelationStates(int elementId)
	{
		return _extraExternalRelationStates[elementId];
	}

	private bool TryGetElement_ExtraExternalRelationStates(int elementId, out ulong value)
	{
		return _extraExternalRelationStates.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ExtraExternalRelationStates(int elementId, ulong value, DataContext context)
	{
		_extraExternalRelationStates.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(36, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 36, elementId, 8);
		*(ulong*)ptr = value;
		ptr += 8;
	}

	private unsafe void SetElement_ExtraExternalRelationStates(int elementId, ulong value, DataContext context)
	{
		_extraExternalRelationStates[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(36, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 36, elementId, 8);
		*(ulong*)ptr = value;
		ptr += 8;
	}

	private void RemoveElement_ExtraExternalRelationStates(int elementId, DataContext context)
	{
		_extraExternalRelationStates.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(36, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 36, elementId);
	}

	private void ClearExtraExternalRelationStates(DataContext context)
	{
		_extraExternalRelationStates.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(36, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 36);
	}

	public List<SecretInformationBroadcastTipsExtraData> GetSecretInformationBroadcastNotifyExtraList()
	{
		return _secretInformationBroadcastNotifyExtraList;
	}

	private unsafe void SetSecretInformationBroadcastNotifyExtraList(List<SecretInformationBroadcastTipsExtraData> value, DataContext context)
	{
		_secretInformationBroadcastNotifyExtraList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(37, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _secretInformationBroadcastNotifyExtraList.Count;
		for (int i = 0; i < count; i++)
		{
			SecretInformationBroadcastTipsExtraData secretInformationBroadcastTipsExtraData = _secretInformationBroadcastNotifyExtraList[i];
			num = ((secretInformationBroadcastTipsExtraData == null) ? (num + 2) : (num + (2 + secretInformationBroadcastTipsExtraData.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 37, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			SecretInformationBroadcastTipsExtraData secretInformationBroadcastTipsExtraData2 = _secretInformationBroadcastNotifyExtraList[j];
			if (secretInformationBroadcastTipsExtraData2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = secretInformationBroadcastTipsExtraData2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	private SByteList GetElement_CharTeammateCommandDict(int elementId)
	{
		return _charTeammateCommandDict[elementId];
	}

	private bool TryGetElement_CharTeammateCommandDict(int elementId, out SByteList value)
	{
		return _charTeammateCommandDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharTeammateCommandDict(int elementId, SByteList value, DataContext context)
	{
		_charTeammateCommandDict.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(38, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 38, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CharTeammateCommandDict(int elementId, SByteList value, DataContext context)
	{
		_charTeammateCommandDict[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(38, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 38, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CharTeammateCommandDict(int elementId, DataContext context)
	{
		_charTeammateCommandDict.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(38, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 38, elementId);
	}

	private void ClearCharTeammateCommandDict(DataContext context)
	{
		_charTeammateCommandDict.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(38, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 38);
	}

	public int GetElement_NicknameDict(int elementId)
	{
		return _nicknameDict[elementId];
	}

	public bool TryGetElement_NicknameDict(int elementId, out int value)
	{
		return _nicknameDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_NicknameDict(int elementId, int value, DataContext context)
	{
		_nicknameDict.Add(elementId, value);
		_modificationsNicknameDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(39, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 39, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_NicknameDict(int elementId, int value, DataContext context)
	{
		_nicknameDict[elementId] = value;
		_modificationsNicknameDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(39, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 39, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_NicknameDict(int elementId, DataContext context)
	{
		_nicknameDict.Remove(elementId);
		_modificationsNicknameDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(39, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 39, elementId);
	}

	private void ClearNicknameDict(DataContext context)
	{
		_nicknameDict.Clear();
		_modificationsNicknameDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(39, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 39);
	}

	public sbyte GetElement_LegendaryBookBreakPlateCounts(sbyte elementId)
	{
		return _legendaryBookBreakPlateCounts[elementId];
	}

	public bool TryGetElement_LegendaryBookBreakPlateCounts(sbyte elementId, out sbyte value)
	{
		return _legendaryBookBreakPlateCounts.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LegendaryBookBreakPlateCounts(sbyte elementId, sbyte value, DataContext context)
	{
		_legendaryBookBreakPlateCounts.Add(elementId, value);
		_modificationsLegendaryBookBreakPlateCounts.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(40, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 40, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private unsafe void SetElement_LegendaryBookBreakPlateCounts(sbyte elementId, sbyte value, DataContext context)
	{
		_legendaryBookBreakPlateCounts[elementId] = value;
		_modificationsLegendaryBookBreakPlateCounts.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(40, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 40, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private void RemoveElement_LegendaryBookBreakPlateCounts(sbyte elementId, DataContext context)
	{
		_legendaryBookBreakPlateCounts.Remove(elementId);
		_modificationsLegendaryBookBreakPlateCounts.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(40, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 40, elementId);
	}

	private void ClearLegendaryBookBreakPlateCounts(DataContext context)
	{
		_legendaryBookBreakPlateCounts.Clear();
		_modificationsLegendaryBookBreakPlateCounts.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(40, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 40);
	}

	private CharacterSet GetElement_ContestForLegendaryBookChars(sbyte elementId)
	{
		return _contestForLegendaryBookChars[elementId];
	}

	private bool TryGetElement_ContestForLegendaryBookChars(sbyte elementId, out CharacterSet value)
	{
		return _contestForLegendaryBookChars.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ContestForLegendaryBookChars(sbyte elementId, CharacterSet value, DataContext context)
	{
		_contestForLegendaryBookChars.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(41, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 41, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_ContestForLegendaryBookChars(sbyte elementId, CharacterSet value, DataContext context)
	{
		_contestForLegendaryBookChars[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(41, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 41, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_ContestForLegendaryBookChars(sbyte elementId, DataContext context)
	{
		_contestForLegendaryBookChars.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(41, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 41, elementId);
	}

	private void ClearContestForLegendaryBookChars(DataContext context)
	{
		_contestForLegendaryBookChars.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(41, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 41);
	}

	public ItemKey GetElement_LegendaryBookWeaponSlot(sbyte elementId)
	{
		return _legendaryBookWeaponSlot[elementId];
	}

	public bool TryGetElement_LegendaryBookWeaponSlot(sbyte elementId, out ItemKey value)
	{
		return _legendaryBookWeaponSlot.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LegendaryBookWeaponSlot(sbyte elementId, ItemKey value, DataContext context)
	{
		_legendaryBookWeaponSlot.Add(elementId, value);
		_modificationsLegendaryBookWeaponSlot.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(42, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 42, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_LegendaryBookWeaponSlot(sbyte elementId, ItemKey value, DataContext context)
	{
		_legendaryBookWeaponSlot[elementId] = value;
		_modificationsLegendaryBookWeaponSlot.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(42, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 42, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_LegendaryBookWeaponSlot(sbyte elementId, DataContext context)
	{
		_legendaryBookWeaponSlot.Remove(elementId);
		_modificationsLegendaryBookWeaponSlot.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(42, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 42, elementId);
	}

	private void ClearLegendaryBookWeaponSlot(DataContext context)
	{
		_legendaryBookWeaponSlot.Clear();
		_modificationsLegendaryBookWeaponSlot.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(42, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 42);
	}

	public long GetElement_LegendaryBookWeaponEffectId(sbyte elementId)
	{
		return _legendaryBookWeaponEffectId[elementId];
	}

	public bool TryGetElement_LegendaryBookWeaponEffectId(sbyte elementId, out long value)
	{
		return _legendaryBookWeaponEffectId.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LegendaryBookWeaponEffectId(sbyte elementId, long value, DataContext context)
	{
		_legendaryBookWeaponEffectId.Add(elementId, value);
		_modificationsLegendaryBookWeaponEffectId.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(43, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 43, elementId, 8);
		*(long*)ptr = value;
		ptr += 8;
	}

	private unsafe void SetElement_LegendaryBookWeaponEffectId(sbyte elementId, long value, DataContext context)
	{
		_legendaryBookWeaponEffectId[elementId] = value;
		_modificationsLegendaryBookWeaponEffectId.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(43, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 43, elementId, 8);
		*(long*)ptr = value;
		ptr += 8;
	}

	private void RemoveElement_LegendaryBookWeaponEffectId(sbyte elementId, DataContext context)
	{
		_legendaryBookWeaponEffectId.Remove(elementId);
		_modificationsLegendaryBookWeaponEffectId.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(43, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 43, elementId);
	}

	private void ClearLegendaryBookWeaponEffectId(DataContext context)
	{
		_legendaryBookWeaponEffectId.Clear();
		_modificationsLegendaryBookWeaponEffectId.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(43, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 43);
	}

	public GameData.Utilities.ShortList GetElement_LegendaryBookSkillSlot(sbyte elementId)
	{
		return _legendaryBookSkillSlot[elementId];
	}

	public bool TryGetElement_LegendaryBookSkillSlot(sbyte elementId, out GameData.Utilities.ShortList value)
	{
		return _legendaryBookSkillSlot.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LegendaryBookSkillSlot(sbyte elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_legendaryBookSkillSlot.Add(elementId, value);
		_modificationsLegendaryBookSkillSlot.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(44, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 44, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_LegendaryBookSkillSlot(sbyte elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_legendaryBookSkillSlot[elementId] = value;
		_modificationsLegendaryBookSkillSlot.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(44, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 44, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_LegendaryBookSkillSlot(sbyte elementId, DataContext context)
	{
		_legendaryBookSkillSlot.Remove(elementId);
		_modificationsLegendaryBookSkillSlot.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(44, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 44, elementId);
	}

	private void ClearLegendaryBookSkillSlot(DataContext context)
	{
		_legendaryBookSkillSlot.Clear();
		_modificationsLegendaryBookSkillSlot.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(44, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 44);
	}

	public LongList GetElement_LegendaryBookSkillEffectId(sbyte elementId)
	{
		return _legendaryBookSkillEffectId[elementId];
	}

	public bool TryGetElement_LegendaryBookSkillEffectId(sbyte elementId, out LongList value)
	{
		return _legendaryBookSkillEffectId.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LegendaryBookSkillEffectId(sbyte elementId, LongList value, DataContext context)
	{
		_legendaryBookSkillEffectId.Add(elementId, value);
		_modificationsLegendaryBookSkillEffectId.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(45, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 45, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_LegendaryBookSkillEffectId(sbyte elementId, LongList value, DataContext context)
	{
		_legendaryBookSkillEffectId[elementId] = value;
		_modificationsLegendaryBookSkillEffectId.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(45, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 45, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_LegendaryBookSkillEffectId(sbyte elementId, DataContext context)
	{
		_legendaryBookSkillEffectId.Remove(elementId);
		_modificationsLegendaryBookSkillEffectId.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(45, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 45, elementId);
	}

	private void ClearLegendaryBookSkillEffectId(DataContext context)
	{
		_legendaryBookSkillEffectId.Clear();
		_modificationsLegendaryBookSkillEffectId.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(45, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 45);
	}

	public SByteList GetLegendaryBookBonusCountYin()
	{
		return _legendaryBookBonusCountYin;
	}

	private unsafe void SetLegendaryBookBonusCountYin(SByteList value, DataContext context)
	{
		_legendaryBookBonusCountYin = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(46, DataStates, CacheInfluences, context);
		int serializedSize = _legendaryBookBonusCountYin.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 46, serializedSize);
		ptr += _legendaryBookBonusCountYin.Serialize(ptr);
	}

	public SByteList GetLegendaryBookBonusCountYang()
	{
		return _legendaryBookBonusCountYang;
	}

	private unsafe void SetLegendaryBookBonusCountYang(SByteList value, DataContext context)
	{
		_legendaryBookBonusCountYang = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(47, DataStates, CacheInfluences, context);
		int serializedSize = _legendaryBookBonusCountYang.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 47, serializedSize);
		ptr += _legendaryBookBonusCountYang.Serialize(ptr);
	}

	public IntPair GetElement_PrevLegendaryBookOwnerCopies(sbyte elementId)
	{
		return _prevLegendaryBookOwnerCopies[elementId];
	}

	public bool TryGetElement_PrevLegendaryBookOwnerCopies(sbyte elementId, out IntPair value)
	{
		return _prevLegendaryBookOwnerCopies.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_PrevLegendaryBookOwnerCopies(sbyte elementId, IntPair value, DataContext context)
	{
		_prevLegendaryBookOwnerCopies.Add(elementId, value);
		_modificationsPrevLegendaryBookOwnerCopies.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(48, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 48, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_PrevLegendaryBookOwnerCopies(sbyte elementId, IntPair value, DataContext context)
	{
		_prevLegendaryBookOwnerCopies[elementId] = value;
		_modificationsPrevLegendaryBookOwnerCopies.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(48, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 48, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_PrevLegendaryBookOwnerCopies(sbyte elementId, DataContext context)
	{
		_prevLegendaryBookOwnerCopies.Remove(elementId);
		_modificationsPrevLegendaryBookOwnerCopies.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(48, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 48, elementId);
	}

	private void ClearPrevLegendaryBookOwnerCopies(DataContext context)
	{
		_prevLegendaryBookOwnerCopies.Clear();
		_modificationsPrevLegendaryBookOwnerCopies.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(48, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 48);
	}

	public int GetElement_LegendaryBookShockedMonths(int elementId)
	{
		return _legendaryBookShockedMonths[elementId];
	}

	public bool TryGetElement_LegendaryBookShockedMonths(int elementId, out int value)
	{
		return _legendaryBookShockedMonths.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LegendaryBookShockedMonths(int elementId, int value, DataContext context)
	{
		_legendaryBookShockedMonths.Add(elementId, value);
		_modificationsLegendaryBookShockedMonths.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(49, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 49, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_LegendaryBookShockedMonths(int elementId, int value, DataContext context)
	{
		_legendaryBookShockedMonths[elementId] = value;
		_modificationsLegendaryBookShockedMonths.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(49, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 49, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_LegendaryBookShockedMonths(int elementId, DataContext context)
	{
		_legendaryBookShockedMonths.Remove(elementId);
		_modificationsLegendaryBookShockedMonths.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(49, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 49, elementId);
	}

	private void ClearLegendaryBookShockedMonths(DataContext context)
	{
		_legendaryBookShockedMonths.Clear();
		_modificationsLegendaryBookShockedMonths.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(49, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 49);
	}

	public IntList GetElement_CombatSkillBreakPlateLastClearTimeList(short elementId)
	{
		return _combatSkillBreakPlateLastClearTimeList[elementId];
	}

	public bool TryGetElement_CombatSkillBreakPlateLastClearTimeList(short elementId, out IntList value)
	{
		return _combatSkillBreakPlateLastClearTimeList.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CombatSkillBreakPlateLastClearTimeList(short elementId, IntList value, DataContext context)
	{
		_combatSkillBreakPlateLastClearTimeList.Add(elementId, value);
		_modificationsCombatSkillBreakPlateLastClearTimeList.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(50, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 50, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CombatSkillBreakPlateLastClearTimeList(short elementId, IntList value, DataContext context)
	{
		_combatSkillBreakPlateLastClearTimeList[elementId] = value;
		_modificationsCombatSkillBreakPlateLastClearTimeList.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(50, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 50, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CombatSkillBreakPlateLastClearTimeList(short elementId, DataContext context)
	{
		_combatSkillBreakPlateLastClearTimeList.Remove(elementId);
		_modificationsCombatSkillBreakPlateLastClearTimeList.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(50, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 50, elementId);
	}

	private void ClearCombatSkillBreakPlateLastClearTimeList(DataContext context)
	{
		_combatSkillBreakPlateLastClearTimeList.Clear();
		_modificationsCombatSkillBreakPlateLastClearTimeList.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(50, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 50);
	}

	public sbyte GetElement_CombatSkillCurrBreakPlateIndex(short elementId)
	{
		return _combatSkillCurrBreakPlateIndex[elementId];
	}

	public bool TryGetElement_CombatSkillCurrBreakPlateIndex(short elementId, out sbyte value)
	{
		return _combatSkillCurrBreakPlateIndex.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CombatSkillCurrBreakPlateIndex(short elementId, sbyte value, DataContext context)
	{
		_combatSkillCurrBreakPlateIndex.Add(elementId, value);
		_modificationsCombatSkillCurrBreakPlateIndex.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(51, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 51, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private unsafe void SetElement_CombatSkillCurrBreakPlateIndex(short elementId, sbyte value, DataContext context)
	{
		_combatSkillCurrBreakPlateIndex[elementId] = value;
		_modificationsCombatSkillCurrBreakPlateIndex.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(51, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 51, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private void RemoveElement_CombatSkillCurrBreakPlateIndex(short elementId, DataContext context)
	{
		_combatSkillCurrBreakPlateIndex.Remove(elementId);
		_modificationsCombatSkillCurrBreakPlateIndex.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(51, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 51, elementId);
	}

	private void ClearCombatSkillCurrBreakPlateIndex(DataContext context)
	{
		_combatSkillCurrBreakPlateIndex.Clear();
		_modificationsCombatSkillCurrBreakPlateIndex.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(51, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 51);
	}

	public SkillBreakPlateObsoleteList GetElement_CombatSkillBreakPlateObsoleteList(short elementId)
	{
		return _combatSkillBreakPlateObsoleteList[elementId];
	}

	public bool TryGetElement_CombatSkillBreakPlateObsoleteList(short elementId, out SkillBreakPlateObsoleteList value)
	{
		return _combatSkillBreakPlateObsoleteList.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CombatSkillBreakPlateObsoleteList(short elementId, SkillBreakPlateObsoleteList value, DataContext context)
	{
		_combatSkillBreakPlateObsoleteList.Add(elementId, value);
		_modificationsCombatSkillBreakPlateObsoleteList.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(52, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 52, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CombatSkillBreakPlateObsoleteList(short elementId, SkillBreakPlateObsoleteList value, DataContext context)
	{
		_combatSkillBreakPlateObsoleteList[elementId] = value;
		_modificationsCombatSkillBreakPlateObsoleteList.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(52, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 52, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CombatSkillBreakPlateObsoleteList(short elementId, DataContext context)
	{
		_combatSkillBreakPlateObsoleteList.Remove(elementId);
		_modificationsCombatSkillBreakPlateObsoleteList.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(52, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 52, elementId);
	}

	private void ClearCombatSkillBreakPlateObsoleteList(DataContext context)
	{
		_combatSkillBreakPlateObsoleteList.Clear();
		_modificationsCombatSkillBreakPlateObsoleteList.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(52, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 52);
	}

	private CharacterSet GetLegendaryBookConsumedCharIds()
	{
		return _legendaryBookConsumedCharIds;
	}

	private unsafe void SetLegendaryBookConsumedCharIds(CharacterSet value, DataContext context)
	{
		_legendaryBookConsumedCharIds = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(53, DataStates, CacheInfluences, context);
		int serializedSize = _legendaryBookConsumedCharIds.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 53, serializedSize);
		ptr += _legendaryBookConsumedCharIds.Serialize(ptr);
	}

	private AiExtraActionCooldowns GetElement_CharacterAiActionCooldowns(int elementId)
	{
		return _characterAiActionCooldowns[elementId];
	}

	private bool TryGetElement_CharacterAiActionCooldowns(int elementId, out AiExtraActionCooldowns value)
	{
		return _characterAiActionCooldowns.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterAiActionCooldowns(int elementId, AiExtraActionCooldowns value, DataContext context)
	{
		_characterAiActionCooldowns.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(54, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 54, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 54, elementId, 0);
		}
	}

	private unsafe void SetElement_CharacterAiActionCooldowns(int elementId, AiExtraActionCooldowns value, DataContext context)
	{
		_characterAiActionCooldowns[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(54, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 54, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 54, elementId, 0);
		}
	}

	private void RemoveElement_CharacterAiActionCooldowns(int elementId, DataContext context)
	{
		_characterAiActionCooldowns.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(54, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 54, elementId);
	}

	private void ClearCharacterAiActionCooldowns(DataContext context)
	{
		_characterAiActionCooldowns.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(54, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 54);
	}

	private int GetElement_CharacterTemporaryFeatures(IntPair elementId)
	{
		return _characterTemporaryFeatures[elementId];
	}

	private bool TryGetElement_CharacterTemporaryFeatures(IntPair elementId, out int value)
	{
		return _characterTemporaryFeatures.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterTemporaryFeatures(IntPair elementId, int value, DataContext context)
	{
		_characterTemporaryFeatures.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(55, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 55, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_CharacterTemporaryFeatures(IntPair elementId, int value, DataContext context)
	{
		_characterTemporaryFeatures[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(55, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 55, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_CharacterTemporaryFeatures(IntPair elementId, DataContext context)
	{
		_characterTemporaryFeatures.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(55, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 55, elementId);
	}

	private void ClearCharacterTemporaryFeatures(DataContext context)
	{
		_characterTemporaryFeatures.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(55, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 55);
	}

	public List<TaskData> GetExtraTriggeredTasks()
	{
		return _extraTriggeredTasks;
	}

	private unsafe void SetExtraTriggeredTasks(List<TaskData> value, DataContext context)
	{
		_extraTriggeredTasks = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(56, DataStates, CacheInfluences, context);
		int count = _extraTriggeredTasks.Count;
		int num = 12 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 56, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _extraTriggeredTasks[i].Serialize(ptr);
		}
	}

	public List<int> GetTaskSortingOrder()
	{
		return _taskSortingOrder;
	}

	private unsafe void SetTaskSortingOrder(List<int> value, DataContext context)
	{
		_taskSortingOrder = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(57, DataStates, CacheInfluences, context);
		int count = _taskSortingOrder.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 57, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _taskSortingOrder[i];
		}
		ptr += num;
	}

	private CharacterSet GetLegendaryBookHiddenCharIds()
	{
		return _legendaryBookHiddenCharIds;
	}

	private unsafe void SetLegendaryBookHiddenCharIds(CharacterSet value, DataContext context)
	{
		_legendaryBookHiddenCharIds = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(58, DataStates, CacheInfluences, context);
		int serializedSize = _legendaryBookHiddenCharIds.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 58, serializedSize);
		ptr += _legendaryBookHiddenCharIds.Serialize(ptr);
	}

	private AiActionAdjusts GetElement_CharacterAiActionSuccessRateAdjusts(IntPair elementId)
	{
		return _characterAiActionSuccessRateAdjusts[elementId];
	}

	private bool TryGetElement_CharacterAiActionSuccessRateAdjusts(IntPair elementId, out AiActionAdjusts value)
	{
		return _characterAiActionSuccessRateAdjusts.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterAiActionSuccessRateAdjusts(IntPair elementId, AiActionAdjusts value, DataContext context)
	{
		_characterAiActionSuccessRateAdjusts.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(59, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 59, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 59, elementId, 0);
		}
	}

	private unsafe void SetElement_CharacterAiActionSuccessRateAdjusts(IntPair elementId, AiActionAdjusts value, DataContext context)
	{
		_characterAiActionSuccessRateAdjusts[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(59, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 59, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 59, elementId, 0);
		}
	}

	private void RemoveElement_CharacterAiActionSuccessRateAdjusts(IntPair elementId, DataContext context)
	{
		_characterAiActionSuccessRateAdjusts.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(59, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 59, elementId);
	}

	private void ClearCharacterAiActionSuccessRateAdjusts(DataContext context)
	{
		_characterAiActionSuccessRateAdjusts.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(59, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 59);
	}

	public LoveDataItem GetElement_LoveDataDict(int elementId)
	{
		return _loveDataDict[elementId];
	}

	public bool TryGetElement_LoveDataDict(int elementId, out LoveDataItem value)
	{
		return _loveDataDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LoveDataDict(int elementId, LoveDataItem value, DataContext context)
	{
		_loveDataDict.Add(elementId, value);
		_modificationsLoveDataDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(60, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 60, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 60, elementId, 0);
		}
	}

	private unsafe void SetElement_LoveDataDict(int elementId, LoveDataItem value, DataContext context)
	{
		_loveDataDict[elementId] = value;
		_modificationsLoveDataDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(60, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 60, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 60, elementId, 0);
		}
	}

	private void RemoveElement_LoveDataDict(int elementId, DataContext context)
	{
		_loveDataDict.Remove(elementId);
		_modificationsLoveDataDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(60, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 60, elementId);
	}

	private void ClearLoveDataDict(DataContext context)
	{
		_loveDataDict.Clear();
		_modificationsLoveDataDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(60, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 60);
	}

	public VoidValue GetElement_PreviousLoverSet(int elementId)
	{
		return _previousLoverSet[elementId];
	}

	public bool TryGetElement_PreviousLoverSet(int elementId, out VoidValue value)
	{
		return _previousLoverSet.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_PreviousLoverSet(int elementId, VoidValue value, DataContext context)
	{
		_previousLoverSet.Add(elementId, value);
		_modificationsPreviousLoverSet.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(61, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 61, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_PreviousLoverSet(int elementId, VoidValue value, DataContext context)
	{
		_previousLoverSet[elementId] = value;
		_modificationsPreviousLoverSet.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(61, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 61, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_PreviousLoverSet(int elementId, DataContext context)
	{
		_previousLoverSet.Remove(elementId);
		_modificationsPreviousLoverSet.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(61, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 61, elementId);
	}

	private void ClearPreviousLoverSet(DataContext context)
	{
		_previousLoverSet.Clear();
		_modificationsPreviousLoverSet.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(61, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 61);
	}

	public VoidValue GetElement_ConfessLoveFailedSet(int elementId)
	{
		return _confessLoveFailedSet[elementId];
	}

	public bool TryGetElement_ConfessLoveFailedSet(int elementId, out VoidValue value)
	{
		return _confessLoveFailedSet.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ConfessLoveFailedSet(int elementId, VoidValue value, DataContext context)
	{
		_confessLoveFailedSet.Add(elementId, value);
		_modificationsConfessLoveFailedSet.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(62, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 62, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_ConfessLoveFailedSet(int elementId, VoidValue value, DataContext context)
	{
		_confessLoveFailedSet[elementId] = value;
		_modificationsConfessLoveFailedSet.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(62, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 62, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_ConfessLoveFailedSet(int elementId, DataContext context)
	{
		_confessLoveFailedSet.Remove(elementId);
		_modificationsConfessLoveFailedSet.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(62, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 62, elementId);
	}

	private void ClearConfessLoveFailedSet(DataContext context)
	{
		_confessLoveFailedSet.Clear();
		_modificationsConfessLoveFailedSet.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(62, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 62);
	}

	public LoveTokenDataItem GetElement_LoveTokenDataDict(ItemKey elementId)
	{
		return _loveTokenDataDict[elementId];
	}

	public bool TryGetElement_LoveTokenDataDict(ItemKey elementId, out LoveTokenDataItem value)
	{
		return _loveTokenDataDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LoveTokenDataDict(ItemKey elementId, LoveTokenDataItem value, DataContext context)
	{
		_loveTokenDataDict.Add(elementId, value);
		_modificationsLoveTokenDataDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(63, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 63, elementId, 20);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_LoveTokenDataDict(ItemKey elementId, LoveTokenDataItem value, DataContext context)
	{
		_loveTokenDataDict[elementId] = value;
		_modificationsLoveTokenDataDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(63, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 63, elementId, 20);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_LoveTokenDataDict(ItemKey elementId, DataContext context)
	{
		_loveTokenDataDict.Remove(elementId);
		_modificationsLoveTokenDataDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(63, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 63, elementId);
	}

	private void ClearLoveTokenDataDict(DataContext context)
	{
		_loveTokenDataDict.Clear();
		_modificationsLoveTokenDataDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(63, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 63);
	}

	[Obsolete("DomainData _obsoleteTaiwuProfessions is no longer in use.")]
	private ObsoleteProfessionData GetElement_ObsoleteTaiwuProfessions(int elementId)
	{
		return _obsoleteTaiwuProfessions[elementId];
	}

	[Obsolete("DomainData _obsoleteTaiwuProfessions is no longer in use.")]
	private bool TryGetElement_ObsoleteTaiwuProfessions(int elementId, out ObsoleteProfessionData value)
	{
		return _obsoleteTaiwuProfessions.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _obsoleteTaiwuProfessions is no longer in use.")]
	private unsafe void AddElement_ObsoleteTaiwuProfessions(int elementId, ObsoleteProfessionData value, DataContext context)
	{
		_obsoleteTaiwuProfessions.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(64, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 64, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 64, elementId, 0);
		}
	}

	[Obsolete("DomainData _obsoleteTaiwuProfessions is no longer in use.")]
	private unsafe void SetElement_ObsoleteTaiwuProfessions(int elementId, ObsoleteProfessionData value, DataContext context)
	{
		_obsoleteTaiwuProfessions[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(64, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 64, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 64, elementId, 0);
		}
	}

	[Obsolete("DomainData _obsoleteTaiwuProfessions is no longer in use.")]
	private void RemoveElement_ObsoleteTaiwuProfessions(int elementId, DataContext context)
	{
		_obsoleteTaiwuProfessions.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(64, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 64, elementId);
	}

	[Obsolete("DomainData _obsoleteTaiwuProfessions is no longer in use.")]
	private void ClearObsoleteTaiwuProfessions(DataContext context)
	{
		_obsoleteTaiwuProfessions.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(64, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 64);
	}

	[Obsolete("DomainData _taiwuCurrProfessionId is no longer in use.")]
	public int GetTaiwuCurrProfessionId()
	{
		return _taiwuCurrProfessionId;
	}

	[Obsolete("DomainData _taiwuCurrProfessionId is no longer in use.")]
	private unsafe void SetTaiwuCurrProfessionId(int value, DataContext context)
	{
		_taiwuCurrProfessionId = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(65, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 65, 4);
		*(int*)ptr = _taiwuCurrProfessionId;
		ptr += 4;
	}

	private VoidValue GetElement_SavedSouls(int elementId)
	{
		return _savedSouls[elementId];
	}

	private bool TryGetElement_SavedSouls(int elementId, out VoidValue value)
	{
		return _savedSouls.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SavedSouls(int elementId, VoidValue value, DataContext context)
	{
		_savedSouls.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(66, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 66, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_SavedSouls(int elementId, VoidValue value, DataContext context)
	{
		_savedSouls[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(66, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 66, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_SavedSouls(int elementId, DataContext context)
	{
		_savedSouls.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(66, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 66, elementId);
	}

	private void ClearSavedSouls(DataContext context)
	{
		_savedSouls.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(66, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 66);
	}

	private bool GetElement_CricketIsSmart(int elementId)
	{
		return _cricketIsSmart[elementId];
	}

	private bool TryGetElement_CricketIsSmart(int elementId, out bool value)
	{
		return _cricketIsSmart.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CricketIsSmart(int elementId, bool value, DataContext context)
	{
		_cricketIsSmart.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(67, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 67, elementId, 1);
		*ptr = (value ? ((byte)1) : ((byte)0));
		ptr++;
	}

	private unsafe void SetElement_CricketIsSmart(int elementId, bool value, DataContext context)
	{
		_cricketIsSmart[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(67, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 67, elementId, 1);
		*ptr = (value ? ((byte)1) : ((byte)0));
		ptr++;
	}

	private void RemoveElement_CricketIsSmart(int elementId, DataContext context)
	{
		_cricketIsSmart.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(67, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 67, elementId);
	}

	private void ClearCricketIsSmart(DataContext context)
	{
		_cricketIsSmart.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(67, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 67);
	}

	private bool GetElement_CricketIsIdentified(int elementId)
	{
		return _cricketIsIdentified[elementId];
	}

	private bool TryGetElement_CricketIsIdentified(int elementId, out bool value)
	{
		return _cricketIsIdentified.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CricketIsIdentified(int elementId, bool value, DataContext context)
	{
		_cricketIsIdentified.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(68, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 68, elementId, 1);
		*ptr = (value ? ((byte)1) : ((byte)0));
		ptr++;
	}

	private unsafe void SetElement_CricketIsIdentified(int elementId, bool value, DataContext context)
	{
		_cricketIsIdentified[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(68, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 68, elementId, 1);
		*ptr = (value ? ((byte)1) : ((byte)0));
		ptr++;
	}

	private void RemoveElement_CricketIsIdentified(int elementId, DataContext context)
	{
		_cricketIsIdentified.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(68, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 68, elementId);
	}

	private void ClearCricketIsIdentified(DataContext context)
	{
		_cricketIsIdentified.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(68, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 68);
	}

	private int GetElement_TaiwuInteractionCooldowns(IntPair elementId)
	{
		return _taiwuInteractionCooldowns[elementId];
	}

	private bool TryGetElement_TaiwuInteractionCooldowns(IntPair elementId, out int value)
	{
		return _taiwuInteractionCooldowns.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TaiwuInteractionCooldowns(IntPair elementId, int value, DataContext context)
	{
		_taiwuInteractionCooldowns.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(69, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 69, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_TaiwuInteractionCooldowns(IntPair elementId, int value, DataContext context)
	{
		_taiwuInteractionCooldowns[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(69, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 69, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_TaiwuInteractionCooldowns(IntPair elementId, DataContext context)
	{
		_taiwuInteractionCooldowns.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(69, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 69, elementId);
	}

	private void ClearTaiwuInteractionCooldowns(DataContext context)
	{
		_taiwuInteractionCooldowns.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(69, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 69);
	}

	private int GetElement_CharacterCustomDisplayNames(int elementId)
	{
		return _characterCustomDisplayNames[elementId];
	}

	private bool TryGetElement_CharacterCustomDisplayNames(int elementId, out int value)
	{
		return _characterCustomDisplayNames.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterCustomDisplayNames(int elementId, int value, DataContext context)
	{
		_characterCustomDisplayNames.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(70, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 70, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_CharacterCustomDisplayNames(int elementId, int value, DataContext context)
	{
		_characterCustomDisplayNames[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(70, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 70, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_CharacterCustomDisplayNames(int elementId, DataContext context)
	{
		_characterCustomDisplayNames.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(70, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 70, elementId);
	}

	private void ClearCharacterCustomDisplayNames(DataContext context)
	{
		_characterCustomDisplayNames.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(70, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 70);
	}

	[Obsolete("DomainData _animalAreaData is no longer in use.")]
	public AnimalAreaData GetElement_AnimalAreaData(int index)
	{
		return _animalAreaData[index];
	}

	[Obsolete("DomainData _animalAreaData is no longer in use.")]
	private unsafe void SetElement_AnimalAreaData(int index, AnimalAreaData value, DataContext context)
	{
		_animalAreaData[index] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(index, _dataStatesAnimalAreaData, CacheInfluencesAnimalAreaData, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicElementList_Set(19, 71, index, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicElementList_Set(19, 71, index, 0);
		}
	}

	private VoidValue GetElement_HandledOneShotEvents(int elementId)
	{
		return _handledOneShotEvents[elementId];
	}

	private bool TryGetElement_HandledOneShotEvents(int elementId, out VoidValue value)
	{
		return _handledOneShotEvents.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_HandledOneShotEvents(int elementId, VoidValue value, DataContext context)
	{
		_handledOneShotEvents.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(72, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 72, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_HandledOneShotEvents(int elementId, VoidValue value, DataContext context)
	{
		_handledOneShotEvents[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(72, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 72, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_HandledOneShotEvents(int elementId, DataContext context)
	{
		_handledOneShotEvents.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(72, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 72, elementId);
	}

	private void ClearHandledOneShotEvents(DataContext context)
	{
		_handledOneShotEvents.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(72, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 72);
	}

	[Obsolete("DomainData _hunterAnimals is no longer in use.")]
	private List<HunterAnimalKeyBroken> GetHunterAnimals()
	{
		return _hunterAnimals;
	}

	[Obsolete("DomainData _hunterAnimals is no longer in use.")]
	private unsafe void SetHunterAnimals(List<HunterAnimalKeyBroken> value, DataContext context)
	{
		_hunterAnimals = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(73, DataStates, CacheInfluences, context);
		int count = _hunterAnimals.Count;
		int num = 0;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 73, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _hunterAnimals[i].Serialize(ptr);
		}
	}

	public GameVersionInfo GetWorldVersionInfo()
	{
		return _worldVersionInfo;
	}

	private unsafe void SetWorldVersionInfo(GameVersionInfo value, DataContext context)
	{
		_worldVersionInfo = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(74, DataStates, CacheInfluences, context);
		int serializedSize = _worldVersionInfo.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 74, serializedSize);
		ptr += _worldVersionInfo.Serialize(ptr);
	}

	private EventArgBox GetElement_SectMainStoryEventArgBoxes(int index)
	{
		return _sectMainStoryEventArgBoxes[index];
	}

	private unsafe void SetElement_SectMainStoryEventArgBoxes(int index, EventArgBox value, DataContext context)
	{
		_sectMainStoryEventArgBoxes[index] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(index, _dataStatesSectMainStoryEventArgBoxes, CacheInfluencesSectMainStoryEventArgBoxes, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicElementList_Set(19, 75, index, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicElementList_Set(19, 75, index, 0);
		}
	}

	public sbyte GetChangeTrickBodyPart()
	{
		return _changeTrickBodyPart;
	}

	public unsafe void SetChangeTrickBodyPart(sbyte value, DataContext context)
	{
		_changeTrickBodyPart = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(76, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 76, 1);
		*ptr = (byte)_changeTrickBodyPart;
		ptr++;
	}

	public sbyte GetChangeTrickIndex()
	{
		return _changeTrickIndex;
	}

	public unsafe void SetChangeTrickIndex(sbyte value, DataContext context)
	{
		_changeTrickIndex = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(77, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 77, 1);
		*ptr = (byte)_changeTrickIndex;
		ptr++;
	}

	public sbyte GetVoiceWeaponInnerRatio()
	{
		return _voiceWeaponInnerRatio;
	}

	public unsafe void SetVoiceWeaponInnerRatio(sbyte value, DataContext context)
	{
		_voiceWeaponInnerRatio = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(78, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 78, 1);
		*ptr = (byte)_voiceWeaponInnerRatio;
		ptr++;
	}

	public List<Location> GetSectXuehouBloodLightLocations()
	{
		return _sectXuehouBloodLightLocations;
	}

	private unsafe void SetSectXuehouBloodLightLocations(List<Location> value, DataContext context)
	{
		_sectXuehouBloodLightLocations = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(79, DataStates, CacheInfluences, context);
		int count = _sectXuehouBloodLightLocations.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 79, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _sectXuehouBloodLightLocations[i].Serialize(ptr);
		}
	}

	private AvatarData GetElement_CharacterAvatarSnapshot(int elementId)
	{
		return _characterAvatarSnapshot[elementId];
	}

	private bool TryGetElement_CharacterAvatarSnapshot(int elementId, out AvatarData value)
	{
		return _characterAvatarSnapshot.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterAvatarSnapshot(int elementId, AvatarData value, DataContext context)
	{
		_characterAvatarSnapshot.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(80, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 80, elementId, 76);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CharacterAvatarSnapshot(int elementId, AvatarData value, DataContext context)
	{
		_characterAvatarSnapshot[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(80, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 80, elementId, 76);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CharacterAvatarSnapshot(int elementId, DataContext context)
	{
		_characterAvatarSnapshot.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(80, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 80, elementId);
	}

	private void ClearCharacterAvatarSnapshot(DataContext context)
	{
		_characterAvatarSnapshot.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(80, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 80);
	}

	public TreasureMaterialData GetElement_BrokenAreaMaterials(int index)
	{
		return _brokenAreaMaterials[index];
	}

	private unsafe void SetElement_BrokenAreaMaterials(int index, TreasureMaterialData value, DataContext context)
	{
		_brokenAreaMaterials[index] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(index, _dataStatesBrokenAreaMaterials, CacheInfluencesBrokenAreaMaterials, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicElementList_Set(19, 81, index, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicElementList_Set(19, 81, index, 0);
		}
	}

	public List<SectStoryFairyland> GetSectWudangFairylandData()
	{
		return _sectWudangFairylandData;
	}

	private unsafe void SetSectWudangFairylandData(List<SectStoryFairyland> value, DataContext context)
	{
		_sectWudangFairylandData = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(82, DataStates, CacheInfluences, context);
		int count = _sectWudangFairylandData.Count;
		int num = 12 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 82, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _sectWudangFairylandData[i].Serialize(ptr);
		}
	}

	private int GetTreasureMaterialFailedTimes()
	{
		return _treasureMaterialFailedTimes;
	}

	private unsafe void SetTreasureMaterialFailedTimes(int value, DataContext context)
	{
		_treasureMaterialFailedTimes = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(83, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 83, 4);
		*(int*)ptr = _treasureMaterialFailedTimes;
		ptr += 4;
	}

	[Obsolete("DomainData _sectYuanshanDemonEffectIds is no longer in use.")]
	private long GetElement_SectYuanshanDemonEffectIds(int index)
	{
		return _sectYuanshanDemonEffectIds[index];
	}

	[Obsolete("DomainData _sectYuanshanDemonEffectIds is no longer in use.")]
	private unsafe void SetElement_SectYuanshanDemonEffectIds(int index, long value, DataContext context)
	{
		_sectYuanshanDemonEffectIds[index] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(index, _dataStatesSectYuanshanDemonEffectIds, CacheInfluencesSectYuanshanDemonEffectIds, context);
		byte* ptr = OperationAdder.FixedElementList_Set(19, 84, index, 8);
		*(long*)ptr = value;
		ptr += 8;
	}

	public NeiliAllocation GetTaiwuMaxNeiliAllocation()
	{
		return _taiwuMaxNeiliAllocation;
	}

	public unsafe void SetTaiwuMaxNeiliAllocation(NeiliAllocation value, DataContext context)
	{
		_taiwuMaxNeiliAllocation = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(85, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 85, 8);
		ptr += _taiwuMaxNeiliAllocation.Serialize(ptr);
	}

	private GameData.Utilities.ShortList GetElement_CharacterMasteredCombatSkills(int elementId)
	{
		return _characterMasteredCombatSkills[elementId];
	}

	private bool TryGetElement_CharacterMasteredCombatSkills(int elementId, out GameData.Utilities.ShortList value)
	{
		return _characterMasteredCombatSkills.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterMasteredCombatSkills(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_characterMasteredCombatSkills.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(86, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 86, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CharacterMasteredCombatSkills(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_characterMasteredCombatSkills[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(86, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 86, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CharacterMasteredCombatSkills(int elementId, DataContext context)
	{
		_characterMasteredCombatSkills.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(86, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 86, elementId);
	}

	private void ClearCharacterMasteredCombatSkills(DataContext context)
	{
		_characterMasteredCombatSkills.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(86, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 86);
	}

	private GameData.Utilities.ShortList GetElement_MasteredCombatSkillPlans(int index)
	{
		return _masteredCombatSkillPlans[index];
	}

	private unsafe void SetElement_MasteredCombatSkillPlans(int index, GameData.Utilities.ShortList value, DataContext context)
	{
		_masteredCombatSkillPlans[index] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(index, _dataStatesMasteredCombatSkillPlans, CacheInfluencesMasteredCombatSkillPlans, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicElementList_Set(19, 87, index, serializedSize);
		ptr += value.Serialize(ptr);
	}

	public byte GetBreakoutDifficulty()
	{
		return _breakoutDifficulty;
	}

	public unsafe void SetBreakoutDifficulty(byte value, DataContext context)
	{
		_breakoutDifficulty = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(88, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 88, 1);
		*ptr = _breakoutDifficulty;
		ptr++;
	}

	public byte GetReadingDifficulty()
	{
		return _readingDifficulty;
	}

	public unsafe void SetReadingDifficulty(byte value, DataContext context)
	{
		_readingDifficulty = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(89, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 89, 1);
		*ptr = _readingDifficulty;
		ptr++;
	}

	public byte GetLoopingDifficulty()
	{
		return _loopingDifficulty;
	}

	public unsafe void SetLoopingDifficulty(byte value, DataContext context)
	{
		_loopingDifficulty = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(90, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 90, 1);
		*ptr = _loopingDifficulty;
		ptr++;
	}

	public IntList GetElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(short elementId)
	{
		return _combatSkillBreakPlateLastForceBreakoutStepsCount[elementId];
	}

	public bool TryGetElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(short elementId, out IntList value)
	{
		return _combatSkillBreakPlateLastForceBreakoutStepsCount.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(short elementId, IntList value, DataContext context)
	{
		_combatSkillBreakPlateLastForceBreakoutStepsCount.Add(elementId, value);
		_modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(91, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 91, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(short elementId, IntList value, DataContext context)
	{
		_combatSkillBreakPlateLastForceBreakoutStepsCount[elementId] = value;
		_modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(91, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 91, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CombatSkillBreakPlateLastForceBreakoutStepsCount(short elementId, DataContext context)
	{
		_combatSkillBreakPlateLastForceBreakoutStepsCount.Remove(elementId);
		_modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(91, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 91, elementId);
	}

	private void ClearCombatSkillBreakPlateLastForceBreakoutStepsCount(DataContext context)
	{
		_combatSkillBreakPlateLastForceBreakoutStepsCount.Clear();
		_modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(91, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 91);
	}

	private int GetElement_PregeneratedFixedEnemies(short elementId)
	{
		return _pregeneratedFixedEnemies[elementId];
	}

	private bool TryGetElement_PregeneratedFixedEnemies(short elementId, out int value)
	{
		return _pregeneratedFixedEnemies.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_PregeneratedFixedEnemies(short elementId, int value, DataContext context)
	{
		_pregeneratedFixedEnemies.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(92, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 92, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_PregeneratedFixedEnemies(short elementId, int value, DataContext context)
	{
		_pregeneratedFixedEnemies[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(92, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 92, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_PregeneratedFixedEnemies(short elementId, DataContext context)
	{
		_pregeneratedFixedEnemies.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(92, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 92, elementId);
	}

	private void ClearPregeneratedFixedEnemies(DataContext context)
	{
		_pregeneratedFixedEnemies.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(92, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 92);
	}

	public List<short> GetAutoCheckInComfortableList()
	{
		return _autoCheckInComfortableList;
	}

	public unsafe void SetAutoCheckInComfortableList(List<short> value, DataContext context)
	{
		_autoCheckInComfortableList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(93, DataStates, CacheInfluences, context);
		int count = _autoCheckInComfortableList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 93, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _autoCheckInComfortableList[i];
		}
		ptr += num;
	}

	public List<short> GetAutoCheckInResidenceList()
	{
		return _autoCheckInResidenceList;
	}

	public unsafe void SetAutoCheckInResidenceList(List<short> value, DataContext context)
	{
		_autoCheckInResidenceList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(94, DataStates, CacheInfluences, context);
		int count = _autoCheckInResidenceList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 94, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _autoCheckInResidenceList[i];
		}
		ptr += num;
	}

	[Obsolete("DomainData _readingEventReferenceBooks is no longer in use.")]
	public GameData.Utilities.ShortList GetElement_ReadingEventReferenceBooks(int elementId)
	{
		return _readingEventReferenceBooks[elementId];
	}

	[Obsolete("DomainData _readingEventReferenceBooks is no longer in use.")]
	public bool TryGetElement_ReadingEventReferenceBooks(int elementId, out GameData.Utilities.ShortList value)
	{
		return _readingEventReferenceBooks.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _readingEventReferenceBooks is no longer in use.")]
	private unsafe void AddElement_ReadingEventReferenceBooks(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_readingEventReferenceBooks.Add(elementId, value);
		_modificationsReadingEventReferenceBooks.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(95, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 95, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	[Obsolete("DomainData _readingEventReferenceBooks is no longer in use.")]
	private unsafe void SetElement_ReadingEventReferenceBooks(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_readingEventReferenceBooks[elementId] = value;
		_modificationsReadingEventReferenceBooks.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(95, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 95, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	[Obsolete("DomainData _readingEventReferenceBooks is no longer in use.")]
	private void RemoveElement_ReadingEventReferenceBooks(int elementId, DataContext context)
	{
		_readingEventReferenceBooks.Remove(elementId);
		_modificationsReadingEventReferenceBooks.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(95, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 95, elementId);
	}

	[Obsolete("DomainData _readingEventReferenceBooks is no longer in use.")]
	private void ClearReadingEventReferenceBooks(DataContext context)
	{
		_readingEventReferenceBooks.Clear();
		_modificationsReadingEventReferenceBooks.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(95, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 95);
	}

	[Obsolete("DomainData _merchantTypeToDebts is no longer in use.")]
	public Debts GetElement_MerchantTypeToDebts(sbyte elementId)
	{
		return _merchantTypeToDebts[elementId];
	}

	[Obsolete("DomainData _merchantTypeToDebts is no longer in use.")]
	public bool TryGetElement_MerchantTypeToDebts(sbyte elementId, out Debts value)
	{
		return _merchantTypeToDebts.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _merchantTypeToDebts is no longer in use.")]
	private unsafe void AddElement_MerchantTypeToDebts(sbyte elementId, Debts value, DataContext context)
	{
		_merchantTypeToDebts.Add(elementId, value);
		_modificationsMerchantTypeToDebts.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(96, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 96, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 96, elementId, 0);
		}
	}

	[Obsolete("DomainData _merchantTypeToDebts is no longer in use.")]
	private unsafe void SetElement_MerchantTypeToDebts(sbyte elementId, Debts value, DataContext context)
	{
		_merchantTypeToDebts[elementId] = value;
		_modificationsMerchantTypeToDebts.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(96, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 96, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 96, elementId, 0);
		}
	}

	[Obsolete("DomainData _merchantTypeToDebts is no longer in use.")]
	private void RemoveElement_MerchantTypeToDebts(sbyte elementId, DataContext context)
	{
		_merchantTypeToDebts.Remove(elementId);
		_modificationsMerchantTypeToDebts.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(96, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 96, elementId);
	}

	[Obsolete("DomainData _merchantTypeToDebts is no longer in use.")]
	private void ClearMerchantTypeToDebts(DataContext context)
	{
		_merchantTypeToDebts.Clear();
		_modificationsMerchantTypeToDebts.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(96, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 96);
	}

	[Obsolete("DomainData _merchantBuyBackDict is no longer in use.")]
	public MerchantBuyBackDebt GetElement_MerchantBuyBackDict(int elementId)
	{
		return _merchantBuyBackDict[elementId];
	}

	[Obsolete("DomainData _merchantBuyBackDict is no longer in use.")]
	public bool TryGetElement_MerchantBuyBackDict(int elementId, out MerchantBuyBackDebt value)
	{
		return _merchantBuyBackDict.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _merchantBuyBackDict is no longer in use.")]
	private unsafe void AddElement_MerchantBuyBackDict(int elementId, MerchantBuyBackDebt value, DataContext context)
	{
		_merchantBuyBackDict.Add(elementId, value);
		_modificationsMerchantBuyBackDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(97, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 97, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 97, elementId, 0);
		}
	}

	[Obsolete("DomainData _merchantBuyBackDict is no longer in use.")]
	private unsafe void SetElement_MerchantBuyBackDict(int elementId, MerchantBuyBackDebt value, DataContext context)
	{
		_merchantBuyBackDict[elementId] = value;
		_modificationsMerchantBuyBackDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(97, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 97, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 97, elementId, 0);
		}
	}

	[Obsolete("DomainData _merchantBuyBackDict is no longer in use.")]
	private void RemoveElement_MerchantBuyBackDict(int elementId, DataContext context)
	{
		_merchantBuyBackDict.Remove(elementId);
		_modificationsMerchantBuyBackDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(97, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 97, elementId);
	}

	[Obsolete("DomainData _merchantBuyBackDict is no longer in use.")]
	private void ClearMerchantBuyBackDict(DataContext context)
	{
		_merchantBuyBackDict.Clear();
		_modificationsMerchantBuyBackDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(97, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 97);
	}

	[Obsolete("DomainData _merchantMaxLevelBuyBackData is no longer in use.")]
	public MerchantBuyBackDebt GetElement_MerchantMaxLevelBuyBackData(int index)
	{
		return _merchantMaxLevelBuyBackData[index];
	}

	[Obsolete("DomainData _merchantMaxLevelBuyBackData is no longer in use.")]
	public unsafe void SetElement_MerchantMaxLevelBuyBackData(int index, MerchantBuyBackDebt value, DataContext context)
	{
		_merchantMaxLevelBuyBackData[index] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(index, _dataStatesMerchantMaxLevelBuyBackData, CacheInfluencesMerchantMaxLevelBuyBackData, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicElementList_Set(19, 98, index, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicElementList_Set(19, 98, index, 0);
		}
	}

	[Obsolete("DomainData _caravanBuyBackDict is no longer in use.")]
	public MerchantBuyBackDebt GetElement_CaravanBuyBackDict(int elementId)
	{
		return _caravanBuyBackDict[elementId];
	}

	[Obsolete("DomainData _caravanBuyBackDict is no longer in use.")]
	public bool TryGetElement_CaravanBuyBackDict(int elementId, out MerchantBuyBackDebt value)
	{
		return _caravanBuyBackDict.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _caravanBuyBackDict is no longer in use.")]
	private unsafe void AddElement_CaravanBuyBackDict(int elementId, MerchantBuyBackDebt value, DataContext context)
	{
		_caravanBuyBackDict.Add(elementId, value);
		_modificationsCaravanBuyBackDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(99, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 99, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 99, elementId, 0);
		}
	}

	[Obsolete("DomainData _caravanBuyBackDict is no longer in use.")]
	private unsafe void SetElement_CaravanBuyBackDict(int elementId, MerchantBuyBackDebt value, DataContext context)
	{
		_caravanBuyBackDict[elementId] = value;
		_modificationsCaravanBuyBackDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(99, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 99, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 99, elementId, 0);
		}
	}

	[Obsolete("DomainData _caravanBuyBackDict is no longer in use.")]
	private void RemoveElement_CaravanBuyBackDict(int elementId, DataContext context)
	{
		_caravanBuyBackDict.Remove(elementId);
		_modificationsCaravanBuyBackDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(99, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 99, elementId);
	}

	[Obsolete("DomainData _caravanBuyBackDict is no longer in use.")]
	private void ClearCaravanBuyBackDict(DataContext context)
	{
		_caravanBuyBackDict.Clear();
		_modificationsCaravanBuyBackDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(99, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 99);
	}

	public sbyte GetFirstLegendaryBookDelay()
	{
		return _firstLegendaryBookDelay;
	}

	public unsafe void SetFirstLegendaryBookDelay(sbyte value, DataContext context)
	{
		_firstLegendaryBookDelay = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(100, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 100, 1);
		*ptr = (byte)_firstLegendaryBookDelay;
		ptr++;
	}

	public List<short> GetLegaciesBuildingTemplateIdList()
	{
		return _legaciesBuildingTemplateIdList;
	}

	public unsafe void SetLegaciesBuildingTemplateIdList(List<short> value, DataContext context)
	{
		_legaciesBuildingTemplateIdList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(101, DataStates, CacheInfluences, context);
		int count = _legaciesBuildingTemplateIdList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 101, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _legaciesBuildingTemplateIdList[i];
		}
		ptr += num;
	}

	public bool GetIsDreamBack()
	{
		return _isDreamBack;
	}

	private unsafe void SetIsDreamBack(bool value, DataContext context)
	{
		_isDreamBack = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(102, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 102, 1);
		*ptr = (_isDreamBack ? ((byte)1) : ((byte)0));
		ptr++;
	}

	private AbridgedCharacter GetElement_AbridgedDreamBackCharacters(int elementId)
	{
		return _abridgedDreamBackCharacters[elementId];
	}

	private bool TryGetElement_AbridgedDreamBackCharacters(int elementId, out AbridgedCharacter value)
	{
		return _abridgedDreamBackCharacters.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_AbridgedDreamBackCharacters(int elementId, AbridgedCharacter value, DataContext context)
	{
		_abridgedDreamBackCharacters.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(103, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 103, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 103, elementId, 0);
		}
	}

	private unsafe void SetElement_AbridgedDreamBackCharacters(int elementId, AbridgedCharacter value, DataContext context)
	{
		_abridgedDreamBackCharacters[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(103, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 103, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 103, elementId, 0);
		}
	}

	private void RemoveElement_AbridgedDreamBackCharacters(int elementId, DataContext context)
	{
		_abridgedDreamBackCharacters.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(103, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 103, elementId);
	}

	private void ClearAbridgedDreamBackCharacters(DataContext context)
	{
		_abridgedDreamBackCharacters.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(103, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 103);
	}

	public List<int> GetUnlockedWorkingVillagers()
	{
		return _unlockedWorkingVillagers;
	}

	public unsafe void SetUnlockedWorkingVillagers(List<int> value, DataContext context)
	{
		_unlockedWorkingVillagers = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(104, DataStates, CacheInfluences, context);
		int count = _unlockedWorkingVillagers.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 104, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _unlockedWorkingVillagers[i];
		}
		ptr += num;
	}

	public ReadonlyLifeRecords GetDreamBackLifeRecords()
	{
		return _dreamBackLifeRecords;
	}

	private unsafe void CommitInsert_DreamBackLifeRecords(DataContext context, int offset, int size)
	{
		_modificationsDreamBackLifeRecords.RecordInserting(offset, size);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(105, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Insert(19, 105, offset, size);
		_dreamBackLifeRecords.CopyTo(offset, size, pDest);
	}

	private unsafe void CommitWrite_DreamBackLifeRecords(DataContext context, int offset, int size)
	{
		_modificationsDreamBackLifeRecords.RecordWriting(offset, size);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(105, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Write(19, 105, offset, size);
		_dreamBackLifeRecords.CopyTo(offset, size, pDest);
	}

	private void CommitRemove_DreamBackLifeRecords(DataContext context, int offset, int size)
	{
		_modificationsDreamBackLifeRecords.RecordRemoving(offset, size);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(105, DataStates, CacheInfluences, context);
		OperationAdder.Binary_Remove(19, 105, offset, size);
	}

	private unsafe void CommitSetMetadata_DreamBackLifeRecords(DataContext context)
	{
		_modificationsDreamBackLifeRecords.RecordSettingMetadata();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(105, DataStates, CacheInfluences, context);
		ushort serializedFixedSizeOfMetadata = _dreamBackLifeRecords.GetSerializedFixedSizeOfMetadata();
		byte* pData = OperationAdder.Binary_SetMetadata(19, 105, serializedFixedSizeOfMetadata);
		_dreamBackLifeRecords.SerializeMetadata(pData);
	}

	public int GetActionPointCurrMonth()
	{
		return _actionPointCurrMonth;
	}

	private unsafe void SetActionPointCurrMonth(int value, DataContext context)
	{
		_actionPointCurrMonth = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(106, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 106, 4);
		*(int*)ptr = _actionPointCurrMonth;
		ptr += 4;
	}

	[Obsolete("DomainData _actionPointPrevMonth is no longer in use.")]
	public int GetActionPointPrevMonth()
	{
		return _actionPointPrevMonth;
	}

	[Obsolete("DomainData _actionPointPrevMonth is no longer in use.")]
	private unsafe void SetActionPointPrevMonth(int value, DataContext context)
	{
		_actionPointPrevMonth = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(107, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 107, 4);
		*(int*)ptr = _actionPointPrevMonth;
		ptr += 4;
	}

	private SByteList GetElement_AdvancedTeammateCommandDict(int elementId)
	{
		return _advancedTeammateCommandDict[elementId];
	}

	private bool TryGetElement_AdvancedTeammateCommandDict(int elementId, out SByteList value)
	{
		return _advancedTeammateCommandDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_AdvancedTeammateCommandDict(int elementId, SByteList value, DataContext context)
	{
		_advancedTeammateCommandDict.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(108, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 108, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_AdvancedTeammateCommandDict(int elementId, SByteList value, DataContext context)
	{
		_advancedTeammateCommandDict[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(108, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 108, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_AdvancedTeammateCommandDict(int elementId, DataContext context)
	{
		_advancedTeammateCommandDict.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(108, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 108, elementId);
	}

	private void ClearAdvancedTeammateCommandDict(DataContext context)
	{
		_advancedTeammateCommandDict.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(108, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 108);
	}

	public int GetLastMonthNotificationsIndex()
	{
		return _lastMonthNotificationsIndex;
	}

	private unsafe void SetLastMonthNotificationsIndex(int value, DataContext context)
	{
		_lastMonthNotificationsIndex = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(109, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 109, 4);
		*(int*)ptr = _lastMonthNotificationsIndex;
		ptr += 4;
	}

	public MonthlyNotificationCollection GetElement_PreviousMonthlyNotifications(int elementId)
	{
		return _previousMonthlyNotifications[elementId];
	}

	public bool TryGetElement_PreviousMonthlyNotifications(int elementId, out MonthlyNotificationCollection value)
	{
		return _previousMonthlyNotifications.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_PreviousMonthlyNotifications(int elementId, MonthlyNotificationCollection value, DataContext context)
	{
		_previousMonthlyNotifications.Add(elementId, value);
		_modificationsPreviousMonthlyNotifications.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(110, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 110, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 110, elementId, 0);
		}
	}

	private unsafe void SetElement_PreviousMonthlyNotifications(int elementId, MonthlyNotificationCollection value, DataContext context)
	{
		_previousMonthlyNotifications[elementId] = value;
		_modificationsPreviousMonthlyNotifications.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(110, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 110, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 110, elementId, 0);
		}
	}

	private void RemoveElement_PreviousMonthlyNotifications(int elementId, DataContext context)
	{
		_previousMonthlyNotifications.Remove(elementId);
		_modificationsPreviousMonthlyNotifications.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(110, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 110, elementId);
	}

	private void ClearPreviousMonthlyNotifications(DataContext context)
	{
		_previousMonthlyNotifications.Clear();
		_modificationsPreviousMonthlyNotifications.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(110, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 110);
	}

	[Obsolete("DomainData _actionPointPreserved is no longer in use.")]
	public int GetActionPointPreserved()
	{
		return _actionPointPreserved;
	}

	[Obsolete("DomainData _actionPointPreserved is no longer in use.")]
	private unsafe void SetActionPointPreserved(int value, DataContext context)
	{
		_actionPointPreserved = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(111, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 111, 4);
		*(int*)ptr = _actionPointPreserved;
		ptr += 4;
	}

	[Obsolete("DomainData _villageWorkQualificationImprove is no longer in use.")]
	public GameData.Utilities.ShortList GetElement_VillageWorkQualificationImprove(int elementId)
	{
		return _villageWorkQualificationImprove[elementId];
	}

	[Obsolete("DomainData _villageWorkQualificationImprove is no longer in use.")]
	public bool TryGetElement_VillageWorkQualificationImprove(int elementId, out GameData.Utilities.ShortList value)
	{
		return _villageWorkQualificationImprove.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _villageWorkQualificationImprove is no longer in use.")]
	private unsafe void AddElement_VillageWorkQualificationImprove(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_villageWorkQualificationImprove.Add(elementId, value);
		_modificationsVillageWorkQualificationImprove.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(112, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 112, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	[Obsolete("DomainData _villageWorkQualificationImprove is no longer in use.")]
	private unsafe void SetElement_VillageWorkQualificationImprove(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_villageWorkQualificationImprove[elementId] = value;
		_modificationsVillageWorkQualificationImprove.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(112, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 112, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	[Obsolete("DomainData _villageWorkQualificationImprove is no longer in use.")]
	private void RemoveElement_VillageWorkQualificationImprove(int elementId, DataContext context)
	{
		_villageWorkQualificationImprove.Remove(elementId);
		_modificationsVillageWorkQualificationImprove.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(112, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 112, elementId);
	}

	[Obsolete("DomainData _villageWorkQualificationImprove is no longer in use.")]
	private void ClearVillageWorkQualificationImprove(DataContext context)
	{
		_villageWorkQualificationImprove.Clear();
		_modificationsVillageWorkQualificationImprove.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(112, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 112);
	}

	public sbyte GetReadInLifeSkillCombatCount()
	{
		return _readInLifeSkillCombatCount;
	}

	public unsafe void SetReadInLifeSkillCombatCount(sbyte value, DataContext context)
	{
		_readInLifeSkillCombatCount = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(113, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 113, 1);
		*ptr = (byte)_readInLifeSkillCombatCount;
		ptr++;
	}

	[Obsolete("DomainData _sectWudangHeavenlyTree is no longer in use.")]
	public SectStoryHeavenlyTree GetSectWudangHeavenlyTree()
	{
		return _sectWudangHeavenlyTree;
	}

	[Obsolete("DomainData _sectWudangHeavenlyTree is no longer in use.")]
	private unsafe void SetSectWudangHeavenlyTree(SectStoryHeavenlyTree value, DataContext context)
	{
		_sectWudangHeavenlyTree = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(114, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 114, 12);
		ptr += _sectWudangHeavenlyTree.Serialize(ptr);
	}

	public List<SectStoryHeavenlyTreeExtendable> GetSectWudangHeavenlyTreeList()
	{
		return _sectWudangHeavenlyTreeList;
	}

	private unsafe void SetSectWudangHeavenlyTreeList(List<SectStoryHeavenlyTreeExtendable> value, DataContext context)
	{
		_sectWudangHeavenlyTreeList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(115, DataStates, CacheInfluences, context);
		int count = _sectWudangHeavenlyTreeList.Count;
		int num = 24 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 115, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _sectWudangHeavenlyTreeList[i].Serialize(ptr);
		}
	}

	public List<Location> GetSectWudangLingBaoDark()
	{
		return _sectWudangLingBaoDark;
	}

	private unsafe void SetSectWudangLingBaoDark(List<Location> value, DataContext context)
	{
		_sectWudangLingBaoDark = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(116, DataStates, CacheInfluences, context);
		int count = _sectWudangLingBaoDark.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 116, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _sectWudangLingBaoDark[i].Serialize(ptr);
		}
	}

	public List<Location> GetSectWudangLingBaoLight()
	{
		return _sectWudangLingBaoLight;
	}

	private unsafe void SetSectWudangLingBaoLight(List<Location> value, DataContext context)
	{
		_sectWudangLingBaoLight = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(117, DataStates, CacheInfluences, context);
		int count = _sectWudangLingBaoLight.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 117, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _sectWudangLingBaoLight[i].Serialize(ptr);
		}
	}

	public List<int> GetShixiangBarbarianMasterIdList()
	{
		return _shixiangBarbarianMasterIdList;
	}

	public unsafe void SetShixiangBarbarianMasterIdList(List<int> value, DataContext context)
	{
		_shixiangBarbarianMasterIdList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(118, DataStates, CacheInfluences, context);
		int count = _shixiangBarbarianMasterIdList.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 118, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _shixiangBarbarianMasterIdList[i];
		}
		ptr += num;
	}

	[Obsolete("DomainData _legaciesBuildingList is no longer in use.")]
	public List<BuildingBlockKey> GetLegaciesBuildingList()
	{
		return _legaciesBuildingList;
	}

	[Obsolete("DomainData _legaciesBuildingList is no longer in use.")]
	public unsafe void SetLegaciesBuildingList(List<BuildingBlockKey> value, DataContext context)
	{
		_legaciesBuildingList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(119, DataStates, CacheInfluences, context);
		int count = _legaciesBuildingList.Count;
		int num = 8 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 119, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _legaciesBuildingList[i].Serialize(ptr);
		}
	}

	private EquipmentPlan GetElement_GroupCharacterEquipmentRecord(int elementId)
	{
		return _groupCharacterEquipmentRecord[elementId];
	}

	private bool TryGetElement_GroupCharacterEquipmentRecord(int elementId, out EquipmentPlan value)
	{
		return _groupCharacterEquipmentRecord.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_GroupCharacterEquipmentRecord(int elementId, EquipmentPlan value, DataContext context)
	{
		_groupCharacterEquipmentRecord.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(120, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 120, elementId, 99);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_GroupCharacterEquipmentRecord(int elementId, EquipmentPlan value, DataContext context)
	{
		_groupCharacterEquipmentRecord[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(120, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 120, elementId, 99);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_GroupCharacterEquipmentRecord(int elementId, DataContext context)
	{
		_groupCharacterEquipmentRecord.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(120, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 120, elementId);
	}

	private void ClearGroupCharacterEquipmentRecord(DataContext context)
	{
		_groupCharacterEquipmentRecord.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(120, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 120);
	}

	private SkillBreakBonusCollection GetElement_SectEmeiSkillBreakBonus(short elementId)
	{
		return _sectEmeiSkillBreakBonus[elementId];
	}

	private bool TryGetElement_SectEmeiSkillBreakBonus(short elementId, out SkillBreakBonusCollection value)
	{
		return _sectEmeiSkillBreakBonus.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SectEmeiSkillBreakBonus(short elementId, SkillBreakBonusCollection value, DataContext context)
	{
		_sectEmeiSkillBreakBonus.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(121, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 121, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 121, elementId, 0);
		}
	}

	private unsafe void SetElement_SectEmeiSkillBreakBonus(short elementId, SkillBreakBonusCollection value, DataContext context)
	{
		_sectEmeiSkillBreakBonus[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(121, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 121, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 121, elementId, 0);
		}
	}

	private void RemoveElement_SectEmeiSkillBreakBonus(short elementId, DataContext context)
	{
		_sectEmeiSkillBreakBonus.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(121, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 121, elementId);
	}

	private void ClearSectEmeiSkillBreakBonus(DataContext context)
	{
		_sectEmeiSkillBreakBonus.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(121, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 121);
	}

	public List<sbyte> GetInformationSettings()
	{
		return _informationSettings;
	}

	public unsafe void SetInformationSettings(List<sbyte> value, DataContext context)
	{
		_informationSettings = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(122, DataStates, CacheInfluences, context);
		int count = _informationSettings.Count;
		int num = count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 122, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr[i] = (byte)_informationSettings[i];
		}
		ptr += num;
	}

	public List<short> GetSectXuannvUnlockedMusicList()
	{
		return _sectXuannvUnlockedMusicList;
	}

	public unsafe void SetSectXuannvUnlockedMusicList(List<short> value, DataContext context)
	{
		_sectXuannvUnlockedMusicList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(123, DataStates, CacheInfluences, context);
		int count = _sectXuannvUnlockedMusicList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 123, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _sectXuannvUnlockedMusicList[i];
		}
		ptr += num;
	}

	public sbyte GetSectXuannvPlayerPlayMode()
	{
		return _sectXuannvPlayerPlayMode;
	}

	public unsafe void SetSectXuannvPlayerPlayMode(sbyte value, DataContext context)
	{
		_sectXuannvPlayerPlayMode = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(124, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 124, 1);
		*ptr = (byte)_sectXuannvPlayerPlayMode;
		ptr++;
	}

	public short GetSectXuannvPlayerMusicId()
	{
		return _sectXuannvPlayerMusicId;
	}

	public unsafe void SetSectXuannvPlayerMusicId(short value, DataContext context)
	{
		_sectXuannvPlayerMusicId = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(125, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 125, 2);
		*(short*)ptr = _sectXuannvPlayerMusicId;
		ptr += 2;
	}

	public bool GetSectXuannvPlayerIsEnabled()
	{
		return _sectXuannvPlayerIsEnabled;
	}

	public unsafe void SetSectXuannvPlayerIsEnabled(bool value, DataContext context)
	{
		_sectXuannvPlayerIsEnabled = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(126, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 126, 1);
		*ptr = (_sectXuannvPlayerIsEnabled ? ((byte)1) : ((byte)0));
		ptr++;
	}

	private GameData.Utilities.ShortList GetElement_SectEmeiBreakBonusTemplateIds(short elementId)
	{
		return _sectEmeiBreakBonusTemplateIds[elementId];
	}

	private bool TryGetElement_SectEmeiBreakBonusTemplateIds(short elementId, out GameData.Utilities.ShortList value)
	{
		return _sectEmeiBreakBonusTemplateIds.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SectEmeiBreakBonusTemplateIds(short elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_sectEmeiBreakBonusTemplateIds.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(127, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 127, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_SectEmeiBreakBonusTemplateIds(short elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_sectEmeiBreakBonusTemplateIds[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(127, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 127, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_SectEmeiBreakBonusTemplateIds(short elementId, DataContext context)
	{
		_sectEmeiBreakBonusTemplateIds.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(127, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 127, elementId);
	}

	private void ClearSectEmeiBreakBonusTemplateIds(DataContext context)
	{
		_sectEmeiBreakBonusTemplateIds.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(127, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 127);
	}

	public int GetElement_MirrorCharacters(int elementId)
	{
		return _mirrorCharacters[elementId];
	}

	public bool TryGetElement_MirrorCharacters(int elementId, out int value)
	{
		return _mirrorCharacters.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_MirrorCharacters(int elementId, int value, DataContext context)
	{
		_mirrorCharacters.Add(elementId, value);
		_modificationsMirrorCharacters.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(128, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 128, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_MirrorCharacters(int elementId, int value, DataContext context)
	{
		_mirrorCharacters[elementId] = value;
		_modificationsMirrorCharacters.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(128, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 128, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_MirrorCharacters(int elementId, DataContext context)
	{
		_mirrorCharacters.Remove(elementId);
		_modificationsMirrorCharacters.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(128, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 128, elementId);
	}

	private void ClearMirrorCharacters(DataContext context)
	{
		_mirrorCharacters.Clear();
		_modificationsMirrorCharacters.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(128, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 128);
	}

	public List<Location> GetSectEmeiBloodLocations()
	{
		return _sectEmeiBloodLocations;
	}

	private unsafe void SetSectEmeiBloodLocations(List<Location> value, DataContext context)
	{
		_sectEmeiBloodLocations = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(129, DataStates, CacheInfluences, context);
		int count = _sectEmeiBloodLocations.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 129, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr += _sectEmeiBloodLocations[i].Serialize(ptr);
		}
	}

	public long GetSectEmeiExp()
	{
		return _sectEmeiExp;
	}

	public unsafe void SetSectEmeiExp(long value, DataContext context)
	{
		_sectEmeiExp = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(130, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 130, 8);
		*(long*)ptr = _sectEmeiExp;
		ptr += 8;
	}

	public byte GetEnemyPracticeLevel()
	{
		return _enemyPracticeLevel;
	}

	public unsafe void SetEnemyPracticeLevel(byte value, DataContext context)
	{
		_enemyPracticeLevel = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(131, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 131, 1);
		*ptr = _enemyPracticeLevel;
		ptr++;
	}

	private byte GetElement_CharacterPoisonImmunities(int elementId)
	{
		return _characterPoisonImmunities[elementId];
	}

	private bool TryGetElement_CharacterPoisonImmunities(int elementId, out byte value)
	{
		return _characterPoisonImmunities.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterPoisonImmunities(int elementId, byte value, DataContext context)
	{
		_characterPoisonImmunities.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(132, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 132, elementId, 1);
		*ptr = value;
		ptr++;
	}

	private unsafe void SetElement_CharacterPoisonImmunities(int elementId, byte value, DataContext context)
	{
		_characterPoisonImmunities[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(132, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 132, elementId, 1);
		*ptr = value;
		ptr++;
	}

	private void RemoveElement_CharacterPoisonImmunities(int elementId, DataContext context)
	{
		_characterPoisonImmunities.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(132, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 132, elementId);
	}

	private void ClearCharacterPoisonImmunities(DataContext context)
	{
		_characterPoisonImmunities.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(132, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 132);
	}

	public TaiwuInformationReceivedHistories GetTaiwuInformationReceivedHistories()
	{
		return _taiwuInformationReceivedHistories;
	}

	private unsafe void SetTaiwuInformationReceivedHistories(TaiwuInformationReceivedHistories value, DataContext context)
	{
		_taiwuInformationReceivedHistories = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(133, DataStates, CacheInfluences, context);
		int serializedSize = _taiwuInformationReceivedHistories.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 133, serializedSize);
		ptr += _taiwuInformationReceivedHistories.Serialize(ptr);
	}

	public List<short> GetSectXuannvEvaluatedMusicList()
	{
		return _sectXuannvEvaluatedMusicList;
	}

	public unsafe void SetSectXuannvEvaluatedMusicList(List<short> value, DataContext context)
	{
		_sectXuannvEvaluatedMusicList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(134, DataStates, CacheInfluences, context);
		int count = _sectXuannvEvaluatedMusicList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 134, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _sectXuannvEvaluatedMusicList[i];
		}
		ptr += num;
	}

	private short GetElement_CombatSkillJumpThreshold(short elementId)
	{
		return _combatSkillJumpThreshold[elementId];
	}

	private bool TryGetElement_CombatSkillJumpThreshold(short elementId, out short value)
	{
		return _combatSkillJumpThreshold.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CombatSkillJumpThreshold(short elementId, short value, DataContext context)
	{
		_combatSkillJumpThreshold.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(135, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 135, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private unsafe void SetElement_CombatSkillJumpThreshold(short elementId, short value, DataContext context)
	{
		_combatSkillJumpThreshold[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(135, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 135, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private void RemoveElement_CombatSkillJumpThreshold(short elementId, DataContext context)
	{
		_combatSkillJumpThreshold.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(135, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 135, elementId);
	}

	private void ClearCombatSkillJumpThreshold(DataContext context)
	{
		_combatSkillJumpThreshold.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(135, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 135);
	}

	public ulong GetDreamBackUnlockStates()
	{
		return _dreamBackUnlockStates;
	}

	private unsafe void SetDreamBackUnlockStates(ulong value, DataContext context)
	{
		_dreamBackUnlockStates = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(136, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 136, 8);
		*(ulong*)ptr = _dreamBackUnlockStates;
		ptr += 8;
	}

	private RawDataBlock GetDreamBackArchiveBackup()
	{
		return _dreamBackArchiveBackup;
	}

	private unsafe void CommitInsert_DreamBackArchiveBackup(DataContext context, int offset, int size)
	{
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(137, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Insert(19, 137, offset, size);
		_dreamBackArchiveBackup.CopyTo(offset, size, pDest);
	}

	private unsafe void CommitWrite_DreamBackArchiveBackup(DataContext context, int offset, int size)
	{
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(137, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Write(19, 137, offset, size);
		_dreamBackArchiveBackup.CopyTo(offset, size, pDest);
	}

	private void CommitRemove_DreamBackArchiveBackup(DataContext context, int offset, int size)
	{
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(137, DataStates, CacheInfluences, context);
		OperationAdder.Binary_Remove(19, 137, offset, size);
	}

	private unsafe void CommitSetMetadata_DreamBackArchiveBackup(DataContext context)
	{
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(137, DataStates, CacheInfluences, context);
		ushort serializedFixedSizeOfMetadata = _dreamBackArchiveBackup.GetSerializedFixedSizeOfMetadata();
		byte* pData = OperationAdder.Binary_SetMetadata(19, 137, serializedFixedSizeOfMetadata);
		_dreamBackArchiveBackup.SerializeMetadata(pData);
	}

	private AbridgedCharacter GetOverwrittenTaiwu()
	{
		return _overwrittenTaiwu;
	}

	private unsafe void SetOverwrittenTaiwu(AbridgedCharacter value, DataContext context)
	{
		_overwrittenTaiwu = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(138, DataStates, CacheInfluences, context);
		int serializedSize = _overwrittenTaiwu.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 138, serializedSize);
		ptr += _overwrittenTaiwu.Serialize(ptr);
	}

	public List<DreamBackLocationData> GetDreamBackLocationData()
	{
		return _dreamBackLocationData;
	}

	public unsafe void SetDreamBackLocationData(List<DreamBackLocationData> value, DataContext context)
	{
		_dreamBackLocationData = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(139, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _dreamBackLocationData.Count;
		for (int i = 0; i < count; i++)
		{
			num += _dreamBackLocationData[i].GetSerializedSize();
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 139, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			ptr += _dreamBackLocationData[j].Serialize(ptr);
		}
	}

	private GenealogyObsoleted GetDreamBackGenealogyObsoleted()
	{
		return _dreamBackGenealogyObsoleted;
	}

	private unsafe void SetDreamBackGenealogyObsoleted(GenealogyObsoleted value, DataContext context)
	{
		_dreamBackGenealogyObsoleted = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(140, DataStates, CacheInfluences, context);
		int serializedSize = _dreamBackGenealogyObsoleted.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 140, serializedSize);
		ptr += _dreamBackGenealogyObsoleted.Serialize(ptr);
	}

	private ConflictCombatSkill GetElement_ConflictCombatSkills(short elementId)
	{
		return _conflictCombatSkills[elementId];
	}

	private bool TryGetElement_ConflictCombatSkills(short elementId, out ConflictCombatSkill value)
	{
		return _conflictCombatSkills.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ConflictCombatSkills(short elementId, ConflictCombatSkill value, DataContext context)
	{
		_conflictCombatSkills.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(141, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 141, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 141, elementId, 0);
		}
	}

	private unsafe void SetElement_ConflictCombatSkills(short elementId, ConflictCombatSkill value, DataContext context)
	{
		_conflictCombatSkills[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(141, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 141, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 141, elementId, 0);
		}
	}

	private void RemoveElement_ConflictCombatSkills(short elementId, DataContext context)
	{
		_conflictCombatSkills.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(141, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 141, elementId);
	}

	private void ClearConflictCombatSkills(DataContext context)
	{
		_conflictCombatSkills.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(141, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 141);
	}

	public ShortPair GetElement_CharacterRevealedHobbies(int elementId)
	{
		return _characterRevealedHobbies[elementId];
	}

	public bool TryGetElement_CharacterRevealedHobbies(int elementId, out ShortPair value)
	{
		return _characterRevealedHobbies.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterRevealedHobbies(int elementId, ShortPair value, DataContext context)
	{
		_characterRevealedHobbies.Add(elementId, value);
		_modificationsCharacterRevealedHobbies.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(142, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 142, elementId, 4);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CharacterRevealedHobbies(int elementId, ShortPair value, DataContext context)
	{
		_characterRevealedHobbies[elementId] = value;
		_modificationsCharacterRevealedHobbies.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(142, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 142, elementId, 4);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CharacterRevealedHobbies(int elementId, DataContext context)
	{
		_characterRevealedHobbies.Remove(elementId);
		_modificationsCharacterRevealedHobbies.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(142, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 142, elementId);
	}

	private void ClearCharacterRevealedHobbies(DataContext context)
	{
		_characterRevealedHobbies.Clear();
		_modificationsCharacterRevealedHobbies.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(142, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 142);
	}

	public int GetFinalDateBeforeDreamBack()
	{
		return _finalDateBeforeDreamBack;
	}

	private unsafe void SetFinalDateBeforeDreamBack(int value, DataContext context)
	{
		_finalDateBeforeDreamBack = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(143, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 143, 4);
		*(int*)ptr = _finalDateBeforeDreamBack;
		ptr += 4;
	}

	private AbridgedCharacter GetDreamBackTaiwu()
	{
		return _dreamBackTaiwu;
	}

	private unsafe void SetDreamBackTaiwu(AbridgedCharacter value, DataContext context)
	{
		_dreamBackTaiwu = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(144, DataStates, CacheInfluences, context);
		int serializedSize = _dreamBackTaiwu.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 144, serializedSize);
		ptr += _dreamBackTaiwu.Serialize(ptr);
	}

	private SpecialEffectWrapper GetElement_ConflictEffectWrappers(long elementId)
	{
		return _conflictEffectWrappers[elementId];
	}

	private bool TryGetElement_ConflictEffectWrappers(long elementId, out SpecialEffectWrapper value)
	{
		return _conflictEffectWrappers.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ConflictEffectWrappers(long elementId, SpecialEffectWrapper value, DataContext context)
	{
		_conflictEffectWrappers.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(145, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 145, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 145, elementId, 0);
		}
	}

	private unsafe void SetElement_ConflictEffectWrappers(long elementId, SpecialEffectWrapper value, DataContext context)
	{
		_conflictEffectWrappers[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(145, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 145, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 145, elementId, 0);
		}
	}

	private void RemoveElement_ConflictEffectWrappers(long elementId, DataContext context)
	{
		_conflictEffectWrappers.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(145, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 145, elementId);
	}

	private void ClearConflictEffectWrappers(DataContext context)
	{
		_conflictEffectWrappers.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(145, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 145);
	}

	private EventArgBox GetDreamBackGlobalEventArgBox()
	{
		return _dreamBackGlobalEventArgBox;
	}

	private unsafe void SetDreamBackGlobalEventArgBox(EventArgBox value, DataContext context)
	{
		_dreamBackGlobalEventArgBox = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(146, DataStates, CacheInfluences, context);
		int serializedSize = _dreamBackGlobalEventArgBox.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 146, serializedSize);
		ptr += _dreamBackGlobalEventArgBox.Serialize(ptr);
	}

	private EventArgBox GetDreamBackDlcEventArgBox()
	{
		return _dreamBackDlcEventArgBox;
	}

	private unsafe void SetDreamBackDlcEventArgBox(EventArgBox value, DataContext context)
	{
		_dreamBackDlcEventArgBox = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(147, DataStates, CacheInfluences, context);
		int serializedSize = _dreamBackDlcEventArgBox.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 147, serializedSize);
		ptr += _dreamBackDlcEventArgBox.Serialize(ptr);
	}

	private EventArgBox GetElement_DreamBackSectMainStoryEventArgBox(int index)
	{
		return _dreamBackSectMainStoryEventArgBox[index];
	}

	private unsafe void SetElement_DreamBackSectMainStoryEventArgBox(int index, EventArgBox value, DataContext context)
	{
		_dreamBackSectMainStoryEventArgBox[index] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(index, _dataStatesDreamBackSectMainStoryEventArgBox, CacheInfluencesDreamBackSectMainStoryEventArgBox, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicElementList_Set(19, 148, index, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicElementList_Set(19, 148, index, 0);
		}
	}

	public CharacterSet GetDejaVuEventCharacters()
	{
		return _dejaVuEventCharacters;
	}

	public unsafe void SetDejaVuEventCharacters(CharacterSet value, DataContext context)
	{
		_dejaVuEventCharacters = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(149, DataStates, CacheInfluences, context);
		int serializedSize = _dejaVuEventCharacters.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 149, serializedSize);
		ptr += _dejaVuEventCharacters.Serialize(ptr);
	}

	public CharacterPropertyBonus GetElement_TaiwuPropertyPermanentBonuses(short elementId)
	{
		return _taiwuPropertyPermanentBonuses[elementId];
	}

	public bool TryGetElement_TaiwuPropertyPermanentBonuses(short elementId, out CharacterPropertyBonus value)
	{
		return _taiwuPropertyPermanentBonuses.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TaiwuPropertyPermanentBonuses(short elementId, CharacterPropertyBonus value, DataContext context)
	{
		_taiwuPropertyPermanentBonuses.Add(elementId, value);
		_modificationsTaiwuPropertyPermanentBonuses.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(150, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 150, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_TaiwuPropertyPermanentBonuses(short elementId, CharacterPropertyBonus value, DataContext context)
	{
		_taiwuPropertyPermanentBonuses[elementId] = value;
		_modificationsTaiwuPropertyPermanentBonuses.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(150, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 150, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_TaiwuPropertyPermanentBonuses(short elementId, DataContext context)
	{
		_taiwuPropertyPermanentBonuses.Remove(elementId);
		_modificationsTaiwuPropertyPermanentBonuses.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(150, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 150, elementId);
	}

	private void ClearTaiwuPropertyPermanentBonuses(DataContext context)
	{
		_taiwuPropertyPermanentBonuses.Clear();
		_modificationsTaiwuPropertyPermanentBonuses.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(150, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 150);
	}

	private List<short> GetSelectedUniqueLegacies()
	{
		return _selectedUniqueLegacies;
	}

	private unsafe void SetSelectedUniqueLegacies(List<short> value, DataContext context)
	{
		_selectedUniqueLegacies = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(151, DataStates, CacheInfluences, context);
		int count = _selectedUniqueLegacies.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 151, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _selectedUniqueLegacies[i];
		}
		ptr += num;
	}

	public IntPair GetElement_TaiwuAddOneWayRelationCoolDown(int elementId)
	{
		return _taiwuAddOneWayRelationCoolDown[elementId];
	}

	public bool TryGetElement_TaiwuAddOneWayRelationCoolDown(int elementId, out IntPair value)
	{
		return _taiwuAddOneWayRelationCoolDown.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TaiwuAddOneWayRelationCoolDown(int elementId, IntPair value, DataContext context)
	{
		_taiwuAddOneWayRelationCoolDown.Add(elementId, value);
		_modificationsTaiwuAddOneWayRelationCoolDown.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(152, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 152, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_TaiwuAddOneWayRelationCoolDown(int elementId, IntPair value, DataContext context)
	{
		_taiwuAddOneWayRelationCoolDown[elementId] = value;
		_modificationsTaiwuAddOneWayRelationCoolDown.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(152, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 152, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_TaiwuAddOneWayRelationCoolDown(int elementId, DataContext context)
	{
		_taiwuAddOneWayRelationCoolDown.Remove(elementId);
		_modificationsTaiwuAddOneWayRelationCoolDown.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(152, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 152, elementId);
	}

	private void ClearTaiwuAddOneWayRelationCoolDown(DataContext context)
	{
		_taiwuAddOneWayRelationCoolDown.Clear();
		_modificationsTaiwuAddOneWayRelationCoolDown.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(152, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 152);
	}

	public int GetElement_CarrierTamePoint(int elementId)
	{
		return _carrierTamePoint[elementId];
	}

	public bool TryGetElement_CarrierTamePoint(int elementId, out int value)
	{
		return _carrierTamePoint.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CarrierTamePoint(int elementId, int value, DataContext context)
	{
		_carrierTamePoint.Add(elementId, value);
		_modificationsCarrierTamePoint.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(153, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 153, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_CarrierTamePoint(int elementId, int value, DataContext context)
	{
		_carrierTamePoint[elementId] = value;
		_modificationsCarrierTamePoint.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(153, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 153, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_CarrierTamePoint(int elementId, DataContext context)
	{
		_carrierTamePoint.Remove(elementId);
		_modificationsCarrierTamePoint.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(153, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 153, elementId);
	}

	private void ClearCarrierTamePoint(DataContext context)
	{
		_carrierTamePoint.Clear();
		_modificationsCarrierTamePoint.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(153, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 153);
	}

	private List<int> GetDreamBackPreviousTaiwuCharIds()
	{
		return _dreamBackPreviousTaiwuCharIds;
	}

	private unsafe void SetDreamBackPreviousTaiwuCharIds(List<int> value, DataContext context)
	{
		_dreamBackPreviousTaiwuCharIds = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(154, DataStates, CacheInfluences, context);
		int count = _dreamBackPreviousTaiwuCharIds.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 154, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _dreamBackPreviousTaiwuCharIds[i];
		}
		ptr += num;
	}

	[Obsolete("DomainData _fleeCarrierLocation is no longer in use.")]
	public Location GetElement_FleeCarrierLocation(int elementId)
	{
		return _fleeCarrierLocation[elementId];
	}

	[Obsolete("DomainData _fleeCarrierLocation is no longer in use.")]
	public bool TryGetElement_FleeCarrierLocation(int elementId, out Location value)
	{
		return _fleeCarrierLocation.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _fleeCarrierLocation is no longer in use.")]
	private unsafe void AddElement_FleeCarrierLocation(int elementId, Location value, DataContext context)
	{
		_fleeCarrierLocation.Add(elementId, value);
		_modificationsFleeCarrierLocation.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(155, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 155, elementId, 4);
		ptr += value.Serialize(ptr);
	}

	[Obsolete("DomainData _fleeCarrierLocation is no longer in use.")]
	private unsafe void SetElement_FleeCarrierLocation(int elementId, Location value, DataContext context)
	{
		_fleeCarrierLocation[elementId] = value;
		_modificationsFleeCarrierLocation.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(155, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 155, elementId, 4);
		ptr += value.Serialize(ptr);
	}

	[Obsolete("DomainData _fleeCarrierLocation is no longer in use.")]
	private void RemoveElement_FleeCarrierLocation(int elementId, DataContext context)
	{
		_fleeCarrierLocation.Remove(elementId);
		_modificationsFleeCarrierLocation.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(155, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 155, elementId);
	}

	[Obsolete("DomainData _fleeCarrierLocation is no longer in use.")]
	private void ClearFleeCarrierLocation(DataContext context)
	{
		_fleeCarrierLocation.Clear();
		_modificationsFleeCarrierLocation.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(155, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 155);
	}

	public byte GetFavorabilityChange()
	{
		return _favorabilityChange;
	}

	public unsafe void SetFavorabilityChange(byte value, DataContext context)
	{
		_favorabilityChange = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(156, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 156, 1);
		*ptr = _favorabilityChange;
		ptr++;
	}

	public bool GetCanResetWorldSettings()
	{
		return _canResetWorldSettings;
	}

	public unsafe void SetCanResetWorldSettings(bool value, DataContext context)
	{
		_canResetWorldSettings = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(157, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 157, 1);
		*ptr = (_canResetWorldSettings ? ((byte)1) : ((byte)0));
		ptr++;
	}

	[Obsolete("DomainData _settlementExtraData is no longer in use.")]
	public SettlementExtraData GetElement_SettlementExtraData(short elementId)
	{
		return _settlementExtraData[elementId];
	}

	[Obsolete("DomainData _settlementExtraData is no longer in use.")]
	public bool TryGetElement_SettlementExtraData(short elementId, out SettlementExtraData value)
	{
		return _settlementExtraData.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _settlementExtraData is no longer in use.")]
	private unsafe void AddElement_SettlementExtraData(short elementId, SettlementExtraData value, DataContext context)
	{
		_settlementExtraData.Add(elementId, value);
		_modificationsSettlementExtraData.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(158, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 158, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 158, elementId, 0);
		}
	}

	[Obsolete("DomainData _settlementExtraData is no longer in use.")]
	private unsafe void SetElement_SettlementExtraData(short elementId, SettlementExtraData value, DataContext context)
	{
		_settlementExtraData[elementId] = value;
		_modificationsSettlementExtraData.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(158, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 158, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 158, elementId, 0);
		}
	}

	[Obsolete("DomainData _settlementExtraData is no longer in use.")]
	private void RemoveElement_SettlementExtraData(short elementId, DataContext context)
	{
		_settlementExtraData.Remove(elementId);
		_modificationsSettlementExtraData.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(158, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 158, elementId);
	}

	[Obsolete("DomainData _settlementExtraData is no longer in use.")]
	private void ClearSettlementExtraData(DataContext context)
	{
		_settlementExtraData.Clear();
		_modificationsSettlementExtraData.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(158, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 158);
	}

	private EventArgBox GetElement_DlcArgBoxes(ulong elementId)
	{
		return _dlcArgBoxes[elementId];
	}

	private bool TryGetElement_DlcArgBoxes(ulong elementId, out EventArgBox value)
	{
		return _dlcArgBoxes.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_DlcArgBoxes(ulong elementId, EventArgBox value, DataContext context)
	{
		_dlcArgBoxes.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(159, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 159, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 159, elementId, 0);
		}
	}

	private unsafe void SetElement_DlcArgBoxes(ulong elementId, EventArgBox value, DataContext context)
	{
		_dlcArgBoxes[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(159, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 159, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 159, elementId, 0);
		}
	}

	private void RemoveElement_DlcArgBoxes(ulong elementId, DataContext context)
	{
		_dlcArgBoxes.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(159, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 159, elementId);
	}

	private void ClearDlcArgBoxes(DataContext context)
	{
		_dlcArgBoxes.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(159, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 159);
	}

	public List<JiaoPool> GetJiaoPools()
	{
		return _jiaoPools;
	}

	public unsafe void SetJiaoPools(List<JiaoPool> value, DataContext context)
	{
		_jiaoPools = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(160, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _jiaoPools.Count;
		for (int i = 0; i < count; i++)
		{
			JiaoPool jiaoPool = _jiaoPools[i];
			num = ((jiaoPool == null) ? (num + 2) : (num + (2 + jiaoPool.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 160, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			JiaoPool jiaoPool2 = _jiaoPools[j];
			if (jiaoPool2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = jiaoPool2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	public GameData.DLC.FiveLoong.Jiao GetElement_Jiaos(int elementId)
	{
		return _jiaos[elementId];
	}

	public bool TryGetElement_Jiaos(int elementId, out GameData.DLC.FiveLoong.Jiao value)
	{
		return _jiaos.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_Jiaos(int elementId, GameData.DLC.FiveLoong.Jiao value, DataContext context)
	{
		_jiaos.Add(elementId, value);
		_modificationsJiaos.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(161, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 161, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 161, elementId, 0);
		}
	}

	private unsafe void SetElement_Jiaos(int elementId, GameData.DLC.FiveLoong.Jiao value, DataContext context)
	{
		_jiaos[elementId] = value;
		_modificationsJiaos.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(161, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 161, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 161, elementId, 0);
		}
	}

	private void RemoveElement_Jiaos(int elementId, DataContext context)
	{
		_jiaos.Remove(elementId);
		_modificationsJiaos.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(161, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 161, elementId);
	}

	private void ClearJiaos(DataContext context)
	{
		_jiaos.Clear();
		_modificationsJiaos.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(161, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 161);
	}

	public ChildrenOfLoong GetElement_ChildrenOfLoong(int elementId)
	{
		return _childrenOfLoong[elementId];
	}

	public bool TryGetElement_ChildrenOfLoong(int elementId, out ChildrenOfLoong value)
	{
		return _childrenOfLoong.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ChildrenOfLoong(int elementId, ChildrenOfLoong value, DataContext context)
	{
		_childrenOfLoong.Add(elementId, value);
		_modificationsChildrenOfLoong.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(162, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 162, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 162, elementId, 0);
		}
	}

	private unsafe void SetElement_ChildrenOfLoong(int elementId, ChildrenOfLoong value, DataContext context)
	{
		_childrenOfLoong[elementId] = value;
		_modificationsChildrenOfLoong.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(162, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 162, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 162, elementId, 0);
		}
	}

	private void RemoveElement_ChildrenOfLoong(int elementId, DataContext context)
	{
		_childrenOfLoong.Remove(elementId);
		_modificationsChildrenOfLoong.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(162, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 162, elementId);
	}

	private void ClearChildrenOfLoong(DataContext context)
	{
		_childrenOfLoong.Clear();
		_modificationsChildrenOfLoong.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(162, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 162);
	}

	public LoongInfo GetElement_FiveLoongDict(short elementId)
	{
		return _fiveLoongDict[elementId];
	}

	public bool TryGetElement_FiveLoongDict(short elementId, out LoongInfo value)
	{
		return _fiveLoongDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_FiveLoongDict(short elementId, LoongInfo value, DataContext context)
	{
		_fiveLoongDict.Add(elementId, value);
		_modificationsFiveLoongDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(163, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 163, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 163, elementId, 0);
		}
	}

	private unsafe void SetElement_FiveLoongDict(short elementId, LoongInfo value, DataContext context)
	{
		_fiveLoongDict[elementId] = value;
		_modificationsFiveLoongDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(163, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 163, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 163, elementId, 0);
		}
	}

	private void RemoveElement_FiveLoongDict(short elementId, DataContext context)
	{
		_fiveLoongDict.Remove(elementId);
		_modificationsFiveLoongDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(163, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 163, elementId);
	}

	private void ClearFiveLoongDict(DataContext context)
	{
		_fiveLoongDict.Clear();
		_modificationsFiveLoongDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(163, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 163);
	}

	public List<JiaoPoolRecordList> GetJiaoPoolRecords()
	{
		return _jiaoPoolRecords;
	}

	public unsafe void SetJiaoPoolRecords(List<JiaoPoolRecordList> value, DataContext context)
	{
		_jiaoPoolRecords = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(164, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _jiaoPoolRecords.Count;
		for (int i = 0; i < count; i++)
		{
			JiaoPoolRecordList jiaoPoolRecordList = _jiaoPoolRecords[i];
			num = ((jiaoPoolRecordList == null) ? (num + 2) : (num + (2 + jiaoPoolRecordList.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 164, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			JiaoPoolRecordList jiaoPoolRecordList2 = _jiaoPoolRecords[j];
			if (jiaoPoolRecordList2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = jiaoPoolRecordList2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	private DlcEntryWrapper GetElement_DlcEntries(ulong elementId)
	{
		return _dlcEntries[elementId];
	}

	private bool TryGetElement_DlcEntries(ulong elementId, out DlcEntryWrapper value)
	{
		return _dlcEntries.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_DlcEntries(ulong elementId, DlcEntryWrapper value, DataContext context)
	{
		_dlcEntries.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(165, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 165, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 165, elementId, 0);
		}
	}

	private unsafe void SetElement_DlcEntries(ulong elementId, DlcEntryWrapper value, DataContext context)
	{
		_dlcEntries[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(165, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 165, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 165, elementId, 0);
		}
	}

	private void RemoveElement_DlcEntries(ulong elementId, DataContext context)
	{
		_dlcEntries.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(165, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 165, elementId);
	}

	private void ClearDlcEntries(DataContext context)
	{
		_dlcEntries.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(165, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 165);
	}

	public IntPair GetJiaoPoolStatus()
	{
		return _jiaoPoolStatus;
	}

	public void SetJiaoPoolStatus(IntPair value, DataContext context)
	{
		_jiaoPoolStatus = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(166, DataStates, CacheInfluences, context);
	}

	public int GetElement_ChoosyRemainUpgradeRateDict(short elementId)
	{
		return _choosyRemainUpgradeRateDict[elementId];
	}

	public bool TryGetElement_ChoosyRemainUpgradeRateDict(short elementId, out int value)
	{
		return _choosyRemainUpgradeRateDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ChoosyRemainUpgradeRateDict(short elementId, int value, DataContext context)
	{
		_choosyRemainUpgradeRateDict.Add(elementId, value);
		_modificationsChoosyRemainUpgradeRateDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(167, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 167, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_ChoosyRemainUpgradeRateDict(short elementId, int value, DataContext context)
	{
		_choosyRemainUpgradeRateDict[elementId] = value;
		_modificationsChoosyRemainUpgradeRateDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(167, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 167, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_ChoosyRemainUpgradeRateDict(short elementId, DataContext context)
	{
		_choosyRemainUpgradeRateDict.Remove(elementId);
		_modificationsChoosyRemainUpgradeRateDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(167, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 167, elementId);
	}

	private void ClearChoosyRemainUpgradeRateDict(DataContext context)
	{
		_choosyRemainUpgradeRateDict.Clear();
		_modificationsChoosyRemainUpgradeRateDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(167, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 167);
	}

	public int GetElement_ChoosyRemainUpgradeCountDict(short elementId)
	{
		return _choosyRemainUpgradeCountDict[elementId];
	}

	public bool TryGetElement_ChoosyRemainUpgradeCountDict(short elementId, out int value)
	{
		return _choosyRemainUpgradeCountDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ChoosyRemainUpgradeCountDict(short elementId, int value, DataContext context)
	{
		_choosyRemainUpgradeCountDict.Add(elementId, value);
		_modificationsChoosyRemainUpgradeCountDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(168, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 168, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_ChoosyRemainUpgradeCountDict(short elementId, int value, DataContext context)
	{
		_choosyRemainUpgradeCountDict[elementId] = value;
		_modificationsChoosyRemainUpgradeCountDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(168, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 168, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_ChoosyRemainUpgradeCountDict(short elementId, DataContext context)
	{
		_choosyRemainUpgradeCountDict.Remove(elementId);
		_modificationsChoosyRemainUpgradeCountDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(168, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 168, elementId);
	}

	private void ClearChoosyRemainUpgradeCountDict(DataContext context)
	{
		_choosyRemainUpgradeCountDict.Clear();
		_modificationsChoosyRemainUpgradeCountDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(168, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 168);
	}

	public int GetElement_BuildingMoneyPrestigeSuccessRateCompensation(ulong elementId)
	{
		return _buildingMoneyPrestigeSuccessRateCompensation[elementId];
	}

	public bool TryGetElement_BuildingMoneyPrestigeSuccessRateCompensation(ulong elementId, out int value)
	{
		return _buildingMoneyPrestigeSuccessRateCompensation.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_BuildingMoneyPrestigeSuccessRateCompensation(ulong elementId, int value, DataContext context)
	{
		_buildingMoneyPrestigeSuccessRateCompensation.Add(elementId, value);
		_modificationsBuildingMoneyPrestigeSuccessRateCompensation.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(169, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 169, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_BuildingMoneyPrestigeSuccessRateCompensation(ulong elementId, int value, DataContext context)
	{
		_buildingMoneyPrestigeSuccessRateCompensation[elementId] = value;
		_modificationsBuildingMoneyPrestigeSuccessRateCompensation.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(169, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 169, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_BuildingMoneyPrestigeSuccessRateCompensation(ulong elementId, DataContext context)
	{
		_buildingMoneyPrestigeSuccessRateCompensation.Remove(elementId);
		_modificationsBuildingMoneyPrestigeSuccessRateCompensation.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(169, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 169, elementId);
	}

	private void ClearBuildingMoneyPrestigeSuccessRateCompensation(DataContext context)
	{
		_buildingMoneyPrestigeSuccessRateCompensation.Clear();
		_modificationsBuildingMoneyPrestigeSuccessRateCompensation.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(169, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 169);
	}

	public VoidValue GetElement_OwnedClothingSet(short elementId)
	{
		return _ownedClothingSet[elementId];
	}

	public bool TryGetElement_OwnedClothingSet(short elementId, out VoidValue value)
	{
		return _ownedClothingSet.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_OwnedClothingSet(short elementId, VoidValue value, DataContext context)
	{
		_ownedClothingSet.Add(elementId, value);
		_modificationsOwnedClothingSet.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(170, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 170, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_OwnedClothingSet(short elementId, VoidValue value, DataContext context)
	{
		_ownedClothingSet[elementId] = value;
		_modificationsOwnedClothingSet.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(170, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 170, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_OwnedClothingSet(short elementId, DataContext context)
	{
		_ownedClothingSet.Remove(elementId);
		_modificationsOwnedClothingSet.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(170, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 170, elementId);
	}

	private void ClearOwnedClothingSet(DataContext context)
	{
		_ownedClothingSet.Clear();
		_modificationsOwnedClothingSet.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(170, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 170);
	}

	private short GetElement_ClothingDisplayModifications(int elementId)
	{
		return _clothingDisplayModifications[elementId];
	}

	private bool TryGetElement_ClothingDisplayModifications(int elementId, out short value)
	{
		return _clothingDisplayModifications.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ClothingDisplayModifications(int elementId, short value, DataContext context)
	{
		_clothingDisplayModifications.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(171, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 171, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private unsafe void SetElement_ClothingDisplayModifications(int elementId, short value, DataContext context)
	{
		_clothingDisplayModifications[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(171, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 171, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private void RemoveElement_ClothingDisplayModifications(int elementId, DataContext context)
	{
		_clothingDisplayModifications.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(171, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 171, elementId);
	}

	private void ClearClothingDisplayModifications(DataContext context)
	{
		_clothingDisplayModifications.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(171, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 171);
	}

	public bool GetDisableEnemyAi()
	{
		return _disableEnemyAi;
	}

	public unsafe void SetDisableEnemyAi(bool value, DataContext context)
	{
		_disableEnemyAi = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(172, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 172, 1);
		*ptr = (_disableEnemyAi ? ((byte)1) : ((byte)0));
		ptr++;
	}

	public bool GetEnemyUnyieldingFallen()
	{
		return _enemyUnyieldingFallen;
	}

	public unsafe void SetEnemyUnyieldingFallen(bool value, DataContext context)
	{
		_enemyUnyieldingFallen = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(173, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 173, 1);
		*ptr = (_enemyUnyieldingFallen ? ((byte)1) : ((byte)0));
		ptr++;
	}

	public short GetLastTargetDistance()
	{
		return _lastTargetDistance;
	}

	public unsafe void SetLastTargetDistance(short value, DataContext context)
	{
		_lastTargetDistance = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(174, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 174, 2);
		*(short*)ptr = _lastTargetDistance;
		ptr += 2;
	}

	public WeaveClothingDisplaySetting GetWeaveClothingDisplaySetting()
	{
		return _weaveClothingDisplaySetting;
	}

	public unsafe void SetWeaveClothingDisplaySetting(WeaveClothingDisplaySetting value, DataContext context)
	{
		_weaveClothingDisplaySetting = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(175, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 175, 4);
		ptr += _weaveClothingDisplaySetting.Serialize(ptr);
	}

	private ItemKey GetEmptyToolKey()
	{
		return _emptyToolKey;
	}

	private unsafe void SetEmptyToolKey(ItemKey value, DataContext context)
	{
		_emptyToolKey = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(176, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 176, 8);
		ptr += _emptyToolKey.Serialize(ptr);
	}

	public SectWuxianWugJugData GetSectWuxianWugJugPoisons()
	{
		return _sectWuxianWugJugPoisons;
	}

	public unsafe void SetSectWuxianWugJugPoisons(SectWuxianWugJugData value, DataContext context)
	{
		_sectWuxianWugJugPoisons = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(177, DataStates, CacheInfluences, context);
		int serializedSize = _sectWuxianWugJugPoisons.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 177, serializedSize);
		ptr += _sectWuxianWugJugPoisons.Serialize(ptr);
	}

	[Obsolete("DomainData _locationSupportingBlockResourceTotal is no longer in use.")]
	public ResourceInts GetElement_LocationSupportingBlockResourceTotal(Location elementId)
	{
		return _locationSupportingBlockResourceTotal[elementId];
	}

	[Obsolete("DomainData _locationSupportingBlockResourceTotal is no longer in use.")]
	public bool TryGetElement_LocationSupportingBlockResourceTotal(Location elementId, out ResourceInts value)
	{
		return _locationSupportingBlockResourceTotal.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _locationSupportingBlockResourceTotal is no longer in use.")]
	private void AddElement_LocationSupportingBlockResourceTotal(Location elementId, ref ResourceInts value, DataContext context)
	{
		_locationSupportingBlockResourceTotal.Add(elementId, value);
		_modificationsLocationSupportingBlockResourceTotal.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(178, DataStates, CacheInfluences, context);
	}

	[Obsolete("DomainData _locationSupportingBlockResourceTotal is no longer in use.")]
	private void SetElement_LocationSupportingBlockResourceTotal(Location elementId, ref ResourceInts value, DataContext context)
	{
		_locationSupportingBlockResourceTotal[elementId] = value;
		_modificationsLocationSupportingBlockResourceTotal.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(178, DataStates, CacheInfluences, context);
	}

	[Obsolete("DomainData _locationSupportingBlockResourceTotal is no longer in use.")]
	private void RemoveElement_LocationSupportingBlockResourceTotal(Location elementId, DataContext context)
	{
		_locationSupportingBlockResourceTotal.Remove(elementId);
		_modificationsLocationSupportingBlockResourceTotal.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(178, DataStates, CacheInfluences, context);
	}

	[Obsolete("DomainData _locationSupportingBlockResourceTotal is no longer in use.")]
	private void ClearLocationSupportingBlockResourceTotal(DataContext context)
	{
		_locationSupportingBlockResourceTotal.Clear();
		_modificationsLocationSupportingBlockResourceTotal.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(178, DataStates, CacheInfluences, context);
	}

	private PrioritizedActionCooldownList GetElement_CharacterPrioritizedActionCooldowns(int elementId)
	{
		return _characterPrioritizedActionCooldowns[elementId];
	}

	private bool TryGetElement_CharacterPrioritizedActionCooldowns(int elementId, out PrioritizedActionCooldownList value)
	{
		return _characterPrioritizedActionCooldowns.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterPrioritizedActionCooldowns(int elementId, PrioritizedActionCooldownList value, DataContext context)
	{
		_characterPrioritizedActionCooldowns.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(179, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 179, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 179, elementId, 0);
		}
	}

	private unsafe void SetElement_CharacterPrioritizedActionCooldowns(int elementId, PrioritizedActionCooldownList value, DataContext context)
	{
		_characterPrioritizedActionCooldowns[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(179, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 179, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 179, elementId, 0);
		}
	}

	private void RemoveElement_CharacterPrioritizedActionCooldowns(int elementId, DataContext context)
	{
		_characterPrioritizedActionCooldowns.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(179, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 179, elementId);
	}

	private void ClearCharacterPrioritizedActionCooldowns(DataContext context)
	{
		_characterPrioritizedActionCooldowns.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(179, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 179);
	}

	public List<CricketCollectionData> GetCricketCollectionDataList()
	{
		return _cricketCollectionDataList;
	}

	public unsafe void SetCricketCollectionDataList(List<CricketCollectionData> value, DataContext context)
	{
		_cricketCollectionDataList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(180, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _cricketCollectionDataList.Count;
		for (int i = 0; i < count; i++)
		{
			CricketCollectionData cricketCollectionData = _cricketCollectionDataList[i];
			num = ((cricketCollectionData == null) ? (num + 2) : (num + (2 + cricketCollectionData.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 180, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			CricketCollectionData cricketCollectionData2 = _cricketCollectionDataList[j];
			if (cricketCollectionData2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = cricketCollectionData2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	public RecruitCharacterDataList GetElement_RecruitCharacterDataLists(ulong elementId)
	{
		return _recruitCharacterDataLists[elementId];
	}

	public bool TryGetElement_RecruitCharacterDataLists(ulong elementId, out RecruitCharacterDataList value)
	{
		return _recruitCharacterDataLists.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_RecruitCharacterDataLists(ulong elementId, RecruitCharacterDataList value, DataContext context)
	{
		_recruitCharacterDataLists.Add(elementId, value);
		_modificationsRecruitCharacterDataLists.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(181, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 181, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 181, elementId, 0);
		}
	}

	private unsafe void SetElement_RecruitCharacterDataLists(ulong elementId, RecruitCharacterDataList value, DataContext context)
	{
		_recruitCharacterDataLists[elementId] = value;
		_modificationsRecruitCharacterDataLists.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(181, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 181, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 181, elementId, 0);
		}
	}

	private void RemoveElement_RecruitCharacterDataLists(ulong elementId, DataContext context)
	{
		_recruitCharacterDataLists.Remove(elementId);
		_modificationsRecruitCharacterDataLists.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(181, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 181, elementId);
	}

	private void ClearRecruitCharacterDataLists(DataContext context)
	{
		_recruitCharacterDataLists.Clear();
		_modificationsRecruitCharacterDataLists.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(181, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 181);
	}

	public PossessionData GetElement_SectJingangPossessionCharacters(int elementId)
	{
		return _sectJingangPossessionCharacters[elementId];
	}

	public bool TryGetElement_SectJingangPossessionCharacters(int elementId, out PossessionData value)
	{
		return _sectJingangPossessionCharacters.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SectJingangPossessionCharacters(int elementId, PossessionData value, DataContext context)
	{
		_sectJingangPossessionCharacters.Add(elementId, value);
		_modificationsSectJingangPossessionCharacters.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(182, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 182, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 182, elementId, 0);
		}
	}

	private unsafe void SetElement_SectJingangPossessionCharacters(int elementId, PossessionData value, DataContext context)
	{
		_sectJingangPossessionCharacters[elementId] = value;
		_modificationsSectJingangPossessionCharacters.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(182, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 182, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 182, elementId, 0);
		}
	}

	private void RemoveElement_SectJingangPossessionCharacters(int elementId, DataContext context)
	{
		_sectJingangPossessionCharacters.Remove(elementId);
		_modificationsSectJingangPossessionCharacters.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(182, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 182, elementId);
	}

	private void ClearSectJingangPossessionCharacters(DataContext context)
	{
		_sectJingangPossessionCharacters.Clear();
		_modificationsSectJingangPossessionCharacters.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(182, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 182);
	}

	public int GetElement_MixedPoisonEffectTriggerDates(IntPair elementId)
	{
		return _mixedPoisonEffectTriggerDates[elementId];
	}

	public bool TryGetElement_MixedPoisonEffectTriggerDates(IntPair elementId, out int value)
	{
		return _mixedPoisonEffectTriggerDates.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_MixedPoisonEffectTriggerDates(IntPair elementId, int value, DataContext context)
	{
		_mixedPoisonEffectTriggerDates.Add(elementId, value);
		_modificationsMixedPoisonEffectTriggerDates.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(183, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 183, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_MixedPoisonEffectTriggerDates(IntPair elementId, int value, DataContext context)
	{
		_mixedPoisonEffectTriggerDates[elementId] = value;
		_modificationsMixedPoisonEffectTriggerDates.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(183, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 183, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_MixedPoisonEffectTriggerDates(IntPair elementId, DataContext context)
	{
		_mixedPoisonEffectTriggerDates.Remove(elementId);
		_modificationsMixedPoisonEffectTriggerDates.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(183, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 183, elementId);
	}

	private void ClearMixedPoisonEffectTriggerDates(DataContext context)
	{
		_mixedPoisonEffectTriggerDates.Clear();
		_modificationsMixedPoisonEffectTriggerDates.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(183, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 183);
	}

	private short GetElement_CricketExtraAge(int elementId)
	{
		return _cricketExtraAge[elementId];
	}

	private bool TryGetElement_CricketExtraAge(int elementId, out short value)
	{
		return _cricketExtraAge.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CricketExtraAge(int elementId, short value, DataContext context)
	{
		_cricketExtraAge.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(184, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 184, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private unsafe void SetElement_CricketExtraAge(int elementId, short value, DataContext context)
	{
		_cricketExtraAge[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(184, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 184, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private void RemoveElement_CricketExtraAge(int elementId, DataContext context)
	{
		_cricketExtraAge.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(184, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 184, elementId);
	}

	private void ClearCricketExtraAge(DataContext context)
	{
		_cricketExtraAge.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(184, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 184);
	}

	private List<IntList> GetEnemyNestInitializationDates()
	{
		return _enemyNestInitializationDates;
	}

	private unsafe void SetEnemyNestInitializationDates(List<IntList> value, DataContext context)
	{
		_enemyNestInitializationDates = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(185, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _enemyNestInitializationDates.Count;
		for (int i = 0; i < count; i++)
		{
			num += _enemyNestInitializationDates[i].GetSerializedSize();
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 185, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			ptr += _enemyNestInitializationDates[j].Serialize(ptr);
		}
	}

	private SecretInformationOccurrence GetElement_SecretInformationOccurrence(int elementId)
	{
		return _secretInformationOccurrence[elementId];
	}

	private bool TryGetElement_SecretInformationOccurrence(int elementId, out SecretInformationOccurrence value)
	{
		return _secretInformationOccurrence.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SecretInformationOccurrence(int elementId, SecretInformationOccurrence value, DataContext context)
	{
		_secretInformationOccurrence.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(186, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 186, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 186, elementId, 0);
		}
	}

	private unsafe void SetElement_SecretInformationOccurrence(int elementId, SecretInformationOccurrence value, DataContext context)
	{
		_secretInformationOccurrence[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(186, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 186, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 186, elementId, 0);
		}
	}

	private void RemoveElement_SecretInformationOccurrence(int elementId, DataContext context)
	{
		_secretInformationOccurrence.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(186, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 186, elementId);
	}

	private void ClearSecretInformationOccurrence(DataContext context)
	{
		_secretInformationOccurrence.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(186, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 186);
	}

	private SecretInformationHandle GetElement_SecretInformationHandleMap(int elementId)
	{
		return _secretInformationHandleMap[elementId];
	}

	private bool TryGetElement_SecretInformationHandleMap(int elementId, out SecretInformationHandle value)
	{
		return _secretInformationHandleMap.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SecretInformationHandleMap(int elementId, SecretInformationHandle value, DataContext context)
	{
		_secretInformationHandleMap.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(187, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 187, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 187, elementId, 0);
		}
	}

	private unsafe void SetElement_SecretInformationHandleMap(int elementId, SecretInformationHandle value, DataContext context)
	{
		_secretInformationHandleMap[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(187, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 187, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 187, elementId, 0);
		}
	}

	private void RemoveElement_SecretInformationHandleMap(int elementId, DataContext context)
	{
		_secretInformationHandleMap.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(187, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 187, elementId);
	}

	private void ClearSecretInformationHandleMap(DataContext context)
	{
		_secretInformationHandleMap.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(187, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 187);
	}

	private IntList GetElement_SecretInformationCharacterOwn(int elementId)
	{
		return _secretInformationCharacterOwn[elementId];
	}

	private bool TryGetElement_SecretInformationCharacterOwn(int elementId, out IntList value)
	{
		return _secretInformationCharacterOwn.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SecretInformationCharacterOwn(int elementId, IntList value, DataContext context)
	{
		_secretInformationCharacterOwn.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(188, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 188, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_SecretInformationCharacterOwn(int elementId, IntList value, DataContext context)
	{
		_secretInformationCharacterOwn[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(188, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 188, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_SecretInformationCharacterOwn(int elementId, DataContext context)
	{
		_secretInformationCharacterOwn.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(188, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 188, elementId);
	}

	private void ClearSecretInformationCharacterOwn(DataContext context)
	{
		_secretInformationCharacterOwn.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(188, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 188);
	}

	private SecretInformationCharacterExtraInfoCollection GetElement_SecretInformationSecretInformationCharacterExtraInfoCollectionMap(int elementId)
	{
		return _secretInformationSecretInformationCharacterExtraInfoCollectionMap[elementId];
	}

	private bool TryGetElement_SecretInformationSecretInformationCharacterExtraInfoCollectionMap(int elementId, out SecretInformationCharacterExtraInfoCollection value)
	{
		return _secretInformationSecretInformationCharacterExtraInfoCollectionMap.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SecretInformationSecretInformationCharacterExtraInfoCollectionMap(int elementId, SecretInformationCharacterExtraInfoCollection value, DataContext context)
	{
		_secretInformationSecretInformationCharacterExtraInfoCollectionMap.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(189, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 189, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 189, elementId, 0);
		}
	}

	private unsafe void SetElement_SecretInformationSecretInformationCharacterExtraInfoCollectionMap(int elementId, SecretInformationCharacterExtraInfoCollection value, DataContext context)
	{
		_secretInformationSecretInformationCharacterExtraInfoCollectionMap[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(189, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 189, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 189, elementId, 0);
		}
	}

	private void RemoveElement_SecretInformationSecretInformationCharacterExtraInfoCollectionMap(int elementId, DataContext context)
	{
		_secretInformationSecretInformationCharacterExtraInfoCollectionMap.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(189, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 189, elementId);
	}

	private void ClearSecretInformationSecretInformationCharacterExtraInfoCollectionMap(DataContext context)
	{
		_secretInformationSecretInformationCharacterExtraInfoCollectionMap.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(189, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 189);
	}

	private SecretInformationCharacterRelationshipSnapshotCollection GetElement_SecretInformationCharacterRelationshipSnapshotCollectionMap(int elementId)
	{
		return _secretInformationCharacterRelationshipSnapshotCollectionMap[elementId];
	}

	private bool TryGetElement_SecretInformationCharacterRelationshipSnapshotCollectionMap(int elementId, out SecretInformationCharacterRelationshipSnapshotCollection value)
	{
		return _secretInformationCharacterRelationshipSnapshotCollectionMap.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SecretInformationCharacterRelationshipSnapshotCollectionMap(int elementId, SecretInformationCharacterRelationshipSnapshotCollection value, DataContext context)
	{
		_secretInformationCharacterRelationshipSnapshotCollectionMap.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(190, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 190, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 190, elementId, 0);
		}
	}

	private unsafe void SetElement_SecretInformationCharacterRelationshipSnapshotCollectionMap(int elementId, SecretInformationCharacterRelationshipSnapshotCollection value, DataContext context)
	{
		_secretInformationCharacterRelationshipSnapshotCollectionMap[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(190, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 190, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 190, elementId, 0);
		}
	}

	private void RemoveElement_SecretInformationCharacterRelationshipSnapshotCollectionMap(int elementId, DataContext context)
	{
		_secretInformationCharacterRelationshipSnapshotCollectionMap.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(190, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 190, elementId);
	}

	private void ClearSecretInformationCharacterRelationshipSnapshotCollectionMap(DataContext context)
	{
		_secretInformationCharacterRelationshipSnapshotCollectionMap.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(190, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 190);
	}

	private SecretInformationShopCharacterData GetElement_SecretInformationShopCharacterData(int elementId)
	{
		return _secretInformationShopCharacterData[elementId];
	}

	private bool TryGetElement_SecretInformationShopCharacterData(int elementId, out SecretInformationShopCharacterData value)
	{
		return _secretInformationShopCharacterData.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SecretInformationShopCharacterData(int elementId, SecretInformationShopCharacterData value, DataContext context)
	{
		_secretInformationShopCharacterData.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(191, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 191, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 191, elementId, 0);
		}
	}

	private unsafe void SetElement_SecretInformationShopCharacterData(int elementId, SecretInformationShopCharacterData value, DataContext context)
	{
		_secretInformationShopCharacterData[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(191, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 191, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 191, elementId, 0);
		}
	}

	private void RemoveElement_SecretInformationShopCharacterData(int elementId, DataContext context)
	{
		_secretInformationShopCharacterData.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(191, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 191, elementId);
	}

	private void ClearSecretInformationShopCharacterData(DataContext context)
	{
		_secretInformationShopCharacterData.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(191, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 191);
	}

	public bool GetChangeTrickIsFlaw()
	{
		return _changeTrickIsFlaw;
	}

	public unsafe void SetChangeTrickIsFlaw(bool value, DataContext context)
	{
		_changeTrickIsFlaw = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(192, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 192, 1);
		*ptr = (_changeTrickIsFlaw ? ((byte)1) : ((byte)0));
		ptr++;
	}

	private int GetNextAnimalId()
	{
		return _nextAnimalId;
	}

	private unsafe void SetNextAnimalId(int value, DataContext context)
	{
		_nextAnimalId = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(193, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 193, 4);
		*(int*)ptr = _nextAnimalId;
		ptr += 4;
	}

	public GameData.Domains.Character.Animal GetElement_Animals(int elementId)
	{
		return _animals[elementId];
	}

	public bool TryGetElement_Animals(int elementId, out GameData.Domains.Character.Animal value)
	{
		return _animals.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_Animals(int elementId, GameData.Domains.Character.Animal value, DataContext context)
	{
		_animals.Add(elementId, value);
		_modificationsAnimals.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(194, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 194, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 194, elementId, 0);
		}
	}

	private unsafe void SetElement_Animals(int elementId, GameData.Domains.Character.Animal value, DataContext context)
	{
		_animals[elementId] = value;
		_modificationsAnimals.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(194, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 194, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 194, elementId, 0);
		}
	}

	private void RemoveElement_Animals(int elementId, DataContext context)
	{
		_animals.Remove(elementId);
		_modificationsAnimals.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(194, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 194, elementId);
	}

	private void ClearAnimals(DataContext context)
	{
		_animals.Clear();
		_modificationsAnimals.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(194, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 194);
	}

	public SettlementTreasury GetElement_SettlementTreasuries(short elementId)
	{
		return _settlementTreasuries[elementId];
	}

	public bool TryGetElement_SettlementTreasuries(short elementId, out SettlementTreasury value)
	{
		return _settlementTreasuries.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SettlementTreasuries(short elementId, SettlementTreasury value, DataContext context)
	{
		_settlementTreasuries.Add(elementId, value);
		_modificationsSettlementTreasuries.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(195, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 195, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 195, elementId, 0);
		}
	}

	private unsafe void SetElement_SettlementTreasuries(short elementId, SettlementTreasury value, DataContext context)
	{
		_settlementTreasuries[elementId] = value;
		_modificationsSettlementTreasuries.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(195, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 195, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 195, elementId, 0);
		}
	}

	private void RemoveElement_SettlementTreasuries(short elementId, DataContext context)
	{
		_settlementTreasuries.Remove(elementId);
		_modificationsSettlementTreasuries.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(195, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 195, elementId);
	}

	private void ClearSettlementTreasuries(DataContext context)
	{
		_settlementTreasuries.Clear();
		_modificationsSettlementTreasuries.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(195, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 195);
	}

	private List<short> GetPrevMartialArtTournamentWinners()
	{
		return _prevMartialArtTournamentWinners;
	}

	private unsafe void SetPrevMartialArtTournamentWinners(List<short> value, DataContext context)
	{
		_prevMartialArtTournamentWinners = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(196, DataStates, CacheInfluences, context);
		int count = _prevMartialArtTournamentWinners.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 196, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _prevMartialArtTournamentWinners[i];
		}
		ptr += num;
	}

	private IntList GetElement_BookStrategiesExpireTime(ItemKey elementId)
	{
		return _bookStrategiesExpireTime[elementId];
	}

	private bool TryGetElement_BookStrategiesExpireTime(ItemKey elementId, out IntList value)
	{
		return _bookStrategiesExpireTime.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_BookStrategiesExpireTime(ItemKey elementId, IntList value, DataContext context)
	{
		_bookStrategiesExpireTime.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(197, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 197, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_BookStrategiesExpireTime(ItemKey elementId, IntList value, DataContext context)
	{
		_bookStrategiesExpireTime[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(197, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 197, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_BookStrategiesExpireTime(ItemKey elementId, DataContext context)
	{
		_bookStrategiesExpireTime.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(197, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 197, elementId);
	}

	private void ClearBookStrategiesExpireTime(DataContext context)
	{
		_bookStrategiesExpireTime.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(197, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 197);
	}

	public byte GetUnlockedCombatSkillPlanCount()
	{
		return _unlockedCombatSkillPlanCount;
	}

	public unsafe void SetUnlockedCombatSkillPlanCount(byte value, DataContext context)
	{
		_unlockedCombatSkillPlanCount = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(198, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 198, 1);
		*ptr = _unlockedCombatSkillPlanCount;
		ptr++;
	}

	public short GetActiveLoopingProgress()
	{
		return _activeLoopingProgress;
	}

	public unsafe void SetActiveLoopingProgress(short value, DataContext context)
	{
		_activeLoopingProgress = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(199, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 199, 2);
		*(short*)ptr = _activeLoopingProgress;
		ptr += 2;
	}

	public short GetActiveReadingProgress()
	{
		return _activeReadingProgress;
	}

	public unsafe void SetActiveReadingProgress(short value, DataContext context)
	{
		_activeReadingProgress = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(200, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 200, 2);
		*(short*)ptr = _activeReadingProgress;
		ptr += 2;
	}

	public IntList GetElement_CharacterExtraNeiliAllocationProgress(int elementId)
	{
		return _characterExtraNeiliAllocationProgress[elementId];
	}

	public bool TryGetElement_CharacterExtraNeiliAllocationProgress(int elementId, out IntList value)
	{
		return _characterExtraNeiliAllocationProgress.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterExtraNeiliAllocationProgress(int elementId, IntList value, DataContext context)
	{
		_characterExtraNeiliAllocationProgress.Add(elementId, value);
		_modificationsCharacterExtraNeiliAllocationProgress.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(201, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 201, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CharacterExtraNeiliAllocationProgress(int elementId, IntList value, DataContext context)
	{
		_characterExtraNeiliAllocationProgress[elementId] = value;
		_modificationsCharacterExtraNeiliAllocationProgress.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(201, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 201, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CharacterExtraNeiliAllocationProgress(int elementId, DataContext context)
	{
		_characterExtraNeiliAllocationProgress.Remove(elementId);
		_modificationsCharacterExtraNeiliAllocationProgress.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(201, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 201, elementId);
	}

	private void ClearCharacterExtraNeiliAllocationProgress(DataContext context)
	{
		_characterExtraNeiliAllocationProgress.Clear();
		_modificationsCharacterExtraNeiliAllocationProgress.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(201, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 201);
	}

	[Obsolete("DomainData _qiArtStrategyList is no longer in use.")]
	public List<sbyte> GetQiArtStrategyList()
	{
		return _qiArtStrategyList;
	}

	[Obsolete("DomainData _qiArtStrategyList is no longer in use.")]
	public unsafe void SetQiArtStrategyList(List<sbyte> value, DataContext context)
	{
		_qiArtStrategyList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(202, DataStates, CacheInfluences, context);
		int count = _qiArtStrategyList.Count;
		int num = count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 202, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			ptr[i] = (byte)_qiArtStrategyList[i];
		}
		ptr += num;
	}

	[Obsolete("DomainData _qiArtStrategyExpireTimeList is no longer in use.")]
	public List<int> GetQiArtStrategyExpireTimeList()
	{
		return _qiArtStrategyExpireTimeList;
	}

	[Obsolete("DomainData _qiArtStrategyExpireTimeList is no longer in use.")]
	public unsafe void SetQiArtStrategyExpireTimeList(List<int> value, DataContext context)
	{
		_qiArtStrategyExpireTimeList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(203, DataStates, CacheInfluences, context);
		int count = _qiArtStrategyExpireTimeList.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 203, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _qiArtStrategyExpireTimeList[i];
		}
		ptr += num;
	}

	public short GetElement_LegacyPointTimesDict(short elementId)
	{
		return _legacyPointTimesDict[elementId];
	}

	public bool TryGetElement_LegacyPointTimesDict(short elementId, out short value)
	{
		return _legacyPointTimesDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_LegacyPointTimesDict(short elementId, short value, DataContext context)
	{
		_legacyPointTimesDict.Add(elementId, value);
		_modificationsLegacyPointTimesDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(204, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 204, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private unsafe void SetElement_LegacyPointTimesDict(short elementId, short value, DataContext context)
	{
		_legacyPointTimesDict[elementId] = value;
		_modificationsLegacyPointTimesDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(204, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 204, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private void RemoveElement_LegacyPointTimesDict(short elementId, DataContext context)
	{
		_legacyPointTimesDict.Remove(elementId);
		_modificationsLegacyPointTimesDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(204, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 204, elementId);
	}

	private void ClearLegacyPointTimesDict(DataContext context)
	{
		_legacyPointTimesDict.Clear();
		_modificationsLegacyPointTimesDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(204, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 204);
	}

	public List<SectStoryThreeCorpsesCharacter> GetSectRanshanThreeCorpses()
	{
		return _sectRanshanThreeCorpses;
	}

	private unsafe void SetSectRanshanThreeCorpses(List<SectStoryThreeCorpsesCharacter> value, DataContext context)
	{
		_sectRanshanThreeCorpses = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(205, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _sectRanshanThreeCorpses.Count;
		for (int i = 0; i < count; i++)
		{
			SectStoryThreeCorpsesCharacter sectStoryThreeCorpsesCharacter = _sectRanshanThreeCorpses[i];
			num = ((sectStoryThreeCorpsesCharacter == null) ? (num + 2) : (num + (2 + sectStoryThreeCorpsesCharacter.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 205, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			SectStoryThreeCorpsesCharacter sectStoryThreeCorpsesCharacter2 = _sectRanshanThreeCorpses[j];
			if (sectStoryThreeCorpsesCharacter2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = sectStoryThreeCorpsesCharacter2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	public SectBaihuaLifeLinkData GetSectBaihuaLifeLinkData()
	{
		return _sectBaihuaLifeLinkData;
	}

	public unsafe void SetSectBaihuaLifeLinkData(SectBaihuaLifeLinkData value, DataContext context)
	{
		_sectBaihuaLifeLinkData = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(206, DataStates, CacheInfluences, context);
		int serializedSize = _sectBaihuaLifeLinkData.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 206, serializedSize);
		ptr += _sectBaihuaLifeLinkData.Serialize(ptr);
	}

	public SamsaraPlatformRecordCollection GetSamsaraPlatformRecordCollection()
	{
		return _samsaraPlatformRecordCollection;
	}

	private unsafe void CommitInsert_SamsaraPlatformRecordCollection(DataContext context, int offset, int size)
	{
		_modificationsSamsaraPlatformRecordCollection.RecordInserting(offset, size);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(207, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Insert(19, 207, offset, size);
		_samsaraPlatformRecordCollection.CopyTo(offset, size, pDest);
	}

	private unsafe void CommitWrite_SamsaraPlatformRecordCollection(DataContext context, int offset, int size)
	{
		_modificationsSamsaraPlatformRecordCollection.RecordWriting(offset, size);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(207, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Write(19, 207, offset, size);
		_samsaraPlatformRecordCollection.CopyTo(offset, size, pDest);
	}

	private void CommitRemove_SamsaraPlatformRecordCollection(DataContext context, int offset, int size)
	{
		_modificationsSamsaraPlatformRecordCollection.RecordRemoving(offset, size);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(207, DataStates, CacheInfluences, context);
		OperationAdder.Binary_Remove(19, 207, offset, size);
	}

	private unsafe void CommitSetMetadata_SamsaraPlatformRecordCollection(DataContext context)
	{
		_modificationsSamsaraPlatformRecordCollection.RecordSettingMetadata();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(207, DataStates, CacheInfluences, context);
		ushort serializedFixedSizeOfMetadata = _samsaraPlatformRecordCollection.GetSerializedFixedSizeOfMetadata();
		byte* pData = OperationAdder.Binary_SetMetadata(19, 207, serializedFixedSizeOfMetadata);
		_samsaraPlatformRecordCollection.SerializeMetadata(pData);
	}

	public SByteList GetElement_AvailableReadingStrategyMap(int elementId)
	{
		return _availableReadingStrategyMap[elementId];
	}

	public bool TryGetElement_AvailableReadingStrategyMap(int elementId, out SByteList value)
	{
		return _availableReadingStrategyMap.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_AvailableReadingStrategyMap(int elementId, SByteList value, DataContext context)
	{
		_availableReadingStrategyMap.Add(elementId, value);
		_modificationsAvailableReadingStrategyMap.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(208, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 208, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_AvailableReadingStrategyMap(int elementId, SByteList value, DataContext context)
	{
		_availableReadingStrategyMap[elementId] = value;
		_modificationsAvailableReadingStrategyMap.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(208, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 208, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_AvailableReadingStrategyMap(int elementId, DataContext context)
	{
		_availableReadingStrategyMap.Remove(elementId);
		_modificationsAvailableReadingStrategyMap.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(208, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 208, elementId);
	}

	private void ClearAvailableReadingStrategyMap(DataContext context)
	{
		_availableReadingStrategyMap.Clear();
		_modificationsAvailableReadingStrategyMap.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(208, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 208);
	}

	public List<short> GetReferenceSkillList()
	{
		return _referenceSkillList;
	}

	public unsafe void SetReferenceSkillList(List<short> value, DataContext context)
	{
		_referenceSkillList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(209, DataStates, CacheInfluences, context);
		int count = _referenceSkillList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 209, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _referenceSkillList[i];
		}
		ptr += num;
	}

	public SByteList GetElement_AvailableQiArtStrategyMap(short elementId)
	{
		return _availableQiArtStrategyMap[elementId];
	}

	public bool TryGetElement_AvailableQiArtStrategyMap(short elementId, out SByteList value)
	{
		return _availableQiArtStrategyMap.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_AvailableQiArtStrategyMap(short elementId, SByteList value, DataContext context)
	{
		_availableQiArtStrategyMap.Add(elementId, value);
		_modificationsAvailableQiArtStrategyMap.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(210, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 210, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_AvailableQiArtStrategyMap(short elementId, SByteList value, DataContext context)
	{
		_availableQiArtStrategyMap[elementId] = value;
		_modificationsAvailableQiArtStrategyMap.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(210, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 210, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_AvailableQiArtStrategyMap(short elementId, DataContext context)
	{
		_availableQiArtStrategyMap.Remove(elementId);
		_modificationsAvailableQiArtStrategyMap.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(210, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 210, elementId);
	}

	private void ClearAvailableQiArtStrategyMap(DataContext context)
	{
		_availableQiArtStrategyMap.Clear();
		_modificationsAvailableQiArtStrategyMap.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(210, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 210);
	}

	public List<short> GetLoopingEventSkillIdList()
	{
		return _loopingEventSkillIdList;
	}

	public unsafe void SetLoopingEventSkillIdList(List<short> value, DataContext context)
	{
		_loopingEventSkillIdList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(211, DataStates, CacheInfluences, context);
		int count = _loopingEventSkillIdList.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 211, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _loopingEventSkillIdList[i];
		}
		ptr += num;
	}

	public SByteList GetElement_QiArtStrategyMap(short elementId)
	{
		return _qiArtStrategyMap[elementId];
	}

	public bool TryGetElement_QiArtStrategyMap(short elementId, out SByteList value)
	{
		return _qiArtStrategyMap.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_QiArtStrategyMap(short elementId, SByteList value, DataContext context)
	{
		_qiArtStrategyMap.Add(elementId, value);
		_modificationsQiArtStrategyMap.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(212, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 212, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_QiArtStrategyMap(short elementId, SByteList value, DataContext context)
	{
		_qiArtStrategyMap[elementId] = value;
		_modificationsQiArtStrategyMap.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(212, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 212, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_QiArtStrategyMap(short elementId, DataContext context)
	{
		_qiArtStrategyMap.Remove(elementId);
		_modificationsQiArtStrategyMap.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(212, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 212, elementId);
	}

	private void ClearQiArtStrategyMap(DataContext context)
	{
		_qiArtStrategyMap.Clear();
		_modificationsQiArtStrategyMap.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(212, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 212);
	}

	public IntList GetElement_QiArtStrategyExpireTimeMap(short elementId)
	{
		return _qiArtStrategyExpireTimeMap[elementId];
	}

	public bool TryGetElement_QiArtStrategyExpireTimeMap(short elementId, out IntList value)
	{
		return _qiArtStrategyExpireTimeMap.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_QiArtStrategyExpireTimeMap(short elementId, IntList value, DataContext context)
	{
		_qiArtStrategyExpireTimeMap.Add(elementId, value);
		_modificationsQiArtStrategyExpireTimeMap.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(213, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 213, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_QiArtStrategyExpireTimeMap(short elementId, IntList value, DataContext context)
	{
		_qiArtStrategyExpireTimeMap[elementId] = value;
		_modificationsQiArtStrategyExpireTimeMap.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(213, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 213, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_QiArtStrategyExpireTimeMap(short elementId, DataContext context)
	{
		_qiArtStrategyExpireTimeMap.Remove(elementId);
		_modificationsQiArtStrategyExpireTimeMap.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(213, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 213, elementId);
	}

	private void ClearQiArtStrategyExpireTimeMap(DataContext context)
	{
		_qiArtStrategyExpireTimeMap.Clear();
		_modificationsQiArtStrategyExpireTimeMap.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(213, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 213);
	}

	public sbyte GetLoopInLifeSkillCombatCount()
	{
		return _loopInLifeSkillCombatCount;
	}

	public unsafe void SetLoopInLifeSkillCombatCount(sbyte value, DataContext context)
	{
		_loopInLifeSkillCombatCount = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(214, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 214, 1);
		*ptr = (byte)_loopInLifeSkillCombatCount;
		ptr++;
	}

	public sbyte GetLoopInCombatCount()
	{
		return _loopInCombatCount;
	}

	public unsafe void SetLoopInCombatCount(sbyte value, DataContext context)
	{
		_loopInCombatCount = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(215, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 215, 1);
		*ptr = (byte)_loopInCombatCount;
		ptr++;
	}

	public SettlementTreasuryRecordCollection GetElement_SettlementTreasuryRecordCollections(short elementId)
	{
		return _settlementTreasuryRecordCollections[elementId];
	}

	public bool TryGetElement_SettlementTreasuryRecordCollections(short elementId, out SettlementTreasuryRecordCollection value)
	{
		return _settlementTreasuryRecordCollections.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SettlementTreasuryRecordCollections(short elementId, SettlementTreasuryRecordCollection value, DataContext context)
	{
		_settlementTreasuryRecordCollections.Add(elementId, value);
		_modificationsSettlementTreasuryRecordCollections.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(216, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 216, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 216, elementId, 0);
		}
	}

	private unsafe void SetElement_SettlementTreasuryRecordCollections(short elementId, SettlementTreasuryRecordCollection value, DataContext context)
	{
		_settlementTreasuryRecordCollections[elementId] = value;
		_modificationsSettlementTreasuryRecordCollections.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(216, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 216, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 216, elementId, 0);
		}
	}

	private void RemoveElement_SettlementTreasuryRecordCollections(short elementId, DataContext context)
	{
		_settlementTreasuryRecordCollections.Remove(elementId);
		_modificationsSettlementTreasuryRecordCollections.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(216, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 216, elementId);
	}

	private void ClearSettlementTreasuryRecordCollections(DataContext context)
	{
		_settlementTreasuryRecordCollections.Clear();
		_modificationsSettlementTreasuryRecordCollections.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(216, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 216);
	}

	public NotificationSortingGroup GetElement_MonthlyNotificationSortingGroups(int elementId)
	{
		return _monthlyNotificationSortingGroups[elementId];
	}

	public bool TryGetElement_MonthlyNotificationSortingGroups(int elementId, out NotificationSortingGroup value)
	{
		return _monthlyNotificationSortingGroups.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_MonthlyNotificationSortingGroups(int elementId, NotificationSortingGroup value, DataContext context)
	{
		_monthlyNotificationSortingGroups.Add(elementId, value);
		_modificationsMonthlyNotificationSortingGroups.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(217, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 217, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 217, elementId, 0);
		}
	}

	private unsafe void SetElement_MonthlyNotificationSortingGroups(int elementId, NotificationSortingGroup value, DataContext context)
	{
		_monthlyNotificationSortingGroups[elementId] = value;
		_modificationsMonthlyNotificationSortingGroups.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(217, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 217, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 217, elementId, 0);
		}
	}

	private void RemoveElement_MonthlyNotificationSortingGroups(int elementId, DataContext context)
	{
		_monthlyNotificationSortingGroups.Remove(elementId);
		_modificationsMonthlyNotificationSortingGroups.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(217, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 217, elementId);
	}

	private void ClearMonthlyNotificationSortingGroups(DataContext context)
	{
		_monthlyNotificationSortingGroups.Clear();
		_modificationsMonthlyNotificationSortingGroups.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(217, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 217);
	}

	public List<int> GetFollowingNpcList()
	{
		return _followingNpcList;
	}

	private unsafe void SetFollowingNpcList(List<int> value, DataContext context)
	{
		_followingNpcList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(218, DataStates, CacheInfluences, context);
		int count = _followingNpcList.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 218, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _followingNpcList[i];
		}
		ptr += num;
	}

	public SectEmeiBreakBonusData GetElement_SectEmeiBreakBonusData(short elementId)
	{
		return _sectEmeiBreakBonusData[elementId];
	}

	public bool TryGetElement_SectEmeiBreakBonusData(short elementId, out SectEmeiBreakBonusData value)
	{
		return _sectEmeiBreakBonusData.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SectEmeiBreakBonusData(short elementId, SectEmeiBreakBonusData value, DataContext context)
	{
		_sectEmeiBreakBonusData.Add(elementId, value);
		_modificationsSectEmeiBreakBonusData.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(219, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 219, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_SectEmeiBreakBonusData(short elementId, SectEmeiBreakBonusData value, DataContext context)
	{
		_sectEmeiBreakBonusData[elementId] = value;
		_modificationsSectEmeiBreakBonusData.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(219, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 219, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_SectEmeiBreakBonusData(short elementId, DataContext context)
	{
		_sectEmeiBreakBonusData.Remove(elementId);
		_modificationsSectEmeiBreakBonusData.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(219, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 219, elementId);
	}

	private void ClearSectEmeiBreakBonusData(DataContext context)
	{
		_sectEmeiBreakBonusData.Clear();
		_modificationsSectEmeiBreakBonusData.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(219, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 219);
	}

	public int GetElement_FollowingNickNameMap(int elementId)
	{
		return _followingNickNameMap[elementId];
	}

	public bool TryGetElement_FollowingNickNameMap(int elementId, out int value)
	{
		return _followingNickNameMap.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_FollowingNickNameMap(int elementId, int value, DataContext context)
	{
		_followingNickNameMap.Add(elementId, value);
		_modificationsFollowingNickNameMap.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(220, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 220, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_FollowingNickNameMap(int elementId, int value, DataContext context)
	{
		_followingNickNameMap[elementId] = value;
		_modificationsFollowingNickNameMap.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(220, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 220, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_FollowingNickNameMap(int elementId, DataContext context)
	{
		_followingNickNameMap.Remove(elementId);
		_modificationsFollowingNickNameMap.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(220, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 220, elementId);
	}

	private void ClearFollowingNickNameMap(DataContext context)
	{
		_followingNickNameMap.Clear();
		_modificationsFollowingNickNameMap.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(220, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 220);
	}

	public MerchantOverFavorData GetElement_MerchantOverFavorDataArray(int index)
	{
		return _merchantOverFavorDataArray[index];
	}

	public unsafe void SetElement_MerchantOverFavorDataArray(int index, MerchantOverFavorData value, DataContext context)
	{
		_merchantOverFavorDataArray[index] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(index, _dataStatesMerchantOverFavorDataArray, CacheInfluencesMerchantOverFavorDataArray, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicElementList_Set(19, 221, index, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicElementList_Set(19, 221, index, 0);
		}
	}

	public List<int> GetChangedTeammateCharIds()
	{
		return _changedTeammateCharIds;
	}

	private unsafe void SetChangedTeammateCharIds(List<int> value, DataContext context)
	{
		_changedTeammateCharIds = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(222, DataStates, CacheInfluences, context);
		int count = _changedTeammateCharIds.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 222, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _changedTeammateCharIds[i];
		}
		ptr += num;
	}

	public SettlementPrison GetElement_SettlementPrisons(short elementId)
	{
		return _settlementPrisons[elementId];
	}

	public bool TryGetElement_SettlementPrisons(short elementId, out SettlementPrison value)
	{
		return _settlementPrisons.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SettlementPrisons(short elementId, SettlementPrison value, DataContext context)
	{
		_settlementPrisons.Add(elementId, value);
		_modificationsSettlementPrisons.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(223, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 223, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 223, elementId, 0);
		}
	}

	private unsafe void SetElement_SettlementPrisons(short elementId, SettlementPrison value, DataContext context)
	{
		_settlementPrisons[elementId] = value;
		_modificationsSettlementPrisons.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(223, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 223, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 223, elementId, 0);
		}
	}

	private void RemoveElement_SettlementPrisons(short elementId, DataContext context)
	{
		_settlementPrisons.Remove(elementId);
		_modificationsSettlementPrisons.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(223, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 223, elementId);
	}

	private void ClearSettlementPrisons(DataContext context)
	{
		_settlementPrisons.Clear();
		_modificationsSettlementPrisons.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(223, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 223);
	}

	public IntList GetElement_SectFulongOrgMemberChickens(short elementId)
	{
		return _sectFulongOrgMemberChickens[elementId];
	}

	public bool TryGetElement_SectFulongOrgMemberChickens(short elementId, out IntList value)
	{
		return _sectFulongOrgMemberChickens.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SectFulongOrgMemberChickens(short elementId, IntList value, DataContext context)
	{
		_sectFulongOrgMemberChickens.Add(elementId, value);
		_modificationsSectFulongOrgMemberChickens.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(224, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 224, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_SectFulongOrgMemberChickens(short elementId, IntList value, DataContext context)
	{
		_sectFulongOrgMemberChickens[elementId] = value;
		_modificationsSectFulongOrgMemberChickens.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(224, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 224, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_SectFulongOrgMemberChickens(short elementId, DataContext context)
	{
		_sectFulongOrgMemberChickens.Remove(elementId);
		_modificationsSectFulongOrgMemberChickens.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(224, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 224, elementId);
	}

	private void ClearSectFulongOrgMemberChickens(DataContext context)
	{
		_sectFulongOrgMemberChickens.Clear();
		_modificationsSectFulongOrgMemberChickens.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(224, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 224);
	}

	public List<FulongInFlameArea> GetSectFulongInFlameAreas()
	{
		return _sectFulongInFlameAreas;
	}

	public unsafe void SetSectFulongInFlameAreas(List<FulongInFlameArea> value, DataContext context)
	{
		_sectFulongInFlameAreas = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(225, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _sectFulongInFlameAreas.Count;
		for (int i = 0; i < count; i++)
		{
			FulongInFlameArea fulongInFlameArea = _sectFulongInFlameAreas[i];
			num = ((fulongInFlameArea == null) ? (num + 2) : (num + (2 + fulongInFlameArea.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 225, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			FulongInFlameArea fulongInFlameArea2 = _sectFulongInFlameAreas[j];
			if (fulongInFlameArea2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = fulongInFlameArea2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	public IntPair GetElement_SectFulongOutLaws(int elementId)
	{
		return _sectFulongOutLaws[elementId];
	}

	public bool TryGetElement_SectFulongOutLaws(int elementId, out IntPair value)
	{
		return _sectFulongOutLaws.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SectFulongOutLaws(int elementId, IntPair value, DataContext context)
	{
		_sectFulongOutLaws.Add(elementId, value);
		_modificationsSectFulongOutLaws.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(226, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 226, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_SectFulongOutLaws(int elementId, IntPair value, DataContext context)
	{
		_sectFulongOutLaws[elementId] = value;
		_modificationsSectFulongOutLaws.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(226, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 226, elementId, 8);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_SectFulongOutLaws(int elementId, DataContext context)
	{
		_sectFulongOutLaws.Remove(elementId);
		_modificationsSectFulongOutLaws.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(226, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 226, elementId);
	}

	private void ClearSectFulongOutLaws(DataContext context)
	{
		_sectFulongOutLaws.Clear();
		_modificationsSectFulongOutLaws.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(226, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 226);
	}

	public SettlementPrisonRecordCollection GetElement_SettlementPrisonRecordCollections(short elementId)
	{
		return _settlementPrisonRecordCollections[elementId];
	}

	public bool TryGetElement_SettlementPrisonRecordCollections(short elementId, out SettlementPrisonRecordCollection value)
	{
		return _settlementPrisonRecordCollections.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SettlementPrisonRecordCollections(short elementId, SettlementPrisonRecordCollection value, DataContext context)
	{
		_settlementPrisonRecordCollections.Add(elementId, value);
		_modificationsSettlementPrisonRecordCollections.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(227, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 227, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 227, elementId, 0);
		}
	}

	private unsafe void SetElement_SettlementPrisonRecordCollections(short elementId, SettlementPrisonRecordCollection value, DataContext context)
	{
		_settlementPrisonRecordCollections[elementId] = value;
		_modificationsSettlementPrisonRecordCollections.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(227, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 227, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 227, elementId, 0);
		}
	}

	private void RemoveElement_SettlementPrisonRecordCollections(short elementId, DataContext context)
	{
		_settlementPrisonRecordCollections.Remove(elementId);
		_modificationsSettlementPrisonRecordCollections.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(227, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 227, elementId);
	}

	private void ClearSettlementPrisonRecordCollections(DataContext context)
	{
		_settlementPrisonRecordCollections.Clear();
		_modificationsSettlementPrisonRecordCollections.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(227, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 227);
	}

	private VillagerRoleWrapper GetElement_VillagerRoles(int elementId)
	{
		return _villagerRoles[elementId];
	}

	private bool TryGetElement_VillagerRoles(int elementId, out VillagerRoleWrapper value)
	{
		return _villagerRoles.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_VillagerRoles(int elementId, VillagerRoleWrapper value, DataContext context)
	{
		_villagerRoles.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(228, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 228, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 228, elementId, 0);
		}
	}

	private unsafe void SetElement_VillagerRoles(int elementId, VillagerRoleWrapper value, DataContext context)
	{
		_villagerRoles[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(228, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 228, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 228, elementId, 0);
		}
	}

	private void RemoveElement_VillagerRoles(int elementId, DataContext context)
	{
		_villagerRoles.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(228, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 228, elementId);
	}

	private void ClearVillagerRoles(DataContext context)
	{
		_villagerRoles.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(228, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 228);
	}

	public List<int> GetSectFulongLoseFeatherChickens()
	{
		return _sectFulongLoseFeatherChickens;
	}

	public unsafe void SetSectFulongLoseFeatherChickens(List<int> value, DataContext context)
	{
		_sectFulongLoseFeatherChickens = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(229, DataStates, CacheInfluences, context);
		int count = _sectFulongLoseFeatherChickens.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 229, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _sectFulongLoseFeatherChickens[i];
		}
		ptr += num;
	}

	public TaiwuVillageStorage GetStockStorage()
	{
		return _stockStorage;
	}

	private unsafe void SetStockStorage(TaiwuVillageStorage value, DataContext context)
	{
		_stockStorage = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(230, DataStates, CacheInfluences, context);
		int serializedSize = _stockStorage.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 230, serializedSize);
		ptr += _stockStorage.Serialize(ptr);
	}

	[Obsolete("DomainData _craftStorage is no longer in use.")]
	public TaiwuVillageStorage GetCraftStorage()
	{
		return _craftStorage;
	}

	[Obsolete("DomainData _craftStorage is no longer in use.")]
	private unsafe void SetCraftStorage(TaiwuVillageStorage value, DataContext context)
	{
		_craftStorage = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(231, DataStates, CacheInfluences, context);
		int serializedSize = _craftStorage.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 231, serializedSize);
		ptr += _craftStorage.Serialize(ptr);
	}

	[Obsolete("DomainData _medicineStorage is no longer in use.")]
	public TaiwuVillageStorage GetMedicineStorage()
	{
		return _medicineStorage;
	}

	[Obsolete("DomainData _medicineStorage is no longer in use.")]
	private unsafe void SetMedicineStorage(TaiwuVillageStorage value, DataContext context)
	{
		_medicineStorage = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(232, DataStates, CacheInfluences, context);
		int serializedSize = _medicineStorage.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 232, serializedSize);
		ptr += _medicineStorage.Serialize(ptr);
	}

	private FullPoisonEffects GetElement_FullPoisonEffects(int elementId)
	{
		return _fullPoisonEffects[elementId];
	}

	private bool TryGetElement_FullPoisonEffects(int elementId, out FullPoisonEffects value)
	{
		return _fullPoisonEffects.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_FullPoisonEffects(int elementId, FullPoisonEffects value, DataContext context)
	{
		_fullPoisonEffects.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(233, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 233, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 233, elementId, 0);
		}
	}

	private unsafe void SetElement_FullPoisonEffects(int elementId, FullPoisonEffects value, DataContext context)
	{
		_fullPoisonEffects[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(233, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 233, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 233, elementId, 0);
		}
	}

	private void RemoveElement_FullPoisonEffects(int elementId, DataContext context)
	{
		_fullPoisonEffects.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(233, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 233, elementId);
	}

	private void ClearFullPoisonEffects(DataContext context)
	{
		_fullPoisonEffects.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(233, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 233);
	}

	[Obsolete("DomainData _foodStorage is no longer in use.")]
	public TaiwuVillageStorage GetFoodStorage()
	{
		return _foodStorage;
	}

	[Obsolete("DomainData _foodStorage is no longer in use.")]
	private unsafe void SetFoodStorage(TaiwuVillageStorage value, DataContext context)
	{
		_foodStorage = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(234, DataStates, CacheInfluences, context);
		int serializedSize = _foodStorage.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 234, serializedSize);
		ptr += _foodStorage.Serialize(ptr);
	}

	public TaiwuVillageStoragesRecordCollection GetTaiwuVillageStoragesRecordCollection()
	{
		return _taiwuVillageStoragesRecordCollection;
	}

	private unsafe void SetTaiwuVillageStoragesRecordCollection(TaiwuVillageStoragesRecordCollection value, DataContext context)
	{
		_taiwuVillageStoragesRecordCollection = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(235, DataStates, CacheInfluences, context);
		int serializedSize = _taiwuVillageStoragesRecordCollection.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 235, serializedSize);
		ptr += _taiwuVillageStoragesRecordCollection.Serialize(ptr);
	}

	private int GetElement_ItemPriceFluctuation(TemplateKey elementId)
	{
		return _itemPriceFluctuation[elementId];
	}

	private bool TryGetElement_ItemPriceFluctuation(TemplateKey elementId, out int value)
	{
		return _itemPriceFluctuation.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ItemPriceFluctuation(TemplateKey elementId, int value, DataContext context)
	{
		_itemPriceFluctuation.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(236, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 236, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_ItemPriceFluctuation(TemplateKey elementId, int value, DataContext context)
	{
		_itemPriceFluctuation[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(236, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 236, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_ItemPriceFluctuation(TemplateKey elementId, DataContext context)
	{
		_itemPriceFluctuation.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(236, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 236, elementId);
	}

	private void ClearItemPriceFluctuation(DataContext context)
	{
		_itemPriceFluctuation.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(236, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 236);
	}

	public int GetElement_VillagerRoleNickNameMap(short elementId)
	{
		return _villagerRoleNickNameMap[elementId];
	}

	public bool TryGetElement_VillagerRoleNickNameMap(short elementId, out int value)
	{
		return _villagerRoleNickNameMap.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_VillagerRoleNickNameMap(short elementId, int value, DataContext context)
	{
		_villagerRoleNickNameMap.Add(elementId, value);
		_modificationsVillagerRoleNickNameMap.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(237, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 237, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_VillagerRoleNickNameMap(short elementId, int value, DataContext context)
	{
		_villagerRoleNickNameMap[elementId] = value;
		_modificationsVillagerRoleNickNameMap.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(237, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 237, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_VillagerRoleNickNameMap(short elementId, DataContext context)
	{
		_villagerRoleNickNameMap.Remove(elementId);
		_modificationsVillagerRoleNickNameMap.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(237, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 237, elementId);
	}

	private void ClearVillagerRoleNickNameMap(DataContext context)
	{
		_villagerRoleNickNameMap.Clear();
		_modificationsVillagerRoleNickNameMap.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(237, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 237);
	}

	private int GetElement_VillagerRoleMaxUnlockCounts(short elementId)
	{
		return _villagerRoleMaxUnlockCounts[elementId];
	}

	private bool TryGetElement_VillagerRoleMaxUnlockCounts(short elementId, out int value)
	{
		return _villagerRoleMaxUnlockCounts.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_VillagerRoleMaxUnlockCounts(short elementId, int value, DataContext context)
	{
		_villagerRoleMaxUnlockCounts.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(238, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 238, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_VillagerRoleMaxUnlockCounts(short elementId, int value, DataContext context)
	{
		_villagerRoleMaxUnlockCounts[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(238, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 238, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_VillagerRoleMaxUnlockCounts(short elementId, DataContext context)
	{
		_villagerRoleMaxUnlockCounts.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(238, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 238, elementId);
	}

	private void ClearVillagerRoleMaxUnlockCounts(DataContext context)
	{
		_villagerRoleMaxUnlockCounts.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(238, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 238);
	}

	public BuildingResourceOutputSetting GetElement_BuildingResourceOutputSettings(int elementId)
	{
		return _buildingResourceOutputSettings[elementId];
	}

	public bool TryGetElement_BuildingResourceOutputSettings(int elementId, out BuildingResourceOutputSetting value)
	{
		return _buildingResourceOutputSettings.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_BuildingResourceOutputSettings(int elementId, BuildingResourceOutputSetting value, DataContext context)
	{
		_buildingResourceOutputSettings.Add(elementId, value);
		_modificationsBuildingResourceOutputSettings.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(239, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 239, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 239, elementId, 0);
		}
	}

	private unsafe void SetElement_BuildingResourceOutputSettings(int elementId, BuildingResourceOutputSetting value, DataContext context)
	{
		_buildingResourceOutputSettings[elementId] = value;
		_modificationsBuildingResourceOutputSettings.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(239, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 239, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 239, elementId, 0);
		}
	}

	private void RemoveElement_BuildingResourceOutputSettings(int elementId, DataContext context)
	{
		_buildingResourceOutputSettings.Remove(elementId);
		_modificationsBuildingResourceOutputSettings.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(239, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 239, elementId);
	}

	private void ClearBuildingResourceOutputSettings(DataContext context)
	{
		_buildingResourceOutputSettings.Clear();
		_modificationsBuildingResourceOutputSettings.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(239, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 239);
	}

	private int GetElement_BlockRecoveryUnlockDates(Location elementId)
	{
		return _blockRecoveryUnlockDates[elementId];
	}

	private bool TryGetElement_BlockRecoveryUnlockDates(Location elementId, out int value)
	{
		return _blockRecoveryUnlockDates.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_BlockRecoveryUnlockDates(Location elementId, int value, DataContext context)
	{
		_blockRecoveryUnlockDates.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(240, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 240, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_BlockRecoveryUnlockDates(Location elementId, int value, DataContext context)
	{
		_blockRecoveryUnlockDates[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(240, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 240, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_BlockRecoveryUnlockDates(Location elementId, DataContext context)
	{
		_blockRecoveryUnlockDates.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(240, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 240, elementId);
	}

	private void ClearBlockRecoveryUnlockDates(DataContext context)
	{
		_blockRecoveryUnlockDates.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(240, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 240);
	}

	[Obsolete("DomainData _taiwuVillageStorageSettingDict is no longer in use.")]
	private VillagerRoleActionSetting GetElement_TaiwuVillageStorageSettingDict(sbyte elementId)
	{
		return _taiwuVillageStorageSettingDict[elementId];
	}

	[Obsolete("DomainData _taiwuVillageStorageSettingDict is no longer in use.")]
	private bool TryGetElement_TaiwuVillageStorageSettingDict(sbyte elementId, out VillagerRoleActionSetting value)
	{
		return _taiwuVillageStorageSettingDict.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _taiwuVillageStorageSettingDict is no longer in use.")]
	private unsafe void AddElement_TaiwuVillageStorageSettingDict(sbyte elementId, VillagerRoleActionSetting value, DataContext context)
	{
		_taiwuVillageStorageSettingDict.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(241, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 241, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 241, elementId, 0);
		}
	}

	[Obsolete("DomainData _taiwuVillageStorageSettingDict is no longer in use.")]
	private unsafe void SetElement_TaiwuVillageStorageSettingDict(sbyte elementId, VillagerRoleActionSetting value, DataContext context)
	{
		_taiwuVillageStorageSettingDict[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(241, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 241, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 241, elementId, 0);
		}
	}

	[Obsolete("DomainData _taiwuVillageStorageSettingDict is no longer in use.")]
	private void RemoveElement_TaiwuVillageStorageSettingDict(sbyte elementId, DataContext context)
	{
		_taiwuVillageStorageSettingDict.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(241, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 241, elementId);
	}

	[Obsolete("DomainData _taiwuVillageStorageSettingDict is no longer in use.")]
	private void ClearTaiwuVillageStorageSettingDict(DataContext context)
	{
		_taiwuVillageStorageSettingDict.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(241, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 241);
	}

	private int GetElement_CharacterConsummateLevelProgresses(int elementId)
	{
		return _characterConsummateLevelProgresses[elementId];
	}

	private bool TryGetElement_CharacterConsummateLevelProgresses(int elementId, out int value)
	{
		return _characterConsummateLevelProgresses.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterConsummateLevelProgresses(int elementId, int value, DataContext context)
	{
		_characterConsummateLevelProgresses.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(242, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 242, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_CharacterConsummateLevelProgresses(int elementId, int value, DataContext context)
	{
		_characterConsummateLevelProgresses[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(242, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 242, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_CharacterConsummateLevelProgresses(int elementId, DataContext context)
	{
		_characterConsummateLevelProgresses.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(242, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 242, elementId);
	}

	private void ClearCharacterConsummateLevelProgresses(DataContext context)
	{
		_characterConsummateLevelProgresses.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(242, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 242);
	}

	private IntList GetElement_TaiwuWantedFirstInteractOrganizationMember(short elementId)
	{
		return _taiwuWantedFirstInteractOrganizationMember[elementId];
	}

	private bool TryGetElement_TaiwuWantedFirstInteractOrganizationMember(short elementId, out IntList value)
	{
		return _taiwuWantedFirstInteractOrganizationMember.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TaiwuWantedFirstInteractOrganizationMember(short elementId, IntList value, DataContext context)
	{
		_taiwuWantedFirstInteractOrganizationMember.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(243, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 243, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_TaiwuWantedFirstInteractOrganizationMember(short elementId, IntList value, DataContext context)
	{
		_taiwuWantedFirstInteractOrganizationMember[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(243, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 243, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_TaiwuWantedFirstInteractOrganizationMember(short elementId, DataContext context)
	{
		_taiwuWantedFirstInteractOrganizationMember.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(243, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 243, elementId);
	}

	private void ClearTaiwuWantedFirstInteractOrganizationMember(DataContext context)
	{
		_taiwuWantedFirstInteractOrganizationMember.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(243, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 243);
	}

	public int GetElement_AreaSpiritualDebt(short elementId)
	{
		return _areaSpiritualDebt[elementId];
	}

	public bool TryGetElement_AreaSpiritualDebt(short elementId, out int value)
	{
		return _areaSpiritualDebt.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_AreaSpiritualDebt(short elementId, int value, DataContext context)
	{
		_areaSpiritualDebt.Add(elementId, value);
		_modificationsAreaSpiritualDebt.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(244, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 244, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_AreaSpiritualDebt(short elementId, int value, DataContext context)
	{
		_areaSpiritualDebt[elementId] = value;
		_modificationsAreaSpiritualDebt.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(244, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 244, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_AreaSpiritualDebt(short elementId, DataContext context)
	{
		_areaSpiritualDebt.Remove(elementId);
		_modificationsAreaSpiritualDebt.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(244, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 244, elementId);
	}

	private void ClearAreaSpiritualDebt(DataContext context)
	{
		_areaSpiritualDebt.Clear();
		_modificationsAreaSpiritualDebt.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(244, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 244);
	}

	public ProfessionData GetElement_TaiwuProfessions(int elementId)
	{
		return _taiwuProfessions[elementId];
	}

	public bool TryGetElement_TaiwuProfessions(int elementId, out ProfessionData value)
	{
		return _taiwuProfessions.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TaiwuProfessions(int elementId, ProfessionData value, DataContext context)
	{
		_taiwuProfessions.Add(elementId, value);
		_modificationsTaiwuProfessions.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(245, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 245, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 245, elementId, 0);
		}
	}

	private unsafe void SetElement_TaiwuProfessions(int elementId, ProfessionData value, DataContext context)
	{
		_taiwuProfessions[elementId] = value;
		_modificationsTaiwuProfessions.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(245, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 245, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 245, elementId, 0);
		}
	}

	private void RemoveElement_TaiwuProfessions(int elementId, DataContext context)
	{
		_taiwuProfessions.Remove(elementId);
		_modificationsTaiwuProfessions.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(245, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 245, elementId);
	}

	private void ClearTaiwuProfessions(DataContext context)
	{
		_taiwuProfessions.Clear();
		_modificationsTaiwuProfessions.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(245, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 245);
	}

	public TaiwuProfessionSkillSlots GetTaiwuProfessionSkillSlots()
	{
		return _taiwuProfessionSkillSlots;
	}

	private unsafe void SetTaiwuProfessionSkillSlots(TaiwuProfessionSkillSlots value, DataContext context)
	{
		_taiwuProfessionSkillSlots = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(246, DataStates, CacheInfluences, context);
		int serializedSize = _taiwuProfessionSkillSlots.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 246, serializedSize);
		ptr += _taiwuProfessionSkillSlots.Serialize(ptr);
	}

	private CharacterSet GetElement_CharacterSpecialGroup(int elementId)
	{
		return _characterSpecialGroup[elementId];
	}

	private bool TryGetElement_CharacterSpecialGroup(int elementId, out CharacterSet value)
	{
		return _characterSpecialGroup.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterSpecialGroup(int elementId, CharacterSet value, DataContext context)
	{
		_characterSpecialGroup.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(247, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 247, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CharacterSpecialGroup(int elementId, CharacterSet value, DataContext context)
	{
		_characterSpecialGroup[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(247, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 247, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CharacterSpecialGroup(int elementId, DataContext context)
	{
		_characterSpecialGroup.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(247, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 247, elementId);
	}

	private void ClearCharacterSpecialGroup(DataContext context)
	{
		_characterSpecialGroup.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(247, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 247);
	}

	public CricketPlaceExtraData GetElement_CricketPlaceExtraData(short elementId)
	{
		return _cricketPlaceExtraData[elementId];
	}

	public bool TryGetElement_CricketPlaceExtraData(short elementId, out CricketPlaceExtraData value)
	{
		return _cricketPlaceExtraData.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CricketPlaceExtraData(short elementId, CricketPlaceExtraData value, DataContext context)
	{
		_cricketPlaceExtraData.Add(elementId, value);
		_modificationsCricketPlaceExtraData.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(248, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 248, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 248, elementId, 0);
		}
	}

	private unsafe void SetElement_CricketPlaceExtraData(short elementId, CricketPlaceExtraData value, DataContext context)
	{
		_cricketPlaceExtraData[elementId] = value;
		_modificationsCricketPlaceExtraData.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(248, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 248, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 248, elementId, 0);
		}
	}

	private void RemoveElement_CricketPlaceExtraData(short elementId, DataContext context)
	{
		_cricketPlaceExtraData.Remove(elementId);
		_modificationsCricketPlaceExtraData.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(248, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 248, elementId);
	}

	private void ClearCricketPlaceExtraData(DataContext context)
	{
		_cricketPlaceExtraData.Clear();
		_modificationsCricketPlaceExtraData.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(248, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 248);
	}

	public MerchantData GetElement_BranchMerchantData(int index)
	{
		return _branchMerchantData[index];
	}

	public unsafe void SetElement_BranchMerchantData(int index, MerchantData value, DataContext context)
	{
		_branchMerchantData[index] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(index, _dataStatesBranchMerchantData, CacheInfluencesBranchMerchantData, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicElementList_Set(19, 249, index, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicElementList_Set(19, 249, index, 0);
		}
	}

	private CharacterCombatSkillConfiguration GetElement_CharacterCombatSkillConfigurations(int elementId)
	{
		return _characterCombatSkillConfigurations[elementId];
	}

	private bool TryGetElement_CharacterCombatSkillConfigurations(int elementId, out CharacterCombatSkillConfiguration value)
	{
		return _characterCombatSkillConfigurations.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterCombatSkillConfigurations(int elementId, CharacterCombatSkillConfiguration value, DataContext context)
	{
		_characterCombatSkillConfigurations.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(250, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 250, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 250, elementId, 0);
		}
	}

	private unsafe void SetElement_CharacterCombatSkillConfigurations(int elementId, CharacterCombatSkillConfiguration value, DataContext context)
	{
		_characterCombatSkillConfigurations[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(250, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 250, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 250, elementId, 0);
		}
	}

	private void RemoveElement_CharacterCombatSkillConfigurations(int elementId, DataContext context)
	{
		_characterCombatSkillConfigurations.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(250, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 250, elementId);
	}

	private void ClearCharacterCombatSkillConfigurations(DataContext context)
	{
		_characterCombatSkillConfigurations.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(250, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 250);
	}

	private CombatSkillPlan GetElement_CharacterEquippedCombatSkills(int elementId)
	{
		return _characterEquippedCombatSkills[elementId];
	}

	private bool TryGetElement_CharacterEquippedCombatSkills(int elementId, out CombatSkillPlan value)
	{
		return _characterEquippedCombatSkills.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterEquippedCombatSkills(int elementId, CombatSkillPlan value, DataContext context)
	{
		_characterEquippedCombatSkills.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(251, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 251, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 251, elementId, 0);
		}
	}

	private unsafe void SetElement_CharacterEquippedCombatSkills(int elementId, CombatSkillPlan value, DataContext context)
	{
		_characterEquippedCombatSkills[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(251, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 251, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 251, elementId, 0);
		}
	}

	private void RemoveElement_CharacterEquippedCombatSkills(int elementId, DataContext context)
	{
		_characterEquippedCombatSkills.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(251, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 251, elementId);
	}

	private void ClearCharacterEquippedCombatSkills(DataContext context)
	{
		_characterEquippedCombatSkills.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(251, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 251);
	}

	public List<int> GetInteractedCharacterList()
	{
		return _interactedCharacterList;
	}

	public unsafe void SetInteractedCharacterList(List<int> value, DataContext context)
	{
		_interactedCharacterList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(252, DataStates, CacheInfluences, context);
		int count = _interactedCharacterList.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 252, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((int*)ptr)[i] = _interactedCharacterList[i];
		}
		ptr += num;
	}

	[Obsolete("DomainData _friendOrFamilyInteractionCooldownDict is no longer in use.")]
	public sbyte GetElement_FriendOrFamilyInteractionCooldownDict(int elementId)
	{
		return _friendOrFamilyInteractionCooldownDict[elementId];
	}

	[Obsolete("DomainData _friendOrFamilyInteractionCooldownDict is no longer in use.")]
	public bool TryGetElement_FriendOrFamilyInteractionCooldownDict(int elementId, out sbyte value)
	{
		return _friendOrFamilyInteractionCooldownDict.TryGetValue(elementId, out value);
	}

	[Obsolete("DomainData _friendOrFamilyInteractionCooldownDict is no longer in use.")]
	private unsafe void AddElement_FriendOrFamilyInteractionCooldownDict(int elementId, sbyte value, DataContext context)
	{
		_friendOrFamilyInteractionCooldownDict.Add(elementId, value);
		_modificationsFriendOrFamilyInteractionCooldownDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(253, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 253, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	[Obsolete("DomainData _friendOrFamilyInteractionCooldownDict is no longer in use.")]
	private unsafe void SetElement_FriendOrFamilyInteractionCooldownDict(int elementId, sbyte value, DataContext context)
	{
		_friendOrFamilyInteractionCooldownDict[elementId] = value;
		_modificationsFriendOrFamilyInteractionCooldownDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(253, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 253, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	[Obsolete("DomainData _friendOrFamilyInteractionCooldownDict is no longer in use.")]
	private void RemoveElement_FriendOrFamilyInteractionCooldownDict(int elementId, DataContext context)
	{
		_friendOrFamilyInteractionCooldownDict.Remove(elementId);
		_modificationsFriendOrFamilyInteractionCooldownDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(253, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 253, elementId);
	}

	[Obsolete("DomainData _friendOrFamilyInteractionCooldownDict is no longer in use.")]
	private void ClearFriendOrFamilyInteractionCooldownDict(DataContext context)
	{
		_friendOrFamilyInteractionCooldownDict.Clear();
		_modificationsFriendOrFamilyInteractionCooldownDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(253, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 253);
	}

	public GearMate GetElement_SectZhujianGearMates(int elementId)
	{
		return _sectZhujianGearMates[elementId];
	}

	public bool TryGetElement_SectZhujianGearMates(int elementId, out GearMate value)
	{
		return _sectZhujianGearMates.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SectZhujianGearMates(int elementId, GearMate value, DataContext context)
	{
		_sectZhujianGearMates.Add(elementId, value);
		_modificationsSectZhujianGearMates.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(254, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 254, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 254, elementId, 0);
		}
	}

	private unsafe void SetElement_SectZhujianGearMates(int elementId, GearMate value, DataContext context)
	{
		_sectZhujianGearMates[elementId] = value;
		_modificationsSectZhujianGearMates.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(254, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 254, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 254, elementId, 0);
		}
	}

	private void RemoveElement_SectZhujianGearMates(int elementId, DataContext context)
	{
		_sectZhujianGearMates.Remove(elementId);
		_modificationsSectZhujianGearMates.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(254, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 254, elementId);
	}

	private void ClearSectZhujianGearMates(DataContext context)
	{
		_sectZhujianGearMates.Clear();
		_modificationsSectZhujianGearMates.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(254, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 254);
	}

	public byte GetProfessionUpgrade()
	{
		return _professionUpgrade;
	}

	public unsafe void SetProfessionUpgrade(byte value, DataContext context)
	{
		_professionUpgrade = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(255, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 255, 1);
		*ptr = _professionUpgrade;
		ptr++;
	}

	private FollowMovementInfo GetElement_FollowMovementCharacters(int elementId)
	{
		return _followMovementCharacters[elementId];
	}

	private bool TryGetElement_FollowMovementCharacters(int elementId, out FollowMovementInfo value)
	{
		return _followMovementCharacters.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_FollowMovementCharacters(int elementId, FollowMovementInfo value, DataContext context)
	{
		_followMovementCharacters.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(256, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 256, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 256, elementId, 0);
		}
	}

	private unsafe void SetElement_FollowMovementCharacters(int elementId, FollowMovementInfo value, DataContext context)
	{
		_followMovementCharacters[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(256, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 256, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 256, elementId, 0);
		}
	}

	private void RemoveElement_FollowMovementCharacters(int elementId, DataContext context)
	{
		_followMovementCharacters.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(256, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 256, elementId);
	}

	private void ClearFollowMovementCharacters(DataContext context)
	{
		_followMovementCharacters.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(256, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 256);
	}

	private VoidValue GetElement_TriggeredAddSeniorityPoints(IntPair elementId)
	{
		return _triggeredAddSeniorityPoints[elementId];
	}

	private bool TryGetElement_TriggeredAddSeniorityPoints(IntPair elementId, out VoidValue value)
	{
		return _triggeredAddSeniorityPoints.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TriggeredAddSeniorityPoints(IntPair elementId, VoidValue value, DataContext context)
	{
		_triggeredAddSeniorityPoints.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(257, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 257, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_TriggeredAddSeniorityPoints(IntPair elementId, VoidValue value, DataContext context)
	{
		_triggeredAddSeniorityPoints[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(257, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 257, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_TriggeredAddSeniorityPoints(IntPair elementId, DataContext context)
	{
		_triggeredAddSeniorityPoints.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(257, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 257, elementId);
	}

	private void ClearTriggeredAddSeniorityPoints(DataContext context)
	{
		_triggeredAddSeniorityPoints.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(257, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 257);
	}

	private Inventory GetElement_TaiwuGiftItems(int elementId)
	{
		return _taiwuGiftItems[elementId];
	}

	private bool TryGetElement_TaiwuGiftItems(int elementId, out Inventory value)
	{
		return _taiwuGiftItems.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TaiwuGiftItems(int elementId, Inventory value, DataContext context)
	{
		_taiwuGiftItems.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(258, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 258, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 258, elementId, 0);
		}
	}

	private unsafe void SetElement_TaiwuGiftItems(int elementId, Inventory value, DataContext context)
	{
		_taiwuGiftItems[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(258, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 258, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 258, elementId, 0);
		}
	}

	private void RemoveElement_TaiwuGiftItems(int elementId, DataContext context)
	{
		_taiwuGiftItems.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(258, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 258, elementId);
	}

	private void ClearTaiwuGiftItems(DataContext context)
	{
		_taiwuGiftItems.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(258, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 258);
	}

	public List<SectStoryThiefData> GetSectZhujianThiefList()
	{
		return _sectZhujianThiefList;
	}

	public unsafe void SetSectZhujianThiefList(List<SectStoryThiefData> value, DataContext context)
	{
		_sectZhujianThiefList = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(259, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _sectZhujianThiefList.Count;
		for (int i = 0; i < count; i++)
		{
			SectStoryThiefData sectStoryThiefData = _sectZhujianThiefList[i];
			num = ((sectStoryThiefData == null) ? (num + 2) : (num + (2 + sectStoryThiefData.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 259, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			SectStoryThiefData sectStoryThiefData2 = _sectZhujianThiefList[j];
			if (sectStoryThiefData2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = sectStoryThiefData2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	private ProfessionDataList GetElement_CharacterProfessions(int elementId)
	{
		return _characterProfessions[elementId];
	}

	private bool TryGetElement_CharacterProfessions(int elementId, out ProfessionDataList value)
	{
		return _characterProfessions.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterProfessions(int elementId, ProfessionDataList value, DataContext context)
	{
		_characterProfessions.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(260, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 260, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 260, elementId, 0);
		}
	}

	private unsafe void SetElement_CharacterProfessions(int elementId, ProfessionDataList value, DataContext context)
	{
		_characterProfessions[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(260, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 260, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 260, elementId, 0);
		}
	}

	private void RemoveElement_CharacterProfessions(int elementId, DataContext context)
	{
		_characterProfessions.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(260, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 260, elementId);
	}

	private void ClearCharacterProfessions(DataContext context)
	{
		_characterProfessions.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(260, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 260);
	}

	public CaravanExtraData GetElement_CaravanExtraDataDict(int elementId)
	{
		return _caravanExtraDataDict[elementId];
	}

	public bool TryGetElement_CaravanExtraDataDict(int elementId, out CaravanExtraData value)
	{
		return _caravanExtraDataDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CaravanExtraDataDict(int elementId, CaravanExtraData value, DataContext context)
	{
		_caravanExtraDataDict.Add(elementId, value);
		_modificationsCaravanExtraDataDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(261, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 261, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 261, elementId, 0);
		}
	}

	private unsafe void SetElement_CaravanExtraDataDict(int elementId, CaravanExtraData value, DataContext context)
	{
		_caravanExtraDataDict[elementId] = value;
		_modificationsCaravanExtraDataDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(261, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 261, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 261, elementId, 0);
		}
	}

	private void RemoveElement_CaravanExtraDataDict(int elementId, DataContext context)
	{
		_caravanExtraDataDict.Remove(elementId);
		_modificationsCaravanExtraDataDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(261, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 261, elementId);
	}

	private void ClearCaravanExtraDataDict(DataContext context)
	{
		_caravanExtraDataDict.Clear();
		_modificationsCaravanExtraDataDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(261, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 261);
	}

	public int GetProtectCaravanTime()
	{
		return _protectCaravanTime;
	}

	public unsafe void SetProtectCaravanTime(int value, DataContext context)
	{
		_protectCaravanTime = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(262, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 262, 4);
		*(int*)ptr = _protectCaravanTime;
		ptr += 4;
	}

	public sbyte GetElement_SectZhujianAreaMerchantTypeDict(short elementId)
	{
		return _sectZhujianAreaMerchantTypeDict[elementId];
	}

	public bool TryGetElement_SectZhujianAreaMerchantTypeDict(short elementId, out sbyte value)
	{
		return _sectZhujianAreaMerchantTypeDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SectZhujianAreaMerchantTypeDict(short elementId, sbyte value, DataContext context)
	{
		_sectZhujianAreaMerchantTypeDict.Add(elementId, value);
		_modificationsSectZhujianAreaMerchantTypeDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(263, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 263, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private unsafe void SetElement_SectZhujianAreaMerchantTypeDict(short elementId, sbyte value, DataContext context)
	{
		_sectZhujianAreaMerchantTypeDict[elementId] = value;
		_modificationsSectZhujianAreaMerchantTypeDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(263, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 263, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private void RemoveElement_SectZhujianAreaMerchantTypeDict(short elementId, DataContext context)
	{
		_sectZhujianAreaMerchantTypeDict.Remove(elementId);
		_modificationsSectZhujianAreaMerchantTypeDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(263, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 263, elementId);
	}

	private void ClearSectZhujianAreaMerchantTypeDict(DataContext context)
	{
		_sectZhujianAreaMerchantTypeDict.Clear();
		_modificationsSectZhujianAreaMerchantTypeDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(263, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 263);
	}

	public MerchantExtraGoodsData GetElement_MerchantExtraGoods(int elementId)
	{
		return _merchantExtraGoods[elementId];
	}

	public bool TryGetElement_MerchantExtraGoods(int elementId, out MerchantExtraGoodsData value)
	{
		return _merchantExtraGoods.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_MerchantExtraGoods(int elementId, MerchantExtraGoodsData value, DataContext context)
	{
		_merchantExtraGoods.Add(elementId, value);
		_modificationsMerchantExtraGoods.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(264, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 264, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 264, elementId, 0);
		}
	}

	private unsafe void SetElement_MerchantExtraGoods(int elementId, MerchantExtraGoodsData value, DataContext context)
	{
		_merchantExtraGoods[elementId] = value;
		_modificationsMerchantExtraGoods.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(264, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 264, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 264, elementId, 0);
		}
	}

	private void RemoveElement_MerchantExtraGoods(int elementId, DataContext context)
	{
		_merchantExtraGoods.Remove(elementId);
		_modificationsMerchantExtraGoods.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(264, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 264, elementId);
	}

	private void ClearMerchantExtraGoods(DataContext context)
	{
		_merchantExtraGoods.Clear();
		_modificationsMerchantExtraGoods.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(264, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 264);
	}

	public bool GetExorcismEnabled()
	{
		return _exorcismEnabled;
	}

	public unsafe void SetExorcismEnabled(bool value, DataContext context)
	{
		_exorcismEnabled = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(265, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 265, 1);
		*ptr = (_exorcismEnabled ? ((byte)1) : ((byte)0));
		ptr++;
	}

	public SectStorySpecialMerchant GetSectStorySpecialMerchant()
	{
		return _sectStorySpecialMerchant;
	}

	public unsafe void SetSectStorySpecialMerchant(SectStorySpecialMerchant value, DataContext context)
	{
		_sectStorySpecialMerchant = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(266, DataStates, CacheInfluences, context);
		int serializedSize = _sectStorySpecialMerchant.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 266, serializedSize);
		ptr += _sectStorySpecialMerchant.Serialize(ptr);
	}

	public bool GetIsExtraProfessionSkillUnlocked()
	{
		return _isExtraProfessionSkillUnlocked;
	}

	public unsafe void SetIsExtraProfessionSkillUnlocked(bool value, DataContext context)
	{
		_isExtraProfessionSkillUnlocked = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(267, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 267, 1);
		*ptr = (_isExtraProfessionSkillUnlocked ? ((byte)1) : ((byte)0));
		ptr++;
	}

	public bool GetIsDirectTraveling()
	{
		return _isDirectTraveling;
	}

	public unsafe void SetIsDirectTraveling(bool value, DataContext context)
	{
		_isDirectTraveling = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(268, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 268, 1);
		*ptr = (_isDirectTraveling ? ((byte)1) : ((byte)0));
		ptr++;
	}

	public KidnappedTravelData GetKidnappedTravelData()
	{
		return _kidnappedTravelData;
	}

	public unsafe void SetKidnappedTravelData(KidnappedTravelData value, DataContext context)
	{
		_kidnappedTravelData = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(269, DataStates, CacheInfluences, context);
		int serializedSize = _kidnappedTravelData.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 269, serializedSize);
		ptr += _kidnappedTravelData.Serialize(ptr);
	}

	private sbyte GetElement_VillagerLastInfluencePowerGrade(int elementId)
	{
		return _villagerLastInfluencePowerGrade[elementId];
	}

	private bool TryGetElement_VillagerLastInfluencePowerGrade(int elementId, out sbyte value)
	{
		return _villagerLastInfluencePowerGrade.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_VillagerLastInfluencePowerGrade(int elementId, sbyte value, DataContext context)
	{
		_villagerLastInfluencePowerGrade.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(270, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 270, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private unsafe void SetElement_VillagerLastInfluencePowerGrade(int elementId, sbyte value, DataContext context)
	{
		_villagerLastInfluencePowerGrade[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(270, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 270, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private void RemoveElement_VillagerLastInfluencePowerGrade(int elementId, DataContext context)
	{
		_villagerLastInfluencePowerGrade.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(270, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 270, elementId);
	}

	private void ClearVillagerLastInfluencePowerGrade(DataContext context)
	{
		_villagerLastInfluencePowerGrade.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(270, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 270);
	}

	private VillagerTreasuryNeed GetElement_VillagerTreasuryNeeds(int elementId)
	{
		return _villagerTreasuryNeeds[elementId];
	}

	private bool TryGetElement_VillagerTreasuryNeeds(int elementId, out VillagerTreasuryNeed value)
	{
		return _villagerTreasuryNeeds.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_VillagerTreasuryNeeds(int elementId, VillagerTreasuryNeed value, DataContext context)
	{
		_villagerTreasuryNeeds.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(271, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 271, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 271, elementId, 0);
		}
	}

	private unsafe void SetElement_VillagerTreasuryNeeds(int elementId, VillagerTreasuryNeed value, DataContext context)
	{
		_villagerTreasuryNeeds[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(271, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 271, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 271, elementId, 0);
		}
	}

	private void RemoveElement_VillagerTreasuryNeeds(int elementId, DataContext context)
	{
		_villagerTreasuryNeeds.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(271, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 271, elementId);
	}

	private void ClearVillagerTreasuryNeeds(DataContext context)
	{
		_villagerTreasuryNeeds.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(271, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 271);
	}

	public AvatarExtraData GetElement_CharacterAvatarExtraDataDict(int elementId)
	{
		return _characterAvatarExtraDataDict[elementId];
	}

	public bool TryGetElement_CharacterAvatarExtraDataDict(int elementId, out AvatarExtraData value)
	{
		return _characterAvatarExtraDataDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterAvatarExtraDataDict(int elementId, AvatarExtraData value, DataContext context)
	{
		_characterAvatarExtraDataDict.Add(elementId, value);
		_modificationsCharacterAvatarExtraDataDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(272, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 272, elementId, 2);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CharacterAvatarExtraDataDict(int elementId, AvatarExtraData value, DataContext context)
	{
		_characterAvatarExtraDataDict[elementId] = value;
		_modificationsCharacterAvatarExtraDataDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(272, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 272, elementId, 2);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CharacterAvatarExtraDataDict(int elementId, DataContext context)
	{
		_characterAvatarExtraDataDict.Remove(elementId);
		_modificationsCharacterAvatarExtraDataDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(272, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 272, elementId);
	}

	private void ClearCharacterAvatarExtraDataDict(DataContext context)
	{
		_characterAvatarExtraDataDict.Clear();
		_modificationsCharacterAvatarExtraDataDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(272, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 272);
	}

	public short GetLootYield()
	{
		return _lootYield;
	}

	public unsafe void SetLootYield(short value, DataContext context)
	{
		_lootYield = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(273, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 273, 2);
		*(short*)ptr = _lootYield;
		ptr += 2;
	}

	public SerializableList<PunishmentSeverityCustomizeData> GetElement_CityPunishmentSeverityCustomizeDict(short elementId)
	{
		return _cityPunishmentSeverityCustomizeDict[elementId];
	}

	public bool TryGetElement_CityPunishmentSeverityCustomizeDict(short elementId, out SerializableList<PunishmentSeverityCustomizeData> value)
	{
		return _cityPunishmentSeverityCustomizeDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CityPunishmentSeverityCustomizeDict(short elementId, SerializableList<PunishmentSeverityCustomizeData> value, DataContext context)
	{
		_cityPunishmentSeverityCustomizeDict.Add(elementId, value);
		_modificationsCityPunishmentSeverityCustomizeDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(274, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 274, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CityPunishmentSeverityCustomizeDict(short elementId, SerializableList<PunishmentSeverityCustomizeData> value, DataContext context)
	{
		_cityPunishmentSeverityCustomizeDict[elementId] = value;
		_modificationsCityPunishmentSeverityCustomizeDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(274, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 274, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CityPunishmentSeverityCustomizeDict(short elementId, DataContext context)
	{
		_cityPunishmentSeverityCustomizeDict.Remove(elementId);
		_modificationsCityPunishmentSeverityCustomizeDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(274, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 274, elementId);
	}

	private void ClearCityPunishmentSeverityCustomizeDict(DataContext context)
	{
		_cityPunishmentSeverityCustomizeDict.Clear();
		_modificationsCityPunishmentSeverityCustomizeDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(274, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 274);
	}

	private SerializableList<SkillBreakPlateBonus> GetElement_CharacterSkillBreakBonuses(CombatSkillKey elementId)
	{
		return _characterSkillBreakBonuses[elementId];
	}

	private bool TryGetElement_CharacterSkillBreakBonuses(CombatSkillKey elementId, out SerializableList<SkillBreakPlateBonus> value)
	{
		return _characterSkillBreakBonuses.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterSkillBreakBonuses(CombatSkillKey elementId, SerializableList<SkillBreakPlateBonus> value, DataContext context)
	{
		_characterSkillBreakBonuses.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(275, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 275, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CharacterSkillBreakBonuses(CombatSkillKey elementId, SerializableList<SkillBreakPlateBonus> value, DataContext context)
	{
		_characterSkillBreakBonuses[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(275, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 275, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CharacterSkillBreakBonuses(CombatSkillKey elementId, DataContext context)
	{
		_characterSkillBreakBonuses.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(275, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 275, elementId);
	}

	private void ClearCharacterSkillBreakBonuses(DataContext context)
	{
		_characterSkillBreakBonuses.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(275, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 275);
	}

	public int GetElement_CombatSkillProficiencies(CombatSkillKey elementId)
	{
		return _combatSkillProficiencies[elementId];
	}

	public bool TryGetElement_CombatSkillProficiencies(CombatSkillKey elementId, out int value)
	{
		return _combatSkillProficiencies.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CombatSkillProficiencies(CombatSkillKey elementId, int value, DataContext context)
	{
		_combatSkillProficiencies.Add(elementId, value);
		_modificationsCombatSkillProficiencies.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(276, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 276, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_CombatSkillProficiencies(CombatSkillKey elementId, int value, DataContext context)
	{
		_combatSkillProficiencies[elementId] = value;
		_modificationsCombatSkillProficiencies.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(276, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 276, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_CombatSkillProficiencies(CombatSkillKey elementId, DataContext context)
	{
		_combatSkillProficiencies.Remove(elementId);
		_modificationsCombatSkillProficiencies.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(276, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 276, elementId);
	}

	private void ClearCombatSkillProficiencies(DataContext context)
	{
		_combatSkillProficiencies.Clear();
		_modificationsCombatSkillProficiencies.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(276, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 276);
	}

	public GameData.Domains.Taiwu.SkillBreakPlate GetElement_SkillBreakPlates(short elementId)
	{
		return _skillBreakPlates[elementId];
	}

	public bool TryGetElement_SkillBreakPlates(short elementId, out GameData.Domains.Taiwu.SkillBreakPlate value)
	{
		return _skillBreakPlates.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SkillBreakPlates(short elementId, GameData.Domains.Taiwu.SkillBreakPlate value, DataContext context)
	{
		_skillBreakPlates.Add(elementId, value);
		_modificationsSkillBreakPlates.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(277, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 277, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 277, elementId, 0);
		}
	}

	private unsafe void SetElement_SkillBreakPlates(short elementId, GameData.Domains.Taiwu.SkillBreakPlate value, DataContext context)
	{
		_skillBreakPlates[elementId] = value;
		_modificationsSkillBreakPlates.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(277, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 277, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 277, elementId, 0);
		}
	}

	private void RemoveElement_SkillBreakPlates(short elementId, DataContext context)
	{
		_skillBreakPlates.Remove(elementId);
		_modificationsSkillBreakPlates.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(277, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 277, elementId);
	}

	private void ClearSkillBreakPlates(DataContext context)
	{
		_skillBreakPlates.Clear();
		_modificationsSkillBreakPlates.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(277, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 277);
	}

	private SkillBreakPlateList GetElement_CombatSkillBreakPlateList(short elementId)
	{
		return _combatSkillBreakPlateList[elementId];
	}

	private bool TryGetElement_CombatSkillBreakPlateList(short elementId, out SkillBreakPlateList value)
	{
		return _combatSkillBreakPlateList.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CombatSkillBreakPlateList(short elementId, SkillBreakPlateList value, DataContext context)
	{
		_combatSkillBreakPlateList.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(278, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 278, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 278, elementId, 0);
		}
	}

	private unsafe void SetElement_CombatSkillBreakPlateList(short elementId, SkillBreakPlateList value, DataContext context)
	{
		_combatSkillBreakPlateList[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(278, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 278, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 278, elementId, 0);
		}
	}

	private void RemoveElement_CombatSkillBreakPlateList(short elementId, DataContext context)
	{
		_combatSkillBreakPlateList.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(278, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 278, elementId);
	}

	private void ClearCombatSkillBreakPlateList(DataContext context)
	{
		_combatSkillBreakPlateList.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(278, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 278);
	}

	public SectShaolinDemonSlayerData GetSectShaolinDemonSlayerData()
	{
		return _sectShaolinDemonSlayerData;
	}

	private unsafe void SetSectShaolinDemonSlayerData(SectShaolinDemonSlayerData value, DataContext context)
	{
		_sectShaolinDemonSlayerData = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(279, DataStates, CacheInfluences, context);
		int serializedSize = _sectShaolinDemonSlayerData.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 279, serializedSize);
		ptr += _sectShaolinDemonSlayerData.Serialize(ptr);
	}

	public int GetKongsangCharacterFeaturePoisonedProb()
	{
		return KongsangCharacterFeaturePoisonedProb;
	}

	public unsafe void SetKongsangCharacterFeaturePoisonedProb(int value, DataContext context)
	{
		KongsangCharacterFeaturePoisonedProb = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(280, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 280, 4);
		*(int*)ptr = KongsangCharacterFeaturePoisonedProb;
		ptr += 4;
	}

	public MapPickupCollection GetElement_PickupDict(Location elementId)
	{
		return _pickupDict[elementId];
	}

	public bool TryGetElement_PickupDict(Location elementId, out MapPickupCollection value)
	{
		return _pickupDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_PickupDict(Location elementId, MapPickupCollection value, DataContext context)
	{
		_pickupDict.Add(elementId, value);
		_modificationsPickupDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(281, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 281, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 281, elementId, 0);
		}
	}

	private unsafe void SetElement_PickupDict(Location elementId, MapPickupCollection value, DataContext context)
	{
		_pickupDict[elementId] = value;
		_modificationsPickupDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(281, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 281, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 281, elementId, 0);
		}
	}

	private void RemoveElement_PickupDict(Location elementId, DataContext context)
	{
		_pickupDict.Remove(elementId);
		_modificationsPickupDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(281, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 281, elementId);
	}

	private void ClearPickupDict(DataContext context)
	{
		_pickupDict.Clear();
		_modificationsPickupDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(281, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 281);
	}

	public int GetTaiwuSelectedDebateCardType()
	{
		return _taiwuSelectedDebateCardType;
	}

	public unsafe void SetTaiwuSelectedDebateCardType(int value, DataContext context)
	{
		_taiwuSelectedDebateCardType = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(282, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 282, 4);
		*(int*)ptr = _taiwuSelectedDebateCardType;
		ptr += 4;
	}

	private VillagerRoleRecords GetVillagerRoleRecords()
	{
		return _villagerRoleRecords;
	}

	private unsafe void SetVillagerRoleRecords(VillagerRoleRecords value, DataContext context)
	{
		_villagerRoleRecords = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(283, DataStates, CacheInfluences, context);
		int serializedSize = _villagerRoleRecords.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 283, serializedSize);
		ptr += _villagerRoleRecords.Serialize(ptr);
	}

	public BuildingBlockDataEx GetElement_BuildingBlockDataEx(ulong elementId)
	{
		return _buildingBlockDataEx[elementId];
	}

	public bool TryGetElement_BuildingBlockDataEx(ulong elementId, out BuildingBlockDataEx value)
	{
		return _buildingBlockDataEx.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_BuildingBlockDataEx(ulong elementId, BuildingBlockDataEx value, DataContext context)
	{
		_buildingBlockDataEx.Add(elementId, value);
		_modificationsBuildingBlockDataEx.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(284, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 284, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 284, elementId, 0);
		}
	}

	private unsafe void SetElement_BuildingBlockDataEx(ulong elementId, BuildingBlockDataEx value, DataContext context)
	{
		_buildingBlockDataEx[elementId] = value;
		_modificationsBuildingBlockDataEx.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(284, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 284, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 284, elementId, 0);
		}
	}

	private void RemoveElement_BuildingBlockDataEx(ulong elementId, DataContext context)
	{
		_buildingBlockDataEx.Remove(elementId);
		_modificationsBuildingBlockDataEx.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(284, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 284, elementId);
	}

	private void ClearBuildingBlockDataEx(DataContext context)
	{
		_buildingBlockDataEx.Clear();
		_modificationsBuildingBlockDataEx.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(284, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 284);
	}

	public ulong GetElement_VillagerRoleAutoActionStates(short elementId)
	{
		return _villagerRoleAutoActionStates[elementId];
	}

	public bool TryGetElement_VillagerRoleAutoActionStates(short elementId, out ulong value)
	{
		return _villagerRoleAutoActionStates.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_VillagerRoleAutoActionStates(short elementId, ulong value, DataContext context)
	{
		_villagerRoleAutoActionStates.Add(elementId, value);
		_modificationsVillagerRoleAutoActionStates.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(285, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 285, elementId, 8);
		*(ulong*)ptr = value;
		ptr += 8;
	}

	private unsafe void SetElement_VillagerRoleAutoActionStates(short elementId, ulong value, DataContext context)
	{
		_villagerRoleAutoActionStates[elementId] = value;
		_modificationsVillagerRoleAutoActionStates.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(285, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 285, elementId, 8);
		*(ulong*)ptr = value;
		ptr += 8;
	}

	private void RemoveElement_VillagerRoleAutoActionStates(short elementId, DataContext context)
	{
		_villagerRoleAutoActionStates.Remove(elementId);
		_modificationsVillagerRoleAutoActionStates.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(285, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 285, elementId);
	}

	private void ClearVillagerRoleAutoActionStates(DataContext context)
	{
		_villagerRoleAutoActionStates.Clear();
		_modificationsVillagerRoleAutoActionStates.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(285, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 285);
	}

	public BuildingOptionAutoGiveMemberPreset[] GetBuildingArrangementSettingPresetData()
	{
		return _buildingArrangementSettingPresetData;
	}

	public unsafe void SetBuildingArrangementSettingPresetData(BuildingOptionAutoGiveMemberPreset[] value, DataContext context)
	{
		_buildingArrangementSettingPresetData = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(286, DataStates, CacheInfluences, context);
		int num = 0;
		for (int i = 0; i < 9; i++)
		{
			BuildingOptionAutoGiveMemberPreset buildingOptionAutoGiveMemberPreset = _buildingArrangementSettingPresetData[i];
			num = ((buildingOptionAutoGiveMemberPreset == null) ? (num + 2) : (num + (2 + buildingOptionAutoGiveMemberPreset.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 286, num);
		for (int j = 0; j < 9; j++)
		{
			BuildingOptionAutoGiveMemberPreset buildingOptionAutoGiveMemberPreset2 = _buildingArrangementSettingPresetData[j];
			if (buildingOptionAutoGiveMemberPreset2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = buildingOptionAutoGiveMemberPreset2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	public ArtisanOrder GetElement_BuildingArtisanOrders(ulong elementId)
	{
		return _buildingArtisanOrders[elementId];
	}

	public bool TryGetElement_BuildingArtisanOrders(ulong elementId, out ArtisanOrder value)
	{
		return _buildingArtisanOrders.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_BuildingArtisanOrders(ulong elementId, ArtisanOrder value, DataContext context)
	{
		_buildingArtisanOrders.Add(elementId, value);
		_modificationsBuildingArtisanOrders.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(287, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 287, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 287, elementId, 0);
		}
	}

	private unsafe void SetElement_BuildingArtisanOrders(ulong elementId, ArtisanOrder value, DataContext context)
	{
		_buildingArtisanOrders[elementId] = value;
		_modificationsBuildingArtisanOrders.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(287, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 287, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 287, elementId, 0);
		}
	}

	private void RemoveElement_BuildingArtisanOrders(ulong elementId, DataContext context)
	{
		_buildingArtisanOrders.Remove(elementId);
		_modificationsBuildingArtisanOrders.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(287, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 287, elementId);
	}

	private void ClearBuildingArtisanOrders(DataContext context)
	{
		_buildingArtisanOrders.Clear();
		_modificationsBuildingArtisanOrders.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(287, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 287);
	}

	public sbyte GetElement_TaiwuVillagerPotentialData(int elementId)
	{
		return _taiwuVillagerPotentialData[elementId];
	}

	public bool TryGetElement_TaiwuVillagerPotentialData(int elementId, out sbyte value)
	{
		return _taiwuVillagerPotentialData.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TaiwuVillagerPotentialData(int elementId, sbyte value, DataContext context)
	{
		_taiwuVillagerPotentialData.Add(elementId, value);
		_modificationsTaiwuVillagerPotentialData.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(288, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 288, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private unsafe void SetElement_TaiwuVillagerPotentialData(int elementId, sbyte value, DataContext context)
	{
		_taiwuVillagerPotentialData[elementId] = value;
		_modificationsTaiwuVillagerPotentialData.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(288, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 288, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private void RemoveElement_TaiwuVillagerPotentialData(int elementId, DataContext context)
	{
		_taiwuVillagerPotentialData.Remove(elementId);
		_modificationsTaiwuVillagerPotentialData.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(288, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 288, elementId);
	}

	private void ClearTaiwuVillagerPotentialData(DataContext context)
	{
		_taiwuVillagerPotentialData.Clear();
		_modificationsTaiwuVillagerPotentialData.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(288, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 288);
	}

	public ArtisanOrder GetElement_NpcArtisanOrders(int elementId)
	{
		return _npcArtisanOrders[elementId];
	}

	public bool TryGetElement_NpcArtisanOrders(int elementId, out ArtisanOrder value)
	{
		return _npcArtisanOrders.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_NpcArtisanOrders(int elementId, ArtisanOrder value, DataContext context)
	{
		_npcArtisanOrders.Add(elementId, value);
		_modificationsNpcArtisanOrders.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(289, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 289, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 289, elementId, 0);
		}
	}

	private unsafe void SetElement_NpcArtisanOrders(int elementId, ArtisanOrder value, DataContext context)
	{
		_npcArtisanOrders[elementId] = value;
		_modificationsNpcArtisanOrders.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(289, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 289, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 289, elementId, 0);
		}
	}

	private void RemoveElement_NpcArtisanOrders(int elementId, DataContext context)
	{
		_npcArtisanOrders.Remove(elementId);
		_modificationsNpcArtisanOrders.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(289, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 289, elementId);
	}

	private void ClearNpcArtisanOrders(DataContext context)
	{
		_npcArtisanOrders.Clear();
		_modificationsNpcArtisanOrders.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(289, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 289);
	}

	public GameData.Utilities.ShortList GetElement_ShopVillagerQualificationImprove(int elementId)
	{
		return _shopVillagerQualificationImprove[elementId];
	}

	public bool TryGetElement_ShopVillagerQualificationImprove(int elementId, out GameData.Utilities.ShortList value)
	{
		return _shopVillagerQualificationImprove.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ShopVillagerQualificationImprove(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_shopVillagerQualificationImprove.Add(elementId, value);
		_modificationsShopVillagerQualificationImprove.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(290, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 290, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_ShopVillagerQualificationImprove(int elementId, GameData.Utilities.ShortList value, DataContext context)
	{
		_shopVillagerQualificationImprove[elementId] = value;
		_modificationsShopVillagerQualificationImprove.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(290, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 290, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_ShopVillagerQualificationImprove(int elementId, DataContext context)
	{
		_shopVillagerQualificationImprove.Remove(elementId);
		_modificationsShopVillagerQualificationImprove.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(290, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 290, elementId);
	}

	private void ClearShopVillagerQualificationImprove(DataContext context)
	{
		_shopVillagerQualificationImprove.Clear();
		_modificationsShopVillagerQualificationImprove.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(290, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 290);
	}

	public BigEventRecord GetElement_BigEvents(short elementId)
	{
		return _bigEvents[elementId];
	}

	public bool TryGetElement_BigEvents(short elementId, out BigEventRecord value)
	{
		return _bigEvents.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_BigEvents(short elementId, BigEventRecord value, DataContext context)
	{
		_bigEvents.Add(elementId, value);
		_modificationsBigEvents.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(291, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 291, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 291, elementId, 0);
		}
	}

	private unsafe void SetElement_BigEvents(short elementId, BigEventRecord value, DataContext context)
	{
		_bigEvents[elementId] = value;
		_modificationsBigEvents.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(291, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 291, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 291, elementId, 0);
		}
	}

	private void RemoveElement_BigEvents(short elementId, DataContext context)
	{
		_bigEvents.Remove(elementId);
		_modificationsBigEvents.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(291, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 291, elementId);
	}

	private void ClearBigEvents(DataContext context)
	{
		_bigEvents.Clear();
		_modificationsBigEvents.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(291, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 291);
	}

	public bool GetHasGetShuiHuoYingQiGongSkillBookByArchiveFix()
	{
		return _hasGetShuiHuoYingQiGongSkillBookByArchiveFix;
	}

	public unsafe void SetHasGetShuiHuoYingQiGongSkillBookByArchiveFix(bool value, DataContext context)
	{
		_hasGetShuiHuoYingQiGongSkillBookByArchiveFix = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(292, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 292, 1);
		*ptr = (_hasGetShuiHuoYingQiGongSkillBookByArchiveFix ? ((byte)1) : ((byte)0));
		ptr++;
	}

	public sbyte GetFarmerAutoCollectStorageType()
	{
		return _farmerAutoCollectStorageType;
	}

	public unsafe void SetFarmerAutoCollectStorageType(sbyte value, DataContext context)
	{
		_farmerAutoCollectStorageType = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(293, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 293, 1);
		*ptr = (byte)_farmerAutoCollectStorageType;
		ptr++;
	}

	public List<short> GetWoodenXiangshuAvatarSelectedFeatures()
	{
		return _woodenXiangshuAvatarSelectedFeatures;
	}

	public unsafe void SetWoodenXiangshuAvatarSelectedFeatures(List<short> value, DataContext context)
	{
		_woodenXiangshuAvatarSelectedFeatures = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(294, DataStates, CacheInfluences, context);
		int count = _woodenXiangshuAvatarSelectedFeatures.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 294, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _woodenXiangshuAvatarSelectedFeatures[i];
		}
		ptr += num;
	}

	private SerializableList<BuildingAreaEffectProgress> GetElement_BuildingAreaEffectProgresses(Location elementId)
	{
		return _buildingAreaEffectProgresses[elementId];
	}

	private bool TryGetElement_BuildingAreaEffectProgresses(Location elementId, out SerializableList<BuildingAreaEffectProgress> value)
	{
		return _buildingAreaEffectProgresses.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_BuildingAreaEffectProgresses(Location elementId, SerializableList<BuildingAreaEffectProgress> value, DataContext context)
	{
		_buildingAreaEffectProgresses.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(295, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 295, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_BuildingAreaEffectProgresses(Location elementId, SerializableList<BuildingAreaEffectProgress> value, DataContext context)
	{
		_buildingAreaEffectProgresses[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(295, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 295, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_BuildingAreaEffectProgresses(Location elementId, DataContext context)
	{
		_buildingAreaEffectProgresses.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(295, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 295, elementId);
	}

	private void ClearBuildingAreaEffectProgresses(DataContext context)
	{
		_buildingAreaEffectProgresses.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(295, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 295);
	}

	private CharacterSet GetElement_PreviousLegendaryBookOwners(sbyte elementId)
	{
		return _previousLegendaryBookOwners[elementId];
	}

	private bool TryGetElement_PreviousLegendaryBookOwners(sbyte elementId, out CharacterSet value)
	{
		return _previousLegendaryBookOwners.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_PreviousLegendaryBookOwners(sbyte elementId, CharacterSet value, DataContext context)
	{
		_previousLegendaryBookOwners.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(296, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 296, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_PreviousLegendaryBookOwners(sbyte elementId, CharacterSet value, DataContext context)
	{
		_previousLegendaryBookOwners[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(296, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 296, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_PreviousLegendaryBookOwners(sbyte elementId, DataContext context)
	{
		_previousLegendaryBookOwners.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(296, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 296, elementId);
	}

	private void ClearPreviousLegendaryBookOwners(DataContext context)
	{
		_previousLegendaryBookOwners.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(296, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 296);
	}

	public int GetElement_VillagerSkillLegacyPointDict(int elementId)
	{
		return _villagerSkillLegacyPointDict[elementId];
	}

	public bool TryGetElement_VillagerSkillLegacyPointDict(int elementId, out int value)
	{
		return _villagerSkillLegacyPointDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_VillagerSkillLegacyPointDict(int elementId, int value, DataContext context)
	{
		_villagerSkillLegacyPointDict.Add(elementId, value);
		_modificationsVillagerSkillLegacyPointDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(297, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 297, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private unsafe void SetElement_VillagerSkillLegacyPointDict(int elementId, int value, DataContext context)
	{
		_villagerSkillLegacyPointDict[elementId] = value;
		_modificationsVillagerSkillLegacyPointDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(297, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 297, elementId, 4);
		*(int*)ptr = value;
		ptr += 4;
	}

	private void RemoveElement_VillagerSkillLegacyPointDict(int elementId, DataContext context)
	{
		_villagerSkillLegacyPointDict.Remove(elementId);
		_modificationsVillagerSkillLegacyPointDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(297, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 297, elementId);
	}

	private void ClearVillagerSkillLegacyPointDict(DataContext context)
	{
		_villagerSkillLegacyPointDict.Clear();
		_modificationsVillagerSkillLegacyPointDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(297, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 297);
	}

	private RawDataBlock GetKilledByYufuCharactersBinary()
	{
		return _killedByYufuCharactersBinary;
	}

	private unsafe void CommitInsert_KilledByYufuCharactersBinary(DataContext context, int offset, int size)
	{
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(298, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Insert(19, 298, offset, size);
		_killedByYufuCharactersBinary.CopyTo(offset, size, pDest);
	}

	private unsafe void CommitWrite_KilledByYufuCharactersBinary(DataContext context, int offset, int size)
	{
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(298, DataStates, CacheInfluences, context);
		byte* pDest = OperationAdder.Binary_Write(19, 298, offset, size);
		_killedByYufuCharactersBinary.CopyTo(offset, size, pDest);
	}

	private void CommitRemove_KilledByYufuCharactersBinary(DataContext context, int offset, int size)
	{
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(298, DataStates, CacheInfluences, context);
		OperationAdder.Binary_Remove(19, 298, offset, size);
	}

	private unsafe void CommitSetMetadata_KilledByYufuCharactersBinary(DataContext context)
	{
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(298, DataStates, CacheInfluences, context);
		ushort serializedFixedSizeOfMetadata = _killedByYufuCharactersBinary.GetSerializedFixedSizeOfMetadata();
		byte* pData = OperationAdder.Binary_SetMetadata(19, 298, serializedFixedSizeOfMetadata);
		_killedByYufuCharactersBinary.SerializeMetadata(pData);
	}

	public short GetElement_DyingCharacters(int elementId)
	{
		return _dyingCharacters[elementId];
	}

	public bool TryGetElement_DyingCharacters(int elementId, out short value)
	{
		return _dyingCharacters.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_DyingCharacters(int elementId, short value, DataContext context)
	{
		_dyingCharacters.Add(elementId, value);
		_modificationsDyingCharacters.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(299, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 299, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private unsafe void SetElement_DyingCharacters(int elementId, short value, DataContext context)
	{
		_dyingCharacters[elementId] = value;
		_modificationsDyingCharacters.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(299, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 299, elementId, 2);
		*(short*)ptr = value;
		ptr += 2;
	}

	private void RemoveElement_DyingCharacters(int elementId, DataContext context)
	{
		_dyingCharacters.Remove(elementId);
		_modificationsDyingCharacters.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(299, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 299, elementId);
	}

	private void ClearDyingCharacters(DataContext context)
	{
		_dyingCharacters.Clear();
		_modificationsDyingCharacters.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(299, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 299);
	}

	private VoidValue GetElement_ProficiencyEnoughSkills(short elementId)
	{
		return _proficiencyEnoughSkills[elementId];
	}

	private bool TryGetElement_ProficiencyEnoughSkills(short elementId, out VoidValue value)
	{
		return _proficiencyEnoughSkills.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ProficiencyEnoughSkills(short elementId, VoidValue value, DataContext context)
	{
		_proficiencyEnoughSkills.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(300, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 300, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_ProficiencyEnoughSkills(short elementId, VoidValue value, DataContext context)
	{
		_proficiencyEnoughSkills[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(300, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 300, elementId, 0);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_ProficiencyEnoughSkills(short elementId, DataContext context)
	{
		_proficiencyEnoughSkills.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(300, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 300, elementId);
	}

	private void ClearProficiencyEnoughSkills(DataContext context)
	{
		_proficiencyEnoughSkills.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(300, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 300);
	}

	public List<SectStoryThreeVitalsCharacter> GetSectYuanshanThreeVitals()
	{
		return _sectYuanshanThreeVitals;
	}

	private unsafe void SetSectYuanshanThreeVitals(List<SectStoryThreeVitalsCharacter> value, DataContext context)
	{
		_sectYuanshanThreeVitals = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(301, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _sectYuanshanThreeVitals.Count;
		for (int i = 0; i < count; i++)
		{
			SectStoryThreeVitalsCharacter sectStoryThreeVitalsCharacter = _sectYuanshanThreeVitals[i];
			num = ((sectStoryThreeVitalsCharacter == null) ? (num + 2) : (num + (2 + sectStoryThreeVitalsCharacter.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 301, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			SectStoryThreeVitalsCharacter sectStoryThreeVitalsCharacter2 = _sectYuanshanThreeVitals[j];
			if (sectStoryThreeVitalsCharacter2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = sectStoryThreeVitalsCharacter2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	private Genealogy GetDreamBackGenealogy()
	{
		return _dreamBackGenealogy;
	}

	private unsafe void SetDreamBackGenealogy(Genealogy value, DataContext context)
	{
		_dreamBackGenealogy = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(302, DataStates, CacheInfluences, context);
		int serializedSize = _dreamBackGenealogy.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 302, serializedSize);
		ptr += _dreamBackGenealogy.Serialize(ptr);
	}

	public ResourceBlockExtraData GetElement_ResourceBlockExtraData(ulong elementId)
	{
		return _resourceBlockExtraData[elementId];
	}

	public bool TryGetElement_ResourceBlockExtraData(ulong elementId, out ResourceBlockExtraData value)
	{
		return _resourceBlockExtraData.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_ResourceBlockExtraData(ulong elementId, ResourceBlockExtraData value, DataContext context)
	{
		_resourceBlockExtraData.Add(elementId, value);
		_modificationsResourceBlockExtraData.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(303, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 303, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 303, elementId, 0);
		}
	}

	private unsafe void SetElement_ResourceBlockExtraData(ulong elementId, ResourceBlockExtraData value, DataContext context)
	{
		_resourceBlockExtraData[elementId] = value;
		_modificationsResourceBlockExtraData.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(303, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 303, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 303, elementId, 0);
		}
	}

	private void RemoveElement_ResourceBlockExtraData(ulong elementId, DataContext context)
	{
		_resourceBlockExtraData.Remove(elementId);
		_modificationsResourceBlockExtraData.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(303, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 303, elementId);
	}

	private void ClearResourceBlockExtraData(DataContext context)
	{
		_resourceBlockExtraData.Clear();
		_modificationsResourceBlockExtraData.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(303, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 303);
	}

	public List<short> GetUnlockedFeastTypes()
	{
		return _unlockedFeastTypes;
	}

	public unsafe void SetUnlockedFeastTypes(List<short> value, DataContext context)
	{
		_unlockedFeastTypes = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(304, DataStates, CacheInfluences, context);
		int count = _unlockedFeastTypes.Count;
		int num = 2 * count;
		int valueSize = 2 + num;
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 304, valueSize);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int i = 0; i < count; i++)
		{
			((short*)ptr)[i] = _unlockedFeastTypes[i];
		}
		ptr += num;
	}

	public GameData.Domains.Building.Feast GetElement_Feasts(ulong elementId)
	{
		return _feasts[elementId];
	}

	public bool TryGetElement_Feasts(ulong elementId, out GameData.Domains.Building.Feast value)
	{
		return _feasts.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_Feasts(ulong elementId, GameData.Domains.Building.Feast value, DataContext context)
	{
		_feasts.Add(elementId, value);
		_modificationsFeasts.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(305, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 305, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 305, elementId, 0);
		}
	}

	private unsafe void SetElement_Feasts(ulong elementId, GameData.Domains.Building.Feast value, DataContext context)
	{
		_feasts[elementId] = value;
		_modificationsFeasts.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(305, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 305, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 305, elementId, 0);
		}
	}

	private void RemoveElement_Feasts(ulong elementId, DataContext context)
	{
		_feasts.Remove(elementId);
		_modificationsFeasts.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(305, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 305, elementId);
	}

	private void ClearFeasts(DataContext context)
	{
		_feasts.Clear();
		_modificationsFeasts.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(305, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 305);
	}

	private SerializableList<SettlementMemberFeature> GetElement_SettlementMemberFeatures(short elementId)
	{
		return _settlementMemberFeatures[elementId];
	}

	private bool TryGetElement_SettlementMemberFeatures(short elementId, out SerializableList<SettlementMemberFeature> value)
	{
		return _settlementMemberFeatures.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SettlementMemberFeatures(short elementId, SerializableList<SettlementMemberFeature> value, DataContext context)
	{
		_settlementMemberFeatures.Add(elementId, value);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(306, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 306, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_SettlementMemberFeatures(short elementId, SerializableList<SettlementMemberFeature> value, DataContext context)
	{
		_settlementMemberFeatures[elementId] = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(306, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 306, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_SettlementMemberFeatures(short elementId, DataContext context)
	{
		_settlementMemberFeatures.Remove(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(306, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 306, elementId);
	}

	private void ClearSettlementMemberFeatures(DataContext context)
	{
		_settlementMemberFeatures.Clear();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(306, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 306);
	}

	public SettlementLayeredTreasuries GetElement_SettlementLayeredTreasuries(short elementId)
	{
		return _settlementLayeredTreasuries[elementId];
	}

	public bool TryGetElement_SettlementLayeredTreasuries(short elementId, out SettlementLayeredTreasuries value)
	{
		return _settlementLayeredTreasuries.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_SettlementLayeredTreasuries(short elementId, SettlementLayeredTreasuries value, DataContext context)
	{
		_settlementLayeredTreasuries.Add(elementId, value);
		_modificationsSettlementLayeredTreasuries.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(307, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 307, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Add(19, 307, elementId, 0);
		}
	}

	private unsafe void SetElement_SettlementLayeredTreasuries(short elementId, SettlementLayeredTreasuries value, DataContext context)
	{
		_settlementLayeredTreasuries[elementId] = value;
		_modificationsSettlementLayeredTreasuries.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(307, DataStates, CacheInfluences, context);
		if (value != null)
		{
			int serializedSize = value.GetSerializedSize();
			byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 307, elementId, serializedSize);
			ptr += value.Serialize(ptr);
		}
		else
		{
			OperationAdder.DynamicSingleValueCollection_Set(19, 307, elementId, 0);
		}
	}

	private void RemoveElement_SettlementLayeredTreasuries(short elementId, DataContext context)
	{
		_settlementLayeredTreasuries.Remove(elementId);
		_modificationsSettlementLayeredTreasuries.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(307, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 307, elementId);
	}

	private void ClearSettlementLayeredTreasuries(DataContext context)
	{
		_settlementLayeredTreasuries.Clear();
		_modificationsSettlementLayeredTreasuries.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(307, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 307);
	}

	public BuildingDefaultStoreLocation GetBuildingDefaultStoreLocation()
	{
		return _buildingDefaultStoreLocation;
	}

	public unsafe void SetBuildingDefaultStoreLocation(BuildingDefaultStoreLocation value, DataContext context)
	{
		_buildingDefaultStoreLocation = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(308, DataStates, CacheInfluences, context);
		int serializedSize = _buildingDefaultStoreLocation.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 308, serializedSize);
		ptr += _buildingDefaultStoreLocation.Serialize(ptr);
	}

	public sbyte GetElement_TaiwuVillageVowOrgTemplateCrossArchiveDict(sbyte elementId)
	{
		return _taiwuVillageVowOrgTemplateCrossArchiveDict[elementId];
	}

	public bool TryGetElement_TaiwuVillageVowOrgTemplateCrossArchiveDict(sbyte elementId, out sbyte value)
	{
		return _taiwuVillageVowOrgTemplateCrossArchiveDict.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_TaiwuVillageVowOrgTemplateCrossArchiveDict(sbyte elementId, sbyte value, DataContext context)
	{
		_taiwuVillageVowOrgTemplateCrossArchiveDict.Add(elementId, value);
		_modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(309, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Add(19, 309, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private unsafe void SetElement_TaiwuVillageVowOrgTemplateCrossArchiveDict(sbyte elementId, sbyte value, DataContext context)
	{
		_taiwuVillageVowOrgTemplateCrossArchiveDict[elementId] = value;
		_modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(309, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValueCollection_Set(19, 309, elementId, 1);
		*ptr = (byte)value;
		ptr++;
	}

	private void RemoveElement_TaiwuVillageVowOrgTemplateCrossArchiveDict(sbyte elementId, DataContext context)
	{
		_taiwuVillageVowOrgTemplateCrossArchiveDict.Remove(elementId);
		_modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(309, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Remove(19, 309, elementId);
	}

	private void ClearTaiwuVillageVowOrgTemplateCrossArchiveDict(DataContext context)
	{
		_taiwuVillageVowOrgTemplateCrossArchiveDict.Clear();
		_modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(309, DataStates, CacheInfluences, context);
		OperationAdder.FixedSingleValueCollection_Clear(19, 309);
	}

	private List<CricketCombatPlan> GetCricketCombatPlans()
	{
		return _cricketCombatPlans;
	}

	private unsafe void SetCricketCombatPlans(List<CricketCombatPlan> value, DataContext context)
	{
		_cricketCombatPlans = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(310, DataStates, CacheInfluences, context);
		int num = 2;
		int count = _cricketCombatPlans.Count;
		for (int i = 0; i < count; i++)
		{
			CricketCombatPlan cricketCombatPlan = _cricketCombatPlans[i];
			num = ((cricketCombatPlan == null) ? (num + 2) : (num + (2 + cricketCombatPlan.GetSerializedSize())));
		}
		byte* ptr = OperationAdder.DynamicSingleValue_Set(19, 310, num);
		*(ushort*)ptr = (ushort)count;
		ptr += 2;
		for (int j = 0; j < count; j++)
		{
			CricketCombatPlan cricketCombatPlan2 = _cricketCombatPlans[j];
			if (cricketCombatPlan2 != null)
			{
				byte* ptr2 = ptr;
				ptr += 2;
				int num2 = cricketCombatPlan2.Serialize(ptr);
				ptr += num2;
				*(ushort*)ptr2 = (ushort)num2;
			}
			else
			{
				*(short*)ptr = 0;
				ptr += 2;
			}
		}
	}

	private int GetLastCricketPlanIndex()
	{
		return _lastCricketPlanIndex;
	}

	private unsafe void SetLastCricketPlanIndex(int value, DataContext context)
	{
		_lastCricketPlanIndex = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(311, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 311, 4);
		*(int*)ptr = _lastCricketPlanIndex;
		ptr += 4;
	}

	public DarkAshCounterData GetElement_CharacterDarkAshCounterData(int elementId)
	{
		return _characterDarkAshCounterData[elementId];
	}

	public bool TryGetElement_CharacterDarkAshCounterData(int elementId, out DarkAshCounterData value)
	{
		return _characterDarkAshCounterData.TryGetValue(elementId, out value);
	}

	private unsafe void AddElement_CharacterDarkAshCounterData(int elementId, DarkAshCounterData value, DataContext context)
	{
		_characterDarkAshCounterData.Add(elementId, value);
		_modificationsCharacterDarkAshCounterData.RecordAdding(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(312, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 312, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private unsafe void SetElement_CharacterDarkAshCounterData(int elementId, DarkAshCounterData value, DataContext context)
	{
		_characterDarkAshCounterData[elementId] = value;
		_modificationsCharacterDarkAshCounterData.RecordSetting(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(312, DataStates, CacheInfluences, context);
		int serializedSize = value.GetSerializedSize();
		byte* ptr = OperationAdder.DynamicSingleValueCollection_Set(19, 312, elementId, serializedSize);
		ptr += value.Serialize(ptr);
	}

	private void RemoveElement_CharacterDarkAshCounterData(int elementId, DataContext context)
	{
		_characterDarkAshCounterData.Remove(elementId);
		_modificationsCharacterDarkAshCounterData.RecordRemoving(elementId);
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(312, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Remove(19, 312, elementId);
	}

	private void ClearCharacterDarkAshCounterData(DataContext context)
	{
		_characterDarkAshCounterData.Clear();
		_modificationsCharacterDarkAshCounterData.RecordClearing();
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(312, DataStates, CacheInfluences, context);
		OperationAdder.DynamicSingleValueCollection_Clear(19, 312);
	}

	public int GetFuyuFaith()
	{
		return _fuyuFaith;
	}

	public unsafe void SetFuyuFaith(int value, DataContext context)
	{
		_fuyuFaith = value;
		BaseGameDataDomain.SetModifiedAndInvalidateInfluencedCache(313, DataStates, CacheInfluences, context);
		byte* ptr = OperationAdder.FixedSingleValue_Set(19, 313, 4);
		*(int*)ptr = _fuyuFaith;
		ptr += 4;
	}

	public override void OnInitializeGameDataModule()
	{
		InitializeOnInitializeGameDataModule();
	}

	public unsafe override void OnEnterNewWorld()
	{
		InitializeOnEnterNewWorld();
		InitializeInternalDataOfCollections();
		foreach (KeyValuePair<int, SecretInformationCharacterUsedCount> characterSecretInformationUsedCount in _characterSecretInformationUsedCounts)
		{
			int key = characterSecretInformationUsedCount.Key;
			SecretInformationCharacterUsedCount value = characterSecretInformationUsedCount.Value;
			if (value != null)
			{
				int serializedSize = value.GetSerializedSize();
				byte* ptr = OperationAdder.DynamicSingleValueCollection_Add(19, 0, key, serializedSize);
				ptr += value.Serialize(ptr);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 0, key, 0);
			}
		}
		foreach (KeyValuePair<int, Location> secretInformationOccurredLocation in _secretInformationOccurredLocations)
		{
			int key2 = secretInformationOccurredLocation.Key;
			Location value2 = secretInformationOccurredLocation.Value;
			byte* ptr2 = OperationAdder.FixedSingleValueCollection_Add(19, 1, key2, 4);
			ptr2 += value2.Serialize(ptr2);
		}
		foreach (KeyValuePair<int, VoidValue> secretInformationBroadcast in _secretInformationBroadcastList)
		{
			int key3 = secretInformationBroadcast.Key;
			VoidValue value3 = secretInformationBroadcast.Value;
			byte* ptr3 = OperationAdder.FixedSingleValueCollection_Add(19, 2, key3, 0);
			ptr3 += value3.Serialize(ptr3);
		}
		int count = _exchangedSpecialWeaponList.Count;
		int num = 4 * count;
		int valueSize = 2 + num;
		byte* ptr4 = OperationAdder.DynamicSingleValue_Set(19, 3, valueSize);
		*(ushort*)ptr4 = (ushort)count;
		ptr4 += 2;
		int num2 = 0;
		while (num2 < count)
		{
			((int*)ptr4)[num2] = _exchangedSpecialWeaponList[num2];
			int num3 = num2 + 1;
			num2 = num3;
		}
		ptr4 += num;
		foreach (KeyValuePair<int, short> caravanStayDay in _caravanStayDays)
		{
			int key4 = caravanStayDay.Key;
			short value4 = caravanStayDay.Value;
			byte* ptr5 = OperationAdder.FixedSingleValueCollection_Add(19, 4, key4, 2);
			*(short*)ptr5 = value4;
			ptr5 += 2;
		}
		foreach (KeyValuePair<int, sbyte> item in _merchantCharToType)
		{
			int key5 = item.Key;
			sbyte value5 = item.Value;
			byte* ptr6 = OperationAdder.FixedSingleValueCollection_Add(19, 5, key5, 1);
			*ptr6 = (byte)value5;
			ptr6++;
		}
		foreach (KeyValuePair<int, MerchantExtraGoods> merchantCharToExtraGood in _merchantCharToExtraGoods)
		{
			int key6 = merchantCharToExtraGood.Key;
			MerchantExtraGoods value6 = merchantCharToExtraGood.Value;
			if (value6 != null)
			{
				int serializedSize2 = value6.GetSerializedSize();
				byte* ptr7 = OperationAdder.DynamicSingleValueCollection_Add(19, 6, key6, serializedSize2);
				ptr7 += value6.Serialize(ptr7);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 6, key6, 0);
			}
		}
		byte* ptr8 = OperationAdder.FixedSingleValue_Set(19, 7, 4);
		*(int*)ptr8 = _stationInited;
		ptr8 += 4;
		int serializedSize3 = _manualChangeEquipGroupCharIds.GetSerializedSize();
		byte* ptr9 = OperationAdder.DynamicSingleValue_Set(19, 8, serializedSize3);
		ptr9 += _manualChangeEquipGroupCharIds.Serialize(ptr9);
		int count2 = _stoneRoomCharList.Count;
		int num4 = 4 * count2;
		int valueSize2 = 2 + num4;
		byte* ptr10 = OperationAdder.DynamicSingleValue_Set(19, 9, valueSize2);
		*(ushort*)ptr10 = (ushort)count2;
		ptr10 += 2;
		int num5 = 0;
		while (num5 < count2)
		{
			((int*)ptr10)[num5] = _stoneRoomCharList[num5];
			int num3 = num5 + 1;
			num5 = num3;
		}
		ptr10 += num4;
		foreach (KeyValuePair<int, SByteList> hideSkeletonEquipSlot in _hideSkeletonEquipSlots)
		{
			int key7 = hideSkeletonEquipSlot.Key;
			SByteList value7 = hideSkeletonEquipSlot.Value;
			int serializedSize4 = value7.GetSerializedSize();
			byte* ptr11 = OperationAdder.DynamicSingleValueCollection_Add(19, 10, key7, serializedSize4);
			ptr11 += value7.Serialize(ptr11);
		}
		foreach (KeyValuePair<int, GameData.Utilities.ShortList> combatSkillOrderPlan in _combatSkillOrderPlans)
		{
			int key8 = combatSkillOrderPlan.Key;
			GameData.Utilities.ShortList value8 = combatSkillOrderPlan.Value;
			int serializedSize5 = value8.GetSerializedSize();
			byte* ptr12 = OperationAdder.DynamicSingleValueCollection_Add(19, 11, key8, serializedSize5);
			ptr12 += value8.Serialize(ptr12);
		}
		foreach (KeyValuePair<Location, VoidValue> item2 in _locationMarkHashSet)
		{
			Location key9 = item2.Key;
			VoidValue value9 = item2.Value;
			byte* ptr13 = OperationAdder.FixedSingleValueCollection_Add(19, 12, key9, 0);
			ptr13 += value9.Serialize(ptr13);
		}
		foreach (KeyValuePair<short, int> taiwuExtraBonuse in _taiwuExtraBonuses)
		{
			short key10 = taiwuExtraBonuse.Key;
			int value10 = taiwuExtraBonuse.Value;
			byte* ptr14 = OperationAdder.FixedSingleValueCollection_Add(19, 13, key10, 4);
			*(int*)ptr14 = value10;
			ptr14 += 4;
		}
		int count3 = _autoWorkBlockIndexList.Count;
		int num6 = 2 * count3;
		int valueSize3 = 2 + num6;
		byte* ptr15 = OperationAdder.DynamicSingleValue_Set(19, 14, valueSize3);
		*(ushort*)ptr15 = (ushort)count3;
		ptr15 += 2;
		int num7 = 0;
		while (num7 < count3)
		{
			((short*)ptr15)[num7] = _autoWorkBlockIndexList[num7];
			int num3 = num7 + 1;
			num7 = num3;
		}
		ptr15 += num6;
		int count4 = _autoSoldBlockIndexList.Count;
		int num8 = 2 * count4;
		int valueSize4 = 2 + num8;
		byte* ptr16 = OperationAdder.DynamicSingleValue_Set(19, 15, valueSize4);
		*(ushort*)ptr16 = (ushort)count4;
		ptr16 += 2;
		int num9 = 0;
		while (num9 < count4)
		{
			((short*)ptr16)[num9] = _autoSoldBlockIndexList[num9];
			int num3 = num9 + 1;
			num9 = num3;
		}
		ptr16 += num8;
		int num10 = 2;
		int count5 = _secretInformationBroadcastNotifyList.Count;
		int num11 = 0;
		while (num11 < count5)
		{
			SecretInformationBroadcastTipsData secretInformationBroadcastTipsData = _secretInformationBroadcastNotifyList[num11];
			num10 = ((secretInformationBroadcastTipsData == null) ? (num10 + 2) : (num10 + (2 + secretInformationBroadcastTipsData.GetSerializedSize())));
			int num3 = num11 + 1;
			num11 = num3;
		}
		byte* ptr17 = OperationAdder.DynamicSingleValue_Set(19, 16, num10);
		*(ushort*)ptr17 = (ushort)count5;
		ptr17 += 2;
		int num12 = 0;
		while (num12 < count5)
		{
			SecretInformationBroadcastTipsData secretInformationBroadcastTipsData2 = _secretInformationBroadcastNotifyList[num12];
			if (secretInformationBroadcastTipsData2 != null)
			{
				byte* ptr18 = ptr17;
				ptr17 += 2;
				int num13 = secretInformationBroadcastTipsData2.Serialize(ptr17);
				ptr17 += num13;
				*(ushort*)ptr18 = (ushort)num13;
			}
			else
			{
				*(short*)ptr17 = 0;
				ptr17 += 2;
			}
			int num3 = num12 + 1;
			num12 = num3;
		}
		foreach (KeyValuePair<ItemKey, int> treasuryItem in _treasuryItems)
		{
			ItemKey key11 = treasuryItem.Key;
			int value11 = treasuryItem.Value;
			byte* ptr19 = OperationAdder.FixedSingleValueCollection_Add(19, 17, key11, 4);
			*(int*)ptr19 = value11;
			ptr19 += 4;
		}
		foreach (KeyValuePair<ItemKey, int> troughItem in _troughItems)
		{
			ItemKey key12 = troughItem.Key;
			int value12 = troughItem.Value;
			byte* ptr20 = OperationAdder.FixedSingleValueCollection_Add(19, 18, key12, 4);
			*(int*)ptr20 = value12;
			ptr20 += 4;
		}
		int count6 = _xiangshuIdInKungfuPracticeRoom.Count;
		int num14 = count6;
		int valueSize5 = 2 + num14;
		byte* ptr21 = OperationAdder.DynamicSingleValue_Set(19, 19, valueSize5);
		*(ushort*)ptr21 = (ushort)count6;
		ptr21 += 2;
		int num15 = 0;
		while (num15 < count6)
		{
			ptr21[num15] = (byte)_xiangshuIdInKungfuPracticeRoom[num15];
			int num3 = num15 + 1;
			num15 = num3;
		}
		ptr21 += num14;
		foreach (KeyValuePair<RelationKey, ushort> removedSpecialRelation in _removedSpecialRelations)
		{
			RelationKey key13 = removedSpecialRelation.Key;
			ushort value13 = removedSpecialRelation.Value;
			byte* ptr22 = OperationAdder.FixedSingleValueCollection_Add(19, 20, key13, 2);
			*(ushort*)ptr22 = value13;
			ptr22 += 2;
		}
		int count7 = _shopArrangeResultFirstList.Count;
		int num16 = 2 * count7;
		int valueSize6 = 2 + num16;
		byte* ptr23 = OperationAdder.DynamicSingleValue_Set(19, 21, valueSize6);
		*(ushort*)ptr23 = (ushort)count7;
		ptr23 += 2;
		int num17 = 0;
		while (num17 < count7)
		{
			((short*)ptr23)[num17] = _shopArrangeResultFirstList[num17];
			int num3 = num17 + 1;
			num17 = num3;
		}
		ptr23 += num16;
		int count8 = _autoExpandBlockIndexList.Count;
		int num18 = 2 * count8;
		int valueSize7 = 2 + num18;
		byte* ptr24 = OperationAdder.DynamicSingleValue_Set(19, 22, valueSize7);
		*(ushort*)ptr24 = (ushort)count8;
		ptr24 += 2;
		int num19 = 0;
		while (num19 < count8)
		{
			((short*)ptr24)[num19] = _autoExpandBlockIndexList[num19];
			int num3 = num19 + 1;
			num19 = num3;
		}
		ptr24 += num18;
		foreach (KeyValuePair<IntPair, int> worldCharacterExtraTitle in _worldCharacterExtraTitles)
		{
			IntPair key14 = worldCharacterExtraTitle.Key;
			int value14 = worldCharacterExtraTitle.Value;
			byte* ptr25 = OperationAdder.FixedSingleValueCollection_Add(19, 23, key14, 4);
			*(int*)ptr25 = value14;
			ptr25 += 4;
		}
		int count9 = _readingEventBookIdList.Count;
		int num20 = 4 * count9;
		int valueSize8 = 2 + num20;
		byte* ptr26 = OperationAdder.DynamicSingleValue_Set(19, 24, valueSize8);
		*(ushort*)ptr26 = (ushort)count9;
		ptr26 += 2;
		int num21 = 0;
		while (num21 < count9)
		{
			((int*)ptr26)[num21] = _readingEventBookIdList[num21];
			int num3 = num21 + 1;
			num21 = num3;
		}
		ptr26 += num20;
		foreach (KeyValuePair<short, IntPair> item3 in _clearedSkillPlateStepInfo)
		{
			short key15 = item3.Key;
			IntPair value15 = item3.Value;
			byte* ptr27 = OperationAdder.FixedSingleValueCollection_Add(19, 25, key15, 8);
			ptr27 += value15.Serialize(ptr27);
		}
		int size = _travelingEventCollection.GetSize();
		byte* pDest = OperationAdder.Binary_Write(19, 26, 0, size);
		_travelingEventCollection.CopyTo(0, size, pDest);
		ushort serializedFixedSizeOfMetadata = _travelingEventCollection.GetSerializedFixedSizeOfMetadata();
		byte* pData = OperationAdder.Binary_SetMetadata(19, 26, serializedFixedSizeOfMetadata);
		_travelingEventCollection.SerializeMetadata(pData);
		int serializedSize6 = _dlcArgBox.GetSerializedSize();
		byte* ptr28 = OperationAdder.DynamicSingleValue_Set(19, 27, serializedSize6);
		ptr28 += _dlcArgBox.Serialize(ptr28);
		int count10 = _prevTriggeredTravelingEvents.Count;
		int num22 = 2 * count10;
		int valueSize9 = 2 + num22;
		byte* ptr29 = OperationAdder.DynamicSingleValue_Set(19, 28, valueSize9);
		*(ushort*)ptr29 = (ushort)count10;
		ptr29 += 2;
		int num23 = 0;
		while (num23 < count10)
		{
			((short*)ptr29)[num23] = _prevTriggeredTravelingEvents[num23];
			int num3 = num23 + 1;
			num23 = num3;
		}
		ptr29 += num22;
		int count11 = _gainsInTravel.Count;
		int num24 = 8 * count11;
		int valueSize10 = 2 + num24;
		byte* ptr30 = OperationAdder.DynamicSingleValue_Set(19, 29, valueSize10);
		*(ushort*)ptr30 = (ushort)count11;
		ptr30 += 2;
		int num25 = 0;
		while (num25 < count11)
		{
			ptr30 += _gainsInTravel[num25].Serialize(ptr30);
			int num3 = num25 + 1;
			num25 = num3;
		}
		int count12 = _maxApprovingRateTemporaryBonus.Count;
		int num26 = 8 * count12;
		int valueSize11 = 2 + num26;
		byte* ptr31 = OperationAdder.DynamicSingleValue_Set(19, 30, valueSize11);
		*(ushort*)ptr31 = (ushort)count12;
		ptr31 += 2;
		int num27 = 0;
		while (num27 < count12)
		{
			ptr31 += _maxApprovingRateTemporaryBonus[num27].Serialize(ptr31);
			int num3 = num27 + 1;
			num27 = num3;
		}
		foreach (KeyValuePair<sbyte, LifeSkillCombatCardCollection> item4 in _lifeSkillCombatCardDict)
		{
			sbyte key16 = item4.Key;
			LifeSkillCombatCardCollection value16 = item4.Value;
			int serializedSize7 = value16.GetSerializedSize();
			byte* ptr32 = OperationAdder.DynamicSingleValueCollection_Add(19, 31, key16, serializedSize7);
			ptr32 += value16.Serialize(ptr32);
		}
		foreach (KeyValuePair<sbyte, LifeSkillCombatCardCollection> item5 in _lifeSkillCombatUsedCardDict)
		{
			sbyte key17 = item5.Key;
			LifeSkillCombatCardCollection value17 = item5.Value;
			int serializedSize8 = value17.GetSerializedSize();
			byte* ptr33 = OperationAdder.DynamicSingleValueCollection_Add(19, 32, key17, serializedSize8);
			ptr33 += value17.Serialize(ptr33);
		}
		foreach (KeyValuePair<short, LifeSkillCombatReadBookPageData> item6 in _lifeSkillCombatReadBookPageDict)
		{
			short key18 = item6.Key;
			LifeSkillCombatReadBookPageData value18 = item6.Value;
			int serializedSize9 = value18.GetSerializedSize();
			byte* ptr34 = OperationAdder.DynamicSingleValueCollection_Add(19, 33, key18, serializedSize9);
			ptr34 += value18.Serialize(ptr34);
		}
		foreach (KeyValuePair<sbyte, LifeSkillCombatCardCollection> item7 in _lifeSkillCombatNewCardDict)
		{
			sbyte key19 = item7.Key;
			LifeSkillCombatCardCollection value19 = item7.Value;
			int serializedSize10 = value19.GetSerializedSize();
			byte* ptr35 = OperationAdder.DynamicSingleValueCollection_Add(19, 34, key19, serializedSize10);
			ptr35 += value19.Serialize(ptr35);
		}
		foreach (KeyValuePair<int, AiActionAdjusts> characterAiActionRestriction in _characterAiActionRestrictions)
		{
			int key20 = characterAiActionRestriction.Key;
			AiActionAdjusts value20 = characterAiActionRestriction.Value;
			if (value20 != null)
			{
				int serializedSize11 = value20.GetSerializedSize();
				byte* ptr36 = OperationAdder.DynamicSingleValueCollection_Add(19, 35, key20, serializedSize11);
				ptr36 += value20.Serialize(ptr36);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 35, key20, 0);
			}
		}
		foreach (KeyValuePair<int, ulong> extraExternalRelationState in _extraExternalRelationStates)
		{
			int key21 = extraExternalRelationState.Key;
			ulong value21 = extraExternalRelationState.Value;
			byte* ptr37 = OperationAdder.FixedSingleValueCollection_Add(19, 36, key21, 8);
			*(ulong*)ptr37 = value21;
			ptr37 += 8;
		}
		int num28 = 2;
		int count13 = _secretInformationBroadcastNotifyExtraList.Count;
		int num29 = 0;
		while (num29 < count13)
		{
			SecretInformationBroadcastTipsExtraData secretInformationBroadcastTipsExtraData = _secretInformationBroadcastNotifyExtraList[num29];
			num28 = ((secretInformationBroadcastTipsExtraData == null) ? (num28 + 2) : (num28 + (2 + secretInformationBroadcastTipsExtraData.GetSerializedSize())));
			int num3 = num29 + 1;
			num29 = num3;
		}
		byte* ptr38 = OperationAdder.DynamicSingleValue_Set(19, 37, num28);
		*(ushort*)ptr38 = (ushort)count13;
		ptr38 += 2;
		int num30 = 0;
		while (num30 < count13)
		{
			SecretInformationBroadcastTipsExtraData secretInformationBroadcastTipsExtraData2 = _secretInformationBroadcastNotifyExtraList[num30];
			if (secretInformationBroadcastTipsExtraData2 != null)
			{
				byte* ptr39 = ptr38;
				ptr38 += 2;
				int num31 = secretInformationBroadcastTipsExtraData2.Serialize(ptr38);
				ptr38 += num31;
				*(ushort*)ptr39 = (ushort)num31;
			}
			else
			{
				*(short*)ptr38 = 0;
				ptr38 += 2;
			}
			int num3 = num30 + 1;
			num30 = num3;
		}
		foreach (KeyValuePair<int, SByteList> item8 in _charTeammateCommandDict)
		{
			int key22 = item8.Key;
			SByteList value22 = item8.Value;
			int serializedSize12 = value22.GetSerializedSize();
			byte* ptr40 = OperationAdder.DynamicSingleValueCollection_Add(19, 38, key22, serializedSize12);
			ptr40 += value22.Serialize(ptr40);
		}
		foreach (KeyValuePair<int, int> item9 in _nicknameDict)
		{
			int key23 = item9.Key;
			int value23 = item9.Value;
			byte* ptr41 = OperationAdder.FixedSingleValueCollection_Add(19, 39, key23, 4);
			*(int*)ptr41 = value23;
			ptr41 += 4;
		}
		foreach (KeyValuePair<sbyte, sbyte> legendaryBookBreakPlateCount in _legendaryBookBreakPlateCounts)
		{
			sbyte key24 = legendaryBookBreakPlateCount.Key;
			sbyte value24 = legendaryBookBreakPlateCount.Value;
			byte* ptr42 = OperationAdder.FixedSingleValueCollection_Add(19, 40, key24, 1);
			*ptr42 = (byte)value24;
			ptr42++;
		}
		foreach (KeyValuePair<sbyte, CharacterSet> contestForLegendaryBookChar in _contestForLegendaryBookChars)
		{
			sbyte key25 = contestForLegendaryBookChar.Key;
			CharacterSet value25 = contestForLegendaryBookChar.Value;
			int serializedSize13 = value25.GetSerializedSize();
			byte* ptr43 = OperationAdder.DynamicSingleValueCollection_Add(19, 41, key25, serializedSize13);
			ptr43 += value25.Serialize(ptr43);
		}
		foreach (KeyValuePair<sbyte, ItemKey> item10 in _legendaryBookWeaponSlot)
		{
			sbyte key26 = item10.Key;
			ItemKey value26 = item10.Value;
			byte* ptr44 = OperationAdder.FixedSingleValueCollection_Add(19, 42, key26, 8);
			ptr44 += value26.Serialize(ptr44);
		}
		foreach (KeyValuePair<sbyte, long> item11 in _legendaryBookWeaponEffectId)
		{
			sbyte key27 = item11.Key;
			long value27 = item11.Value;
			byte* ptr45 = OperationAdder.FixedSingleValueCollection_Add(19, 43, key27, 8);
			*(long*)ptr45 = value27;
			ptr45 += 8;
		}
		foreach (KeyValuePair<sbyte, GameData.Utilities.ShortList> item12 in _legendaryBookSkillSlot)
		{
			sbyte key28 = item12.Key;
			GameData.Utilities.ShortList value28 = item12.Value;
			int serializedSize14 = value28.GetSerializedSize();
			byte* ptr46 = OperationAdder.DynamicSingleValueCollection_Add(19, 44, key28, serializedSize14);
			ptr46 += value28.Serialize(ptr46);
		}
		foreach (KeyValuePair<sbyte, LongList> item13 in _legendaryBookSkillEffectId)
		{
			sbyte key29 = item13.Key;
			LongList value29 = item13.Value;
			int serializedSize15 = value29.GetSerializedSize();
			byte* ptr47 = OperationAdder.DynamicSingleValueCollection_Add(19, 45, key29, serializedSize15);
			ptr47 += value29.Serialize(ptr47);
		}
		int serializedSize16 = _legendaryBookBonusCountYin.GetSerializedSize();
		byte* ptr48 = OperationAdder.DynamicSingleValue_Set(19, 46, serializedSize16);
		ptr48 += _legendaryBookBonusCountYin.Serialize(ptr48);
		int serializedSize17 = _legendaryBookBonusCountYang.GetSerializedSize();
		byte* ptr49 = OperationAdder.DynamicSingleValue_Set(19, 47, serializedSize17);
		ptr49 += _legendaryBookBonusCountYang.Serialize(ptr49);
		foreach (KeyValuePair<sbyte, IntPair> prevLegendaryBookOwnerCopy in _prevLegendaryBookOwnerCopies)
		{
			sbyte key30 = prevLegendaryBookOwnerCopy.Key;
			IntPair value30 = prevLegendaryBookOwnerCopy.Value;
			byte* ptr50 = OperationAdder.FixedSingleValueCollection_Add(19, 48, key30, 8);
			ptr50 += value30.Serialize(ptr50);
		}
		foreach (KeyValuePair<int, int> legendaryBookShockedMonth in _legendaryBookShockedMonths)
		{
			int key31 = legendaryBookShockedMonth.Key;
			int value31 = legendaryBookShockedMonth.Value;
			byte* ptr51 = OperationAdder.FixedSingleValueCollection_Add(19, 49, key31, 4);
			*(int*)ptr51 = value31;
			ptr51 += 4;
		}
		foreach (KeyValuePair<short, IntList> combatSkillBreakPlateLastClearTime in _combatSkillBreakPlateLastClearTimeList)
		{
			short key32 = combatSkillBreakPlateLastClearTime.Key;
			IntList value32 = combatSkillBreakPlateLastClearTime.Value;
			int serializedSize18 = value32.GetSerializedSize();
			byte* ptr52 = OperationAdder.DynamicSingleValueCollection_Add(19, 50, key32, serializedSize18);
			ptr52 += value32.Serialize(ptr52);
		}
		foreach (KeyValuePair<short, sbyte> item14 in _combatSkillCurrBreakPlateIndex)
		{
			short key33 = item14.Key;
			sbyte value33 = item14.Value;
			byte* ptr53 = OperationAdder.FixedSingleValueCollection_Add(19, 51, key33, 1);
			*ptr53 = (byte)value33;
			ptr53++;
		}
		foreach (KeyValuePair<short, SkillBreakPlateObsoleteList> combatSkillBreakPlateObsolete in _combatSkillBreakPlateObsoleteList)
		{
			short key34 = combatSkillBreakPlateObsolete.Key;
			SkillBreakPlateObsoleteList value34 = combatSkillBreakPlateObsolete.Value;
			int serializedSize19 = value34.GetSerializedSize();
			byte* ptr54 = OperationAdder.DynamicSingleValueCollection_Add(19, 52, key34, serializedSize19);
			ptr54 += value34.Serialize(ptr54);
		}
		int serializedSize20 = _legendaryBookConsumedCharIds.GetSerializedSize();
		byte* ptr55 = OperationAdder.DynamicSingleValue_Set(19, 53, serializedSize20);
		ptr55 += _legendaryBookConsumedCharIds.Serialize(ptr55);
		foreach (KeyValuePair<int, AiExtraActionCooldowns> characterAiActionCooldown in _characterAiActionCooldowns)
		{
			int key35 = characterAiActionCooldown.Key;
			AiExtraActionCooldowns value35 = characterAiActionCooldown.Value;
			if (value35 != null)
			{
				int serializedSize21 = value35.GetSerializedSize();
				byte* ptr56 = OperationAdder.DynamicSingleValueCollection_Add(19, 54, key35, serializedSize21);
				ptr56 += value35.Serialize(ptr56);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 54, key35, 0);
			}
		}
		foreach (KeyValuePair<IntPair, int> characterTemporaryFeature in _characterTemporaryFeatures)
		{
			IntPair key36 = characterTemporaryFeature.Key;
			int value36 = characterTemporaryFeature.Value;
			byte* ptr57 = OperationAdder.FixedSingleValueCollection_Add(19, 55, key36, 4);
			*(int*)ptr57 = value36;
			ptr57 += 4;
		}
		int count14 = _extraTriggeredTasks.Count;
		int num32 = 12 * count14;
		int valueSize12 = 2 + num32;
		byte* ptr58 = OperationAdder.DynamicSingleValue_Set(19, 56, valueSize12);
		*(ushort*)ptr58 = (ushort)count14;
		ptr58 += 2;
		int num33 = 0;
		while (num33 < count14)
		{
			ptr58 += _extraTriggeredTasks[num33].Serialize(ptr58);
			int num3 = num33 + 1;
			num33 = num3;
		}
		int count15 = _taskSortingOrder.Count;
		int num34 = 4 * count15;
		int valueSize13 = 2 + num34;
		byte* ptr59 = OperationAdder.DynamicSingleValue_Set(19, 57, valueSize13);
		*(ushort*)ptr59 = (ushort)count15;
		ptr59 += 2;
		int num35 = 0;
		while (num35 < count15)
		{
			((int*)ptr59)[num35] = _taskSortingOrder[num35];
			int num3 = num35 + 1;
			num35 = num3;
		}
		ptr59 += num34;
		int serializedSize22 = _legendaryBookHiddenCharIds.GetSerializedSize();
		byte* ptr60 = OperationAdder.DynamicSingleValue_Set(19, 58, serializedSize22);
		ptr60 += _legendaryBookHiddenCharIds.Serialize(ptr60);
		foreach (KeyValuePair<IntPair, AiActionAdjusts> characterAiActionSuccessRateAdjust in _characterAiActionSuccessRateAdjusts)
		{
			IntPair key37 = characterAiActionSuccessRateAdjust.Key;
			AiActionAdjusts value37 = characterAiActionSuccessRateAdjust.Value;
			if (value37 != null)
			{
				int serializedSize23 = value37.GetSerializedSize();
				byte* ptr61 = OperationAdder.DynamicSingleValueCollection_Add(19, 59, key37, serializedSize23);
				ptr61 += value37.Serialize(ptr61);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 59, key37, 0);
			}
		}
		foreach (KeyValuePair<int, LoveDataItem> item15 in _loveDataDict)
		{
			int key38 = item15.Key;
			LoveDataItem value38 = item15.Value;
			if (value38 != null)
			{
				int serializedSize24 = value38.GetSerializedSize();
				byte* ptr62 = OperationAdder.DynamicSingleValueCollection_Add(19, 60, key38, serializedSize24);
				ptr62 += value38.Serialize(ptr62);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 60, key38, 0);
			}
		}
		foreach (KeyValuePair<int, VoidValue> item16 in _previousLoverSet)
		{
			int key39 = item16.Key;
			VoidValue value39 = item16.Value;
			byte* ptr63 = OperationAdder.FixedSingleValueCollection_Add(19, 61, key39, 0);
			ptr63 += value39.Serialize(ptr63);
		}
		foreach (KeyValuePair<int, VoidValue> item17 in _confessLoveFailedSet)
		{
			int key40 = item17.Key;
			VoidValue value40 = item17.Value;
			byte* ptr64 = OperationAdder.FixedSingleValueCollection_Add(19, 62, key40, 0);
			ptr64 += value40.Serialize(ptr64);
		}
		foreach (KeyValuePair<ItemKey, LoveTokenDataItem> item18 in _loveTokenDataDict)
		{
			ItemKey key41 = item18.Key;
			LoveTokenDataItem value41 = item18.Value;
			byte* ptr65 = OperationAdder.FixedSingleValueCollection_Add(19, 63, key41, 20);
			ptr65 += value41.Serialize(ptr65);
		}
		foreach (KeyValuePair<int, ObsoleteProfessionData> obsoleteTaiwuProfession in _obsoleteTaiwuProfessions)
		{
			int key42 = obsoleteTaiwuProfession.Key;
			ObsoleteProfessionData value42 = obsoleteTaiwuProfession.Value;
			if (value42 != null)
			{
				int serializedSize25 = value42.GetSerializedSize();
				byte* ptr66 = OperationAdder.DynamicSingleValueCollection_Add(19, 64, key42, serializedSize25);
				ptr66 += value42.Serialize(ptr66);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 64, key42, 0);
			}
		}
		byte* ptr67 = OperationAdder.FixedSingleValue_Set(19, 65, 4);
		*(int*)ptr67 = _taiwuCurrProfessionId;
		ptr67 += 4;
		foreach (KeyValuePair<int, VoidValue> savedSoul in _savedSouls)
		{
			int key43 = savedSoul.Key;
			VoidValue value43 = savedSoul.Value;
			byte* ptr68 = OperationAdder.FixedSingleValueCollection_Add(19, 66, key43, 0);
			ptr68 += value43.Serialize(ptr68);
		}
		foreach (KeyValuePair<int, bool> item19 in _cricketIsSmart)
		{
			int key44 = item19.Key;
			bool value44 = item19.Value;
			byte* ptr69 = OperationAdder.FixedSingleValueCollection_Add(19, 67, key44, 1);
			*ptr69 = (value44 ? ((byte)1) : ((byte)0));
			ptr69++;
		}
		foreach (KeyValuePair<int, bool> item20 in _cricketIsIdentified)
		{
			int key45 = item20.Key;
			bool value45 = item20.Value;
			byte* ptr70 = OperationAdder.FixedSingleValueCollection_Add(19, 68, key45, 1);
			*ptr70 = (value45 ? ((byte)1) : ((byte)0));
			ptr70++;
		}
		foreach (KeyValuePair<IntPair, int> taiwuInteractionCooldown in _taiwuInteractionCooldowns)
		{
			IntPair key46 = taiwuInteractionCooldown.Key;
			int value46 = taiwuInteractionCooldown.Value;
			byte* ptr71 = OperationAdder.FixedSingleValueCollection_Add(19, 69, key46, 4);
			*(int*)ptr71 = value46;
			ptr71 += 4;
		}
		foreach (KeyValuePair<int, int> characterCustomDisplayName in _characterCustomDisplayNames)
		{
			int key47 = characterCustomDisplayName.Key;
			int value47 = characterCustomDisplayName.Value;
			byte* ptr72 = OperationAdder.FixedSingleValueCollection_Add(19, 70, key47, 4);
			*(int*)ptr72 = value47;
			ptr72 += 4;
		}
		int num36 = 0;
		int num37 = 0;
		while (num37 < 139)
		{
			AnimalAreaData animalAreaData = _animalAreaData[num37];
			num36 = ((animalAreaData == null) ? (num36 + 4) : (num36 + (4 + animalAreaData.GetSerializedSize())));
			int num3 = num37 + 1;
			num37 = num3;
		}
		byte* ptr73 = OperationAdder.DynamicElementList_InsertRange(19, 71, 0, 139, num36);
		int num38 = 0;
		while (num38 < 139)
		{
			AnimalAreaData animalAreaData2 = _animalAreaData[num38];
			if (animalAreaData2 != null)
			{
				byte* ptr74 = ptr73;
				ptr73 += 4;
				int num39 = animalAreaData2.Serialize(ptr73);
				ptr73 += num39;
				*(int*)ptr74 = num39;
			}
			else
			{
				*(int*)ptr73 = 0;
				ptr73 += 4;
			}
			int num3 = num38 + 1;
			num38 = num3;
		}
		foreach (KeyValuePair<int, VoidValue> handledOneShotEvent in _handledOneShotEvents)
		{
			int key48 = handledOneShotEvent.Key;
			VoidValue value48 = handledOneShotEvent.Value;
			byte* ptr75 = OperationAdder.FixedSingleValueCollection_Add(19, 72, key48, 0);
			ptr75 += value48.Serialize(ptr75);
		}
		int count16 = _hunterAnimals.Count;
		int num40 = 0;
		int valueSize14 = 2 + num40;
		byte* ptr76 = OperationAdder.DynamicSingleValue_Set(19, 73, valueSize14);
		*(ushort*)ptr76 = (ushort)count16;
		ptr76 += 2;
		int num41 = 0;
		while (num41 < count16)
		{
			ptr76 += _hunterAnimals[num41].Serialize(ptr76);
			int num3 = num41 + 1;
			num41 = num3;
		}
		int serializedSize26 = _worldVersionInfo.GetSerializedSize();
		byte* ptr77 = OperationAdder.DynamicSingleValue_Set(19, 74, serializedSize26);
		ptr77 += _worldVersionInfo.Serialize(ptr77);
		int num42 = 0;
		int num43 = 0;
		while (num43 < 15)
		{
			EventArgBox eventArgBox = _sectMainStoryEventArgBoxes[num43];
			num42 = ((eventArgBox == null) ? (num42 + 4) : (num42 + (4 + eventArgBox.GetSerializedSize())));
			int num3 = num43 + 1;
			num43 = num3;
		}
		byte* ptr78 = OperationAdder.DynamicElementList_InsertRange(19, 75, 0, 15, num42);
		int num44 = 0;
		while (num44 < 15)
		{
			EventArgBox eventArgBox2 = _sectMainStoryEventArgBoxes[num44];
			if (eventArgBox2 != null)
			{
				byte* ptr79 = ptr78;
				ptr78 += 4;
				int num45 = eventArgBox2.Serialize(ptr78);
				ptr78 += num45;
				*(int*)ptr79 = num45;
			}
			else
			{
				*(int*)ptr78 = 0;
				ptr78 += 4;
			}
			int num3 = num44 + 1;
			num44 = num3;
		}
		byte* ptr80 = OperationAdder.FixedSingleValue_Set(19, 76, 1);
		*ptr80 = (byte)_changeTrickBodyPart;
		ptr80++;
		byte* ptr81 = OperationAdder.FixedSingleValue_Set(19, 77, 1);
		*ptr81 = (byte)_changeTrickIndex;
		ptr81++;
		byte* ptr82 = OperationAdder.FixedSingleValue_Set(19, 78, 1);
		*ptr82 = (byte)_voiceWeaponInnerRatio;
		ptr82++;
		int count17 = _sectXuehouBloodLightLocations.Count;
		int num46 = 4 * count17;
		int valueSize15 = 2 + num46;
		byte* ptr83 = OperationAdder.DynamicSingleValue_Set(19, 79, valueSize15);
		*(ushort*)ptr83 = (ushort)count17;
		ptr83 += 2;
		int num47 = 0;
		while (num47 < count17)
		{
			ptr83 += _sectXuehouBloodLightLocations[num47].Serialize(ptr83);
			int num3 = num47 + 1;
			num47 = num3;
		}
		foreach (KeyValuePair<int, AvatarData> item21 in _characterAvatarSnapshot)
		{
			int key49 = item21.Key;
			AvatarData value49 = item21.Value;
			byte* ptr84 = OperationAdder.FixedSingleValueCollection_Add(19, 80, key49, 76);
			ptr84 += value49.Serialize(ptr84);
		}
		int num48 = 0;
		int num49 = 0;
		while (num49 < 90)
		{
			TreasureMaterialData treasureMaterialData = _brokenAreaMaterials[num49];
			num48 = ((treasureMaterialData == null) ? (num48 + 4) : (num48 + (4 + treasureMaterialData.GetSerializedSize())));
			int num3 = num49 + 1;
			num49 = num3;
		}
		byte* ptr85 = OperationAdder.DynamicElementList_InsertRange(19, 81, 0, 90, num48);
		int num50 = 0;
		while (num50 < 90)
		{
			TreasureMaterialData treasureMaterialData2 = _brokenAreaMaterials[num50];
			if (treasureMaterialData2 != null)
			{
				byte* ptr86 = ptr85;
				ptr85 += 4;
				int num51 = treasureMaterialData2.Serialize(ptr85);
				ptr85 += num51;
				*(int*)ptr86 = num51;
			}
			else
			{
				*(int*)ptr85 = 0;
				ptr85 += 4;
			}
			int num3 = num50 + 1;
			num50 = num3;
		}
		int count18 = _sectWudangFairylandData.Count;
		int num52 = 12 * count18;
		int valueSize16 = 2 + num52;
		byte* ptr87 = OperationAdder.DynamicSingleValue_Set(19, 82, valueSize16);
		*(ushort*)ptr87 = (ushort)count18;
		ptr87 += 2;
		int num53 = 0;
		while (num53 < count18)
		{
			ptr87 += _sectWudangFairylandData[num53].Serialize(ptr87);
			int num3 = num53 + 1;
			num53 = num3;
		}
		byte* ptr88 = OperationAdder.FixedSingleValue_Set(19, 83, 4);
		*(int*)ptr88 = _treasureMaterialFailedTimes;
		ptr88 += 4;
		byte* ptr89 = OperationAdder.FixedElementList_InsertRange(19, 84, 0, 3, 24);
		int num54 = 0;
		while (num54 < 3)
		{
			((long*)ptr89)[num54] = _sectYuanshanDemonEffectIds[num54];
			int num3 = num54 + 1;
			num54 = num3;
		}
		ptr89 += 24;
		byte* ptr90 = OperationAdder.FixedSingleValue_Set(19, 85, 8);
		ptr90 += _taiwuMaxNeiliAllocation.Serialize(ptr90);
		foreach (KeyValuePair<int, GameData.Utilities.ShortList> characterMasteredCombatSkill in _characterMasteredCombatSkills)
		{
			int key50 = characterMasteredCombatSkill.Key;
			GameData.Utilities.ShortList value50 = characterMasteredCombatSkill.Value;
			int serializedSize27 = value50.GetSerializedSize();
			byte* ptr91 = OperationAdder.DynamicSingleValueCollection_Add(19, 86, key50, serializedSize27);
			ptr91 += value50.Serialize(ptr91);
		}
		int num55 = 0;
		int num56 = 0;
		while (num56 < 9)
		{
			num55 += 4 + _masteredCombatSkillPlans[num56].GetSerializedSize();
			int num3 = num56 + 1;
			num56 = num3;
		}
		byte* ptr92 = OperationAdder.DynamicElementList_InsertRange(19, 87, 0, 9, num55);
		int num57 = 0;
		while (num57 < 9)
		{
			byte* ptr93 = ptr92;
			ptr92 += 4;
			int num58 = _masteredCombatSkillPlans[num57].Serialize(ptr92);
			ptr92 += num58;
			*(int*)ptr93 = num58;
			int num3 = num57 + 1;
			num57 = num3;
		}
		byte* ptr94 = OperationAdder.FixedSingleValue_Set(19, 88, 1);
		*ptr94 = _breakoutDifficulty;
		ptr94++;
		byte* ptr95 = OperationAdder.FixedSingleValue_Set(19, 89, 1);
		*ptr95 = _readingDifficulty;
		ptr95++;
		byte* ptr96 = OperationAdder.FixedSingleValue_Set(19, 90, 1);
		*ptr96 = _loopingDifficulty;
		ptr96++;
		foreach (KeyValuePair<short, IntList> item22 in _combatSkillBreakPlateLastForceBreakoutStepsCount)
		{
			short key51 = item22.Key;
			IntList value51 = item22.Value;
			int serializedSize28 = value51.GetSerializedSize();
			byte* ptr97 = OperationAdder.DynamicSingleValueCollection_Add(19, 91, key51, serializedSize28);
			ptr97 += value51.Serialize(ptr97);
		}
		foreach (KeyValuePair<short, int> pregeneratedFixedEnemy in _pregeneratedFixedEnemies)
		{
			short key52 = pregeneratedFixedEnemy.Key;
			int value52 = pregeneratedFixedEnemy.Value;
			byte* ptr98 = OperationAdder.FixedSingleValueCollection_Add(19, 92, key52, 4);
			*(int*)ptr98 = value52;
			ptr98 += 4;
		}
		int count19 = _autoCheckInComfortableList.Count;
		int num59 = 2 * count19;
		int valueSize17 = 2 + num59;
		byte* ptr99 = OperationAdder.DynamicSingleValue_Set(19, 93, valueSize17);
		*(ushort*)ptr99 = (ushort)count19;
		ptr99 += 2;
		int num60 = 0;
		while (num60 < count19)
		{
			((short*)ptr99)[num60] = _autoCheckInComfortableList[num60];
			int num3 = num60 + 1;
			num60 = num3;
		}
		ptr99 += num59;
		int count20 = _autoCheckInResidenceList.Count;
		int num61 = 2 * count20;
		int valueSize18 = 2 + num61;
		byte* ptr100 = OperationAdder.DynamicSingleValue_Set(19, 94, valueSize18);
		*(ushort*)ptr100 = (ushort)count20;
		ptr100 += 2;
		int num62 = 0;
		while (num62 < count20)
		{
			((short*)ptr100)[num62] = _autoCheckInResidenceList[num62];
			int num3 = num62 + 1;
			num62 = num3;
		}
		ptr100 += num61;
		foreach (KeyValuePair<int, GameData.Utilities.ShortList> readingEventReferenceBook in _readingEventReferenceBooks)
		{
			int key53 = readingEventReferenceBook.Key;
			GameData.Utilities.ShortList value53 = readingEventReferenceBook.Value;
			int serializedSize29 = value53.GetSerializedSize();
			byte* ptr101 = OperationAdder.DynamicSingleValueCollection_Add(19, 95, key53, serializedSize29);
			ptr101 += value53.Serialize(ptr101);
		}
		foreach (KeyValuePair<sbyte, Debts> merchantTypeToDebt in _merchantTypeToDebts)
		{
			sbyte key54 = merchantTypeToDebt.Key;
			Debts value54 = merchantTypeToDebt.Value;
			if (value54 != null)
			{
				int serializedSize30 = value54.GetSerializedSize();
				byte* ptr102 = OperationAdder.DynamicSingleValueCollection_Add(19, 96, key54, serializedSize30);
				ptr102 += value54.Serialize(ptr102);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 96, key54, 0);
			}
		}
		foreach (KeyValuePair<int, MerchantBuyBackDebt> item23 in _merchantBuyBackDict)
		{
			int key55 = item23.Key;
			MerchantBuyBackDebt value55 = item23.Value;
			if (value55 != null)
			{
				int serializedSize31 = value55.GetSerializedSize();
				byte* ptr103 = OperationAdder.DynamicSingleValueCollection_Add(19, 97, key55, serializedSize31);
				ptr103 += value55.Serialize(ptr103);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 97, key55, 0);
			}
		}
		int num63 = 0;
		int num64 = 0;
		while (num64 < 7)
		{
			MerchantBuyBackDebt merchantBuyBackDebt = _merchantMaxLevelBuyBackData[num64];
			num63 = ((merchantBuyBackDebt == null) ? (num63 + 4) : (num63 + (4 + merchantBuyBackDebt.GetSerializedSize())));
			int num3 = num64 + 1;
			num64 = num3;
		}
		byte* ptr104 = OperationAdder.DynamicElementList_InsertRange(19, 98, 0, 7, num63);
		int num65 = 0;
		while (num65 < 7)
		{
			MerchantBuyBackDebt merchantBuyBackDebt2 = _merchantMaxLevelBuyBackData[num65];
			if (merchantBuyBackDebt2 != null)
			{
				byte* ptr105 = ptr104;
				ptr104 += 4;
				int num66 = merchantBuyBackDebt2.Serialize(ptr104);
				ptr104 += num66;
				*(int*)ptr105 = num66;
			}
			else
			{
				*(int*)ptr104 = 0;
				ptr104 += 4;
			}
			int num3 = num65 + 1;
			num65 = num3;
		}
		foreach (KeyValuePair<int, MerchantBuyBackDebt> item24 in _caravanBuyBackDict)
		{
			int key56 = item24.Key;
			MerchantBuyBackDebt value56 = item24.Value;
			if (value56 != null)
			{
				int serializedSize32 = value56.GetSerializedSize();
				byte* ptr106 = OperationAdder.DynamicSingleValueCollection_Add(19, 99, key56, serializedSize32);
				ptr106 += value56.Serialize(ptr106);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 99, key56, 0);
			}
		}
		byte* ptr107 = OperationAdder.FixedSingleValue_Set(19, 100, 1);
		*ptr107 = (byte)_firstLegendaryBookDelay;
		ptr107++;
		int count21 = _legaciesBuildingTemplateIdList.Count;
		int num67 = 2 * count21;
		int valueSize19 = 2 + num67;
		byte* ptr108 = OperationAdder.DynamicSingleValue_Set(19, 101, valueSize19);
		*(ushort*)ptr108 = (ushort)count21;
		ptr108 += 2;
		int num68 = 0;
		while (num68 < count21)
		{
			((short*)ptr108)[num68] = _legaciesBuildingTemplateIdList[num68];
			int num3 = num68 + 1;
			num68 = num3;
		}
		ptr108 += num67;
		byte* ptr109 = OperationAdder.FixedSingleValue_Set(19, 102, 1);
		*ptr109 = (_isDreamBack ? ((byte)1) : ((byte)0));
		ptr109++;
		foreach (KeyValuePair<int, AbridgedCharacter> abridgedDreamBackCharacter in _abridgedDreamBackCharacters)
		{
			int key57 = abridgedDreamBackCharacter.Key;
			AbridgedCharacter value57 = abridgedDreamBackCharacter.Value;
			if (value57 != null)
			{
				int serializedSize33 = value57.GetSerializedSize();
				byte* ptr110 = OperationAdder.DynamicSingleValueCollection_Add(19, 103, key57, serializedSize33);
				ptr110 += value57.Serialize(ptr110);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 103, key57, 0);
			}
		}
		int count22 = _unlockedWorkingVillagers.Count;
		int num69 = 4 * count22;
		int valueSize20 = 2 + num69;
		byte* ptr111 = OperationAdder.DynamicSingleValue_Set(19, 104, valueSize20);
		*(ushort*)ptr111 = (ushort)count22;
		ptr111 += 2;
		int num70 = 0;
		while (num70 < count22)
		{
			((int*)ptr111)[num70] = _unlockedWorkingVillagers[num70];
			int num3 = num70 + 1;
			num70 = num3;
		}
		ptr111 += num69;
		int size2 = _dreamBackLifeRecords.GetSize();
		byte* pDest2 = OperationAdder.Binary_Write(19, 105, 0, size2);
		_dreamBackLifeRecords.CopyTo(0, size2, pDest2);
		ushort serializedFixedSizeOfMetadata2 = _dreamBackLifeRecords.GetSerializedFixedSizeOfMetadata();
		byte* pData2 = OperationAdder.Binary_SetMetadata(19, 105, serializedFixedSizeOfMetadata2);
		_dreamBackLifeRecords.SerializeMetadata(pData2);
		byte* ptr112 = OperationAdder.FixedSingleValue_Set(19, 106, 4);
		*(int*)ptr112 = _actionPointCurrMonth;
		ptr112 += 4;
		byte* ptr113 = OperationAdder.FixedSingleValue_Set(19, 107, 4);
		*(int*)ptr113 = _actionPointPrevMonth;
		ptr113 += 4;
		foreach (KeyValuePair<int, SByteList> item25 in _advancedTeammateCommandDict)
		{
			int key58 = item25.Key;
			SByteList value58 = item25.Value;
			int serializedSize34 = value58.GetSerializedSize();
			byte* ptr114 = OperationAdder.DynamicSingleValueCollection_Add(19, 108, key58, serializedSize34);
			ptr114 += value58.Serialize(ptr114);
		}
		byte* ptr115 = OperationAdder.FixedSingleValue_Set(19, 109, 4);
		*(int*)ptr115 = _lastMonthNotificationsIndex;
		ptr115 += 4;
		foreach (KeyValuePair<int, MonthlyNotificationCollection> previousMonthlyNotification in _previousMonthlyNotifications)
		{
			int key59 = previousMonthlyNotification.Key;
			MonthlyNotificationCollection value59 = previousMonthlyNotification.Value;
			if (value59 != null)
			{
				int serializedSize35 = value59.GetSerializedSize();
				byte* ptr116 = OperationAdder.DynamicSingleValueCollection_Add(19, 110, key59, serializedSize35);
				ptr116 += value59.Serialize(ptr116);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 110, key59, 0);
			}
		}
		byte* ptr117 = OperationAdder.FixedSingleValue_Set(19, 111, 4);
		*(int*)ptr117 = _actionPointPreserved;
		ptr117 += 4;
		foreach (KeyValuePair<int, GameData.Utilities.ShortList> item26 in _villageWorkQualificationImprove)
		{
			int key60 = item26.Key;
			GameData.Utilities.ShortList value60 = item26.Value;
			int serializedSize36 = value60.GetSerializedSize();
			byte* ptr118 = OperationAdder.DynamicSingleValueCollection_Add(19, 112, key60, serializedSize36);
			ptr118 += value60.Serialize(ptr118);
		}
		byte* ptr119 = OperationAdder.FixedSingleValue_Set(19, 113, 1);
		*ptr119 = (byte)_readInLifeSkillCombatCount;
		ptr119++;
		byte* ptr120 = OperationAdder.FixedSingleValue_Set(19, 114, 12);
		ptr120 += _sectWudangHeavenlyTree.Serialize(ptr120);
		int count23 = _sectWudangHeavenlyTreeList.Count;
		int num71 = 24 * count23;
		int valueSize21 = 2 + num71;
		byte* ptr121 = OperationAdder.DynamicSingleValue_Set(19, 115, valueSize21);
		*(ushort*)ptr121 = (ushort)count23;
		ptr121 += 2;
		int num72 = 0;
		while (num72 < count23)
		{
			ptr121 += _sectWudangHeavenlyTreeList[num72].Serialize(ptr121);
			int num3 = num72 + 1;
			num72 = num3;
		}
		int count24 = _sectWudangLingBaoDark.Count;
		int num73 = 4 * count24;
		int valueSize22 = 2 + num73;
		byte* ptr122 = OperationAdder.DynamicSingleValue_Set(19, 116, valueSize22);
		*(ushort*)ptr122 = (ushort)count24;
		ptr122 += 2;
		int num74 = 0;
		while (num74 < count24)
		{
			ptr122 += _sectWudangLingBaoDark[num74].Serialize(ptr122);
			int num3 = num74 + 1;
			num74 = num3;
		}
		int count25 = _sectWudangLingBaoLight.Count;
		int num75 = 4 * count25;
		int valueSize23 = 2 + num75;
		byte* ptr123 = OperationAdder.DynamicSingleValue_Set(19, 117, valueSize23);
		*(ushort*)ptr123 = (ushort)count25;
		ptr123 += 2;
		int num76 = 0;
		while (num76 < count25)
		{
			ptr123 += _sectWudangLingBaoLight[num76].Serialize(ptr123);
			int num3 = num76 + 1;
			num76 = num3;
		}
		int count26 = _shixiangBarbarianMasterIdList.Count;
		int num77 = 4 * count26;
		int valueSize24 = 2 + num77;
		byte* ptr124 = OperationAdder.DynamicSingleValue_Set(19, 118, valueSize24);
		*(ushort*)ptr124 = (ushort)count26;
		ptr124 += 2;
		int num78 = 0;
		while (num78 < count26)
		{
			((int*)ptr124)[num78] = _shixiangBarbarianMasterIdList[num78];
			int num3 = num78 + 1;
			num78 = num3;
		}
		ptr124 += num77;
		int count27 = _legaciesBuildingList.Count;
		int num79 = 8 * count27;
		int valueSize25 = 2 + num79;
		byte* ptr125 = OperationAdder.DynamicSingleValue_Set(19, 119, valueSize25);
		*(ushort*)ptr125 = (ushort)count27;
		ptr125 += 2;
		int num80 = 0;
		while (num80 < count27)
		{
			ptr125 += _legaciesBuildingList[num80].Serialize(ptr125);
			int num3 = num80 + 1;
			num80 = num3;
		}
		foreach (KeyValuePair<int, EquipmentPlan> item27 in _groupCharacterEquipmentRecord)
		{
			int key61 = item27.Key;
			EquipmentPlan value61 = item27.Value;
			byte* ptr126 = OperationAdder.FixedSingleValueCollection_Add(19, 120, key61, 99);
			ptr126 += value61.Serialize(ptr126);
		}
		foreach (KeyValuePair<short, SkillBreakBonusCollection> sectEmeiSkillBreakBonu in _sectEmeiSkillBreakBonus)
		{
			short key62 = sectEmeiSkillBreakBonu.Key;
			SkillBreakBonusCollection value62 = sectEmeiSkillBreakBonu.Value;
			if (value62 != null)
			{
				int serializedSize37 = value62.GetSerializedSize();
				byte* ptr127 = OperationAdder.DynamicSingleValueCollection_Add(19, 121, key62, serializedSize37);
				ptr127 += value62.Serialize(ptr127);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 121, key62, 0);
			}
		}
		int count28 = _informationSettings.Count;
		int num81 = count28;
		int valueSize26 = 2 + num81;
		byte* ptr128 = OperationAdder.DynamicSingleValue_Set(19, 122, valueSize26);
		*(ushort*)ptr128 = (ushort)count28;
		ptr128 += 2;
		int num82 = 0;
		while (num82 < count28)
		{
			ptr128[num82] = (byte)_informationSettings[num82];
			int num3 = num82 + 1;
			num82 = num3;
		}
		ptr128 += num81;
		int count29 = _sectXuannvUnlockedMusicList.Count;
		int num83 = 2 * count29;
		int valueSize27 = 2 + num83;
		byte* ptr129 = OperationAdder.DynamicSingleValue_Set(19, 123, valueSize27);
		*(ushort*)ptr129 = (ushort)count29;
		ptr129 += 2;
		int num84 = 0;
		while (num84 < count29)
		{
			((short*)ptr129)[num84] = _sectXuannvUnlockedMusicList[num84];
			int num3 = num84 + 1;
			num84 = num3;
		}
		ptr129 += num83;
		byte* ptr130 = OperationAdder.FixedSingleValue_Set(19, 124, 1);
		*ptr130 = (byte)_sectXuannvPlayerPlayMode;
		ptr130++;
		byte* ptr131 = OperationAdder.FixedSingleValue_Set(19, 125, 2);
		*(short*)ptr131 = _sectXuannvPlayerMusicId;
		ptr131 += 2;
		byte* ptr132 = OperationAdder.FixedSingleValue_Set(19, 126, 1);
		*ptr132 = (_sectXuannvPlayerIsEnabled ? ((byte)1) : ((byte)0));
		ptr132++;
		foreach (KeyValuePair<short, GameData.Utilities.ShortList> sectEmeiBreakBonusTemplateId in _sectEmeiBreakBonusTemplateIds)
		{
			short key63 = sectEmeiBreakBonusTemplateId.Key;
			GameData.Utilities.ShortList value63 = sectEmeiBreakBonusTemplateId.Value;
			int serializedSize38 = value63.GetSerializedSize();
			byte* ptr133 = OperationAdder.DynamicSingleValueCollection_Add(19, 127, key63, serializedSize38);
			ptr133 += value63.Serialize(ptr133);
		}
		foreach (KeyValuePair<int, int> mirrorCharacter in _mirrorCharacters)
		{
			int key64 = mirrorCharacter.Key;
			int value64 = mirrorCharacter.Value;
			byte* ptr134 = OperationAdder.FixedSingleValueCollection_Add(19, 128, key64, 4);
			*(int*)ptr134 = value64;
			ptr134 += 4;
		}
		int count30 = _sectEmeiBloodLocations.Count;
		int num85 = 4 * count30;
		int valueSize28 = 2 + num85;
		byte* ptr135 = OperationAdder.DynamicSingleValue_Set(19, 129, valueSize28);
		*(ushort*)ptr135 = (ushort)count30;
		ptr135 += 2;
		int num86 = 0;
		while (num86 < count30)
		{
			ptr135 += _sectEmeiBloodLocations[num86].Serialize(ptr135);
			int num3 = num86 + 1;
			num86 = num3;
		}
		byte* ptr136 = OperationAdder.FixedSingleValue_Set(19, 130, 8);
		*(long*)ptr136 = _sectEmeiExp;
		ptr136 += 8;
		byte* ptr137 = OperationAdder.FixedSingleValue_Set(19, 131, 1);
		*ptr137 = _enemyPracticeLevel;
		ptr137++;
		foreach (KeyValuePair<int, byte> characterPoisonImmunity in _characterPoisonImmunities)
		{
			int key65 = characterPoisonImmunity.Key;
			byte value65 = characterPoisonImmunity.Value;
			byte* ptr138 = OperationAdder.FixedSingleValueCollection_Add(19, 132, key65, 1);
			*ptr138 = value65;
			ptr138++;
		}
		int serializedSize39 = _taiwuInformationReceivedHistories.GetSerializedSize();
		byte* ptr139 = OperationAdder.DynamicSingleValue_Set(19, 133, serializedSize39);
		ptr139 += _taiwuInformationReceivedHistories.Serialize(ptr139);
		int count31 = _sectXuannvEvaluatedMusicList.Count;
		int num87 = 2 * count31;
		int valueSize29 = 2 + num87;
		byte* ptr140 = OperationAdder.DynamicSingleValue_Set(19, 134, valueSize29);
		*(ushort*)ptr140 = (ushort)count31;
		ptr140 += 2;
		int num88 = 0;
		while (num88 < count31)
		{
			((short*)ptr140)[num88] = _sectXuannvEvaluatedMusicList[num88];
			int num3 = num88 + 1;
			num88 = num3;
		}
		ptr140 += num87;
		foreach (KeyValuePair<short, short> item28 in _combatSkillJumpThreshold)
		{
			short key66 = item28.Key;
			short value66 = item28.Value;
			byte* ptr141 = OperationAdder.FixedSingleValueCollection_Add(19, 135, key66, 2);
			*(short*)ptr141 = value66;
			ptr141 += 2;
		}
		byte* ptr142 = OperationAdder.FixedSingleValue_Set(19, 136, 8);
		*(ulong*)ptr142 = _dreamBackUnlockStates;
		ptr142 += 8;
		int size3 = _dreamBackArchiveBackup.GetSize();
		byte* pDest3 = OperationAdder.Binary_Write(19, 137, 0, size3);
		_dreamBackArchiveBackup.CopyTo(0, size3, pDest3);
		ushort serializedFixedSizeOfMetadata3 = _dreamBackArchiveBackup.GetSerializedFixedSizeOfMetadata();
		byte* pData3 = OperationAdder.Binary_SetMetadata(19, 137, serializedFixedSizeOfMetadata3);
		_dreamBackArchiveBackup.SerializeMetadata(pData3);
		int serializedSize40 = _overwrittenTaiwu.GetSerializedSize();
		byte* ptr143 = OperationAdder.DynamicSingleValue_Set(19, 138, serializedSize40);
		ptr143 += _overwrittenTaiwu.Serialize(ptr143);
		int num89 = 2;
		int count32 = _dreamBackLocationData.Count;
		int num90 = 0;
		while (num90 < count32)
		{
			num89 += _dreamBackLocationData[num90].GetSerializedSize();
			int num3 = num90 + 1;
			num90 = num3;
		}
		byte* ptr144 = OperationAdder.DynamicSingleValue_Set(19, 139, num89);
		*(ushort*)ptr144 = (ushort)count32;
		ptr144 += 2;
		int num91 = 0;
		while (num91 < count32)
		{
			ptr144 += _dreamBackLocationData[num91].Serialize(ptr144);
			int num3 = num91 + 1;
			num91 = num3;
		}
		int serializedSize41 = _dreamBackGenealogyObsoleted.GetSerializedSize();
		byte* ptr145 = OperationAdder.DynamicSingleValue_Set(19, 140, serializedSize41);
		ptr145 += _dreamBackGenealogyObsoleted.Serialize(ptr145);
		foreach (KeyValuePair<short, ConflictCombatSkill> conflictCombatSkill in _conflictCombatSkills)
		{
			short key67 = conflictCombatSkill.Key;
			ConflictCombatSkill value67 = conflictCombatSkill.Value;
			if (value67 != null)
			{
				int serializedSize42 = value67.GetSerializedSize();
				byte* ptr146 = OperationAdder.DynamicSingleValueCollection_Add(19, 141, key67, serializedSize42);
				ptr146 += value67.Serialize(ptr146);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 141, key67, 0);
			}
		}
		foreach (KeyValuePair<int, ShortPair> characterRevealedHobby in _characterRevealedHobbies)
		{
			int key68 = characterRevealedHobby.Key;
			ShortPair value68 = characterRevealedHobby.Value;
			byte* ptr147 = OperationAdder.FixedSingleValueCollection_Add(19, 142, key68, 4);
			ptr147 += value68.Serialize(ptr147);
		}
		byte* ptr148 = OperationAdder.FixedSingleValue_Set(19, 143, 4);
		*(int*)ptr148 = _finalDateBeforeDreamBack;
		ptr148 += 4;
		int serializedSize43 = _dreamBackTaiwu.GetSerializedSize();
		byte* ptr149 = OperationAdder.DynamicSingleValue_Set(19, 144, serializedSize43);
		ptr149 += _dreamBackTaiwu.Serialize(ptr149);
		foreach (KeyValuePair<long, SpecialEffectWrapper> conflictEffectWrapper in _conflictEffectWrappers)
		{
			long key69 = conflictEffectWrapper.Key;
			SpecialEffectWrapper value69 = conflictEffectWrapper.Value;
			if (value69 != null)
			{
				int serializedSize44 = value69.GetSerializedSize();
				byte* ptr150 = OperationAdder.DynamicSingleValueCollection_Add(19, 145, key69, serializedSize44);
				ptr150 += value69.Serialize(ptr150);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 145, key69, 0);
			}
		}
		int serializedSize45 = _dreamBackGlobalEventArgBox.GetSerializedSize();
		byte* ptr151 = OperationAdder.DynamicSingleValue_Set(19, 146, serializedSize45);
		ptr151 += _dreamBackGlobalEventArgBox.Serialize(ptr151);
		int serializedSize46 = _dreamBackDlcEventArgBox.GetSerializedSize();
		byte* ptr152 = OperationAdder.DynamicSingleValue_Set(19, 147, serializedSize46);
		ptr152 += _dreamBackDlcEventArgBox.Serialize(ptr152);
		int num92 = 0;
		int num93 = 0;
		while (num93 < 15)
		{
			EventArgBox eventArgBox3 = _dreamBackSectMainStoryEventArgBox[num93];
			num92 = ((eventArgBox3 == null) ? (num92 + 4) : (num92 + (4 + eventArgBox3.GetSerializedSize())));
			int num3 = num93 + 1;
			num93 = num3;
		}
		byte* ptr153 = OperationAdder.DynamicElementList_InsertRange(19, 148, 0, 15, num92);
		int num94 = 0;
		while (num94 < 15)
		{
			EventArgBox eventArgBox4 = _dreamBackSectMainStoryEventArgBox[num94];
			if (eventArgBox4 != null)
			{
				byte* ptr154 = ptr153;
				ptr153 += 4;
				int num95 = eventArgBox4.Serialize(ptr153);
				ptr153 += num95;
				*(int*)ptr154 = num95;
			}
			else
			{
				*(int*)ptr153 = 0;
				ptr153 += 4;
			}
			int num3 = num94 + 1;
			num94 = num3;
		}
		int serializedSize47 = _dejaVuEventCharacters.GetSerializedSize();
		byte* ptr155 = OperationAdder.DynamicSingleValue_Set(19, 149, serializedSize47);
		ptr155 += _dejaVuEventCharacters.Serialize(ptr155);
		foreach (KeyValuePair<short, CharacterPropertyBonus> taiwuPropertyPermanentBonuse in _taiwuPropertyPermanentBonuses)
		{
			short key70 = taiwuPropertyPermanentBonuse.Key;
			CharacterPropertyBonus value70 = taiwuPropertyPermanentBonuse.Value;
			int serializedSize48 = value70.GetSerializedSize();
			byte* ptr156 = OperationAdder.DynamicSingleValueCollection_Add(19, 150, key70, serializedSize48);
			ptr156 += value70.Serialize(ptr156);
		}
		int count33 = _selectedUniqueLegacies.Count;
		int num96 = 2 * count33;
		int valueSize30 = 2 + num96;
		byte* ptr157 = OperationAdder.DynamicSingleValue_Set(19, 151, valueSize30);
		*(ushort*)ptr157 = (ushort)count33;
		ptr157 += 2;
		int num97 = 0;
		while (num97 < count33)
		{
			((short*)ptr157)[num97] = _selectedUniqueLegacies[num97];
			int num3 = num97 + 1;
			num97 = num3;
		}
		ptr157 += num96;
		foreach (KeyValuePair<int, IntPair> item29 in _taiwuAddOneWayRelationCoolDown)
		{
			int key71 = item29.Key;
			IntPair value71 = item29.Value;
			byte* ptr158 = OperationAdder.FixedSingleValueCollection_Add(19, 152, key71, 8);
			ptr158 += value71.Serialize(ptr158);
		}
		foreach (KeyValuePair<int, int> item30 in _carrierTamePoint)
		{
			int key72 = item30.Key;
			int value72 = item30.Value;
			byte* ptr159 = OperationAdder.FixedSingleValueCollection_Add(19, 153, key72, 4);
			*(int*)ptr159 = value72;
			ptr159 += 4;
		}
		int count34 = _dreamBackPreviousTaiwuCharIds.Count;
		int num98 = 4 * count34;
		int valueSize31 = 2 + num98;
		byte* ptr160 = OperationAdder.DynamicSingleValue_Set(19, 154, valueSize31);
		*(ushort*)ptr160 = (ushort)count34;
		ptr160 += 2;
		int num99 = 0;
		while (num99 < count34)
		{
			((int*)ptr160)[num99] = _dreamBackPreviousTaiwuCharIds[num99];
			int num3 = num99 + 1;
			num99 = num3;
		}
		ptr160 += num98;
		foreach (KeyValuePair<int, Location> item31 in _fleeCarrierLocation)
		{
			int key73 = item31.Key;
			Location value73 = item31.Value;
			byte* ptr161 = OperationAdder.FixedSingleValueCollection_Add(19, 155, key73, 4);
			ptr161 += value73.Serialize(ptr161);
		}
		byte* ptr162 = OperationAdder.FixedSingleValue_Set(19, 156, 1);
		*ptr162 = _favorabilityChange;
		ptr162++;
		byte* ptr163 = OperationAdder.FixedSingleValue_Set(19, 157, 1);
		*ptr163 = (_canResetWorldSettings ? ((byte)1) : ((byte)0));
		ptr163++;
		foreach (KeyValuePair<short, SettlementExtraData> settlementExtraDatum in _settlementExtraData)
		{
			short key74 = settlementExtraDatum.Key;
			SettlementExtraData value74 = settlementExtraDatum.Value;
			if (value74 != null)
			{
				int serializedSize49 = value74.GetSerializedSize();
				byte* ptr164 = OperationAdder.DynamicSingleValueCollection_Add(19, 158, key74, serializedSize49);
				ptr164 += value74.Serialize(ptr164);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 158, key74, 0);
			}
		}
		foreach (KeyValuePair<ulong, EventArgBox> dlcArgBox in _dlcArgBoxes)
		{
			ulong key75 = dlcArgBox.Key;
			EventArgBox value75 = dlcArgBox.Value;
			if (value75 != null)
			{
				int serializedSize50 = value75.GetSerializedSize();
				byte* ptr165 = OperationAdder.DynamicSingleValueCollection_Add(19, 159, key75, serializedSize50);
				ptr165 += value75.Serialize(ptr165);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 159, key75, 0);
			}
		}
		int num100 = 2;
		int count35 = _jiaoPools.Count;
		int num101 = 0;
		while (num101 < count35)
		{
			JiaoPool jiaoPool = _jiaoPools[num101];
			num100 = ((jiaoPool == null) ? (num100 + 2) : (num100 + (2 + jiaoPool.GetSerializedSize())));
			int num3 = num101 + 1;
			num101 = num3;
		}
		byte* ptr166 = OperationAdder.DynamicSingleValue_Set(19, 160, num100);
		*(ushort*)ptr166 = (ushort)count35;
		ptr166 += 2;
		int num102 = 0;
		while (num102 < count35)
		{
			JiaoPool jiaoPool2 = _jiaoPools[num102];
			if (jiaoPool2 != null)
			{
				byte* ptr167 = ptr166;
				ptr166 += 2;
				int num103 = jiaoPool2.Serialize(ptr166);
				ptr166 += num103;
				*(ushort*)ptr167 = (ushort)num103;
			}
			else
			{
				*(short*)ptr166 = 0;
				ptr166 += 2;
			}
			int num3 = num102 + 1;
			num102 = num3;
		}
		foreach (KeyValuePair<int, GameData.DLC.FiveLoong.Jiao> jiao in _jiaos)
		{
			int key76 = jiao.Key;
			GameData.DLC.FiveLoong.Jiao value76 = jiao.Value;
			if (value76 != null)
			{
				int serializedSize51 = value76.GetSerializedSize();
				byte* ptr168 = OperationAdder.DynamicSingleValueCollection_Add(19, 161, key76, serializedSize51);
				ptr168 += value76.Serialize(ptr168);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 161, key76, 0);
			}
		}
		foreach (KeyValuePair<int, ChildrenOfLoong> item32 in _childrenOfLoong)
		{
			int key77 = item32.Key;
			ChildrenOfLoong value77 = item32.Value;
			if (value77 != null)
			{
				int serializedSize52 = value77.GetSerializedSize();
				byte* ptr169 = OperationAdder.DynamicSingleValueCollection_Add(19, 162, key77, serializedSize52);
				ptr169 += value77.Serialize(ptr169);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 162, key77, 0);
			}
		}
		foreach (KeyValuePair<short, LoongInfo> item33 in _fiveLoongDict)
		{
			short key78 = item33.Key;
			LoongInfo value78 = item33.Value;
			if (value78 != null)
			{
				int serializedSize53 = value78.GetSerializedSize();
				byte* ptr170 = OperationAdder.DynamicSingleValueCollection_Add(19, 163, key78, serializedSize53);
				ptr170 += value78.Serialize(ptr170);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 163, key78, 0);
			}
		}
		int num104 = 2;
		int count36 = _jiaoPoolRecords.Count;
		int num105 = 0;
		while (num105 < count36)
		{
			JiaoPoolRecordList jiaoPoolRecordList = _jiaoPoolRecords[num105];
			num104 = ((jiaoPoolRecordList == null) ? (num104 + 2) : (num104 + (2 + jiaoPoolRecordList.GetSerializedSize())));
			int num3 = num105 + 1;
			num105 = num3;
		}
		byte* ptr171 = OperationAdder.DynamicSingleValue_Set(19, 164, num104);
		*(ushort*)ptr171 = (ushort)count36;
		ptr171 += 2;
		int num106 = 0;
		while (num106 < count36)
		{
			JiaoPoolRecordList jiaoPoolRecordList2 = _jiaoPoolRecords[num106];
			if (jiaoPoolRecordList2 != null)
			{
				byte* ptr172 = ptr171;
				ptr171 += 2;
				int num107 = jiaoPoolRecordList2.Serialize(ptr171);
				ptr171 += num107;
				*(ushort*)ptr172 = (ushort)num107;
			}
			else
			{
				*(short*)ptr171 = 0;
				ptr171 += 2;
			}
			int num3 = num106 + 1;
			num106 = num3;
		}
		foreach (KeyValuePair<ulong, DlcEntryWrapper> dlcEntry in _dlcEntries)
		{
			ulong key79 = dlcEntry.Key;
			DlcEntryWrapper value79 = dlcEntry.Value;
			if (value79 != null)
			{
				int serializedSize54 = value79.GetSerializedSize();
				byte* ptr173 = OperationAdder.DynamicSingleValueCollection_Add(19, 165, key79, serializedSize54);
				ptr173 += value79.Serialize(ptr173);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 165, key79, 0);
			}
		}
		foreach (KeyValuePair<short, int> item34 in _choosyRemainUpgradeRateDict)
		{
			short key80 = item34.Key;
			int value80 = item34.Value;
			byte* ptr174 = OperationAdder.FixedSingleValueCollection_Add(19, 167, key80, 4);
			*(int*)ptr174 = value80;
			ptr174 += 4;
		}
		foreach (KeyValuePair<short, int> item35 in _choosyRemainUpgradeCountDict)
		{
			short key81 = item35.Key;
			int value81 = item35.Value;
			byte* ptr175 = OperationAdder.FixedSingleValueCollection_Add(19, 168, key81, 4);
			*(int*)ptr175 = value81;
			ptr175 += 4;
		}
		foreach (KeyValuePair<ulong, int> item36 in _buildingMoneyPrestigeSuccessRateCompensation)
		{
			ulong key82 = item36.Key;
			int value82 = item36.Value;
			byte* ptr176 = OperationAdder.FixedSingleValueCollection_Add(19, 169, key82, 4);
			*(int*)ptr176 = value82;
			ptr176 += 4;
		}
		foreach (KeyValuePair<short, VoidValue> item37 in _ownedClothingSet)
		{
			short key83 = item37.Key;
			VoidValue value83 = item37.Value;
			byte* ptr177 = OperationAdder.FixedSingleValueCollection_Add(19, 170, key83, 0);
			ptr177 += value83.Serialize(ptr177);
		}
		foreach (KeyValuePair<int, short> clothingDisplayModification in _clothingDisplayModifications)
		{
			int key84 = clothingDisplayModification.Key;
			short value84 = clothingDisplayModification.Value;
			byte* ptr178 = OperationAdder.FixedSingleValueCollection_Add(19, 171, key84, 2);
			*(short*)ptr178 = value84;
			ptr178 += 2;
		}
		byte* ptr179 = OperationAdder.FixedSingleValue_Set(19, 172, 1);
		*ptr179 = (_disableEnemyAi ? ((byte)1) : ((byte)0));
		ptr179++;
		byte* ptr180 = OperationAdder.FixedSingleValue_Set(19, 173, 1);
		*ptr180 = (_enemyUnyieldingFallen ? ((byte)1) : ((byte)0));
		ptr180++;
		byte* ptr181 = OperationAdder.FixedSingleValue_Set(19, 174, 2);
		*(short*)ptr181 = _lastTargetDistance;
		ptr181 += 2;
		byte* ptr182 = OperationAdder.FixedSingleValue_Set(19, 175, 4);
		ptr182 += _weaveClothingDisplaySetting.Serialize(ptr182);
		byte* ptr183 = OperationAdder.FixedSingleValue_Set(19, 176, 8);
		ptr183 += _emptyToolKey.Serialize(ptr183);
		int serializedSize55 = _sectWuxianWugJugPoisons.GetSerializedSize();
		byte* ptr184 = OperationAdder.DynamicSingleValue_Set(19, 177, serializedSize55);
		ptr184 += _sectWuxianWugJugPoisons.Serialize(ptr184);
		foreach (KeyValuePair<int, PrioritizedActionCooldownList> characterPrioritizedActionCooldown in _characterPrioritizedActionCooldowns)
		{
			int key85 = characterPrioritizedActionCooldown.Key;
			PrioritizedActionCooldownList value85 = characterPrioritizedActionCooldown.Value;
			if (value85 != null)
			{
				int serializedSize56 = value85.GetSerializedSize();
				byte* ptr185 = OperationAdder.DynamicSingleValueCollection_Add(19, 179, key85, serializedSize56);
				ptr185 += value85.Serialize(ptr185);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 179, key85, 0);
			}
		}
		int num108 = 2;
		int count37 = _cricketCollectionDataList.Count;
		int num109 = 0;
		while (num109 < count37)
		{
			CricketCollectionData cricketCollectionData = _cricketCollectionDataList[num109];
			num108 = ((cricketCollectionData == null) ? (num108 + 2) : (num108 + (2 + cricketCollectionData.GetSerializedSize())));
			int num3 = num109 + 1;
			num109 = num3;
		}
		byte* ptr186 = OperationAdder.DynamicSingleValue_Set(19, 180, num108);
		*(ushort*)ptr186 = (ushort)count37;
		ptr186 += 2;
		int num110 = 0;
		while (num110 < count37)
		{
			CricketCollectionData cricketCollectionData2 = _cricketCollectionDataList[num110];
			if (cricketCollectionData2 != null)
			{
				byte* ptr187 = ptr186;
				ptr186 += 2;
				int num111 = cricketCollectionData2.Serialize(ptr186);
				ptr186 += num111;
				*(ushort*)ptr187 = (ushort)num111;
			}
			else
			{
				*(short*)ptr186 = 0;
				ptr186 += 2;
			}
			int num3 = num110 + 1;
			num110 = num3;
		}
		foreach (KeyValuePair<ulong, RecruitCharacterDataList> recruitCharacterDataList in _recruitCharacterDataLists)
		{
			ulong key86 = recruitCharacterDataList.Key;
			RecruitCharacterDataList value86 = recruitCharacterDataList.Value;
			if (value86 != null)
			{
				int serializedSize57 = value86.GetSerializedSize();
				byte* ptr188 = OperationAdder.DynamicSingleValueCollection_Add(19, 181, key86, serializedSize57);
				ptr188 += value86.Serialize(ptr188);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 181, key86, 0);
			}
		}
		foreach (KeyValuePair<int, PossessionData> sectJingangPossessionCharacter in _sectJingangPossessionCharacters)
		{
			int key87 = sectJingangPossessionCharacter.Key;
			PossessionData value87 = sectJingangPossessionCharacter.Value;
			if (value87 != null)
			{
				int serializedSize58 = value87.GetSerializedSize();
				byte* ptr189 = OperationAdder.DynamicSingleValueCollection_Add(19, 182, key87, serializedSize58);
				ptr189 += value87.Serialize(ptr189);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 182, key87, 0);
			}
		}
		foreach (KeyValuePair<IntPair, int> mixedPoisonEffectTriggerDate in _mixedPoisonEffectTriggerDates)
		{
			IntPair key88 = mixedPoisonEffectTriggerDate.Key;
			int value88 = mixedPoisonEffectTriggerDate.Value;
			byte* ptr190 = OperationAdder.FixedSingleValueCollection_Add(19, 183, key88, 4);
			*(int*)ptr190 = value88;
			ptr190 += 4;
		}
		foreach (KeyValuePair<int, short> item38 in _cricketExtraAge)
		{
			int key89 = item38.Key;
			short value89 = item38.Value;
			byte* ptr191 = OperationAdder.FixedSingleValueCollection_Add(19, 184, key89, 2);
			*(short*)ptr191 = value89;
			ptr191 += 2;
		}
		int num112 = 2;
		int count38 = _enemyNestInitializationDates.Count;
		int num113 = 0;
		while (num113 < count38)
		{
			num112 += _enemyNestInitializationDates[num113].GetSerializedSize();
			int num3 = num113 + 1;
			num113 = num3;
		}
		byte* ptr192 = OperationAdder.DynamicSingleValue_Set(19, 185, num112);
		*(ushort*)ptr192 = (ushort)count38;
		ptr192 += 2;
		int num114 = 0;
		while (num114 < count38)
		{
			ptr192 += _enemyNestInitializationDates[num114].Serialize(ptr192);
			int num3 = num114 + 1;
			num114 = num3;
		}
		foreach (KeyValuePair<int, SecretInformationOccurrence> item39 in _secretInformationOccurrence)
		{
			int key90 = item39.Key;
			SecretInformationOccurrence value90 = item39.Value;
			if (value90 != null)
			{
				int serializedSize59 = value90.GetSerializedSize();
				byte* ptr193 = OperationAdder.DynamicSingleValueCollection_Add(19, 186, key90, serializedSize59);
				ptr193 += value90.Serialize(ptr193);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 186, key90, 0);
			}
		}
		foreach (KeyValuePair<int, SecretInformationHandle> item40 in _secretInformationHandleMap)
		{
			int key91 = item40.Key;
			SecretInformationHandle value91 = item40.Value;
			if (value91 != null)
			{
				int serializedSize60 = value91.GetSerializedSize();
				byte* ptr194 = OperationAdder.DynamicSingleValueCollection_Add(19, 187, key91, serializedSize60);
				ptr194 += value91.Serialize(ptr194);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 187, key91, 0);
			}
		}
		foreach (KeyValuePair<int, IntList> item41 in _secretInformationCharacterOwn)
		{
			int key92 = item41.Key;
			IntList value92 = item41.Value;
			int serializedSize61 = value92.GetSerializedSize();
			byte* ptr195 = OperationAdder.DynamicSingleValueCollection_Add(19, 188, key92, serializedSize61);
			ptr195 += value92.Serialize(ptr195);
		}
		foreach (KeyValuePair<int, SecretInformationCharacterExtraInfoCollection> item42 in _secretInformationSecretInformationCharacterExtraInfoCollectionMap)
		{
			int key93 = item42.Key;
			SecretInformationCharacterExtraInfoCollection value93 = item42.Value;
			if (value93 != null)
			{
				int serializedSize62 = value93.GetSerializedSize();
				byte* ptr196 = OperationAdder.DynamicSingleValueCollection_Add(19, 189, key93, serializedSize62);
				ptr196 += value93.Serialize(ptr196);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 189, key93, 0);
			}
		}
		foreach (KeyValuePair<int, SecretInformationCharacterRelationshipSnapshotCollection> item43 in _secretInformationCharacterRelationshipSnapshotCollectionMap)
		{
			int key94 = item43.Key;
			SecretInformationCharacterRelationshipSnapshotCollection value94 = item43.Value;
			if (value94 != null)
			{
				int serializedSize63 = value94.GetSerializedSize();
				byte* ptr197 = OperationAdder.DynamicSingleValueCollection_Add(19, 190, key94, serializedSize63);
				ptr197 += value94.Serialize(ptr197);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 190, key94, 0);
			}
		}
		foreach (KeyValuePair<int, SecretInformationShopCharacterData> secretInformationShopCharacterDatum in _secretInformationShopCharacterData)
		{
			int key95 = secretInformationShopCharacterDatum.Key;
			SecretInformationShopCharacterData value95 = secretInformationShopCharacterDatum.Value;
			if (value95 != null)
			{
				int serializedSize64 = value95.GetSerializedSize();
				byte* ptr198 = OperationAdder.DynamicSingleValueCollection_Add(19, 191, key95, serializedSize64);
				ptr198 += value95.Serialize(ptr198);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 191, key95, 0);
			}
		}
		byte* ptr199 = OperationAdder.FixedSingleValue_Set(19, 192, 1);
		*ptr199 = (_changeTrickIsFlaw ? ((byte)1) : ((byte)0));
		ptr199++;
		byte* ptr200 = OperationAdder.FixedSingleValue_Set(19, 193, 4);
		*(int*)ptr200 = _nextAnimalId;
		ptr200 += 4;
		foreach (KeyValuePair<int, GameData.Domains.Character.Animal> animal in _animals)
		{
			int key96 = animal.Key;
			GameData.Domains.Character.Animal value96 = animal.Value;
			if (value96 != null)
			{
				int serializedSize65 = value96.GetSerializedSize();
				byte* ptr201 = OperationAdder.DynamicSingleValueCollection_Add(19, 194, key96, serializedSize65);
				ptr201 += value96.Serialize(ptr201);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 194, key96, 0);
			}
		}
		foreach (KeyValuePair<short, SettlementTreasury> settlementTreasury in _settlementTreasuries)
		{
			short key97 = settlementTreasury.Key;
			SettlementTreasury value97 = settlementTreasury.Value;
			if (value97 != null)
			{
				int serializedSize66 = value97.GetSerializedSize();
				byte* ptr202 = OperationAdder.DynamicSingleValueCollection_Add(19, 195, key97, serializedSize66);
				ptr202 += value97.Serialize(ptr202);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 195, key97, 0);
			}
		}
		int count39 = _prevMartialArtTournamentWinners.Count;
		int num115 = 2 * count39;
		int valueSize32 = 2 + num115;
		byte* ptr203 = OperationAdder.DynamicSingleValue_Set(19, 196, valueSize32);
		*(ushort*)ptr203 = (ushort)count39;
		ptr203 += 2;
		int num116 = 0;
		while (num116 < count39)
		{
			((short*)ptr203)[num116] = _prevMartialArtTournamentWinners[num116];
			int num3 = num116 + 1;
			num116 = num3;
		}
		ptr203 += num115;
		foreach (KeyValuePair<ItemKey, IntList> item44 in _bookStrategiesExpireTime)
		{
			ItemKey key98 = item44.Key;
			IntList value98 = item44.Value;
			int serializedSize67 = value98.GetSerializedSize();
			byte* ptr204 = OperationAdder.DynamicSingleValueCollection_Add(19, 197, key98, serializedSize67);
			ptr204 += value98.Serialize(ptr204);
		}
		byte* ptr205 = OperationAdder.FixedSingleValue_Set(19, 198, 1);
		*ptr205 = _unlockedCombatSkillPlanCount;
		ptr205++;
		byte* ptr206 = OperationAdder.FixedSingleValue_Set(19, 199, 2);
		*(short*)ptr206 = _activeLoopingProgress;
		ptr206 += 2;
		byte* ptr207 = OperationAdder.FixedSingleValue_Set(19, 200, 2);
		*(short*)ptr207 = _activeReadingProgress;
		ptr207 += 2;
		foreach (KeyValuePair<int, IntList> item45 in _characterExtraNeiliAllocationProgress)
		{
			int key99 = item45.Key;
			IntList value99 = item45.Value;
			int serializedSize68 = value99.GetSerializedSize();
			byte* ptr208 = OperationAdder.DynamicSingleValueCollection_Add(19, 201, key99, serializedSize68);
			ptr208 += value99.Serialize(ptr208);
		}
		int count40 = _qiArtStrategyList.Count;
		int num117 = count40;
		int valueSize33 = 2 + num117;
		byte* ptr209 = OperationAdder.DynamicSingleValue_Set(19, 202, valueSize33);
		*(ushort*)ptr209 = (ushort)count40;
		ptr209 += 2;
		int num118 = 0;
		while (num118 < count40)
		{
			ptr209[num118] = (byte)_qiArtStrategyList[num118];
			int num3 = num118 + 1;
			num118 = num3;
		}
		ptr209 += num117;
		int count41 = _qiArtStrategyExpireTimeList.Count;
		int num119 = 4 * count41;
		int valueSize34 = 2 + num119;
		byte* ptr210 = OperationAdder.DynamicSingleValue_Set(19, 203, valueSize34);
		*(ushort*)ptr210 = (ushort)count41;
		ptr210 += 2;
		int num120 = 0;
		while (num120 < count41)
		{
			((int*)ptr210)[num120] = _qiArtStrategyExpireTimeList[num120];
			int num3 = num120 + 1;
			num120 = num3;
		}
		ptr210 += num119;
		foreach (KeyValuePair<short, short> item46 in _legacyPointTimesDict)
		{
			short key100 = item46.Key;
			short value100 = item46.Value;
			byte* ptr211 = OperationAdder.FixedSingleValueCollection_Add(19, 204, key100, 2);
			*(short*)ptr211 = value100;
			ptr211 += 2;
		}
		int num121 = 2;
		int count42 = _sectRanshanThreeCorpses.Count;
		int num122 = 0;
		while (num122 < count42)
		{
			SectStoryThreeCorpsesCharacter sectStoryThreeCorpsesCharacter = _sectRanshanThreeCorpses[num122];
			num121 = ((sectStoryThreeCorpsesCharacter == null) ? (num121 + 2) : (num121 + (2 + sectStoryThreeCorpsesCharacter.GetSerializedSize())));
			int num3 = num122 + 1;
			num122 = num3;
		}
		byte* ptr212 = OperationAdder.DynamicSingleValue_Set(19, 205, num121);
		*(ushort*)ptr212 = (ushort)count42;
		ptr212 += 2;
		int num123 = 0;
		while (num123 < count42)
		{
			SectStoryThreeCorpsesCharacter sectStoryThreeCorpsesCharacter2 = _sectRanshanThreeCorpses[num123];
			if (sectStoryThreeCorpsesCharacter2 != null)
			{
				byte* ptr213 = ptr212;
				ptr212 += 2;
				int num124 = sectStoryThreeCorpsesCharacter2.Serialize(ptr212);
				ptr212 += num124;
				*(ushort*)ptr213 = (ushort)num124;
			}
			else
			{
				*(short*)ptr212 = 0;
				ptr212 += 2;
			}
			int num3 = num123 + 1;
			num123 = num3;
		}
		int serializedSize69 = _sectBaihuaLifeLinkData.GetSerializedSize();
		byte* ptr214 = OperationAdder.DynamicSingleValue_Set(19, 206, serializedSize69);
		ptr214 += _sectBaihuaLifeLinkData.Serialize(ptr214);
		int size4 = _samsaraPlatformRecordCollection.GetSize();
		byte* pDest4 = OperationAdder.Binary_Write(19, 207, 0, size4);
		_samsaraPlatformRecordCollection.CopyTo(0, size4, pDest4);
		ushort serializedFixedSizeOfMetadata4 = _samsaraPlatformRecordCollection.GetSerializedFixedSizeOfMetadata();
		byte* pData4 = OperationAdder.Binary_SetMetadata(19, 207, serializedFixedSizeOfMetadata4);
		_samsaraPlatformRecordCollection.SerializeMetadata(pData4);
		foreach (KeyValuePair<int, SByteList> item47 in _availableReadingStrategyMap)
		{
			int key101 = item47.Key;
			SByteList value101 = item47.Value;
			int serializedSize70 = value101.GetSerializedSize();
			byte* ptr215 = OperationAdder.DynamicSingleValueCollection_Add(19, 208, key101, serializedSize70);
			ptr215 += value101.Serialize(ptr215);
		}
		int count43 = _referenceSkillList.Count;
		int num125 = 2 * count43;
		int valueSize35 = 2 + num125;
		byte* ptr216 = OperationAdder.DynamicSingleValue_Set(19, 209, valueSize35);
		*(ushort*)ptr216 = (ushort)count43;
		ptr216 += 2;
		int num126 = 0;
		while (num126 < count43)
		{
			((short*)ptr216)[num126] = _referenceSkillList[num126];
			int num3 = num126 + 1;
			num126 = num3;
		}
		ptr216 += num125;
		foreach (KeyValuePair<short, SByteList> item48 in _availableQiArtStrategyMap)
		{
			short key102 = item48.Key;
			SByteList value102 = item48.Value;
			int serializedSize71 = value102.GetSerializedSize();
			byte* ptr217 = OperationAdder.DynamicSingleValueCollection_Add(19, 210, key102, serializedSize71);
			ptr217 += value102.Serialize(ptr217);
		}
		int count44 = _loopingEventSkillIdList.Count;
		int num127 = 2 * count44;
		int valueSize36 = 2 + num127;
		byte* ptr218 = OperationAdder.DynamicSingleValue_Set(19, 211, valueSize36);
		*(ushort*)ptr218 = (ushort)count44;
		ptr218 += 2;
		int num128 = 0;
		while (num128 < count44)
		{
			((short*)ptr218)[num128] = _loopingEventSkillIdList[num128];
			int num3 = num128 + 1;
			num128 = num3;
		}
		ptr218 += num127;
		foreach (KeyValuePair<short, SByteList> item49 in _qiArtStrategyMap)
		{
			short key103 = item49.Key;
			SByteList value103 = item49.Value;
			int serializedSize72 = value103.GetSerializedSize();
			byte* ptr219 = OperationAdder.DynamicSingleValueCollection_Add(19, 212, key103, serializedSize72);
			ptr219 += value103.Serialize(ptr219);
		}
		foreach (KeyValuePair<short, IntList> item50 in _qiArtStrategyExpireTimeMap)
		{
			short key104 = item50.Key;
			IntList value104 = item50.Value;
			int serializedSize73 = value104.GetSerializedSize();
			byte* ptr220 = OperationAdder.DynamicSingleValueCollection_Add(19, 213, key104, serializedSize73);
			ptr220 += value104.Serialize(ptr220);
		}
		byte* ptr221 = OperationAdder.FixedSingleValue_Set(19, 214, 1);
		*ptr221 = (byte)_loopInLifeSkillCombatCount;
		ptr221++;
		byte* ptr222 = OperationAdder.FixedSingleValue_Set(19, 215, 1);
		*ptr222 = (byte)_loopInCombatCount;
		ptr222++;
		foreach (KeyValuePair<short, SettlementTreasuryRecordCollection> settlementTreasuryRecordCollection in _settlementTreasuryRecordCollections)
		{
			short key105 = settlementTreasuryRecordCollection.Key;
			SettlementTreasuryRecordCollection value105 = settlementTreasuryRecordCollection.Value;
			if (value105 != null)
			{
				int serializedSize74 = value105.GetSerializedSize();
				byte* ptr223 = OperationAdder.DynamicSingleValueCollection_Add(19, 216, key105, serializedSize74);
				ptr223 += value105.Serialize(ptr223);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 216, key105, 0);
			}
		}
		foreach (KeyValuePair<int, NotificationSortingGroup> monthlyNotificationSortingGroup in _monthlyNotificationSortingGroups)
		{
			int key106 = monthlyNotificationSortingGroup.Key;
			NotificationSortingGroup value106 = monthlyNotificationSortingGroup.Value;
			if (value106 != null)
			{
				int serializedSize75 = value106.GetSerializedSize();
				byte* ptr224 = OperationAdder.DynamicSingleValueCollection_Add(19, 217, key106, serializedSize75);
				ptr224 += value106.Serialize(ptr224);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 217, key106, 0);
			}
		}
		int count45 = _followingNpcList.Count;
		int num129 = 4 * count45;
		int valueSize37 = 2 + num129;
		byte* ptr225 = OperationAdder.DynamicSingleValue_Set(19, 218, valueSize37);
		*(ushort*)ptr225 = (ushort)count45;
		ptr225 += 2;
		int num130 = 0;
		while (num130 < count45)
		{
			((int*)ptr225)[num130] = _followingNpcList[num130];
			int num3 = num130 + 1;
			num130 = num3;
		}
		ptr225 += num129;
		foreach (KeyValuePair<short, SectEmeiBreakBonusData> sectEmeiBreakBonusDatum in _sectEmeiBreakBonusData)
		{
			short key107 = sectEmeiBreakBonusDatum.Key;
			SectEmeiBreakBonusData value107 = sectEmeiBreakBonusDatum.Value;
			int serializedSize76 = value107.GetSerializedSize();
			byte* ptr226 = OperationAdder.DynamicSingleValueCollection_Add(19, 219, key107, serializedSize76);
			ptr226 += value107.Serialize(ptr226);
		}
		foreach (KeyValuePair<int, int> item51 in _followingNickNameMap)
		{
			int key108 = item51.Key;
			int value108 = item51.Value;
			byte* ptr227 = OperationAdder.FixedSingleValueCollection_Add(19, 220, key108, 4);
			*(int*)ptr227 = value108;
			ptr227 += 4;
		}
		int num131 = 0;
		int num132 = 0;
		while (num132 < 7)
		{
			MerchantOverFavorData merchantOverFavorData = _merchantOverFavorDataArray[num132];
			num131 = ((merchantOverFavorData == null) ? (num131 + 4) : (num131 + (4 + merchantOverFavorData.GetSerializedSize())));
			int num3 = num132 + 1;
			num132 = num3;
		}
		byte* ptr228 = OperationAdder.DynamicElementList_InsertRange(19, 221, 0, 7, num131);
		int num133 = 0;
		while (num133 < 7)
		{
			MerchantOverFavorData merchantOverFavorData2 = _merchantOverFavorDataArray[num133];
			if (merchantOverFavorData2 != null)
			{
				byte* ptr229 = ptr228;
				ptr228 += 4;
				int num134 = merchantOverFavorData2.Serialize(ptr228);
				ptr228 += num134;
				*(int*)ptr229 = num134;
			}
			else
			{
				*(int*)ptr228 = 0;
				ptr228 += 4;
			}
			int num3 = num133 + 1;
			num133 = num3;
		}
		int count46 = _changedTeammateCharIds.Count;
		int num135 = 4 * count46;
		int valueSize38 = 2 + num135;
		byte* ptr230 = OperationAdder.DynamicSingleValue_Set(19, 222, valueSize38);
		*(ushort*)ptr230 = (ushort)count46;
		ptr230 += 2;
		int num136 = 0;
		while (num136 < count46)
		{
			((int*)ptr230)[num136] = _changedTeammateCharIds[num136];
			int num3 = num136 + 1;
			num136 = num3;
		}
		ptr230 += num135;
		foreach (KeyValuePair<short, SettlementPrison> settlementPrison in _settlementPrisons)
		{
			short key109 = settlementPrison.Key;
			SettlementPrison value109 = settlementPrison.Value;
			if (value109 != null)
			{
				int serializedSize77 = value109.GetSerializedSize();
				byte* ptr231 = OperationAdder.DynamicSingleValueCollection_Add(19, 223, key109, serializedSize77);
				ptr231 += value109.Serialize(ptr231);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 223, key109, 0);
			}
		}
		foreach (KeyValuePair<short, IntList> sectFulongOrgMemberChicken in _sectFulongOrgMemberChickens)
		{
			short key110 = sectFulongOrgMemberChicken.Key;
			IntList value110 = sectFulongOrgMemberChicken.Value;
			int serializedSize78 = value110.GetSerializedSize();
			byte* ptr232 = OperationAdder.DynamicSingleValueCollection_Add(19, 224, key110, serializedSize78);
			ptr232 += value110.Serialize(ptr232);
		}
		int num137 = 2;
		int count47 = _sectFulongInFlameAreas.Count;
		int num138 = 0;
		while (num138 < count47)
		{
			FulongInFlameArea fulongInFlameArea = _sectFulongInFlameAreas[num138];
			num137 = ((fulongInFlameArea == null) ? (num137 + 2) : (num137 + (2 + fulongInFlameArea.GetSerializedSize())));
			int num3 = num138 + 1;
			num138 = num3;
		}
		byte* ptr233 = OperationAdder.DynamicSingleValue_Set(19, 225, num137);
		*(ushort*)ptr233 = (ushort)count47;
		ptr233 += 2;
		int num139 = 0;
		while (num139 < count47)
		{
			FulongInFlameArea fulongInFlameArea2 = _sectFulongInFlameAreas[num139];
			if (fulongInFlameArea2 != null)
			{
				byte* ptr234 = ptr233;
				ptr233 += 2;
				int num140 = fulongInFlameArea2.Serialize(ptr233);
				ptr233 += num140;
				*(ushort*)ptr234 = (ushort)num140;
			}
			else
			{
				*(short*)ptr233 = 0;
				ptr233 += 2;
			}
			int num3 = num139 + 1;
			num139 = num3;
		}
		foreach (KeyValuePair<int, IntPair> sectFulongOutLaw in _sectFulongOutLaws)
		{
			int key111 = sectFulongOutLaw.Key;
			IntPair value111 = sectFulongOutLaw.Value;
			byte* ptr235 = OperationAdder.FixedSingleValueCollection_Add(19, 226, key111, 8);
			ptr235 += value111.Serialize(ptr235);
		}
		foreach (KeyValuePair<short, SettlementPrisonRecordCollection> settlementPrisonRecordCollection in _settlementPrisonRecordCollections)
		{
			short key112 = settlementPrisonRecordCollection.Key;
			SettlementPrisonRecordCollection value112 = settlementPrisonRecordCollection.Value;
			if (value112 != null)
			{
				int serializedSize79 = value112.GetSerializedSize();
				byte* ptr236 = OperationAdder.DynamicSingleValueCollection_Add(19, 227, key112, serializedSize79);
				ptr236 += value112.Serialize(ptr236);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 227, key112, 0);
			}
		}
		foreach (KeyValuePair<int, VillagerRoleWrapper> villagerRole in _villagerRoles)
		{
			int key113 = villagerRole.Key;
			VillagerRoleWrapper value113 = villagerRole.Value;
			if (value113 != null)
			{
				int serializedSize80 = value113.GetSerializedSize();
				byte* ptr237 = OperationAdder.DynamicSingleValueCollection_Add(19, 228, key113, serializedSize80);
				ptr237 += value113.Serialize(ptr237);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 228, key113, 0);
			}
		}
		int count48 = _sectFulongLoseFeatherChickens.Count;
		int num141 = 4 * count48;
		int valueSize39 = 2 + num141;
		byte* ptr238 = OperationAdder.DynamicSingleValue_Set(19, 229, valueSize39);
		*(ushort*)ptr238 = (ushort)count48;
		ptr238 += 2;
		int num142 = 0;
		while (num142 < count48)
		{
			((int*)ptr238)[num142] = _sectFulongLoseFeatherChickens[num142];
			int num3 = num142 + 1;
			num142 = num3;
		}
		ptr238 += num141;
		int serializedSize81 = _stockStorage.GetSerializedSize();
		byte* ptr239 = OperationAdder.DynamicSingleValue_Set(19, 230, serializedSize81);
		ptr239 += _stockStorage.Serialize(ptr239);
		int serializedSize82 = _craftStorage.GetSerializedSize();
		byte* ptr240 = OperationAdder.DynamicSingleValue_Set(19, 231, serializedSize82);
		ptr240 += _craftStorage.Serialize(ptr240);
		int serializedSize83 = _medicineStorage.GetSerializedSize();
		byte* ptr241 = OperationAdder.DynamicSingleValue_Set(19, 232, serializedSize83);
		ptr241 += _medicineStorage.Serialize(ptr241);
		foreach (KeyValuePair<int, FullPoisonEffects> fullPoisonEffect in _fullPoisonEffects)
		{
			int key114 = fullPoisonEffect.Key;
			FullPoisonEffects value114 = fullPoisonEffect.Value;
			if (value114 != null)
			{
				int serializedSize84 = value114.GetSerializedSize();
				byte* ptr242 = OperationAdder.DynamicSingleValueCollection_Add(19, 233, key114, serializedSize84);
				ptr242 += value114.Serialize(ptr242);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 233, key114, 0);
			}
		}
		int serializedSize85 = _foodStorage.GetSerializedSize();
		byte* ptr243 = OperationAdder.DynamicSingleValue_Set(19, 234, serializedSize85);
		ptr243 += _foodStorage.Serialize(ptr243);
		int serializedSize86 = _taiwuVillageStoragesRecordCollection.GetSerializedSize();
		byte* ptr244 = OperationAdder.DynamicSingleValue_Set(19, 235, serializedSize86);
		ptr244 += _taiwuVillageStoragesRecordCollection.Serialize(ptr244);
		foreach (KeyValuePair<TemplateKey, int> item52 in _itemPriceFluctuation)
		{
			TemplateKey key115 = item52.Key;
			int value115 = item52.Value;
			byte* ptr245 = OperationAdder.FixedSingleValueCollection_Add(19, 236, key115, 4);
			*(int*)ptr245 = value115;
			ptr245 += 4;
		}
		foreach (KeyValuePair<short, int> item53 in _villagerRoleNickNameMap)
		{
			short key116 = item53.Key;
			int value116 = item53.Value;
			byte* ptr246 = OperationAdder.FixedSingleValueCollection_Add(19, 237, key116, 4);
			*(int*)ptr246 = value116;
			ptr246 += 4;
		}
		foreach (KeyValuePair<short, int> villagerRoleMaxUnlockCount in _villagerRoleMaxUnlockCounts)
		{
			short key117 = villagerRoleMaxUnlockCount.Key;
			int value117 = villagerRoleMaxUnlockCount.Value;
			byte* ptr247 = OperationAdder.FixedSingleValueCollection_Add(19, 238, key117, 4);
			*(int*)ptr247 = value117;
			ptr247 += 4;
		}
		foreach (KeyValuePair<int, BuildingResourceOutputSetting> buildingResourceOutputSetting in _buildingResourceOutputSettings)
		{
			int key118 = buildingResourceOutputSetting.Key;
			BuildingResourceOutputSetting value118 = buildingResourceOutputSetting.Value;
			if (value118 != null)
			{
				int serializedSize87 = value118.GetSerializedSize();
				byte* ptr248 = OperationAdder.DynamicSingleValueCollection_Add(19, 239, key118, serializedSize87);
				ptr248 += value118.Serialize(ptr248);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 239, key118, 0);
			}
		}
		foreach (KeyValuePair<Location, int> blockRecoveryUnlockDate in _blockRecoveryUnlockDates)
		{
			Location key119 = blockRecoveryUnlockDate.Key;
			int value119 = blockRecoveryUnlockDate.Value;
			byte* ptr249 = OperationAdder.FixedSingleValueCollection_Add(19, 240, key119, 4);
			*(int*)ptr249 = value119;
			ptr249 += 4;
		}
		foreach (KeyValuePair<sbyte, VillagerRoleActionSetting> item54 in _taiwuVillageStorageSettingDict)
		{
			sbyte key120 = item54.Key;
			VillagerRoleActionSetting value120 = item54.Value;
			if (value120 != null)
			{
				int serializedSize88 = value120.GetSerializedSize();
				byte* ptr250 = OperationAdder.DynamicSingleValueCollection_Add(19, 241, key120, serializedSize88);
				ptr250 += value120.Serialize(ptr250);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 241, key120, 0);
			}
		}
		foreach (KeyValuePair<int, int> characterConsummateLevelProgress in _characterConsummateLevelProgresses)
		{
			int key121 = characterConsummateLevelProgress.Key;
			int value121 = characterConsummateLevelProgress.Value;
			byte* ptr251 = OperationAdder.FixedSingleValueCollection_Add(19, 242, key121, 4);
			*(int*)ptr251 = value121;
			ptr251 += 4;
		}
		foreach (KeyValuePair<short, IntList> item55 in _taiwuWantedFirstInteractOrganizationMember)
		{
			short key122 = item55.Key;
			IntList value122 = item55.Value;
			int serializedSize89 = value122.GetSerializedSize();
			byte* ptr252 = OperationAdder.DynamicSingleValueCollection_Add(19, 243, key122, serializedSize89);
			ptr252 += value122.Serialize(ptr252);
		}
		foreach (KeyValuePair<short, int> item56 in _areaSpiritualDebt)
		{
			short key123 = item56.Key;
			int value123 = item56.Value;
			byte* ptr253 = OperationAdder.FixedSingleValueCollection_Add(19, 244, key123, 4);
			*(int*)ptr253 = value123;
			ptr253 += 4;
		}
		foreach (KeyValuePair<int, ProfessionData> taiwuProfession in _taiwuProfessions)
		{
			int key124 = taiwuProfession.Key;
			ProfessionData value124 = taiwuProfession.Value;
			if (value124 != null)
			{
				int serializedSize90 = value124.GetSerializedSize();
				byte* ptr254 = OperationAdder.DynamicSingleValueCollection_Add(19, 245, key124, serializedSize90);
				ptr254 += value124.Serialize(ptr254);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 245, key124, 0);
			}
		}
		int serializedSize91 = _taiwuProfessionSkillSlots.GetSerializedSize();
		byte* ptr255 = OperationAdder.DynamicSingleValue_Set(19, 246, serializedSize91);
		ptr255 += _taiwuProfessionSkillSlots.Serialize(ptr255);
		foreach (KeyValuePair<int, CharacterSet> item57 in _characterSpecialGroup)
		{
			int key125 = item57.Key;
			CharacterSet value125 = item57.Value;
			int serializedSize92 = value125.GetSerializedSize();
			byte* ptr256 = OperationAdder.DynamicSingleValueCollection_Add(19, 247, key125, serializedSize92);
			ptr256 += value125.Serialize(ptr256);
		}
		foreach (KeyValuePair<short, CricketPlaceExtraData> cricketPlaceExtraDatum in _cricketPlaceExtraData)
		{
			short key126 = cricketPlaceExtraDatum.Key;
			CricketPlaceExtraData value126 = cricketPlaceExtraDatum.Value;
			if (value126 != null)
			{
				int serializedSize93 = value126.GetSerializedSize();
				byte* ptr257 = OperationAdder.DynamicSingleValueCollection_Add(19, 248, key126, serializedSize93);
				ptr257 += value126.Serialize(ptr257);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 248, key126, 0);
			}
		}
		int num143 = 0;
		int num144 = 0;
		while (num144 < 7)
		{
			MerchantData merchantData = _branchMerchantData[num144];
			num143 = ((merchantData == null) ? (num143 + 4) : (num143 + (4 + merchantData.GetSerializedSize())));
			int num3 = num144 + 1;
			num144 = num3;
		}
		byte* ptr258 = OperationAdder.DynamicElementList_InsertRange(19, 249, 0, 7, num143);
		int num145 = 0;
		while (num145 < 7)
		{
			MerchantData merchantData2 = _branchMerchantData[num145];
			if (merchantData2 != null)
			{
				byte* ptr259 = ptr258;
				ptr258 += 4;
				int num146 = merchantData2.Serialize(ptr258);
				ptr258 += num146;
				*(int*)ptr259 = num146;
			}
			else
			{
				*(int*)ptr258 = 0;
				ptr258 += 4;
			}
			int num3 = num145 + 1;
			num145 = num3;
		}
		foreach (KeyValuePair<int, CharacterCombatSkillConfiguration> characterCombatSkillConfiguration in _characterCombatSkillConfigurations)
		{
			int key127 = characterCombatSkillConfiguration.Key;
			CharacterCombatSkillConfiguration value127 = characterCombatSkillConfiguration.Value;
			if (value127 != null)
			{
				int serializedSize94 = value127.GetSerializedSize();
				byte* ptr260 = OperationAdder.DynamicSingleValueCollection_Add(19, 250, key127, serializedSize94);
				ptr260 += value127.Serialize(ptr260);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 250, key127, 0);
			}
		}
		foreach (KeyValuePair<int, CombatSkillPlan> characterEquippedCombatSkill in _characterEquippedCombatSkills)
		{
			int key128 = characterEquippedCombatSkill.Key;
			CombatSkillPlan value128 = characterEquippedCombatSkill.Value;
			if (value128 != null)
			{
				int serializedSize95 = value128.GetSerializedSize();
				byte* ptr261 = OperationAdder.DynamicSingleValueCollection_Add(19, 251, key128, serializedSize95);
				ptr261 += value128.Serialize(ptr261);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 251, key128, 0);
			}
		}
		int count49 = _interactedCharacterList.Count;
		int num147 = 4 * count49;
		int valueSize40 = 2 + num147;
		byte* ptr262 = OperationAdder.DynamicSingleValue_Set(19, 252, valueSize40);
		*(ushort*)ptr262 = (ushort)count49;
		ptr262 += 2;
		int num148 = 0;
		while (num148 < count49)
		{
			((int*)ptr262)[num148] = _interactedCharacterList[num148];
			int num3 = num148 + 1;
			num148 = num3;
		}
		ptr262 += num147;
		foreach (KeyValuePair<int, sbyte> item58 in _friendOrFamilyInteractionCooldownDict)
		{
			int key129 = item58.Key;
			sbyte value129 = item58.Value;
			byte* ptr263 = OperationAdder.FixedSingleValueCollection_Add(19, 253, key129, 1);
			*ptr263 = (byte)value129;
			ptr263++;
		}
		foreach (KeyValuePair<int, GearMate> sectZhujianGearMate in _sectZhujianGearMates)
		{
			int key130 = sectZhujianGearMate.Key;
			GearMate value130 = sectZhujianGearMate.Value;
			if (value130 != null)
			{
				int serializedSize96 = value130.GetSerializedSize();
				byte* ptr264 = OperationAdder.DynamicSingleValueCollection_Add(19, 254, key130, serializedSize96);
				ptr264 += value130.Serialize(ptr264);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 254, key130, 0);
			}
		}
		byte* ptr265 = OperationAdder.FixedSingleValue_Set(19, 255, 1);
		*ptr265 = _professionUpgrade;
		ptr265++;
		foreach (KeyValuePair<int, FollowMovementInfo> followMovementCharacter in _followMovementCharacters)
		{
			int key131 = followMovementCharacter.Key;
			FollowMovementInfo value131 = followMovementCharacter.Value;
			if (value131 != null)
			{
				int serializedSize97 = value131.GetSerializedSize();
				byte* ptr266 = OperationAdder.DynamicSingleValueCollection_Add(19, 256, key131, serializedSize97);
				ptr266 += value131.Serialize(ptr266);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 256, key131, 0);
			}
		}
		foreach (KeyValuePair<IntPair, VoidValue> triggeredAddSeniorityPoint in _triggeredAddSeniorityPoints)
		{
			IntPair key132 = triggeredAddSeniorityPoint.Key;
			VoidValue value132 = triggeredAddSeniorityPoint.Value;
			byte* ptr267 = OperationAdder.FixedSingleValueCollection_Add(19, 257, key132, 0);
			ptr267 += value132.Serialize(ptr267);
		}
		foreach (KeyValuePair<int, Inventory> taiwuGiftItem in _taiwuGiftItems)
		{
			int key133 = taiwuGiftItem.Key;
			Inventory value133 = taiwuGiftItem.Value;
			if (value133 != null)
			{
				int serializedSize98 = value133.GetSerializedSize();
				byte* ptr268 = OperationAdder.DynamicSingleValueCollection_Add(19, 258, key133, serializedSize98);
				ptr268 += value133.Serialize(ptr268);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 258, key133, 0);
			}
		}
		int num149 = 2;
		int count50 = _sectZhujianThiefList.Count;
		int num150 = 0;
		while (num150 < count50)
		{
			SectStoryThiefData sectStoryThiefData = _sectZhujianThiefList[num150];
			num149 = ((sectStoryThiefData == null) ? (num149 + 2) : (num149 + (2 + sectStoryThiefData.GetSerializedSize())));
			int num3 = num150 + 1;
			num150 = num3;
		}
		byte* ptr269 = OperationAdder.DynamicSingleValue_Set(19, 259, num149);
		*(ushort*)ptr269 = (ushort)count50;
		ptr269 += 2;
		int num151 = 0;
		while (num151 < count50)
		{
			SectStoryThiefData sectStoryThiefData2 = _sectZhujianThiefList[num151];
			if (sectStoryThiefData2 != null)
			{
				byte* ptr270 = ptr269;
				ptr269 += 2;
				int num152 = sectStoryThiefData2.Serialize(ptr269);
				ptr269 += num152;
				*(ushort*)ptr270 = (ushort)num152;
			}
			else
			{
				*(short*)ptr269 = 0;
				ptr269 += 2;
			}
			int num3 = num151 + 1;
			num151 = num3;
		}
		foreach (KeyValuePair<int, ProfessionDataList> characterProfession in _characterProfessions)
		{
			int key134 = characterProfession.Key;
			ProfessionDataList value134 = characterProfession.Value;
			if (value134 != null)
			{
				int serializedSize99 = value134.GetSerializedSize();
				byte* ptr271 = OperationAdder.DynamicSingleValueCollection_Add(19, 260, key134, serializedSize99);
				ptr271 += value134.Serialize(ptr271);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 260, key134, 0);
			}
		}
		foreach (KeyValuePair<int, CaravanExtraData> item59 in _caravanExtraDataDict)
		{
			int key135 = item59.Key;
			CaravanExtraData value135 = item59.Value;
			if (value135 != null)
			{
				int serializedSize100 = value135.GetSerializedSize();
				byte* ptr272 = OperationAdder.DynamicSingleValueCollection_Add(19, 261, key135, serializedSize100);
				ptr272 += value135.Serialize(ptr272);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 261, key135, 0);
			}
		}
		byte* ptr273 = OperationAdder.FixedSingleValue_Set(19, 262, 4);
		*(int*)ptr273 = _protectCaravanTime;
		ptr273 += 4;
		foreach (KeyValuePair<short, sbyte> item60 in _sectZhujianAreaMerchantTypeDict)
		{
			short key136 = item60.Key;
			sbyte value136 = item60.Value;
			byte* ptr274 = OperationAdder.FixedSingleValueCollection_Add(19, 263, key136, 1);
			*ptr274 = (byte)value136;
			ptr274++;
		}
		foreach (KeyValuePair<int, MerchantExtraGoodsData> merchantExtraGood in _merchantExtraGoods)
		{
			int key137 = merchantExtraGood.Key;
			MerchantExtraGoodsData value137 = merchantExtraGood.Value;
			if (value137 != null)
			{
				int serializedSize101 = value137.GetSerializedSize();
				byte* ptr275 = OperationAdder.DynamicSingleValueCollection_Add(19, 264, key137, serializedSize101);
				ptr275 += value137.Serialize(ptr275);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 264, key137, 0);
			}
		}
		byte* ptr276 = OperationAdder.FixedSingleValue_Set(19, 265, 1);
		*ptr276 = (_exorcismEnabled ? ((byte)1) : ((byte)0));
		ptr276++;
		int serializedSize102 = _sectStorySpecialMerchant.GetSerializedSize();
		byte* ptr277 = OperationAdder.DynamicSingleValue_Set(19, 266, serializedSize102);
		ptr277 += _sectStorySpecialMerchant.Serialize(ptr277);
		byte* ptr278 = OperationAdder.FixedSingleValue_Set(19, 267, 1);
		*ptr278 = (_isExtraProfessionSkillUnlocked ? ((byte)1) : ((byte)0));
		ptr278++;
		byte* ptr279 = OperationAdder.FixedSingleValue_Set(19, 268, 1);
		*ptr279 = (_isDirectTraveling ? ((byte)1) : ((byte)0));
		ptr279++;
		int serializedSize103 = _kidnappedTravelData.GetSerializedSize();
		byte* ptr280 = OperationAdder.DynamicSingleValue_Set(19, 269, serializedSize103);
		ptr280 += _kidnappedTravelData.Serialize(ptr280);
		foreach (KeyValuePair<int, sbyte> item61 in _villagerLastInfluencePowerGrade)
		{
			int key138 = item61.Key;
			sbyte value138 = item61.Value;
			byte* ptr281 = OperationAdder.FixedSingleValueCollection_Add(19, 270, key138, 1);
			*ptr281 = (byte)value138;
			ptr281++;
		}
		foreach (KeyValuePair<int, VillagerTreasuryNeed> villagerTreasuryNeed in _villagerTreasuryNeeds)
		{
			int key139 = villagerTreasuryNeed.Key;
			VillagerTreasuryNeed value139 = villagerTreasuryNeed.Value;
			if (value139 != null)
			{
				int serializedSize104 = value139.GetSerializedSize();
				byte* ptr282 = OperationAdder.DynamicSingleValueCollection_Add(19, 271, key139, serializedSize104);
				ptr282 += value139.Serialize(ptr282);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 271, key139, 0);
			}
		}
		foreach (KeyValuePair<int, AvatarExtraData> item62 in _characterAvatarExtraDataDict)
		{
			int key140 = item62.Key;
			AvatarExtraData value140 = item62.Value;
			byte* ptr283 = OperationAdder.FixedSingleValueCollection_Add(19, 272, key140, 2);
			ptr283 += value140.Serialize(ptr283);
		}
		byte* ptr284 = OperationAdder.FixedSingleValue_Set(19, 273, 2);
		*(short*)ptr284 = _lootYield;
		ptr284 += 2;
		foreach (KeyValuePair<short, SerializableList<PunishmentSeverityCustomizeData>> item63 in _cityPunishmentSeverityCustomizeDict)
		{
			short key141 = item63.Key;
			SerializableList<PunishmentSeverityCustomizeData> value141 = item63.Value;
			int serializedSize105 = value141.GetSerializedSize();
			byte* ptr285 = OperationAdder.DynamicSingleValueCollection_Add(19, 274, key141, serializedSize105);
			ptr285 += value141.Serialize(ptr285);
		}
		foreach (KeyValuePair<CombatSkillKey, SerializableList<SkillBreakPlateBonus>> characterSkillBreakBonuse in _characterSkillBreakBonuses)
		{
			CombatSkillKey key142 = characterSkillBreakBonuse.Key;
			SerializableList<SkillBreakPlateBonus> value142 = characterSkillBreakBonuse.Value;
			int serializedSize106 = value142.GetSerializedSize();
			byte* ptr286 = OperationAdder.DynamicSingleValueCollection_Add(19, 275, key142, serializedSize106);
			ptr286 += value142.Serialize(ptr286);
		}
		foreach (KeyValuePair<CombatSkillKey, int> combatSkillProficiency in _combatSkillProficiencies)
		{
			CombatSkillKey key143 = combatSkillProficiency.Key;
			int value143 = combatSkillProficiency.Value;
			byte* ptr287 = OperationAdder.FixedSingleValueCollection_Add(19, 276, key143, 4);
			*(int*)ptr287 = value143;
			ptr287 += 4;
		}
		foreach (KeyValuePair<short, GameData.Domains.Taiwu.SkillBreakPlate> skillBreakPlate in _skillBreakPlates)
		{
			short key144 = skillBreakPlate.Key;
			GameData.Domains.Taiwu.SkillBreakPlate value144 = skillBreakPlate.Value;
			if (value144 != null)
			{
				int serializedSize107 = value144.GetSerializedSize();
				byte* ptr288 = OperationAdder.DynamicSingleValueCollection_Add(19, 277, key144, serializedSize107);
				ptr288 += value144.Serialize(ptr288);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 277, key144, 0);
			}
		}
		foreach (KeyValuePair<short, SkillBreakPlateList> combatSkillBreakPlate in _combatSkillBreakPlateList)
		{
			short key145 = combatSkillBreakPlate.Key;
			SkillBreakPlateList value145 = combatSkillBreakPlate.Value;
			if (value145 != null)
			{
				int serializedSize108 = value145.GetSerializedSize();
				byte* ptr289 = OperationAdder.DynamicSingleValueCollection_Add(19, 278, key145, serializedSize108);
				ptr289 += value145.Serialize(ptr289);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 278, key145, 0);
			}
		}
		int serializedSize109 = _sectShaolinDemonSlayerData.GetSerializedSize();
		byte* ptr290 = OperationAdder.DynamicSingleValue_Set(19, 279, serializedSize109);
		ptr290 += _sectShaolinDemonSlayerData.Serialize(ptr290);
		byte* ptr291 = OperationAdder.FixedSingleValue_Set(19, 280, 4);
		*(int*)ptr291 = KongsangCharacterFeaturePoisonedProb;
		ptr291 += 4;
		foreach (KeyValuePair<Location, MapPickupCollection> item64 in _pickupDict)
		{
			Location key146 = item64.Key;
			MapPickupCollection value146 = item64.Value;
			if (value146 != null)
			{
				int serializedSize110 = value146.GetSerializedSize();
				byte* ptr292 = OperationAdder.DynamicSingleValueCollection_Add(19, 281, key146, serializedSize110);
				ptr292 += value146.Serialize(ptr292);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 281, key146, 0);
			}
		}
		byte* ptr293 = OperationAdder.FixedSingleValue_Set(19, 282, 4);
		*(int*)ptr293 = _taiwuSelectedDebateCardType;
		ptr293 += 4;
		int serializedSize111 = _villagerRoleRecords.GetSerializedSize();
		byte* ptr294 = OperationAdder.DynamicSingleValue_Set(19, 283, serializedSize111);
		ptr294 += _villagerRoleRecords.Serialize(ptr294);
		foreach (KeyValuePair<ulong, BuildingBlockDataEx> item65 in _buildingBlockDataEx)
		{
			ulong key147 = item65.Key;
			BuildingBlockDataEx value147 = item65.Value;
			if (value147 != null)
			{
				int serializedSize112 = value147.GetSerializedSize();
				byte* ptr295 = OperationAdder.DynamicSingleValueCollection_Add(19, 284, key147, serializedSize112);
				ptr295 += value147.Serialize(ptr295);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 284, key147, 0);
			}
		}
		foreach (KeyValuePair<short, ulong> villagerRoleAutoActionState in _villagerRoleAutoActionStates)
		{
			short key148 = villagerRoleAutoActionState.Key;
			ulong value148 = villagerRoleAutoActionState.Value;
			byte* ptr296 = OperationAdder.FixedSingleValueCollection_Add(19, 285, key148, 8);
			*(ulong*)ptr296 = value148;
			ptr296 += 8;
		}
		int num153 = 0;
		int num154 = 0;
		while (num154 < 9)
		{
			BuildingOptionAutoGiveMemberPreset buildingOptionAutoGiveMemberPreset = _buildingArrangementSettingPresetData[num154];
			num153 = ((buildingOptionAutoGiveMemberPreset == null) ? (num153 + 2) : (num153 + (2 + buildingOptionAutoGiveMemberPreset.GetSerializedSize())));
			int num3 = num154 + 1;
			num154 = num3;
		}
		byte* ptr297 = OperationAdder.DynamicSingleValue_Set(19, 286, num153);
		int num155 = 0;
		while (num155 < 9)
		{
			BuildingOptionAutoGiveMemberPreset buildingOptionAutoGiveMemberPreset2 = _buildingArrangementSettingPresetData[num155];
			if (buildingOptionAutoGiveMemberPreset2 != null)
			{
				byte* ptr298 = ptr297;
				ptr297 += 2;
				int num156 = buildingOptionAutoGiveMemberPreset2.Serialize(ptr297);
				ptr297 += num156;
				*(ushort*)ptr298 = (ushort)num156;
			}
			else
			{
				*(short*)ptr297 = 0;
				ptr297 += 2;
			}
			int num3 = num155 + 1;
			num155 = num3;
		}
		foreach (KeyValuePair<ulong, ArtisanOrder> buildingArtisanOrder in _buildingArtisanOrders)
		{
			ulong key149 = buildingArtisanOrder.Key;
			ArtisanOrder value149 = buildingArtisanOrder.Value;
			if (value149 != null)
			{
				int serializedSize113 = value149.GetSerializedSize();
				byte* ptr299 = OperationAdder.DynamicSingleValueCollection_Add(19, 287, key149, serializedSize113);
				ptr299 += value149.Serialize(ptr299);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 287, key149, 0);
			}
		}
		foreach (KeyValuePair<int, sbyte> taiwuVillagerPotentialDatum in _taiwuVillagerPotentialData)
		{
			int key150 = taiwuVillagerPotentialDatum.Key;
			sbyte value150 = taiwuVillagerPotentialDatum.Value;
			byte* ptr300 = OperationAdder.FixedSingleValueCollection_Add(19, 288, key150, 1);
			*ptr300 = (byte)value150;
			ptr300++;
		}
		foreach (KeyValuePair<int, ArtisanOrder> npcArtisanOrder in _npcArtisanOrders)
		{
			int key151 = npcArtisanOrder.Key;
			ArtisanOrder value151 = npcArtisanOrder.Value;
			if (value151 != null)
			{
				int serializedSize114 = value151.GetSerializedSize();
				byte* ptr301 = OperationAdder.DynamicSingleValueCollection_Add(19, 289, key151, serializedSize114);
				ptr301 += value151.Serialize(ptr301);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 289, key151, 0);
			}
		}
		foreach (KeyValuePair<int, GameData.Utilities.ShortList> item66 in _shopVillagerQualificationImprove)
		{
			int key152 = item66.Key;
			GameData.Utilities.ShortList value152 = item66.Value;
			int serializedSize115 = value152.GetSerializedSize();
			byte* ptr302 = OperationAdder.DynamicSingleValueCollection_Add(19, 290, key152, serializedSize115);
			ptr302 += value152.Serialize(ptr302);
		}
		foreach (KeyValuePair<short, BigEventRecord> bigEvent in _bigEvents)
		{
			short key153 = bigEvent.Key;
			BigEventRecord value153 = bigEvent.Value;
			if (value153 != null)
			{
				int serializedSize116 = value153.GetSerializedSize();
				byte* ptr303 = OperationAdder.DynamicSingleValueCollection_Add(19, 291, key153, serializedSize116);
				ptr303 += value153.Serialize(ptr303);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 291, key153, 0);
			}
		}
		byte* ptr304 = OperationAdder.FixedSingleValue_Set(19, 292, 1);
		*ptr304 = (_hasGetShuiHuoYingQiGongSkillBookByArchiveFix ? ((byte)1) : ((byte)0));
		ptr304++;
		byte* ptr305 = OperationAdder.FixedSingleValue_Set(19, 293, 1);
		*ptr305 = (byte)_farmerAutoCollectStorageType;
		ptr305++;
		int count51 = _woodenXiangshuAvatarSelectedFeatures.Count;
		int num157 = 2 * count51;
		int valueSize41 = 2 + num157;
		byte* ptr306 = OperationAdder.DynamicSingleValue_Set(19, 294, valueSize41);
		*(ushort*)ptr306 = (ushort)count51;
		ptr306 += 2;
		int num158 = 0;
		while (num158 < count51)
		{
			((short*)ptr306)[num158] = _woodenXiangshuAvatarSelectedFeatures[num158];
			int num3 = num158 + 1;
			num158 = num3;
		}
		ptr306 += num157;
		foreach (KeyValuePair<Location, SerializableList<BuildingAreaEffectProgress>> buildingAreaEffectProgress in _buildingAreaEffectProgresses)
		{
			Location key154 = buildingAreaEffectProgress.Key;
			SerializableList<BuildingAreaEffectProgress> value154 = buildingAreaEffectProgress.Value;
			int serializedSize117 = value154.GetSerializedSize();
			byte* ptr307 = OperationAdder.DynamicSingleValueCollection_Add(19, 295, key154, serializedSize117);
			ptr307 += value154.Serialize(ptr307);
		}
		foreach (KeyValuePair<sbyte, CharacterSet> previousLegendaryBookOwner in _previousLegendaryBookOwners)
		{
			sbyte key155 = previousLegendaryBookOwner.Key;
			CharacterSet value155 = previousLegendaryBookOwner.Value;
			int serializedSize118 = value155.GetSerializedSize();
			byte* ptr308 = OperationAdder.DynamicSingleValueCollection_Add(19, 296, key155, serializedSize118);
			ptr308 += value155.Serialize(ptr308);
		}
		foreach (KeyValuePair<int, int> item67 in _villagerSkillLegacyPointDict)
		{
			int key156 = item67.Key;
			int value156 = item67.Value;
			byte* ptr309 = OperationAdder.FixedSingleValueCollection_Add(19, 297, key156, 4);
			*(int*)ptr309 = value156;
			ptr309 += 4;
		}
		int size5 = _killedByYufuCharactersBinary.GetSize();
		byte* pDest5 = OperationAdder.Binary_Write(19, 298, 0, size5);
		_killedByYufuCharactersBinary.CopyTo(0, size5, pDest5);
		ushort serializedFixedSizeOfMetadata5 = _killedByYufuCharactersBinary.GetSerializedFixedSizeOfMetadata();
		byte* pData5 = OperationAdder.Binary_SetMetadata(19, 298, serializedFixedSizeOfMetadata5);
		_killedByYufuCharactersBinary.SerializeMetadata(pData5);
		foreach (KeyValuePair<int, short> dyingCharacter in _dyingCharacters)
		{
			int key157 = dyingCharacter.Key;
			short value157 = dyingCharacter.Value;
			byte* ptr310 = OperationAdder.FixedSingleValueCollection_Add(19, 299, key157, 2);
			*(short*)ptr310 = value157;
			ptr310 += 2;
		}
		foreach (KeyValuePair<short, VoidValue> proficiencyEnoughSkill in _proficiencyEnoughSkills)
		{
			short key158 = proficiencyEnoughSkill.Key;
			VoidValue value158 = proficiencyEnoughSkill.Value;
			byte* ptr311 = OperationAdder.FixedSingleValueCollection_Add(19, 300, key158, 0);
			ptr311 += value158.Serialize(ptr311);
		}
		int num159 = 2;
		int count52 = _sectYuanshanThreeVitals.Count;
		int num160 = 0;
		while (num160 < count52)
		{
			SectStoryThreeVitalsCharacter sectStoryThreeVitalsCharacter = _sectYuanshanThreeVitals[num160];
			num159 = ((sectStoryThreeVitalsCharacter == null) ? (num159 + 2) : (num159 + (2 + sectStoryThreeVitalsCharacter.GetSerializedSize())));
			int num3 = num160 + 1;
			num160 = num3;
		}
		byte* ptr312 = OperationAdder.DynamicSingleValue_Set(19, 301, num159);
		*(ushort*)ptr312 = (ushort)count52;
		ptr312 += 2;
		int num161 = 0;
		while (num161 < count52)
		{
			SectStoryThreeVitalsCharacter sectStoryThreeVitalsCharacter2 = _sectYuanshanThreeVitals[num161];
			if (sectStoryThreeVitalsCharacter2 != null)
			{
				byte* ptr313 = ptr312;
				ptr312 += 2;
				int num162 = sectStoryThreeVitalsCharacter2.Serialize(ptr312);
				ptr312 += num162;
				*(ushort*)ptr313 = (ushort)num162;
			}
			else
			{
				*(short*)ptr312 = 0;
				ptr312 += 2;
			}
			int num3 = num161 + 1;
			num161 = num3;
		}
		int serializedSize119 = _dreamBackGenealogy.GetSerializedSize();
		byte* ptr314 = OperationAdder.DynamicSingleValue_Set(19, 302, serializedSize119);
		ptr314 += _dreamBackGenealogy.Serialize(ptr314);
		foreach (KeyValuePair<ulong, ResourceBlockExtraData> resourceBlockExtraDatum in _resourceBlockExtraData)
		{
			ulong key159 = resourceBlockExtraDatum.Key;
			ResourceBlockExtraData value159 = resourceBlockExtraDatum.Value;
			if (value159 != null)
			{
				int serializedSize120 = value159.GetSerializedSize();
				byte* ptr315 = OperationAdder.DynamicSingleValueCollection_Add(19, 303, key159, serializedSize120);
				ptr315 += value159.Serialize(ptr315);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 303, key159, 0);
			}
		}
		int count53 = _unlockedFeastTypes.Count;
		int num163 = 2 * count53;
		int valueSize42 = 2 + num163;
		byte* ptr316 = OperationAdder.DynamicSingleValue_Set(19, 304, valueSize42);
		*(ushort*)ptr316 = (ushort)count53;
		ptr316 += 2;
		int num164 = 0;
		while (num164 < count53)
		{
			((short*)ptr316)[num164] = _unlockedFeastTypes[num164];
			int num3 = num164 + 1;
			num164 = num3;
		}
		ptr316 += num163;
		foreach (KeyValuePair<ulong, GameData.Domains.Building.Feast> feast in _feasts)
		{
			ulong key160 = feast.Key;
			GameData.Domains.Building.Feast value160 = feast.Value;
			if (value160 != null)
			{
				int serializedSize121 = value160.GetSerializedSize();
				byte* ptr317 = OperationAdder.DynamicSingleValueCollection_Add(19, 305, key160, serializedSize121);
				ptr317 += value160.Serialize(ptr317);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 305, key160, 0);
			}
		}
		foreach (KeyValuePair<short, SerializableList<SettlementMemberFeature>> settlementMemberFeature in _settlementMemberFeatures)
		{
			short key161 = settlementMemberFeature.Key;
			SerializableList<SettlementMemberFeature> value161 = settlementMemberFeature.Value;
			int serializedSize122 = value161.GetSerializedSize();
			byte* ptr318 = OperationAdder.DynamicSingleValueCollection_Add(19, 306, key161, serializedSize122);
			ptr318 += value161.Serialize(ptr318);
		}
		foreach (KeyValuePair<short, SettlementLayeredTreasuries> settlementLayeredTreasury in _settlementLayeredTreasuries)
		{
			short key162 = settlementLayeredTreasury.Key;
			SettlementLayeredTreasuries value162 = settlementLayeredTreasury.Value;
			if (value162 != null)
			{
				int serializedSize123 = value162.GetSerializedSize();
				byte* ptr319 = OperationAdder.DynamicSingleValueCollection_Add(19, 307, key162, serializedSize123);
				ptr319 += value162.Serialize(ptr319);
			}
			else
			{
				OperationAdder.DynamicSingleValueCollection_Add(19, 307, key162, 0);
			}
		}
		int serializedSize124 = _buildingDefaultStoreLocation.GetSerializedSize();
		byte* ptr320 = OperationAdder.DynamicSingleValue_Set(19, 308, serializedSize124);
		ptr320 += _buildingDefaultStoreLocation.Serialize(ptr320);
		foreach (KeyValuePair<sbyte, sbyte> item68 in _taiwuVillageVowOrgTemplateCrossArchiveDict)
		{
			sbyte key163 = item68.Key;
			sbyte value163 = item68.Value;
			byte* ptr321 = OperationAdder.FixedSingleValueCollection_Add(19, 309, key163, 1);
			*ptr321 = (byte)value163;
			ptr321++;
		}
		int num165 = 2;
		int count54 = _cricketCombatPlans.Count;
		int num166 = 0;
		while (num166 < count54)
		{
			CricketCombatPlan cricketCombatPlan = _cricketCombatPlans[num166];
			num165 = ((cricketCombatPlan == null) ? (num165 + 2) : (num165 + (2 + cricketCombatPlan.GetSerializedSize())));
			int num3 = num166 + 1;
			num166 = num3;
		}
		byte* ptr322 = OperationAdder.DynamicSingleValue_Set(19, 310, num165);
		*(ushort*)ptr322 = (ushort)count54;
		ptr322 += 2;
		int num167 = 0;
		while (num167 < count54)
		{
			CricketCombatPlan cricketCombatPlan2 = _cricketCombatPlans[num167];
			if (cricketCombatPlan2 != null)
			{
				byte* ptr323 = ptr322;
				ptr322 += 2;
				int num168 = cricketCombatPlan2.Serialize(ptr322);
				ptr322 += num168;
				*(ushort*)ptr323 = (ushort)num168;
			}
			else
			{
				*(short*)ptr322 = 0;
				ptr322 += 2;
			}
			int num3 = num167 + 1;
			num167 = num3;
		}
		byte* ptr324 = OperationAdder.FixedSingleValue_Set(19, 311, 4);
		*(int*)ptr324 = _lastCricketPlanIndex;
		ptr324 += 4;
		foreach (KeyValuePair<int, DarkAshCounterData> characterDarkAshCounterDatum in _characterDarkAshCounterData)
		{
			int key164 = characterDarkAshCounterDatum.Key;
			DarkAshCounterData value164 = characterDarkAshCounterDatum.Value;
			int serializedSize125 = value164.GetSerializedSize();
			byte* ptr325 = OperationAdder.DynamicSingleValueCollection_Add(19, 312, key164, serializedSize125);
			ptr325 += value164.Serialize(ptr325);
		}
		byte* ptr326 = OperationAdder.FixedSingleValue_Set(19, 313, 4);
		*(int*)ptr326 = _fuyuFaith;
		ptr326 += 4;
	}

	public override void OnLoadWorld()
	{
		_pendingLoadingOperationIds = new Queue<uint>();
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 0));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 1));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 2));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 3));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 4));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 5));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 6));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 7));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 8));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 9));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 10));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 11));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 12));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 13));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 14));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 15));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 16));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 17));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 18));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 19));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 20));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 21));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 22));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 23));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 24));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 25));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.Binary_Get(19, 26));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 27));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 28));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 29));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 30));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 31));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 32));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 33));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 34));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 35));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 36));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 37));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 38));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 39));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 40));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 41));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 42));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 43));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 44));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 45));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 46));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 47));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 48));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 49));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 50));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 51));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 52));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 53));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 54));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 55));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 56));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 57));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 58));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 59));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 60));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 61));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 62));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 63));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 64));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 65));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 66));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 67));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 68));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 69));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 70));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicElementList_GetAll(19, 71));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 72));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 73));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 74));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicElementList_GetAll(19, 75));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 76));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 77));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 78));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 79));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 80));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicElementList_GetAll(19, 81));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 82));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 83));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedElementList_GetAll(19, 84));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 85));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 86));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicElementList_GetAll(19, 87));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 88));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 89));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 90));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 91));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 92));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 93));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 94));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 95));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 96));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 97));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicElementList_GetAll(19, 98));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 99));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 100));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 101));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 102));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 103));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 104));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.Binary_Get(19, 105));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 106));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 107));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 108));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 109));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 110));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 111));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 112));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 113));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 114));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 115));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 116));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 117));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 118));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 119));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 120));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 121));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 122));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 123));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 124));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 125));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 126));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 127));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 128));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 129));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 130));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 131));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 132));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 133));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 134));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 135));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 136));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.Binary_Get(19, 137));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 138));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 139));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 140));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 141));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 142));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 143));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 144));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 145));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 146));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 147));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicElementList_GetAll(19, 148));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 149));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 150));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 151));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 152));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 153));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 154));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 155));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 156));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 157));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 158));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 159));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 160));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 161));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 162));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 163));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 164));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 165));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 167));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 168));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 169));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 170));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 171));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 172));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 173));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 174));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 175));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 176));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 177));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 179));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 180));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 181));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 182));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 183));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 184));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 185));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 186));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 187));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 188));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 189));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 190));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 191));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 192));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 193));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 194));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 195));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 196));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 197));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 198));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 199));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 200));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 201));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 202));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 203));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 204));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 205));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 206));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.Binary_Get(19, 207));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 208));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 209));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 210));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 211));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 212));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 213));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 214));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 215));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 216));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 217));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 218));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 219));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 220));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicElementList_GetAll(19, 221));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 222));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 223));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 224));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 225));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 226));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 227));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 228));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 229));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 230));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 231));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 232));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 233));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 234));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 235));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 236));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 237));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 238));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 239));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 240));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 241));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 242));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 243));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 244));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 245));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 246));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 247));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 248));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicElementList_GetAll(19, 249));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 250));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 251));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 252));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 253));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 254));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 255));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 256));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 257));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 258));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 259));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 260));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 261));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 262));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 263));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 264));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 265));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 266));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 267));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 268));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 269));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 270));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 271));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 272));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 273));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 274));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 275));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 276));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 277));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 278));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 279));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 280));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 281));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 282));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 283));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 284));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 285));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 286));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 287));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 288));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 289));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 290));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 291));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 292));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 293));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 294));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 295));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 296));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 297));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.Binary_Get(19, 298));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 299));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 300));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 301));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 302));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 303));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 304));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 305));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 306));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 307));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 308));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValueCollection_GetAll(19, 309));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValue_Get(19, 310));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 311));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.DynamicSingleValueCollection_GetAll(19, 312));
		_pendingLoadingOperationIds.Enqueue(OperationAdder.FixedSingleValue_Get(19, 313));
	}

	public override int GetData(ushort dataId, ulong subId0, uint subId1, RawDataPool dataPool, bool resetModified)
	{
		switch (dataId)
		{
		case 0:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 0);
				_modificationsCharacterSecretInformationUsedCounts.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, SecretInformationCharacterUsedCount>)_characterSecretInformationUsedCounts, dataPool);
		case 1:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 1);
				_modificationsSecretInformationOccurredLocations.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, Location>)_secretInformationOccurredLocations, dataPool);
		case 2:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 2);
				_modificationsSecretInformationBroadcastList.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, VoidValue>)_secretInformationBroadcastList, dataPool);
		case 3:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 3);
			}
			return GameData.Serializer.Serializer.Serialize(_exchangedSpecialWeaponList, dataPool);
		case 4:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 4);
				_modificationsCaravanStayDays.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, short>)_caravanStayDays, dataPool);
		case 5:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 5);
				_modificationsMerchantCharToType.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, sbyte>)_merchantCharToType, dataPool);
		case 6:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 6);
				_modificationsMerchantCharToExtraGoods.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, MerchantExtraGoods>)_merchantCharToExtraGoods, dataPool);
		case 7:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 7);
			}
			return GameData.Serializer.Serializer.Serialize(_stationInited, dataPool);
		case 8:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 8);
			}
			return GameData.Serializer.Serializer.Serialize(_manualChangeEquipGroupCharIds, dataPool);
		case 9:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 9);
			}
			return GameData.Serializer.Serializer.Serialize(_stoneRoomCharList, dataPool);
		case 10:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 10);
				_modificationsHideSkeletonEquipSlots.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, SByteList>)_hideSkeletonEquipSlots, dataPool);
		case 11:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 11);
				_modificationsCombatSkillOrderPlans.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, GameData.Utilities.ShortList>)_combatSkillOrderPlans, dataPool);
		case 12:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 12);
				_modificationsLocationMarkHashSet.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<Location, VoidValue>)_locationMarkHashSet, dataPool);
		case 13:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 14:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 14);
			}
			return GameData.Serializer.Serializer.Serialize(_autoWorkBlockIndexList, dataPool);
		case 15:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 15);
			}
			return GameData.Serializer.Serializer.Serialize(_autoSoldBlockIndexList, dataPool);
		case 16:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 16);
			}
			return GameData.Serializer.Serializer.Serialize(_secretInformationBroadcastNotifyList, dataPool);
		case 17:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 18:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 19:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 19);
			}
			return GameData.Serializer.Serializer.Serialize(_xiangshuIdInKungfuPracticeRoom, dataPool);
		case 20:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 21:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 21);
			}
			return GameData.Serializer.Serializer.Serialize(_shopArrangeResultFirstList, dataPool);
		case 22:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 22);
			}
			return GameData.Serializer.Serializer.Serialize(_autoExpandBlockIndexList, dataPool);
		case 23:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 24:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 24);
			}
			return GameData.Serializer.Serializer.Serialize(_readingEventBookIdList, dataPool);
		case 25:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 26:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 26);
				_modificationsTravelingEventCollection.Reset(_travelingEventCollection.GetSize());
			}
			return GameData.Serializer.Serializer.SerializeModifications((IBinary)(object)_travelingEventCollection, dataPool);
		case 27:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 28:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 29:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 29);
			}
			return GameData.Serializer.Serializer.Serialize(_gainsInTravel, dataPool);
		case 30:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 31:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 31);
				_modificationsLifeSkillCombatCardDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, LifeSkillCombatCardCollection>)_lifeSkillCombatCardDict, dataPool);
		case 32:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 32);
				_modificationsLifeSkillCombatUsedCardDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, LifeSkillCombatCardCollection>)_lifeSkillCombatUsedCardDict, dataPool);
		case 33:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 33);
				_modificationsLifeSkillCombatReadBookPageDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, LifeSkillCombatReadBookPageData>)_lifeSkillCombatReadBookPageDict, dataPool);
		case 34:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 34);
				_modificationsLifeSkillCombatNewCardDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, LifeSkillCombatCardCollection>)_lifeSkillCombatNewCardDict, dataPool);
		case 35:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 36:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 37:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 37);
			}
			return GameData.Serializer.Serializer.Serialize(_secretInformationBroadcastNotifyExtraList, dataPool);
		case 38:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 39:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 39);
				_modificationsNicknameDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, int>)_nicknameDict, dataPool);
		case 40:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 40);
				_modificationsLegendaryBookBreakPlateCounts.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, sbyte>)_legendaryBookBreakPlateCounts, dataPool);
		case 41:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 42:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 42);
				_modificationsLegendaryBookWeaponSlot.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, ItemKey>)_legendaryBookWeaponSlot, dataPool);
		case 43:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 43);
				_modificationsLegendaryBookWeaponEffectId.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, long>)_legendaryBookWeaponEffectId, dataPool);
		case 44:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 44);
				_modificationsLegendaryBookSkillSlot.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, GameData.Utilities.ShortList>)_legendaryBookSkillSlot, dataPool);
		case 45:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 45);
				_modificationsLegendaryBookSkillEffectId.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, LongList>)_legendaryBookSkillEffectId, dataPool);
		case 46:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 46);
			}
			return GameData.Serializer.Serializer.Serialize(_legendaryBookBonusCountYin, dataPool);
		case 47:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 47);
			}
			return GameData.Serializer.Serializer.Serialize(_legendaryBookBonusCountYang, dataPool);
		case 48:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 48);
				_modificationsPrevLegendaryBookOwnerCopies.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, IntPair>)_prevLegendaryBookOwnerCopies, dataPool);
		case 49:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 49);
				_modificationsLegendaryBookShockedMonths.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, int>)_legendaryBookShockedMonths, dataPool);
		case 50:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 50);
				_modificationsCombatSkillBreakPlateLastClearTimeList.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, IntList>)_combatSkillBreakPlateLastClearTimeList, dataPool);
		case 51:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 51);
				_modificationsCombatSkillCurrBreakPlateIndex.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, sbyte>)_combatSkillCurrBreakPlateIndex, dataPool);
		case 52:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 52);
				_modificationsCombatSkillBreakPlateObsoleteList.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SkillBreakPlateObsoleteList>)_combatSkillBreakPlateObsoleteList, dataPool);
		case 53:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 54:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 55:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 56:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 56);
			}
			return GameData.Serializer.Serializer.Serialize(_extraTriggeredTasks, dataPool);
		case 57:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 57);
			}
			return GameData.Serializer.Serializer.Serialize(_taskSortingOrder, dataPool);
		case 58:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 59:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 60:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 60);
				_modificationsLoveDataDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, LoveDataItem>)_loveDataDict, dataPool);
		case 61:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 61);
				_modificationsPreviousLoverSet.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, VoidValue>)_previousLoverSet, dataPool);
		case 62:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 62);
				_modificationsConfessLoveFailedSet.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, VoidValue>)_confessLoveFailedSet, dataPool);
		case 63:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 63);
				_modificationsLoveTokenDataDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<ItemKey, LoveTokenDataItem>)_loveTokenDataDict, dataPool);
		case 64:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 65:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 65);
			}
			return GameData.Serializer.Serializer.Serialize(_taiwuCurrProfessionId, dataPool);
		case 66:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 67:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 68:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 69:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 70:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 71:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(_dataStatesAnimalAreaData, (int)subId0);
			}
			return GameData.Serializer.Serializer.Serialize(_animalAreaData[(uint)subId0], dataPool);
		case 72:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 73:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 74:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 74);
			}
			return GameData.Serializer.Serializer.Serialize(_worldVersionInfo, dataPool);
		case 75:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 76:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 76);
			}
			return GameData.Serializer.Serializer.Serialize(_changeTrickBodyPart, dataPool);
		case 77:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 77);
			}
			return GameData.Serializer.Serializer.Serialize(_changeTrickIndex, dataPool);
		case 78:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 78);
			}
			return GameData.Serializer.Serializer.Serialize(_voiceWeaponInnerRatio, dataPool);
		case 79:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 79);
			}
			return GameData.Serializer.Serializer.Serialize(_sectXuehouBloodLightLocations, dataPool);
		case 80:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 81:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(_dataStatesBrokenAreaMaterials, (int)subId0);
			}
			return GameData.Serializer.Serializer.Serialize(_brokenAreaMaterials[(uint)subId0], dataPool);
		case 82:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 82);
			}
			return GameData.Serializer.Serializer.Serialize(_sectWudangFairylandData, dataPool);
		case 83:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 84:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 85:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 85);
			}
			return GameData.Serializer.Serializer.Serialize(_taiwuMaxNeiliAllocation, dataPool);
		case 86:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 87:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 88:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 88);
			}
			return GameData.Serializer.Serializer.Serialize(_breakoutDifficulty, dataPool);
		case 89:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 89);
			}
			return GameData.Serializer.Serializer.Serialize(_readingDifficulty, dataPool);
		case 90:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 90);
			}
			return GameData.Serializer.Serializer.Serialize(_loopingDifficulty, dataPool);
		case 91:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 91);
				_modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, IntList>)_combatSkillBreakPlateLastForceBreakoutStepsCount, dataPool);
		case 92:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 93:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 93);
			}
			return GameData.Serializer.Serializer.Serialize(_autoCheckInComfortableList, dataPool);
		case 94:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 94);
			}
			return GameData.Serializer.Serializer.Serialize(_autoCheckInResidenceList, dataPool);
		case 95:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 95);
				_modificationsReadingEventReferenceBooks.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, GameData.Utilities.ShortList>)_readingEventReferenceBooks, dataPool);
		case 96:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 96);
				_modificationsMerchantTypeToDebts.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, Debts>)_merchantTypeToDebts, dataPool);
		case 97:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 97);
				_modificationsMerchantBuyBackDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, MerchantBuyBackDebt>)_merchantBuyBackDict, dataPool);
		case 98:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(_dataStatesMerchantMaxLevelBuyBackData, (int)subId0);
			}
			return GameData.Serializer.Serializer.Serialize(_merchantMaxLevelBuyBackData[(uint)subId0], dataPool);
		case 99:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 99);
				_modificationsCaravanBuyBackDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, MerchantBuyBackDebt>)_caravanBuyBackDict, dataPool);
		case 100:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 100);
			}
			return GameData.Serializer.Serializer.Serialize(_firstLegendaryBookDelay, dataPool);
		case 101:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 101);
			}
			return GameData.Serializer.Serializer.Serialize(_legaciesBuildingTemplateIdList, dataPool);
		case 102:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 102);
			}
			return GameData.Serializer.Serializer.Serialize(_isDreamBack, dataPool);
		case 103:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 104:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 104);
			}
			return GameData.Serializer.Serializer.Serialize(_unlockedWorkingVillagers, dataPool);
		case 105:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 105);
				_modificationsDreamBackLifeRecords.Reset(_dreamBackLifeRecords.GetSize());
			}
			return GameData.Serializer.Serializer.SerializeModifications((IBinary)(object)_dreamBackLifeRecords, dataPool);
		case 106:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 106);
			}
			return GameData.Serializer.Serializer.Serialize(_actionPointCurrMonth, dataPool);
		case 107:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 107);
			}
			return GameData.Serializer.Serializer.Serialize(_actionPointPrevMonth, dataPool);
		case 108:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 109:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 109);
			}
			return GameData.Serializer.Serializer.Serialize(_lastMonthNotificationsIndex, dataPool);
		case 110:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 110);
				_modificationsPreviousMonthlyNotifications.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, MonthlyNotificationCollection>)_previousMonthlyNotifications, dataPool);
		case 111:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 111);
			}
			return GameData.Serializer.Serializer.Serialize(_actionPointPreserved, dataPool);
		case 112:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 112);
				_modificationsVillageWorkQualificationImprove.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, GameData.Utilities.ShortList>)_villageWorkQualificationImprove, dataPool);
		case 113:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 113);
			}
			return GameData.Serializer.Serializer.Serialize(_readInLifeSkillCombatCount, dataPool);
		case 114:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 114);
			}
			return GameData.Serializer.Serializer.Serialize(_sectWudangHeavenlyTree, dataPool);
		case 115:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 115);
			}
			return GameData.Serializer.Serializer.Serialize(_sectWudangHeavenlyTreeList, dataPool);
		case 116:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 116);
			}
			return GameData.Serializer.Serializer.Serialize(_sectWudangLingBaoDark, dataPool);
		case 117:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 117);
			}
			return GameData.Serializer.Serializer.Serialize(_sectWudangLingBaoLight, dataPool);
		case 118:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 118);
			}
			return GameData.Serializer.Serializer.Serialize(_shixiangBarbarianMasterIdList, dataPool);
		case 119:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 119);
			}
			return GameData.Serializer.Serializer.Serialize(_legaciesBuildingList, dataPool);
		case 120:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 121:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 122:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 122);
			}
			return GameData.Serializer.Serializer.Serialize(_informationSettings, dataPool);
		case 123:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 123);
			}
			return GameData.Serializer.Serializer.Serialize(_sectXuannvUnlockedMusicList, dataPool);
		case 124:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 124);
			}
			return GameData.Serializer.Serializer.Serialize(_sectXuannvPlayerPlayMode, dataPool);
		case 125:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 125);
			}
			return GameData.Serializer.Serializer.Serialize(_sectXuannvPlayerMusicId, dataPool);
		case 126:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 126);
			}
			return GameData.Serializer.Serializer.Serialize(_sectXuannvPlayerIsEnabled, dataPool);
		case 127:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 128:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 128);
				_modificationsMirrorCharacters.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, int>)_mirrorCharacters, dataPool);
		case 129:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 129);
			}
			return GameData.Serializer.Serializer.Serialize(_sectEmeiBloodLocations, dataPool);
		case 130:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 130);
			}
			return GameData.Serializer.Serializer.Serialize(_sectEmeiExp, dataPool);
		case 131:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 131);
			}
			return GameData.Serializer.Serializer.Serialize(_enemyPracticeLevel, dataPool);
		case 132:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 133:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 133);
			}
			return GameData.Serializer.Serializer.Serialize(_taiwuInformationReceivedHistories, dataPool);
		case 134:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 134);
			}
			return GameData.Serializer.Serializer.Serialize(_sectXuannvEvaluatedMusicList, dataPool);
		case 135:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 136:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 136);
			}
			return GameData.Serializer.Serializer.Serialize(_dreamBackUnlockStates, dataPool);
		case 137:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 138:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 139:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 139);
			}
			return GameData.Serializer.Serializer.Serialize(_dreamBackLocationData, dataPool);
		case 140:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 141:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 142:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 142);
				_modificationsCharacterRevealedHobbies.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, ShortPair>)_characterRevealedHobbies, dataPool);
		case 143:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 143);
			}
			return GameData.Serializer.Serializer.Serialize(_finalDateBeforeDreamBack, dataPool);
		case 144:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 145:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 146:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 147:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 148:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 149:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 149);
			}
			return GameData.Serializer.Serializer.Serialize(_dejaVuEventCharacters, dataPool);
		case 150:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 150);
				_modificationsTaiwuPropertyPermanentBonuses.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, CharacterPropertyBonus>)_taiwuPropertyPermanentBonuses, dataPool);
		case 151:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 152:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 152);
				_modificationsTaiwuAddOneWayRelationCoolDown.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, IntPair>)_taiwuAddOneWayRelationCoolDown, dataPool);
		case 153:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 153);
				_modificationsCarrierTamePoint.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, int>)_carrierTamePoint, dataPool);
		case 154:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 155:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 155);
				_modificationsFleeCarrierLocation.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, Location>)_fleeCarrierLocation, dataPool);
		case 156:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 156);
			}
			return GameData.Serializer.Serializer.Serialize(_favorabilityChange, dataPool);
		case 157:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 157);
			}
			return GameData.Serializer.Serializer.Serialize(_canResetWorldSettings, dataPool);
		case 158:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 158);
				_modificationsSettlementExtraData.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SettlementExtraData>)_settlementExtraData, dataPool);
		case 159:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 160:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 160);
			}
			return GameData.Serializer.Serializer.Serialize(_jiaoPools, dataPool);
		case 161:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 161);
				_modificationsJiaos.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, GameData.DLC.FiveLoong.Jiao>)_jiaos, dataPool);
		case 162:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 162);
				_modificationsChildrenOfLoong.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, ChildrenOfLoong>)_childrenOfLoong, dataPool);
		case 163:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 163);
				_modificationsFiveLoongDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, LoongInfo>)_fiveLoongDict, dataPool);
		case 164:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 164);
			}
			return GameData.Serializer.Serializer.Serialize(_jiaoPoolRecords, dataPool);
		case 165:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 166:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 166);
			}
			return GameData.Serializer.Serializer.Serialize(_jiaoPoolStatus, dataPool);
		case 167:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 167);
				_modificationsChoosyRemainUpgradeRateDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, int>)_choosyRemainUpgradeRateDict, dataPool);
		case 168:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 168);
				_modificationsChoosyRemainUpgradeCountDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, int>)_choosyRemainUpgradeCountDict, dataPool);
		case 169:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 169);
				_modificationsBuildingMoneyPrestigeSuccessRateCompensation.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<ulong, int>)_buildingMoneyPrestigeSuccessRateCompensation, dataPool);
		case 170:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 170);
				_modificationsOwnedClothingSet.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, VoidValue>)_ownedClothingSet, dataPool);
		case 171:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 172:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 172);
			}
			return GameData.Serializer.Serializer.Serialize(_disableEnemyAi, dataPool);
		case 173:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 173);
			}
			return GameData.Serializer.Serializer.Serialize(_enemyUnyieldingFallen, dataPool);
		case 174:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 174);
			}
			return GameData.Serializer.Serializer.Serialize(_lastTargetDistance, dataPool);
		case 175:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 175);
			}
			return GameData.Serializer.Serializer.Serialize(_weaveClothingDisplaySetting, dataPool);
		case 176:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 177:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 177);
			}
			return GameData.Serializer.Serializer.Serialize(_sectWuxianWugJugPoisons, dataPool);
		case 178:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 178);
				_modificationsLocationSupportingBlockResourceTotal.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<Location, ResourceInts>)_locationSupportingBlockResourceTotal, dataPool);
		case 179:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 180:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 180);
			}
			return GameData.Serializer.Serializer.Serialize(_cricketCollectionDataList, dataPool);
		case 181:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 181);
				_modificationsRecruitCharacterDataLists.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<ulong, RecruitCharacterDataList>)_recruitCharacterDataLists, dataPool);
		case 182:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 182);
				_modificationsSectJingangPossessionCharacters.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, PossessionData>)_sectJingangPossessionCharacters, dataPool);
		case 183:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 183);
				_modificationsMixedPoisonEffectTriggerDates.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<IntPair, int>)_mixedPoisonEffectTriggerDates, dataPool);
		case 184:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 185:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 186:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 187:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 188:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 189:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 190:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 191:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 192:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 192);
			}
			return GameData.Serializer.Serializer.Serialize(_changeTrickIsFlaw, dataPool);
		case 193:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 194:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 194);
				_modificationsAnimals.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, GameData.Domains.Character.Animal>)_animals, dataPool);
		case 195:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 195);
				_modificationsSettlementTreasuries.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SettlementTreasury>)_settlementTreasuries, dataPool);
		case 196:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 197:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 198:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 198);
			}
			return GameData.Serializer.Serializer.Serialize(_unlockedCombatSkillPlanCount, dataPool);
		case 199:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 199);
			}
			return GameData.Serializer.Serializer.Serialize(_activeLoopingProgress, dataPool);
		case 200:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 200);
			}
			return GameData.Serializer.Serializer.Serialize(_activeReadingProgress, dataPool);
		case 201:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 201);
				_modificationsCharacterExtraNeiliAllocationProgress.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, IntList>)_characterExtraNeiliAllocationProgress, dataPool);
		case 202:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 202);
			}
			return GameData.Serializer.Serializer.Serialize(_qiArtStrategyList, dataPool);
		case 203:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 203);
			}
			return GameData.Serializer.Serializer.Serialize(_qiArtStrategyExpireTimeList, dataPool);
		case 204:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 204);
				_modificationsLegacyPointTimesDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, short>)_legacyPointTimesDict, dataPool);
		case 205:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 205);
			}
			return GameData.Serializer.Serializer.Serialize(_sectRanshanThreeCorpses, dataPool);
		case 206:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 206);
			}
			return GameData.Serializer.Serializer.Serialize(_sectBaihuaLifeLinkData, dataPool);
		case 207:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 207);
				_modificationsSamsaraPlatformRecordCollection.Reset(_samsaraPlatformRecordCollection.GetSize());
			}
			return GameData.Serializer.Serializer.SerializeModifications((IBinary)(object)_samsaraPlatformRecordCollection, dataPool);
		case 208:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 208);
				_modificationsAvailableReadingStrategyMap.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, SByteList>)_availableReadingStrategyMap, dataPool);
		case 209:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 209);
			}
			return GameData.Serializer.Serializer.Serialize(_referenceSkillList, dataPool);
		case 210:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 210);
				_modificationsAvailableQiArtStrategyMap.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SByteList>)_availableQiArtStrategyMap, dataPool);
		case 211:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 211);
			}
			return GameData.Serializer.Serializer.Serialize(_loopingEventSkillIdList, dataPool);
		case 212:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 212);
				_modificationsQiArtStrategyMap.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SByteList>)_qiArtStrategyMap, dataPool);
		case 213:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 213);
				_modificationsQiArtStrategyExpireTimeMap.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, IntList>)_qiArtStrategyExpireTimeMap, dataPool);
		case 214:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 214);
			}
			return GameData.Serializer.Serializer.Serialize(_loopInLifeSkillCombatCount, dataPool);
		case 215:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 215);
			}
			return GameData.Serializer.Serializer.Serialize(_loopInCombatCount, dataPool);
		case 216:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 216);
				_modificationsSettlementTreasuryRecordCollections.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SettlementTreasuryRecordCollection>)_settlementTreasuryRecordCollections, dataPool);
		case 217:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 217);
				_modificationsMonthlyNotificationSortingGroups.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, NotificationSortingGroup>)_monthlyNotificationSortingGroups, dataPool);
		case 218:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 218);
			}
			return GameData.Serializer.Serializer.Serialize(_followingNpcList, dataPool);
		case 219:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 219);
				_modificationsSectEmeiBreakBonusData.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SectEmeiBreakBonusData>)_sectEmeiBreakBonusData, dataPool);
		case 220:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 220);
				_modificationsFollowingNickNameMap.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, int>)_followingNickNameMap, dataPool);
		case 221:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(_dataStatesMerchantOverFavorDataArray, (int)subId0);
			}
			return GameData.Serializer.Serializer.Serialize(_merchantOverFavorDataArray[(uint)subId0], dataPool);
		case 222:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 222);
			}
			return GameData.Serializer.Serializer.Serialize(_changedTeammateCharIds, dataPool);
		case 223:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 223);
				_modificationsSettlementPrisons.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SettlementPrison>)_settlementPrisons, dataPool);
		case 224:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 224);
				_modificationsSectFulongOrgMemberChickens.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, IntList>)_sectFulongOrgMemberChickens, dataPool);
		case 225:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 225);
			}
			return GameData.Serializer.Serializer.Serialize(_sectFulongInFlameAreas, dataPool);
		case 226:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 226);
				_modificationsSectFulongOutLaws.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, IntPair>)_sectFulongOutLaws, dataPool);
		case 227:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 227);
				_modificationsSettlementPrisonRecordCollections.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SettlementPrisonRecordCollection>)_settlementPrisonRecordCollections, dataPool);
		case 228:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 229:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 229);
			}
			return GameData.Serializer.Serializer.Serialize(_sectFulongLoseFeatherChickens, dataPool);
		case 230:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 230);
			}
			return GameData.Serializer.Serializer.Serialize(_stockStorage, dataPool);
		case 231:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 231);
			}
			return GameData.Serializer.Serializer.Serialize(_craftStorage, dataPool);
		case 232:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 232);
			}
			return GameData.Serializer.Serializer.Serialize(_medicineStorage, dataPool);
		case 233:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 234:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 234);
			}
			return GameData.Serializer.Serializer.Serialize(_foodStorage, dataPool);
		case 235:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 235);
			}
			return GameData.Serializer.Serializer.Serialize(_taiwuVillageStoragesRecordCollection, dataPool);
		case 236:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 237:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 237);
				_modificationsVillagerRoleNickNameMap.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, int>)_villagerRoleNickNameMap, dataPool);
		case 238:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 239:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 239);
				_modificationsBuildingResourceOutputSettings.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, BuildingResourceOutputSetting>)_buildingResourceOutputSettings, dataPool);
		case 240:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 241:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 242:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 243:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 244:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 244);
				_modificationsAreaSpiritualDebt.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, int>)_areaSpiritualDebt, dataPool);
		case 245:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 245);
				_modificationsTaiwuProfessions.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, ProfessionData>)_taiwuProfessions, dataPool);
		case 246:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 246);
			}
			return GameData.Serializer.Serializer.Serialize(_taiwuProfessionSkillSlots, dataPool);
		case 247:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 248:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 248);
				_modificationsCricketPlaceExtraData.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, CricketPlaceExtraData>)_cricketPlaceExtraData, dataPool);
		case 249:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(_dataStatesBranchMerchantData, (int)subId0);
			}
			return GameData.Serializer.Serializer.Serialize(_branchMerchantData[(uint)subId0], dataPool);
		case 250:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 251:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 252:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 252);
			}
			return GameData.Serializer.Serializer.Serialize(_interactedCharacterList, dataPool);
		case 253:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 253);
				_modificationsFriendOrFamilyInteractionCooldownDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, sbyte>)_friendOrFamilyInteractionCooldownDict, dataPool);
		case 254:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 254);
				_modificationsSectZhujianGearMates.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, GearMate>)_sectZhujianGearMates, dataPool);
		case 255:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 255);
			}
			return GameData.Serializer.Serializer.Serialize(_professionUpgrade, dataPool);
		case 256:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 257:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 258:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 259:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 259);
			}
			return GameData.Serializer.Serializer.Serialize(_sectZhujianThiefList, dataPool);
		case 260:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 261:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 261);
				_modificationsCaravanExtraDataDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, CaravanExtraData>)_caravanExtraDataDict, dataPool);
		case 262:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 262);
			}
			return GameData.Serializer.Serializer.Serialize(_protectCaravanTime, dataPool);
		case 263:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 263);
				_modificationsSectZhujianAreaMerchantTypeDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, sbyte>)_sectZhujianAreaMerchantTypeDict, dataPool);
		case 264:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 264);
				_modificationsMerchantExtraGoods.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, MerchantExtraGoodsData>)_merchantExtraGoods, dataPool);
		case 265:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 265);
			}
			return GameData.Serializer.Serializer.Serialize(_exorcismEnabled, dataPool);
		case 266:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 266);
			}
			return GameData.Serializer.Serializer.Serialize(_sectStorySpecialMerchant, dataPool);
		case 267:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 267);
			}
			return GameData.Serializer.Serializer.Serialize(_isExtraProfessionSkillUnlocked, dataPool);
		case 268:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 268);
			}
			return GameData.Serializer.Serializer.Serialize(_isDirectTraveling, dataPool);
		case 269:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 269);
			}
			return GameData.Serializer.Serializer.Serialize(_kidnappedTravelData, dataPool);
		case 270:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 271:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 272:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 272);
				_modificationsCharacterAvatarExtraDataDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, AvatarExtraData>)_characterAvatarExtraDataDict, dataPool);
		case 273:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 273);
			}
			return GameData.Serializer.Serializer.Serialize(_lootYield, dataPool);
		case 274:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 274);
				_modificationsCityPunishmentSeverityCustomizeDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SerializableList<PunishmentSeverityCustomizeData>>)_cityPunishmentSeverityCustomizeDict, dataPool);
		case 275:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 276:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 276);
				_modificationsCombatSkillProficiencies.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<CombatSkillKey, int>)_combatSkillProficiencies, dataPool);
		case 277:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 277);
				_modificationsSkillBreakPlates.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, GameData.Domains.Taiwu.SkillBreakPlate>)_skillBreakPlates, dataPool);
		case 278:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 279:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 279);
			}
			return GameData.Serializer.Serializer.Serialize(_sectShaolinDemonSlayerData, dataPool);
		case 280:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 280);
			}
			return GameData.Serializer.Serializer.Serialize(KongsangCharacterFeaturePoisonedProb, dataPool);
		case 281:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 281);
				_modificationsPickupDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<Location, MapPickupCollection>)_pickupDict, dataPool);
		case 282:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 282);
			}
			return GameData.Serializer.Serializer.Serialize(_taiwuSelectedDebateCardType, dataPool);
		case 283:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 284:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 284);
				_modificationsBuildingBlockDataEx.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<ulong, BuildingBlockDataEx>)_buildingBlockDataEx, dataPool);
		case 285:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 285);
				_modificationsVillagerRoleAutoActionStates.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, ulong>)_villagerRoleAutoActionStates, dataPool);
		case 286:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 286);
			}
			return GameData.Serializer.Serializer.Serialize(_buildingArrangementSettingPresetData, dataPool);
		case 287:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 287);
				_modificationsBuildingArtisanOrders.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<ulong, ArtisanOrder>)_buildingArtisanOrders, dataPool);
		case 288:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 288);
				_modificationsTaiwuVillagerPotentialData.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, sbyte>)_taiwuVillagerPotentialData, dataPool);
		case 289:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 289);
				_modificationsNpcArtisanOrders.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, ArtisanOrder>)_npcArtisanOrders, dataPool);
		case 290:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 290);
				_modificationsShopVillagerQualificationImprove.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, GameData.Utilities.ShortList>)_shopVillagerQualificationImprove, dataPool);
		case 291:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 291);
				_modificationsBigEvents.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, BigEventRecord>)_bigEvents, dataPool);
		case 292:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 292);
			}
			return GameData.Serializer.Serializer.Serialize(_hasGetShuiHuoYingQiGongSkillBookByArchiveFix, dataPool);
		case 293:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 293);
			}
			return GameData.Serializer.Serializer.Serialize(_farmerAutoCollectStorageType, dataPool);
		case 294:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 294);
			}
			return GameData.Serializer.Serializer.Serialize(_woodenXiangshuAvatarSelectedFeatures, dataPool);
		case 295:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 296:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 297:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 297);
				_modificationsVillagerSkillLegacyPointDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, int>)_villagerSkillLegacyPointDict, dataPool);
		case 298:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 299:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 299);
				_modificationsDyingCharacters.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, short>)_dyingCharacters, dataPool);
		case 300:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 301:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 301);
			}
			return GameData.Serializer.Serializer.Serialize(_sectYuanshanThreeVitals, dataPool);
		case 302:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 303:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 303);
				_modificationsResourceBlockExtraData.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<ulong, ResourceBlockExtraData>)_resourceBlockExtraData, dataPool);
		case 304:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 304);
			}
			return GameData.Serializer.Serializer.Serialize(_unlockedFeastTypes, dataPool);
		case 305:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 305);
				_modificationsFeasts.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<ulong, GameData.Domains.Building.Feast>)_feasts, dataPool);
		case 306:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 307:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 307);
				_modificationsSettlementLayeredTreasuries.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<short, SettlementLayeredTreasuries>)_settlementLayeredTreasuries, dataPool);
		case 308:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 308);
			}
			return GameData.Serializer.Serializer.Serialize(_buildingDefaultStoreLocation, dataPool);
		case 309:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 309);
				_modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<sbyte, sbyte>)_taiwuVillageVowOrgTemplateCrossArchiveDict, dataPool);
		case 310:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 311:
			throw new Exception($"Not allow to get value of dataId: {dataId}");
		case 312:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 312);
				_modificationsCharacterDarkAshCounterData.Reset();
			}
			return GameData.Serializer.Serializer.SerializeModifications((IDictionary<int, DarkAshCounterData>)_characterDarkAshCounterData, dataPool);
		case 313:
			if (resetModified)
			{
				BaseGameDataDomain.ResetModified(DataStates, 313);
			}
			return GameData.Serializer.Serializer.Serialize(_fuyuFaith, dataPool);
		default:
			throw new Exception($"Unsupported dataId {dataId}");
		}
	}

	public override void SetData(ushort dataId, ulong subId0, uint subId1, int valueOffset, RawDataPool dataPool, DataContext context)
	{
		switch (dataId)
		{
		case 0:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 1:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 2:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 3:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _exchangedSpecialWeaponList);
			SetExchangedSpecialWeaponList(_exchangedSpecialWeaponList, context);
			break;
		case 4:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 5:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 6:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 7:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _stationInited);
			SetStationInited(_stationInited, context);
			break;
		case 8:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 9:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _stoneRoomCharList);
			SetStoneRoomCharList(_stoneRoomCharList, context);
			break;
		case 10:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 11:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 12:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 13:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 14:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _autoWorkBlockIndexList);
			SetAutoWorkBlockIndexList(_autoWorkBlockIndexList, context);
			break;
		case 15:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _autoSoldBlockIndexList);
			SetAutoSoldBlockIndexList(_autoSoldBlockIndexList, context);
			break;
		case 16:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 17:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 18:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 19:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _xiangshuIdInKungfuPracticeRoom);
			SetXiangshuIdInKungfuPracticeRoom(_xiangshuIdInKungfuPracticeRoom, context);
			break;
		case 20:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 21:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _shopArrangeResultFirstList);
			SetShopArrangeResultFirstList(_shopArrangeResultFirstList, context);
			break;
		case 22:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _autoExpandBlockIndexList);
			SetAutoExpandBlockIndexList(_autoExpandBlockIndexList, context);
			break;
		case 23:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 24:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _readingEventBookIdList);
			SetReadingEventBookIdList(_readingEventBookIdList, context);
			break;
		case 25:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 26:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 27:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 28:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 29:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 30:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 31:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 32:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 33:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 34:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 35:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 36:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 37:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 38:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 39:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 40:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 41:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 42:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 43:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 44:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 45:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 46:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 47:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 48:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 49:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 50:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 51:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 52:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 53:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 54:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 55:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 56:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 57:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 58:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 59:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 60:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 61:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 62:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 63:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 64:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 65:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 66:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 67:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 68:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 69:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 70:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 71:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 72:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 73:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 74:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 75:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 76:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _changeTrickBodyPart);
			SetChangeTrickBodyPart(_changeTrickBodyPart, context);
			break;
		case 77:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _changeTrickIndex);
			SetChangeTrickIndex(_changeTrickIndex, context);
			break;
		case 78:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _voiceWeaponInnerRatio);
			SetVoiceWeaponInnerRatio(_voiceWeaponInnerRatio, context);
			break;
		case 79:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 80:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 81:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 82:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 83:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 84:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 85:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _taiwuMaxNeiliAllocation);
			SetTaiwuMaxNeiliAllocation(_taiwuMaxNeiliAllocation, context);
			break;
		case 86:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 87:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 88:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _breakoutDifficulty);
			SetBreakoutDifficulty(_breakoutDifficulty, context);
			break;
		case 89:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _readingDifficulty);
			SetReadingDifficulty(_readingDifficulty, context);
			break;
		case 90:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _loopingDifficulty);
			SetLoopingDifficulty(_loopingDifficulty, context);
			break;
		case 91:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 92:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 93:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _autoCheckInComfortableList);
			SetAutoCheckInComfortableList(_autoCheckInComfortableList, context);
			break;
		case 94:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _autoCheckInResidenceList);
			SetAutoCheckInResidenceList(_autoCheckInResidenceList, context);
			break;
		case 95:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 96:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 97:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 98:
		{
			MerchantBuyBackDebt item3 = _merchantMaxLevelBuyBackData[(uint)subId0];
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref item3);
			_merchantMaxLevelBuyBackData[(uint)subId0] = item3;
			SetElement_MerchantMaxLevelBuyBackData((int)subId0, item3, context);
			break;
		}
		case 99:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 100:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _firstLegendaryBookDelay);
			SetFirstLegendaryBookDelay(_firstLegendaryBookDelay, context);
			break;
		case 101:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _legaciesBuildingTemplateIdList);
			SetLegaciesBuildingTemplateIdList(_legaciesBuildingTemplateIdList, context);
			break;
		case 102:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 103:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 104:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _unlockedWorkingVillagers);
			SetUnlockedWorkingVillagers(_unlockedWorkingVillagers, context);
			break;
		case 105:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 106:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 107:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 108:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 109:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 110:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 111:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 112:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 113:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _readInLifeSkillCombatCount);
			SetReadInLifeSkillCombatCount(_readInLifeSkillCombatCount, context);
			break;
		case 114:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 115:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 116:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 117:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 118:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _shixiangBarbarianMasterIdList);
			SetShixiangBarbarianMasterIdList(_shixiangBarbarianMasterIdList, context);
			break;
		case 119:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _legaciesBuildingList);
			SetLegaciesBuildingList(_legaciesBuildingList, context);
			break;
		case 120:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 121:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 122:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _informationSettings);
			SetInformationSettings(_informationSettings, context);
			break;
		case 123:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectXuannvUnlockedMusicList);
			SetSectXuannvUnlockedMusicList(_sectXuannvUnlockedMusicList, context);
			break;
		case 124:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectXuannvPlayerPlayMode);
			SetSectXuannvPlayerPlayMode(_sectXuannvPlayerPlayMode, context);
			break;
		case 125:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectXuannvPlayerMusicId);
			SetSectXuannvPlayerMusicId(_sectXuannvPlayerMusicId, context);
			break;
		case 126:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectXuannvPlayerIsEnabled);
			SetSectXuannvPlayerIsEnabled(_sectXuannvPlayerIsEnabled, context);
			break;
		case 127:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 128:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 129:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 130:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectEmeiExp);
			SetSectEmeiExp(_sectEmeiExp, context);
			break;
		case 131:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _enemyPracticeLevel);
			SetEnemyPracticeLevel(_enemyPracticeLevel, context);
			break;
		case 132:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 133:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 134:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectXuannvEvaluatedMusicList);
			SetSectXuannvEvaluatedMusicList(_sectXuannvEvaluatedMusicList, context);
			break;
		case 135:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 136:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 137:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 138:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 139:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _dreamBackLocationData);
			SetDreamBackLocationData(_dreamBackLocationData, context);
			break;
		case 140:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 141:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 142:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 143:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 144:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 145:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 146:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 147:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 148:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 149:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _dejaVuEventCharacters);
			SetDejaVuEventCharacters(_dejaVuEventCharacters, context);
			break;
		case 150:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 151:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 152:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 153:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 154:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 155:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 156:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _favorabilityChange);
			SetFavorabilityChange(_favorabilityChange, context);
			break;
		case 157:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _canResetWorldSettings);
			SetCanResetWorldSettings(_canResetWorldSettings, context);
			break;
		case 158:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 159:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 160:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _jiaoPools);
			SetJiaoPools(_jiaoPools, context);
			break;
		case 161:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 162:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 163:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 164:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _jiaoPoolRecords);
			SetJiaoPoolRecords(_jiaoPoolRecords, context);
			break;
		case 165:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 166:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _jiaoPoolStatus);
			SetJiaoPoolStatus(_jiaoPoolStatus, context);
			break;
		case 167:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 168:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 169:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 170:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 171:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 172:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _disableEnemyAi);
			SetDisableEnemyAi(_disableEnemyAi, context);
			break;
		case 173:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _enemyUnyieldingFallen);
			SetEnemyUnyieldingFallen(_enemyUnyieldingFallen, context);
			break;
		case 174:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _lastTargetDistance);
			SetLastTargetDistance(_lastTargetDistance, context);
			break;
		case 175:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _weaveClothingDisplaySetting);
			SetWeaveClothingDisplaySetting(_weaveClothingDisplaySetting, context);
			break;
		case 176:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 177:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectWuxianWugJugPoisons);
			SetSectWuxianWugJugPoisons(_sectWuxianWugJugPoisons, context);
			break;
		case 178:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 179:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 180:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _cricketCollectionDataList);
			SetCricketCollectionDataList(_cricketCollectionDataList, context);
			break;
		case 181:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 182:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 183:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 184:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 185:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 186:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 187:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 188:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 189:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 190:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 191:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 192:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _changeTrickIsFlaw);
			SetChangeTrickIsFlaw(_changeTrickIsFlaw, context);
			break;
		case 193:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 194:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 195:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 196:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 197:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 198:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _unlockedCombatSkillPlanCount);
			SetUnlockedCombatSkillPlanCount(_unlockedCombatSkillPlanCount, context);
			break;
		case 199:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _activeLoopingProgress);
			SetActiveLoopingProgress(_activeLoopingProgress, context);
			break;
		case 200:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _activeReadingProgress);
			SetActiveReadingProgress(_activeReadingProgress, context);
			break;
		case 201:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 202:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _qiArtStrategyList);
			SetQiArtStrategyList(_qiArtStrategyList, context);
			break;
		case 203:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _qiArtStrategyExpireTimeList);
			SetQiArtStrategyExpireTimeList(_qiArtStrategyExpireTimeList, context);
			break;
		case 204:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 205:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 206:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectBaihuaLifeLinkData);
			SetSectBaihuaLifeLinkData(_sectBaihuaLifeLinkData, context);
			break;
		case 207:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 208:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 209:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _referenceSkillList);
			SetReferenceSkillList(_referenceSkillList, context);
			break;
		case 210:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 211:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _loopingEventSkillIdList);
			SetLoopingEventSkillIdList(_loopingEventSkillIdList, context);
			break;
		case 212:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 213:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 214:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _loopInLifeSkillCombatCount);
			SetLoopInLifeSkillCombatCount(_loopInLifeSkillCombatCount, context);
			break;
		case 215:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _loopInCombatCount);
			SetLoopInCombatCount(_loopInCombatCount, context);
			break;
		case 216:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 217:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 218:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 219:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 220:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 221:
		{
			MerchantOverFavorData item2 = _merchantOverFavorDataArray[(uint)subId0];
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref item2);
			_merchantOverFavorDataArray[(uint)subId0] = item2;
			SetElement_MerchantOverFavorDataArray((int)subId0, item2, context);
			break;
		}
		case 222:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 223:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 224:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 225:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectFulongInFlameAreas);
			SetSectFulongInFlameAreas(_sectFulongInFlameAreas, context);
			break;
		case 226:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 227:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 228:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 229:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectFulongLoseFeatherChickens);
			SetSectFulongLoseFeatherChickens(_sectFulongLoseFeatherChickens, context);
			break;
		case 230:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 231:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 232:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 233:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 234:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 235:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 236:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 237:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 238:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 239:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 240:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 241:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 242:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 243:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 244:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 245:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 246:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 247:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 248:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 249:
		{
			MerchantData item = _branchMerchantData[(uint)subId0];
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref item);
			_branchMerchantData[(uint)subId0] = item;
			SetElement_BranchMerchantData((int)subId0, item, context);
			break;
		}
		case 250:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 251:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 252:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _interactedCharacterList);
			SetInteractedCharacterList(_interactedCharacterList, context);
			break;
		case 253:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 254:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 255:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _professionUpgrade);
			SetProfessionUpgrade(_professionUpgrade, context);
			break;
		case 256:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 257:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 258:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 259:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectZhujianThiefList);
			SetSectZhujianThiefList(_sectZhujianThiefList, context);
			break;
		case 260:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 261:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 262:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _protectCaravanTime);
			SetProtectCaravanTime(_protectCaravanTime, context);
			break;
		case 263:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 264:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 265:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _exorcismEnabled);
			SetExorcismEnabled(_exorcismEnabled, context);
			break;
		case 266:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _sectStorySpecialMerchant);
			SetSectStorySpecialMerchant(_sectStorySpecialMerchant, context);
			break;
		case 267:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _isExtraProfessionSkillUnlocked);
			SetIsExtraProfessionSkillUnlocked(_isExtraProfessionSkillUnlocked, context);
			break;
		case 268:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _isDirectTraveling);
			SetIsDirectTraveling(_isDirectTraveling, context);
			break;
		case 269:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _kidnappedTravelData);
			SetKidnappedTravelData(_kidnappedTravelData, context);
			break;
		case 270:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 271:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 272:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 273:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _lootYield);
			SetLootYield(_lootYield, context);
			break;
		case 274:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 275:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 276:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 277:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 278:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 279:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 280:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref KongsangCharacterFeaturePoisonedProb);
			SetKongsangCharacterFeaturePoisonedProb(KongsangCharacterFeaturePoisonedProb, context);
			break;
		case 281:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 282:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _taiwuSelectedDebateCardType);
			SetTaiwuSelectedDebateCardType(_taiwuSelectedDebateCardType, context);
			break;
		case 283:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 284:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 285:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 286:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _buildingArrangementSettingPresetData);
			SetBuildingArrangementSettingPresetData(_buildingArrangementSettingPresetData, context);
			break;
		case 287:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 288:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 289:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 290:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 291:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 292:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _hasGetShuiHuoYingQiGongSkillBookByArchiveFix);
			SetHasGetShuiHuoYingQiGongSkillBookByArchiveFix(_hasGetShuiHuoYingQiGongSkillBookByArchiveFix, context);
			break;
		case 293:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _farmerAutoCollectStorageType);
			SetFarmerAutoCollectStorageType(_farmerAutoCollectStorageType, context);
			break;
		case 294:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _woodenXiangshuAvatarSelectedFeatures);
			SetWoodenXiangshuAvatarSelectedFeatures(_woodenXiangshuAvatarSelectedFeatures, context);
			break;
		case 295:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 296:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 297:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 298:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 299:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 300:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 301:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 302:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 303:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 304:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _unlockedFeastTypes);
			SetUnlockedFeastTypes(_unlockedFeastTypes, context);
			break;
		case 305:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 306:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 307:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 308:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _buildingDefaultStoreLocation);
			SetBuildingDefaultStoreLocation(_buildingDefaultStoreLocation, context);
			break;
		case 309:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 310:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 311:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 312:
			throw new Exception($"Not allow to set value of dataId {dataId}");
		case 313:
			GameData.Serializer.Serializer.Deserialize(dataPool, valueOffset, ref _fuyuFaith);
			SetFuyuFaith(_fuyuFaith, context);
			break;
		default:
			throw new Exception($"Unsupported dataId {dataId}");
		}
	}

	public override int CallMethod(Operation operation, RawDataPool argDataPool, RawDataPool returnDataPool, DataContext context)
	{
		int argsOffset = operation.ArgsOffset;
		switch (operation.MethodId)
		{
		case 0:
		{
			int argsCount93 = operation.ArgsCount;
			int num93 = argsCount93;
			if (num93 == 1)
			{
				int item220 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item220);
				AddManualChangeEquipGroupChar(context, item220);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 1:
		{
			int argsCount194 = operation.ArgsCount;
			int num194 = argsCount194;
			if (num194 == 1)
			{
				int item437 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item437);
				RemoveManualChangeEquipGroupChar(context, item437);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 2:
		{
			int argsCount103 = operation.ArgsCount;
			int num103 = argsCount103;
			if (num103 == 1)
			{
				sbyte item240 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item240);
				AddHideSkeletonEquipSlot(context, item240);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 3:
		{
			int argsCount156 = operation.ArgsCount;
			int num156 = argsCount156;
			if (num156 == 1)
			{
				sbyte item352 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item352);
				RemoveHideSkeletonEquipSlot(context, item352);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 4:
		{
			int argsCount27 = operation.ArgsCount;
			int num27 = argsCount27;
			if (num27 == 1)
			{
				GameData.Utilities.ShortList item63 = default(GameData.Utilities.ShortList);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item63);
				SetCombatSkillOrderPlan(context, item63);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 5:
		{
			int argsCount131 = operation.ArgsCount;
			int num131 = argsCount131;
			if (num131 == 1)
			{
				Location item304 = default(Location);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item304);
				AddLocationMark(context, item304);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 6:
		{
			int argsCount44 = operation.ArgsCount;
			int num44 = argsCount44;
			if (num44 == 1)
			{
				Location item94 = default(Location);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item94);
				RemoveLocationMark(context, item94);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 7:
			if (operation.ArgsCount == 0)
			{
				HashSetAsDictionary<Location> allLocationMark = GetAllLocationMark();
				return GameData.Serializer.Serializer.SerializeDefault(allLocationMark, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 8:
			switch (operation.ArgsCount)
			{
			case 2:
			{
				ItemKey item359 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item359);
				int item360 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item360);
				TroughRemove(context, item359, item360);
				return -1;
			}
			case 3:
			{
				ItemKey item356 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item356);
				int item357 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item357);
				bool item358 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item358);
				TroughRemove(context, item356, item357, item358);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 9:
		{
			int argsCount119 = operation.ArgsCount;
			int num119 = argsCount119;
			if (num119 == 2)
			{
				ItemKey item281 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item281);
				int item282 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item282);
				TreasuryAdd(context, item281, item282);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 10:
		{
			int argsCount76 = operation.ArgsCount;
			int num76 = argsCount76;
			if (num76 == 1)
			{
				List<ItemKey> item177 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item177);
				TreasuryAddList(context, item177);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 11:
			switch (operation.ArgsCount)
			{
			case 2:
			{
				ItemKey item140 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item140);
				int item141 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item141);
				TreasuryRemove(context, item140, item141);
				return -1;
			}
			case 3:
			{
				ItemKey item137 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item137);
				int item138 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item138);
				bool item139 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item139);
				TreasuryRemove(context, item137, item138, item139);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 12:
			switch (operation.ArgsCount)
			{
			case 1:
			{
				List<ItemKey> item99 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item99);
				TreasuryRemoveList(context, item99);
				return -1;
			}
			case 2:
			{
				List<ItemKey> item97 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item97);
				bool item98 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item98);
				TreasuryRemoveList(context, item97, item98);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 13:
		{
			int argsCount11 = operation.ArgsCount;
			int num11 = argsCount11;
			if (num11 == 2)
			{
				ItemKey item18 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item18);
				int item19 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item19);
				TroughAdd(context, item18, item19);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 14:
		{
			int argsCount178 = operation.ArgsCount;
			int num178 = argsCount178;
			if (num178 == 1)
			{
				List<ItemKey> item405 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item405);
				TroughAddList(context, item405);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 15:
			switch (operation.ArgsCount)
			{
			case 1:
			{
				List<ItemKey> item386 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item386);
				TroughRemoveList(context, item386);
				return -1;
			}
			case 2:
			{
				List<ItemKey> item384 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item384);
				bool item385 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item385);
				TroughRemoveList(context, item384, item385);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 16:
		{
			int argsCount139 = operation.ArgsCount;
			int num139 = argsCount139;
			if (num139 == 1)
			{
				int item318 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item318);
				AddReadingEventBookId(context, item318);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 17:
		{
			int argsCount114 = operation.ArgsCount;
			int num114 = argsCount114;
			if (num114 == 2)
			{
				int item265 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item265);
				short item266 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item266);
				RemoveReadingEventBookId(context, item265, item266);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 18:
			if (operation.ArgsCount == 0)
			{
				Dictionary<sbyte, LifeSkillCombatCardCollection> allLifeSkillCombatUsedCard = GetAllLifeSkillCombatUsedCard(context);
				return GameData.Serializer.Serializer.Serialize(allLifeSkillCombatUsedCard, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 19:
			if (operation.ArgsCount == 0)
			{
				Dictionary<sbyte, LifeSkillCombatCardCollection> allLifeSkillCombatCard = GetAllLifeSkillCombatCard(context);
				return GameData.Serializer.Serializer.Serialize(allLifeSkillCombatCard, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 20:
		{
			int argsCount32 = operation.ArgsCount;
			int num32 = argsCount32;
			if (num32 == 2)
			{
				sbyte item72 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item72);
				LifeSkillCombatCardCollection item73 = default(LifeSkillCombatCardCollection);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item73);
				SetLifeSkillCombatUsedCard(context, item72, item73);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 21:
		{
			int argsCount9 = operation.ArgsCount;
			int num9 = argsCount9;
			if (num9 == 2)
			{
				sbyte item14 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item14);
				int item15 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item15);
				LifeSkillCombatCardCollection characterLifeSkillCombatUsedCard = GetCharacterLifeSkillCombatUsedCard(context, item14, item15);
				return GameData.Serializer.Serializer.Serialize(characterLifeSkillCombatUsedCard, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 22:
		{
			int argsCount182 = operation.ArgsCount;
			int num182 = argsCount182;
			if (num182 == 1)
			{
				sbyte item410 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item410);
				LifeSkillCombatCardCollection lifeSkillCombatUsedCard = GetLifeSkillCombatUsedCard(context, item410);
				return GameData.Serializer.Serializer.Serialize(lifeSkillCombatUsedCard, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 23:
			if (operation.ArgsCount == 0)
			{
				Dictionary<sbyte, LifeSkillCombatCardCollection> allLifeSkillCombatNewCard = GetAllLifeSkillCombatNewCard(context);
				return GameData.Serializer.Serializer.Serialize(allLifeSkillCombatNewCard, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 24:
		{
			int argsCount146 = operation.ArgsCount;
			int num146 = argsCount146;
			if (num146 == 2)
			{
				sbyte item333 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item333);
				sbyte item334 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item334);
				SetLifeSkillCombatCardNotNew(context, item333, item334);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 25:
		{
			int argsCount126 = operation.ArgsCount;
			int num126 = argsCount126;
			if (num126 == 1)
			{
				int item297 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item297);
				List<sbyte> charTeammateCommands = GetCharTeammateCommands(context, item297);
				return GameData.Serializer.Serializer.Serialize(charTeammateCommands, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 26:
		{
			int argsCount104 = operation.ArgsCount;
			int num104 = argsCount104;
			if (num104 == 2)
			{
				sbyte item241 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item241);
				ItemKey item242 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item242);
				SetLegendaryBookWeaponSlot(context, item241, item242);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 27:
		{
			int argsCount88 = operation.ArgsCount;
			int num88 = argsCount88;
			if (num88 == 3)
			{
				sbyte item206 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item206);
				int item207 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item207);
				short item208 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item208);
				SetLegendaryBookSkillSlot(context, item206, item207, item208);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 28:
		{
			int argsCount67 = operation.ArgsCount;
			int num67 = argsCount67;
			if (num67 == 2)
			{
				sbyte item150 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item150);
				bool item151 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item151);
				UnlockLegendaryBookBreakPlate(context, item150, item151);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 29:
		{
			int argsCount52 = operation.ArgsCount;
			int num52 = argsCount52;
			if (num52 == 2)
			{
				sbyte item112 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item112);
				bool item113 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item113);
				UnlockLegendaryBookBonus(context, item112, item113);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 30:
		{
			int argsCount36 = operation.ArgsCount;
			int num36 = argsCount36;
			if (num36 == 2)
			{
				short item78 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item78);
				sbyte item79 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item79);
				ChangeCombatSkillBreakPlate(context, item78, item79);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 31:
		{
			int argsCount22 = operation.ArgsCount;
			int num22 = argsCount22;
			if (num22 == 2)
			{
				sbyte item47 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item47);
				bool item48 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item48);
				EnterUnlockBreakPlateCombat(context, item47, item48);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 32:
		{
			int argsCount199 = operation.ArgsCount;
			int num199 = argsCount199;
			if (num199 == 1)
			{
				int item446 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item446);
				SetTopTask(context, item446);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 33:
		{
			int argsCount188 = operation.ArgsCount;
			int num188 = argsCount188;
			if (num188 == 5)
			{
				int item419 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item419);
				int item420 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item420);
				int item421 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item421);
				bool item422 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item422);
				bool item423 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item423);
				GmCmd_SetLoveData(context, item419, item420, item421, item422, item423);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 34:
		{
			int argsCount170 = operation.ArgsCount;
			int num170 = argsCount170;
			if (num170 == 1)
			{
				int item387 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item387);
				GmCmd_RemoveLoveData(context, item387);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 35:
		{
			int argsCount164 = operation.ArgsCount;
			int num164 = argsCount164;
			if (num164 == 1)
			{
				int item366 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item366);
				GmCmd_RemoveLoveEvent(context, item366);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 36:
		{
			int argsCount150 = operation.ArgsCount;
			int num150 = argsCount150;
			if (num150 == 1)
			{
				int item341 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item341);
				ChangeProfession(context, item341);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 37:
		{
			int argsCount137 = operation.ArgsCount;
			int num137 = argsCount137;
			if (num137 == 2)
			{
				int item315 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item315);
				int item316 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item316);
				ExecuteActiveProfessionSkill(item315, item316);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 38:
		{
			int argsCount121 = operation.ArgsCount;
			int num121 = argsCount121;
			if (num121 == 2)
			{
				int item286 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item286);
				int item287 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item287);
				bool item288 = IsProfessionalSkillUnlocked(item286, item287);
				return GameData.Serializer.Serializer.Serialize(item288, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 39:
		{
			int argsCount111 = operation.ArgsCount;
			int num111 = argsCount111;
			if (num111 == 2)
			{
				int item255 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item255);
				int item256 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item256);
				bool item257 = CanExecuteProfessionSkill(item255, item256);
				return GameData.Serializer.Serializer.Serialize(item257, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 40:
		{
			int argsCount96 = operation.ArgsCount;
			int num96 = argsCount96;
			if (num96 == 2)
			{
				bool item227 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item227);
				bool item228 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item228);
				SetProfessionTestSetting(context, item227, item228);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 41:
		{
			int argsCount86 = operation.ArgsCount;
			int num86 = argsCount86;
			if (num86 == 1)
			{
				int item203 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item203);
				int characterCustomDisplayName = GetCharacterCustomDisplayName(item203);
				return GameData.Serializer.Serializer.Serialize(characterCustomDisplayName, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 42:
			if (operation.ArgsCount == 0)
			{
				int tianJieFuLuCount = GetTianJieFuLuCount();
				return GameData.Serializer.Serializer.Serialize(tianJieFuLuCount, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 43:
			if (operation.ArgsCount == 0)
			{
				GmCmd_GenerateTreasure(context);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 44:
		{
			int argsCount48 = operation.ArgsCount;
			int num48 = argsCount48;
			if (num48 == 1)
			{
				int item105 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item105);
				TreasureFindResult item106 = FindTreasure(context, item105);
				return GameData.Serializer.Serializer.Serialize(item106, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 45:
		{
			int argsCount42 = operation.ArgsCount;
			int num42 = argsCount42;
			if (num42 == 2)
			{
				int item88 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item88);
				int item89 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item89);
				bool item90 = CheckSpecialCondition(item88, item89);
				return GameData.Serializer.Serializer.Serialize(item90, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 46:
		{
			int argsCount28 = operation.ArgsCount;
			int num28 = argsCount28;
			if (num28 == 2)
			{
				ProfessionSkillArg item64 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item64);
				bool item65 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item65);
				ConfirmExecuteSkill(context, item64, item65);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 47:
		{
			int argsCount17 = operation.ArgsCount;
			int num17 = argsCount17;
			if (num17 == 1)
			{
				Location item32 = default(Location);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item32);
				TreasureExpectResult item33 = FindTreasureExpect(item32);
				return GameData.Serializer.Serializer.Serialize(item33, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 48:
		{
			int argsCount5 = operation.ArgsCount;
			int num5 = argsCount5;
			if (num5 == 1)
			{
				Location item8 = default(Location);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item8);
				bool locationHasHunterAnimal = GetLocationHasHunterAnimal(item8);
				return GameData.Serializer.Serializer.Serialize(locationHasHunterAnimal, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 49:
		{
			int argsCount193 = operation.ArgsCount;
			int num193 = argsCount193;
			if (num193 == 1)
			{
				int item436 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item436);
				SetProfessionSeniorityCurrent(context, item436);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 50:
		{
			int argsCount184 = operation.ArgsCount;
			int num184 = argsCount184;
			if (num184 == 1)
			{
				bool item413 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item413);
				UnlockAllProfessionSkills(context, item413);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 51:
		{
			int argsCount175 = operation.ArgsCount;
			int num175 = argsCount175;
			if (num175 == 2)
			{
				int item398 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item398);
				int item399 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item399);
				SetProfessionSeniorityTarget(context, item398, item399);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 52:
		{
			int argsCount167 = operation.ArgsCount;
			int num167 = argsCount167;
			if (num167 == 1)
			{
				int item369 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item369);
				GmCmd_Profession_SetBuddhistMonkSavedSoulCount(context, item369);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 53:
		{
			int argsCount162 = operation.ArgsCount;
			int num162 = argsCount162;
			if (num162 == 1)
			{
				sbyte item364 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item364);
				GmCmd_Profession_SetTempleVisited(context, item364);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 54:
		{
			int argsCount151 = operation.ArgsCount;
			int num151 = argsCount151;
			if (num151 == 2)
			{
				sbyte item342 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item342);
				int item343 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item343);
				LifeSkillCombatCardCollection item344 = InitAiLifeSkillCombatUsedCard(context, item342, item343);
				return GameData.Serializer.Serializer.Serialize(item344, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 55:
		{
			int argsCount143 = operation.ArgsCount;
			int num143 = argsCount143;
			if (num143 == 1)
			{
				int item323 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item323);
				InvokeSeniorityCachedEvent(item323);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 56:
			if (operation.ArgsCount == 0)
			{
				GmCmd_Profession_RecoverHunterCarrierAttackCount(context);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 57:
		{
			int argsCount125 = operation.ArgsCount;
			int num125 = argsCount125;
			if (num125 == 1)
			{
				Location item296 = default(Location);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item296);
				List<sbyte> blockMerchantTypes = GetBlockMerchantTypes(item296);
				return GameData.Serializer.Serializer.Serialize(blockMerchantTypes, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 58:
		{
			int argsCount116 = operation.ArgsCount;
			int num116 = argsCount116;
			if (num116 == 2)
			{
				int item276 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item276);
				int item277 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item277);
				GmCmd_RemoveTriggeredExtraTask(context, item276, item277);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 59:
		{
			int argsCount108 = operation.ArgsCount;
			int num108 = argsCount108;
			if (num108 == 2)
			{
				int item250 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item250);
				int item251 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item251);
				GmCmd_AddExtraTask(context, item250, item251);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 60:
		{
			int argsCount99 = operation.ArgsCount;
			int num99 = argsCount99;
			if (num99 == 1)
			{
				int item232 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item232);
				GameData.Utilities.ShortList characterMasteredCombatSkills = GetCharacterMasteredCombatSkills(item232);
				return GameData.Serializer.Serializer.Serialize(characterMasteredCombatSkills, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 61:
		{
			int argsCount91 = operation.ArgsCount;
			int num91 = argsCount91;
			if (num91 == 2)
			{
				int item213 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item213);
				short item214 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item214);
				bool item215 = AddCharacterMasteredCombatSkill(context, item213, item214);
				return GameData.Serializer.Serializer.Serialize(item215, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 62:
		{
			int argsCount81 = operation.ArgsCount;
			int num81 = argsCount81;
			if (num81 == 2)
			{
				int item194 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item194);
				short item195 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item195);
				bool item196 = RemoveCharacterMasteredCombatSkill(context, item194, item195);
				return GameData.Serializer.Serializer.Serialize(item196, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 63:
		{
			int argsCount74 = operation.ArgsCount;
			int num74 = argsCount74;
			if (num74 == 1)
			{
				TreasureFindResult item169 = default(TreasureFindResult);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item169);
				InvokeFindExtraTreasureEvent(item169);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 64:
		{
			int argsCount63 = operation.ArgsCount;
			int num63 = argsCount63;
			if (num63 == 2)
			{
				int item144 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item144);
				sbyte item145 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item145);
				bool item146 = SetAdvancedTeammateCommands(context, item144, item145);
				return GameData.Serializer.Serializer.Serialize(item146, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 65:
		{
			int argsCount56 = operation.ArgsCount;
			int num56 = argsCount56;
			if (num56 == 2)
			{
				int item120 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item120);
				sbyte item121 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item121);
				bool item122 = CancelAdvancedTeammateCommands(context, item120, item121);
				return GameData.Serializer.Serializer.Serialize(item122, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 66:
			if (operation.ArgsCount == 0)
			{
				List<MonthlyNotificationCollection> allPreviousMonthlyNotifications = GetAllPreviousMonthlyNotifications();
				return GameData.Serializer.Serializer.Serialize(allPreviousMonthlyNotifications, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 67:
		{
			int argsCount45 = operation.ArgsCount;
			int num45 = argsCount45;
			if (num45 == 1)
			{
				int item96 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item96);
				MonthlyNotificationCollection previousMonthlyNotifications = GetPreviousMonthlyNotifications(item96);
				return GameData.Serializer.Serializer.Serialize(previousMonthlyNotifications, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 68:
		{
			int argsCount38 = operation.ArgsCount;
			int num38 = argsCount38;
			if (num38 == 1)
			{
				int item82 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item82);
				PreserveActionPoint(context, item82);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 69:
			if (operation.ArgsCount == 0)
			{
				int preserveDay = GetPreserveDay();
				return GameData.Serializer.Serializer.Serialize(preserveDay, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 70:
			if (operation.ArgsCount == 0)
			{
				List<SectStoryHeavenlyTreeExtendable> allHeavenlyTrees = GetAllHeavenlyTrees();
				return GameData.Serializer.Serializer.Serialize(allHeavenlyTrees, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 71:
		{
			int argsCount15 = operation.ArgsCount;
			int num15 = argsCount15;
			if (num15 == 2)
			{
				int item28 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item28);
				int item29 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item29);
				List<MapBlockData> heavenlyTreeNearBlocks = GetHeavenlyTreeNearBlocks(item28, item29);
				return GameData.Serializer.Serializer.Serialize(heavenlyTreeNearBlocks, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 72:
			if (operation.ArgsCount == 0)
			{
				List<sbyte> informationSettings = GetInformationSettings(context);
				return GameData.Serializer.Serializer.Serialize(informationSettings, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 73:
		{
			int argsCount197 = operation.ArgsCount;
			int num197 = argsCount197;
			if (num197 == 2)
			{
				short item442 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item442);
				short item443 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item443);
				bool item444 = RemoveEmeiSkillBreakBonus(context, item442, item443);
				return GameData.Serializer.Serializer.Serialize(item444, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 74:
		{
			int argsCount190 = operation.ArgsCount;
			int num190 = argsCount190;
			if (num190 == 2)
			{
				short item428 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item428);
				short item429 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item429);
				bool item430 = AddEmeiSkillBreakBonus(context, item428, item429);
				return GameData.Serializer.Serializer.Serialize(item430, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 75:
		{
			int argsCount187 = operation.ArgsCount;
			int num187 = argsCount187;
			if (num187 == 1)
			{
				short item418 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item418);
				SectStoryBonusDisplayData emeiBreakBonusDisplayData = GetEmeiBreakBonusDisplayData(item418);
				return GameData.Serializer.Serializer.Serialize(emeiBreakBonusDisplayData, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 76:
		{
			int argsCount179 = operation.ArgsCount;
			int num179 = argsCount179;
			if (num179 == 1)
			{
				short item406 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item406);
				SkillBreakBonusCollection emeiBreakBonusCollection = GetEmeiBreakBonusCollection(item406);
				return GameData.Serializer.Serializer.Serialize(emeiBreakBonusCollection, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 77:
		{
			int argsCount173 = operation.ArgsCount;
			int num173 = argsCount173;
			if (num173 == 1)
			{
				int item393 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item393);
				byte poisonImmunities = GetPoisonImmunities(item393);
				return GameData.Serializer.Serializer.Serialize(poisonImmunities, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 78:
			if (operation.ArgsCount == 0)
			{
				RelatedCharactersForRelations dreamBackTaiwuRelatedCharactersForRelations = GetDreamBackTaiwuRelatedCharactersForRelations();
				return GameData.Serializer.Serializer.Serialize(dreamBackTaiwuRelatedCharactersForRelations, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 79:
			if (operation.ArgsCount == 0)
			{
				Genealogy dreamBackTaiwuGenealogy = GetDreamBackTaiwuGenealogy();
				return GameData.Serializer.Serializer.Serialize(dreamBackTaiwuGenealogy, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 80:
		{
			int argsCount159 = operation.ArgsCount;
			int num159 = argsCount159;
			if (num159 == 1)
			{
				List<int> item361 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item361);
				List<CharacterDisplayDataForRelations> characterDisplayDataListForDreamBackRelations = GetCharacterDisplayDataListForDreamBackRelations(item361);
				return GameData.Serializer.Serializer.Serialize(characterDisplayDataListForDreamBackRelations, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 81:
		{
			int argsCount154 = operation.ArgsCount;
			int num154 = argsCount154;
			if (num154 == 2)
			{
				int item349 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item349);
				int item350 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item350);
				ReadonlyLifeRecordsWithDate dreamBackLifeRecordByDate = GetDreamBackLifeRecordByDate(item349, item350);
				return GameData.Serializer.Serializer.Serialize(dreamBackLifeRecordByDate, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 82:
		{
			int argsCount147 = operation.ArgsCount;
			int num147 = argsCount147;
			if (num147 == 1)
			{
				List<int> item336 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item336);
				List<NameAndLifeRelatedData> nameAndLifeRelatedDataListForDreamBack = GetNameAndLifeRelatedDataListForDreamBack(item336);
				return GameData.Serializer.Serializer.Serialize(nameAndLifeRelatedDataListForDreamBack, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 83:
		{
			int argsCount142 = operation.ArgsCount;
			int num142 = argsCount142;
			if (num142 == 1)
			{
				int item321 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item321);
				bool item322 = IsCharacterHatingItemRevealed(item321);
				return GameData.Serializer.Serializer.Serialize(item322, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 84:
		{
			int argsCount134 = operation.ArgsCount;
			int num134 = argsCount134;
			if (num134 == 1)
			{
				int item309 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item309);
				bool item310 = IsCharacterLovingItemRevealed(item309);
				return GameData.Serializer.Serializer.Serialize(item310, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 85:
		{
			int argsCount129 = operation.ArgsCount;
			int num129 = argsCount129;
			if (num129 == 1)
			{
				int item300 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item300);
				bool item301 = IsCharacterHobbyRevealed(item300);
				return GameData.Serializer.Serializer.Serialize(item301, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 86:
		{
			int argsCount123 = operation.ArgsCount;
			int num123 = argsCount123;
			if (num123 == 2)
			{
				int item293 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item293);
				bool item294 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item294);
				SetCharacterRevealedHobbies(context, item293, item294);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 87:
		{
			int argsCount118 = operation.ArgsCount;
			int num118 = argsCount118;
			if (num118 == 1)
			{
				short item280 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item280);
				ConflictCombatSkill conflictCombatSkill = GetConflictCombatSkill(item280);
				return GameData.Serializer.Serializer.Serialize(conflictCombatSkill, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 88:
			if (operation.ArgsCount == 0)
			{
				ReadonlyLifeRecordsWithDate allDreamBackLifeRecords = GetAllDreamBackLifeRecords();
				return GameData.Serializer.Serializer.Serialize(allDreamBackLifeRecords, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 89:
			if (operation.ArgsCount == 0)
			{
				(int, int) dreamBackTaiwuBirthAndEndDates = GetDreamBackTaiwuBirthAndEndDates();
				return GameData.Serializer.Serializer.Serialize(dreamBackTaiwuBirthAndEndDates, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 90:
			if (operation.ArgsCount == 0)
			{
				bool item235 = IsCurrentTaiwuOverwrittenByDreamBack();
				return GameData.Serializer.Serializer.Serialize(item235, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 91:
		{
			int argsCount95 = operation.ArgsCount;
			int num95 = argsCount95;
			if (num95 == 2)
			{
				short item225 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item225);
				bool item226 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item226);
				ApplyConflictCombatSkillResult(context, item225, item226);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 92:
			if (operation.ArgsCount == 0)
			{
				bool item209 = HaveConflictCombatSkill();
				return GameData.Serializer.Serializer.Serialize(item209, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 93:
		{
			int argsCount84 = operation.ArgsCount;
			int num84 = argsCount84;
			if (num84 == 2)
			{
				int item199 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item199);
				bool item200 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item200);
				AddTaiwuOneWayRelationCoolDown(context, item199, item200);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 94:
		{
			int argsCount78 = operation.ArgsCount;
			int num78 = argsCount78;
			if (num78 == 2)
			{
				int item186 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item186);
				bool item187 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item187);
				bool item188 = IsTaiwuAbleToAddOneWayRelation(item186, item187);
				return GameData.Serializer.Serializer.Serialize(item188, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 95:
		{
			int argsCount73 = operation.ArgsCount;
			int num73 = argsCount73;
			if (num73 == 2)
			{
				int item167 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item167);
				bool item168 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item168);
				int taiwuAddOneWayRelationCoolDown = GetTaiwuAddOneWayRelationCoolDown(item167, item168);
				return GameData.Serializer.Serializer.Serialize(taiwuAddOneWayRelationCoolDown, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 96:
			switch (operation.ArgsCount)
			{
			case 2:
			{
				ItemKey item162 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item162);
				ItemKey item163 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item163);
				FeedCarrier(context, item162, item163);
				return -1;
			}
			case 3:
			{
				ItemKey item159 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item159);
				ItemKey item160 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item160);
				int item161 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item161);
				FeedCarrier(context, item159, item160, item161);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 97:
		{
			int argsCount66 = operation.ArgsCount;
			int num66 = argsCount66;
			if (num66 == 1)
			{
				int item149 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item149);
				int carrierTamePoint = GetCarrierTamePoint(item149);
				return GameData.Serializer.Serializer.Serialize(carrierTamePoint, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 98:
			if (operation.ArgsCount == 0)
			{
				List<CharacterPropertyBonus> allCharacterPropertyBonusData = GetAllCharacterPropertyBonusData();
				return GameData.Serializer.Serializer.Serialize(allCharacterPropertyBonusData, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 99:
		{
			int argsCount55 = operation.ArgsCount;
			int num55 = argsCount55;
			if (num55 == 1)
			{
				List<int> item119 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item119);
				List<CharacterDisplayData> dreamBackCharacterDisplayDataList = GetDreamBackCharacterDisplayDataList(item119);
				return GameData.Serializer.Serializer.Serialize(dreamBackCharacterDisplayDataList, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 100:
		{
			int argsCount51 = operation.ArgsCount;
			int num51 = argsCount51;
			if (num51 == 1)
			{
				int item111 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item111);
				int carrierMaxTamePoint = GetCarrierMaxTamePoint(item111);
				return GameData.Serializer.Serializer.Serialize(carrierMaxTamePoint, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 101:
			if (operation.ArgsCount == 0)
			{
				int currMaxJiaoPoolCount = GetCurrMaxJiaoPoolCount();
				return GameData.Serializer.Serializer.Serialize(currMaxJiaoPoolCount, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 102:
			if (operation.ArgsCount == 0)
			{
				List<LoongInfo> item95 = GmCmd_FindFiveLoongLocation();
				return GameData.Serializer.Serializer.Serialize(item95, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 103:
		{
			int argsCount41 = operation.ArgsCount;
			int num41 = argsCount41;
			if (num41 == 1)
			{
				int item87 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item87);
				short jiaoPoolBlockStyle = GetJiaoPoolBlockStyle(item87);
				return GameData.Serializer.Serializer.Serialize(jiaoPoolBlockStyle, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 104:
		{
			int argsCount33 = operation.ArgsCount;
			int num33 = argsCount33;
			if (num33 == 2)
			{
				int item74 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item74);
				short item75 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item75);
				SetJiaoPoolBlockStyle(context, item74, item75);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 105:
		{
			int argsCount30 = operation.ArgsCount;
			int num30 = argsCount30;
			if (num30 == 1)
			{
				int item69 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item69);
				ChildrenOfLoong childrenOfLoongById = GetChildrenOfLoongById(item69);
				return GameData.Serializer.Serializer.Serialize(childrenOfLoongById, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 106:
			if (operation.ArgsCount == 0)
			{
				List<JiaoPool> jiaoPoolList = GetJiaoPoolList();
				return GameData.Serializer.Serializer.Serialize(jiaoPoolList, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 107:
		{
			int argsCount20 = operation.ArgsCount;
			int num20 = argsCount20;
			if (num20 == 1)
			{
				int item44 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item44);
				GameData.DLC.FiveLoong.Jiao jiaoById = GetJiaoById(item44);
				return GameData.Serializer.Serializer.Serialize(jiaoById, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 108:
		{
			int argsCount12 = operation.ArgsCount;
			int num12 = argsCount12;
			if (num12 == 1)
			{
				int item20 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item20);
				List<GameData.DLC.FiveLoong.Jiao> jiaoPoolAllJiaoData = GetJiaoPoolAllJiaoData(item20);
				return GameData.Serializer.Serializer.Serialize(jiaoPoolAllJiaoData, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 109:
		{
			int argsCount7 = operation.ArgsCount;
			int num7 = argsCount7;
			if (num7 == 1)
			{
				int item11 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item11);
				(bool, bool) jiaoPoolBreedingProcess = GetJiaoPoolBreedingProcess(item11);
				return GameData.Serializer.Serializer.SerializeDefault(jiaoPoolBreedingProcess, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 110:
		{
			int argsCount2 = operation.ArgsCount;
			int num2 = argsCount2;
			if (num2 == 2)
			{
				int item3 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item3);
				int item4 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item4);
				PutJiaoInPool(context, item3, item4);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 111:
		{
			int argsCount196 = operation.ArgsCount;
			int num196 = argsCount196;
			if (num196 == 2)
			{
				int item440 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item440);
				int item441 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item441);
				PutAnotherJiaoInPool(context, item440, item441);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 112:
		{
			int argsCount191 = operation.ArgsCount;
			int num191 = argsCount191;
			if (num191 == 1)
			{
				int item431 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item431);
				List<ItemKey> item432 = PutJiaoOutOfPool(context, item431);
				return GameData.Serializer.Serializer.Serialize(item432, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 113:
		{
			int argsCount189 = operation.ArgsCount;
			int num189 = argsCount189;
			if (num189 == 2)
			{
				int item425 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item425);
				short item426 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item426);
				ChangeNurturance(context, item425, item426);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 114:
		{
			int argsCount185 = operation.ArgsCount;
			int num185 = argsCount185;
			if (num185 == 2)
			{
				int item414 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item414);
				string item415 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item415);
				ChangeJiaoName(context, item414, item415);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 115:
		{
			int argsCount181 = operation.ArgsCount;
			int num181 = argsCount181;
			if (num181 == 1)
			{
				int item409 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item409);
				DisableJiaoPool(context, item409);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 116:
		{
			int argsCount176 = operation.ArgsCount;
			int num176 = argsCount176;
			if (num176 == 1)
			{
				int item400 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item400);
				EnableJiaoPool(context, item400);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 117:
		{
			int argsCount172 = operation.ArgsCount;
			int num172 = argsCount172;
			if (num172 == 1)
			{
				List<int> item392 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item392);
				List<JiaoLoongNameRelatedData> jiaoLoongNameRelatedDataList = GetJiaoLoongNameRelatedDataList(item392);
				return GameData.Serializer.Serializer.Serialize(jiaoLoongNameRelatedDataList, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 118:
			if (operation.ArgsCount == 0)
			{
				List<ItemDisplayData> allJiaoForPool = GetAllJiaoForPool();
				return GameData.Serializer.Serializer.Serialize(allJiaoForPool, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 119:
			if (operation.ArgsCount == 0)
			{
				List<ItemDisplayData> allJiaoForEvolve = GetAllJiaoForEvolve();
				return GameData.Serializer.Serializer.Serialize(allJiaoForEvolve, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 120:
		{
			int argsCount165 = operation.ArgsCount;
			int num165 = argsCount165;
			if (num165 == 1)
			{
				ItemKey item367 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item367);
				GameData.DLC.FiveLoong.Jiao jiaoByItemKey = GetJiaoByItemKey(item367);
				return GameData.Serializer.Serializer.Serialize(jiaoByItemKey, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 121:
		{
			int argsCount161 = operation.ArgsCount;
			int num161 = argsCount161;
			if (num161 == 1)
			{
				List<ItemKey> item363 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item363);
				List<GameData.DLC.FiveLoong.Jiao> jiaosByItemKeys = GetJiaosByItemKeys(item363);
				return GameData.Serializer.Serializer.Serialize(jiaosByItemKeys, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 122:
		{
			int argsCount157 = operation.ArgsCount;
			int num157 = argsCount157;
			if (num157 == 1)
			{
				ItemKey item353 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item353);
				ChildrenOfLoong childrenOfLoongByItemKey = GetChildrenOfLoongByItemKey(item353);
				return GameData.Serializer.Serializer.Serialize(childrenOfLoongByItemKey, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 123:
		{
			int argsCount153 = operation.ArgsCount;
			int num153 = argsCount153;
			if (num153 == 2)
			{
				int item347 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item347);
				ItemKey item348 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item348);
				PutEggIntoPool(item347, item348);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 124:
		{
			int argsCount148 = operation.ArgsCount;
			int num148 = argsCount148;
			if (num148 == 1)
			{
				int item337 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item337);
				JiaoPoolInteract(item337);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 125:
		{
			int argsCount145 = operation.ArgsCount;
			int num145 = argsCount145;
			if (num145 == 6)
			{
				short item326 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item326);
				short item327 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item327);
				sbyte item328 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item328);
				bool item329 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item329);
				bool item330 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item330);
				bool item331 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item331);
				int item332 = GmCmd_AddJiao(context, item326, item327, item328, item329, item330, item331);
				return GameData.Serializer.Serializer.Serialize(item332, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 126:
		{
			int argsCount140 = operation.ArgsCount;
			int num140 = argsCount140;
			if (num140 == 1)
			{
				int item319 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item319);
				GmCmd_PutJiaoInFirstPool(context, item319);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 127:
		{
			int argsCount136 = operation.ArgsCount;
			int num136 = argsCount136;
			if (num136 == 1)
			{
				short item313 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item313);
				int item314 = GmCmd_AddChildOfLoong(context, item313);
				return GameData.Serializer.Serializer.Serialize(item314, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 128:
		{
			int argsCount132 = operation.ArgsCount;
			int num132 = argsCount132;
			if (num132 == 2)
			{
				ItemKey item305 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item305);
				short item306 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item306);
				JiaoEvolveToChildOfLoong(context, item305, item306);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 129:
		{
			int argsCount128 = operation.ArgsCount;
			int num128 = argsCount128;
			if (num128 == 1)
			{
				ItemKey item299 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item299);
				int jiaoEvolutionChoice = GetJiaoEvolutionChoice(context, item299);
				return GameData.Serializer.Serializer.Serialize(jiaoEvolutionChoice, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 130:
			if (operation.ArgsCount == 0)
			{
				ResetJiaoPoolStatus(context);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 131:
			if (operation.ArgsCount == 0)
			{
				List<ItemDisplayData> allAdultJiao = GetAllAdultJiao();
				return GameData.Serializer.Serializer.Serialize(allAdultJiao, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 132:
			if (operation.ArgsCount == 0)
			{
				List<JiaoEvolutionDisplayData> allEvolvingJiao = GetAllEvolvingJiao();
				return GameData.Serializer.Serializer.Serialize(allEvolvingJiao, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 133:
		{
			int argsCount113 = operation.ArgsCount;
			int num113 = argsCount113;
			if (num113 == 1)
			{
				short item264 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item264);
				short jiaoTemplateIdByCarrierTemplateId = GetJiaoTemplateIdByCarrierTemplateId(item264);
				return GameData.Serializer.Serializer.Serialize(jiaoTemplateIdByCarrierTemplateId, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 134:
		{
			int argsCount109 = operation.ArgsCount;
			int num109 = argsCount109;
			if (num109 == 1)
			{
				sbyte item252 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item252);
				int item253 = CalcResourceChangeByJiaoPool(item252);
				return GameData.Serializer.Serializer.Serialize(item253, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 135:
		{
			int argsCount106 = operation.ArgsCount;
			int num106 = argsCount106;
			if (num106 == 1)
			{
				short item245 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item245);
				bool item246 = IsOwnedChildrenOfLoong(item245);
				return GameData.Serializer.Serializer.Serialize(item246, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 136:
		{
			int argsCount101 = operation.ArgsCount;
			int num101 = argsCount101;
			if (num101 == 1)
			{
				int item236 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item236);
				JiaoEvolutionDisplayData nextRandomChildrenOfLoong = GetNextRandomChildrenOfLoong(context, item236);
				return GameData.Serializer.Serializer.Serialize(nextRandomChildrenOfLoong, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 137:
		{
			int argsCount98 = operation.ArgsCount;
			int num98 = argsCount98;
			if (num98 == 1)
			{
				bool item231 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item231);
				GmCmd_AddFleeCarrier(context, item231);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 138:
			if (operation.ArgsCount == 0)
			{
				bool isJiaoPoolOpen = GetIsJiaoPoolOpen();
				return GameData.Serializer.Serializer.Serialize(isJiaoPoolOpen, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 139:
		{
			int argsCount90 = operation.ArgsCount;
			int num90 = argsCount90;
			if (num90 == 1)
			{
				JiaoPoolRecordArgumentCollection item211 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item211);
				JiaoPoolRecordArgumentCollection item212 = FillJiaoRecordArgumentCollection(context, item211);
				return GameData.Serializer.Serializer.Serialize(item212, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 140:
			if (operation.ArgsCount == 0)
			{
				sbyte jiaoEvolutionPageStatus = GetJiaoEvolutionPageStatus();
				return GameData.Serializer.Serializer.Serialize(jiaoEvolutionPageStatus, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 141:
		{
			int argsCount83 = operation.ArgsCount;
			int num83 = argsCount83;
			if (num83 == 1)
			{
				int item198 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item198);
				bool isBabysittingMode = GetIsBabysittingMode(item198);
				return GameData.Serializer.Serializer.Serialize(isBabysittingMode, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 142:
		{
			int argsCount79 = operation.ArgsCount;
			int num79 = argsCount79;
			if (num79 == 2)
			{
				int item189 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item189);
				bool item190 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item190);
				SetIsBabysittingMode(context, item189, item190);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 143:
			if (operation.ArgsCount == 0)
			{
				int fiveLoongDictCount = GetFiveLoongDictCount(context);
				return GameData.Serializer.Serializer.Serialize(fiveLoongDictCount, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 144:
		{
			int argsCount71 = operation.ArgsCount;
			int num71 = argsCount71;
			if (num71 == 1)
			{
				ItemKey item164 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item164);
				JiaoLoongNameRelatedData jiaoLoongNameRelatedData = GetJiaoLoongNameRelatedData(item164);
				return GameData.Serializer.Serializer.Serialize(jiaoLoongNameRelatedData, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 145:
		{
			int argsCount69 = operation.ArgsCount;
			int num69 = argsCount69;
			if (num69 == 1)
			{
				int item154 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item154);
				bool item155 = IsJiaoAbleToPet(item154);
				return GameData.Serializer.Serializer.Serialize(item155, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 146:
		{
			int argsCount64 = operation.ArgsCount;
			int num64 = argsCount64;
			if (num64 == 1)
			{
				int item147 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item147);
				PetJiao(context, item147);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 147:
		{
			int argsCount61 = operation.ArgsCount;
			int num61 = argsCount61;
			if (num61 == 1)
			{
				int item136 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item136);
				JiaoPoolPetJiao(item136);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 148:
		{
			int argsCount58 = operation.ArgsCount;
			int num58 = argsCount58;
			if (num58 == 1)
			{
				int item132 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item132);
				int taiwuAddOneWayRelationResultCode = GetTaiwuAddOneWayRelationResultCode(item132);
				return GameData.Serializer.Serializer.Serialize(taiwuAddOneWayRelationResultCode, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 149:
			switch (operation.ArgsCount)
			{
			case 2:
			{
				BuildingBlockKey item129 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item129);
				int item130 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item130);
				RecruitCharacterData item131 = RequestRecruitCharacterData(context, item129, item130);
				return GameData.Serializer.Serializer.Serialize(item131, returnDataPool);
			}
			case 3:
			{
				BuildingBlockKey item125 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item125);
				int item126 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item126);
				bool item127 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item127);
				RecruitCharacterData item128 = RequestRecruitCharacterData(context, item125, item126, item127);
				return GameData.Serializer.Serializer.Serialize(item128, returnDataPool);
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 150:
		{
			int argsCount54 = operation.ArgsCount;
			int num54 = argsCount54;
			if (num54 == 1)
			{
				IntPair item117 = default(IntPair);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item117);
				int characterTemporaryFeaturesExpireDate = GetCharacterTemporaryFeaturesExpireDate(item117);
				return GameData.Serializer.Serializer.Serialize(characterTemporaryFeaturesExpireDate, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 151:
			if (operation.ArgsCount == 0)
			{
				GmCmd_AddThreeCorpses(context);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 152:
		{
			int argsCount49 = operation.ArgsCount;
			int num49 = argsCount49;
			if (num49 == 3)
			{
				List<sbyte> item107 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item107);
				List<sbyte> item108 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item108);
				List<sbyte> item109 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item109);
				ApplyRanshanThreeCorpsesLegendaryBookKeepingResult(context, item107, item108, item109);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 153:
		{
			int argsCount46 = operation.ArgsCount;
			int num46 = argsCount46;
			if (num46 == 1)
			{
				int item101 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item101);
				List<ItemDisplayData> itemListForRanshanTreeCorpsesLegendaryBookKeeping = GetItemListForRanshanTreeCorpsesLegendaryBookKeeping(item101);
				return GameData.Serializer.Serializer.Serialize(itemListForRanshanTreeCorpsesLegendaryBookKeeping, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 154:
			if (operation.ArgsCount == 0)
			{
				GmCmd_AddDisplayEventLegendaryBookKeeping(context);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 155:
		{
			int argsCount43 = operation.ArgsCount;
			int num43 = argsCount43;
			if (num43 == 3)
			{
				short item91 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item91);
				sbyte item92 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item92);
				sbyte item93 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item93);
				SetRanshanThreeCorpsesCharacterTarget(context, item91, item92, item93);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 156:
		{
			int argsCount39 = operation.ArgsCount;
			int num39 = argsCount39;
			if (num39 == 1)
			{
				int item83 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item83);
				IntList orInitExtraNeiliAllocationProgress = GetOrInitExtraNeiliAllocationProgress(context, item83);
				return GameData.Serializer.Serializer.Serialize(orInitExtraNeiliAllocationProgress, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 157:
		{
			int argsCount35 = operation.ArgsCount;
			int num35 = argsCount35;
			if (num35 == 1)
			{
				ItemKey item77 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item77);
				IntList bookStrategiesExpireTime = GetBookStrategiesExpireTime(context, item77);
				return GameData.Serializer.Serializer.Serialize(bookStrategiesExpireTime, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 158:
		{
			int argsCount31 = operation.ArgsCount;
			int num31 = argsCount31;
			if (num31 == 1)
			{
				NotificationSortingGroup item71 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item71);
				SetMonthlyNotificationSortingGroup(context, item71);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 159:
		{
			int argsCount29 = operation.ArgsCount;
			int num29 = argsCount29;
			if (num29 == 2)
			{
				int item66 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item66);
				List<sbyte> item67 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item67);
				bool item68 = SetCharTeammateCommandsManual(context, item66, item67);
				return GameData.Serializer.Serializer.Serialize(item68, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 160:
		{
			int argsCount25 = operation.ArgsCount;
			int num25 = argsCount25;
			if (num25 == 1)
			{
				int item60 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item60);
				List<sbyte> charAdvancedTeammateCommands = GetCharAdvancedTeammateCommands(item60);
				return GameData.Serializer.Serializer.Serialize(charAdvancedTeammateCommands, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 161:
			if (operation.ArgsCount == 0)
			{
				bool item58 = IsStoneRoomFull();
				return GameData.Serializer.Serializer.Serialize(item58, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 162:
			switch (operation.ArgsCount)
			{
			case 1:
			{
				short item52 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item52);
				int item53 = ExtinguishFulongInFlameArea(context, item52);
				return GameData.Serializer.Serializer.Serialize(item53, returnDataPool);
			}
			case 2:
			{
				short item49 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item49);
				bool item50 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item50);
				int item51 = ExtinguishFulongInFlameArea(context, item49, item50);
				return GameData.Serializer.Serializer.Serialize(item51, returnDataPool);
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 163:
		{
			int argsCount19 = operation.ArgsCount;
			int num19 = argsCount19;
			if (num19 == 1)
			{
				short item43 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item43);
				TriggerFulongInFlameAreaMine(context, item43);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 164:
			switch (operation.ArgsCount)
			{
			case 1:
			{
				int item36 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item36);
				ApplyFulongInFlameAreaFullyExtinguished(context, item36);
				return -1;
			}
			case 2:
			{
				int item34 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item34);
				bool item35 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item35);
				ApplyFulongInFlameAreaFullyExtinguished(context, item34, item35);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 165:
		{
			int argsCount14 = operation.ArgsCount;
			int num14 = argsCount14;
			if (num14 == 2)
			{
				int item26 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item26);
				int item27 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item27);
				GmCmd_GenerateFulongFlameArea(context, item26, item27);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 166:
			if (operation.ArgsCount == 0)
			{
				TaiwuVillageStoragesRecordCollection taiwuVillageStoragesRecordCollection = GetTaiwuVillageStoragesRecordCollection(context);
				return GameData.Serializer.Serializer.Serialize(taiwuVillageStoragesRecordCollection, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 167:
			if (operation.ArgsCount == 0)
			{
				bool item10 = FulongSpecialInteractOpen(context);
				return GameData.Serializer.Serializer.Serialize(item10, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 168:
		{
			int argsCount3 = operation.ArgsCount;
			int num3 = argsCount3;
			if (num3 == 1)
			{
				int item5 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item5);
				HunterSkill_AnimalCharacterToItem(context, item5);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 169:
		{
			int argsCount198 = operation.ArgsCount;
			int num198 = argsCount198;
			if (num198 == 1)
			{
				TaiwuProfessionSkillSlots item445 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item445);
				ConfirmProfessionSkillsEquipment(context, item445);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 170:
		{
			int argsCount195 = operation.ArgsCount;
			int num195 = argsCount195;
			if (num195 == 1)
			{
				bool item438 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item438);
				string item439 = GmCmd_CastTasterUltimateOnCurrentBlock(context, item438);
				return GameData.Serializer.Serializer.Serialize(item439, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 171:
		{
			int argsCount192 = operation.ArgsCount;
			int num192 = argsCount192;
			if (num192 == 3)
			{
				int item433 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item433);
				ItemKey item434 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item434);
				int item435 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item435);
				EatTianJieFuLu(context, item433, item434, item435);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 172:
			if (operation.ArgsCount == 0)
			{
				int item427 = CheckAristocratUltimateSpecialCondition();
				return GameData.Serializer.Serializer.Serialize(item427, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 173:
			if (operation.ArgsCount == 0)
			{
				int item424 = CheckBeggarUltimateSpecialCondition();
				return GameData.Serializer.Serializer.Serialize(item424, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 174:
		{
			int argsCount186 = operation.ArgsCount;
			int num186 = argsCount186;
			if (num186 == 1)
			{
				bool item416 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item416);
				int item417 = CheckTasterUltimateSpecialCondition(item416);
				return GameData.Serializer.Serializer.Serialize(item417, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 175:
		{
			int argsCount183 = operation.ArgsCount;
			int num183 = argsCount183;
			if (num183 == 1)
			{
				int item411 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item411);
				ItemKey item412 = GM_GetFriendOrFamilySendGift(context, item411);
				return GameData.Serializer.Serializer.Serialize(item412, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 176:
		{
			int argsCount180 = operation.ArgsCount;
			int num180 = argsCount180;
			if (num180 == 2)
			{
				int item407 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item407);
				string item408 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item408);
				GmCmd_CreateGearMate(context, item407, item408);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 177:
		{
			int argsCount177 = operation.ArgsCount;
			int num177 = argsCount177;
			if (num177 == 4)
			{
				int item401 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item401);
				int item402 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item402);
				sbyte item403 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item403);
				ItemKey item404 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item404);
				int gearMateRepairEffect = GetGearMateRepairEffect(item401, item402, item403, item404);
				return GameData.Serializer.Serializer.Serialize(gearMateRepairEffect, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 178:
		{
			int argsCount174 = operation.ArgsCount;
			int num174 = argsCount174;
			if (num174 == 4)
			{
				int item394 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item394);
				int item395 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item395);
				sbyte item396 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item396);
				ItemKey item397 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item397);
				RepairGearMate(context, item394, item395, item396, item397);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 179:
		{
			int argsCount171 = operation.ArgsCount;
			int num171 = argsCount171;
			if (num171 == 4)
			{
				int item388 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item388);
				int item389 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item389);
				sbyte item390 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item390);
				ItemKey item391 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item391);
				int gearMateRepairRequirement = GetGearMateRepairRequirement(item388, item389, item390, item391);
				return GameData.Serializer.Serializer.Serialize(gearMateRepairRequirement, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 180:
		{
			int argsCount169 = operation.ArgsCount;
			int num169 = argsCount169;
			if (num169 == 1)
			{
				int item383 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item383);
				GearMateRepairCount gearMateAvailableRepairCount = GetGearMateAvailableRepairCount(item383);
				return GameData.Serializer.Serializer.Serialize(gearMateAvailableRepairCount, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 181:
		{
			int argsCount168 = operation.ArgsCount;
			int num168 = argsCount168;
			if (num168 == 1)
			{
				int item382 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item382);
				List<GearMateRepairRequirementDisplayData> gearMateRepairRequirementDisplayDatas = GetGearMateRepairRequirementDisplayDatas(item382);
				return GameData.Serializer.Serializer.Serialize(gearMateRepairRequirementDisplayDatas, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 182:
			switch (operation.ArgsCount)
			{
			case 3:
			{
				int item379 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item379);
				sbyte item380 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item380);
				ItemKey item381 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item381);
				UpgradeGearMate(context, item379, item380, item381);
				return -1;
			}
			case 4:
			{
				int item375 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item375);
				sbyte item376 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item376);
				ItemKey item377 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item377);
				int item378 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item378);
				UpgradeGearMate(context, item375, item376, item377, item378);
				return -1;
			}
			case 5:
			{
				int item370 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item370);
				sbyte item371 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item371);
				ItemKey item372 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item372);
				int item373 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item373);
				ItemSourceType item374 = ItemSourceType.Equipment;
				argsOffset += GameData.Serializer.Serializer.DeserializeDefault(argDataPool, argsOffset, ref item374);
				UpgradeGearMate(context, item370, item371, item372, item373, item374);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 183:
		{
			int argsCount166 = operation.ArgsCount;
			int num166 = argsCount166;
			if (num166 == 1)
			{
				int item368 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item368);
				int characterConsummateLevelProgress = GetCharacterConsummateLevelProgress(item368);
				return GameData.Serializer.Serializer.Serialize(characterConsummateLevelProgress, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 184:
			if (operation.ArgsCount == 0)
			{
				IntPair martialArtistCreateGoodRandomEnemyAndBadRandomEnemyCount = GetMartialArtistCreateGoodRandomEnemyAndBadRandomEnemyCount(context);
				return GameData.Serializer.Serializer.Serialize(martialArtistCreateGoodRandomEnemyAndBadRandomEnemyCount, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 185:
		{
			int argsCount163 = operation.ArgsCount;
			int num163 = argsCount163;
			if (num163 == 1)
			{
				int item365 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item365);
				GearMate gearMateById = GetGearMateById(item365);
				return GameData.Serializer.Serializer.Serialize(gearMateById, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 186:
		{
			int argsCount160 = operation.ArgsCount;
			int num160 = argsCount160;
			if (num160 == 1)
			{
				int item362 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item362);
				ProfessionData characterCurrentProfession = GetCharacterCurrentProfession(item362);
				return GameData.Serializer.Serializer.Serialize(characterCurrentProfession, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 187:
		{
			int argsCount158 = operation.ArgsCount;
			int num158 = argsCount158;
			if (num158 == 1)
			{
				ProfessionData item354 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item354);
				bool item355 = CheckSpecialCondition_SavageSkill_1(item354);
				return GameData.Serializer.Serializer.Serialize(item355, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 188:
		{
			int argsCount155 = operation.ArgsCount;
			int num155 = argsCount155;
			if (num155 == 1)
			{
				int item351 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item351);
				MerchantExtraGoodsData merchantExtraGoods = GetMerchantExtraGoods(item351);
				return GameData.Serializer.Serializer.Serialize(merchantExtraGoods, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 189:
		{
			int argsCount152 = operation.ArgsCount;
			int num152 = argsCount152;
			if (num152 == 2)
			{
				int item345 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item345);
				int item346 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item346);
				SetProfessionExtraSeniority(context, item345, item346);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 190:
		{
			int argsCount149 = operation.ArgsCount;
			int num149 = argsCount149;
			if (num149 == 3)
			{
				int item338 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item338);
				int item339 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item339);
				int item340 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item340);
				GmCmd_SetCharacterCurrProfessionSeniority(context, item338, item339, item340);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 191:
			if (operation.ArgsCount == 0)
			{
				bool item335 = CanShowProfessionSkillUnlocked();
				return GameData.Serializer.Serializer.Serialize(item335, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 192:
		{
			int argsCount144 = operation.ArgsCount;
			int num144 = argsCount144;
			if (num144 == 2)
			{
				int item324 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item324);
				List<short> item325 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item325);
				List<ShortPair> gearMateBreakoutCombatSkillBanReasonList = GetGearMateBreakoutCombatSkillBanReasonList(item324, item325);
				return GameData.Serializer.Serializer.Serialize(gearMateBreakoutCombatSkillBanReasonList, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 193:
		{
			int argsCount141 = operation.ArgsCount;
			int num141 = argsCount141;
			if (num141 == 1)
			{
				List<short> item320 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item320);
				SetDukeSkill3Crickets(context, item320);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 194:
		{
			int argsCount138 = operation.ArgsCount;
			int num138 = argsCount138;
			if (num138 == 1)
			{
				bool item317 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item317);
				List<ItemDisplayData> allSkillBooksGearMateCanRead = GetAllSkillBooksGearMateCanRead(item317);
				return GameData.Serializer.Serializer.Serialize(allSkillBooksGearMateCanRead, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 195:
		{
			int argsCount135 = operation.ArgsCount;
			int num135 = argsCount135;
			if (num135 == 1)
			{
				int item311 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item311);
				bool item312 = CanIdentifyCricket(item311);
				return GameData.Serializer.Serializer.Serialize(item312, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 196:
		{
			int argsCount133 = operation.ArgsCount;
			int num133 = argsCount133;
			if (num133 == 1)
			{
				int item307 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item307);
				bool item308 = CanUpgradeCricket(item307);
				return GameData.Serializer.Serializer.Serialize(item308, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 197:
		{
			int argsCount130 = operation.ArgsCount;
			int num130 = argsCount130;
			if (num130 == 1)
			{
				ItemKey item302 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item302);
				bool item303 = CanConvertToAnimalCharacter(item302);
				return GameData.Serializer.Serializer.Serialize(item303, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 198:
		{
			int argsCount127 = operation.ArgsCount;
			int num127 = argsCount127;
			if (num127 == 1)
			{
				int item298 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item298);
				AvatarExtraData characterAvatarExtraData = GetCharacterAvatarExtraData(context, item298);
				return GameData.Serializer.Serializer.Serialize(characterAvatarExtraData, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 199:
		{
			int argsCount124 = operation.ArgsCount;
			int num124 = argsCount124;
			if (num124 == 1)
			{
				ItemKey item295 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item295);
				JiaoLoongDisplayData jiaoLoongDisplayDataByItemKey = GetJiaoLoongDisplayDataByItemKey(item295);
				return GameData.Serializer.Serializer.Serialize(jiaoLoongDisplayDataByItemKey, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 200:
		{
			int argsCount122 = operation.ArgsCount;
			int num122 = argsCount122;
			if (num122 == 4)
			{
				sbyte item289 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item289);
				bool item290 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item290);
				short item291 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item291);
				sbyte item292 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item292);
				UpdateCityPunishmentSeverityCustomizeData(context, item289, item290, item291, item292);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 201:
		{
			int argsCount120 = operation.ArgsCount;
			int num120 = argsCount120;
			if (num120 == 3)
			{
				int item283 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item283);
				short item284 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item284);
				int item285 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item285);
				GmCmd_SetCharacterProficiencies(context, item283, item284, item285);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 202:
		{
			int argsCount117 = operation.ArgsCount;
			int num117 = argsCount117;
			if (num117 == 2)
			{
				int item278 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item278);
				int item279 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item279);
				GmCmd_CreateRandomEnemyAroundHeavenlyTree(context, item278, item279);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 203:
		{
			int argsCount115 = operation.ArgsCount;
			int num115 = argsCount115;
			if (num115 == 2)
			{
				List<ItemKey> item274 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item274);
				bool item275 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item275);
				RemoveTreasuryItemList(context, item274, item275);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 204:
			switch (operation.ArgsCount)
			{
			case 3:
			{
				ItemKey item271 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item271);
				int item272 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item272);
				bool item273 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item273);
				RemoveTreasuryItem(context, item271, item272, item273);
				return -1;
			}
			case 4:
			{
				ItemKey item267 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item267);
				int item268 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item268);
				bool item269 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item269);
				bool item270 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item270);
				RemoveTreasuryItem(context, item267, item268, item269, item270);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 205:
		{
			int argsCount112 = operation.ArgsCount;
			int num112 = argsCount112;
			if (num112 == 1)
			{
				List<ItemKey> item263 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item263);
				AddTreasuryItemList(context, item263);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 206:
			switch (operation.ArgsCount)
			{
			case 2:
			{
				ItemKey item261 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item261);
				int item262 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item262);
				AddTreasuryItem(context, item261, item262);
				return -1;
			}
			case 3:
			{
				ItemKey item258 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item258);
				int item259 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item259);
				bool item260 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item260);
				AddTreasuryItem(context, item258, item259, item260);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 207:
		{
			int argsCount110 = operation.ArgsCount;
			int num110 = argsCount110;
			if (num110 == 1)
			{
				int item254 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item254);
				GmCmd_ShowUnlockedProfessionSkill(item254);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 208:
		{
			int argsCount107 = operation.ArgsCount;
			int num107 = argsCount107;
			if (num107 == 2)
			{
				BuildingBlockKey item247 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item247);
				int item248 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item248);
				bool item249 = UnlockBuildingLevelSlot(context, item247, item248);
				return GameData.Serializer.Serializer.Serialize(item249, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 209:
		{
			int argsCount105 = operation.ArgsCount;
			int num105 = argsCount105;
			if (num105 == 2)
			{
				short item243 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item243);
				ulong item244 = 0uL;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item244);
				SetVillagerRoleAutoActionState(context, item243, item244);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 210:
		{
			int argsCount102 = operation.ArgsCount;
			int num102 = argsCount102;
			if (num102 == 2)
			{
				BuildingBlockKey item237 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item237);
				int item238 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item238);
				bool item239 = UpgradeResourceBuilding(context, item237, item238);
				return GameData.Serializer.Serializer.Serialize(item239, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 211:
		{
			int argsCount100 = operation.ArgsCount;
			int num100 = argsCount100;
			if (num100 == 2)
			{
				int item233 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item233);
				BuildingOptionAutoGiveMemberPreset item234 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item234);
				ChangeBuildingArrangementSettingPresetData(context, item233, item234);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 212:
		{
			int argsCount97 = operation.ArgsCount;
			int num97 = argsCount97;
			if (num97 == 2)
			{
				BuildingBlockKey item229 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item229);
				int item230 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item230);
				ChangeBuildingArrangementPresetId(context, item229, item230);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 213:
		{
			int argsCount94 = operation.ArgsCount;
			int num94 = argsCount94;
			if (num94 == 4)
			{
				ArtisanOrder item221 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item221);
				int item222 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item222);
				Inventory item223 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item223);
				ItemSourceType item224 = ItemSourceType.Equipment;
				argsOffset += GameData.Serializer.Serializer.DeserializeDefault(argDataPool, argsOffset, ref item224);
				AddMaterialToArtisanOrder(context, item221, item222, item223, item224);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 214:
		{
			int argsCount92 = operation.ArgsCount;
			int num92 = argsCount92;
			if (num92 == 4)
			{
				ArtisanOrder item216 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item216);
				int item217 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item217);
				sbyte item218 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item218);
				int item219 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item219);
				AddResourceToArtisanOrder(context, item216, item217, item218, item219);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 215:
		{
			int argsCount89 = operation.ArgsCount;
			int num89 = argsCount89;
			if (num89 == 1)
			{
				ArtisanOrder item210 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item210);
				ProductionPool artisanOrderProductionPool = GetArtisanOrderProductionPool(item210);
				return GameData.Serializer.Serializer.Serialize(artisanOrderProductionPool, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 216:
		{
			int argsCount87 = operation.ArgsCount;
			int num87 = argsCount87;
			if (num87 == 2)
			{
				ArtisanOrder item204 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item204);
				short item205 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item205);
				SetArtisanOrderProductionType(context, item204, item205);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 217:
		{
			int argsCount85 = operation.ArgsCount;
			int num85 = argsCount85;
			if (num85 == 2)
			{
				ArtisanOrder item201 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item201);
				ItemSourceType item202 = ItemSourceType.Equipment;
				argsOffset += GameData.Serializer.Serializer.DeserializeDefault(argDataPool, argsOffset, ref item202);
				SetArtisanOrderStorageType(context, item201, item202);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 218:
		{
			int argsCount82 = operation.ArgsCount;
			int num82 = argsCount82;
			if (num82 == 1)
			{
				int item197 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item197);
				ArtisanOrder npcArtisanOrder = GetNpcArtisanOrder(item197);
				return GameData.Serializer.Serializer.Serialize(npcArtisanOrder, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 219:
		{
			int argsCount80 = operation.ArgsCount;
			int num80 = argsCount80;
			if (num80 == 3)
			{
				int item191 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item191);
				int item192 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item192);
				bool item193 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item193);
				InterceptArtisanOrder(context, item191, item192, item193);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 220:
		{
			int argsCount77 = operation.ArgsCount;
			int num77 = argsCount77;
			if (num77 == 1)
			{
				BuildingBlockKey item185 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item185);
				ArtisanOrder buildingArtisanOrder = GetBuildingArtisanOrder(item185);
				return GameData.Serializer.Serializer.Serialize(buildingArtisanOrder, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 221:
			switch (operation.ArgsCount)
			{
			case 3:
			{
				int item182 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item182);
				int item183 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item183);
				sbyte item184 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item184);
				CreateArtisanOrder(context, item182, item183, item184, -1);
				return -1;
			}
			case 4:
			{
				int item178 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item178);
				int item179 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item179);
				sbyte item180 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item180);
				short item181 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item181);
				CreateArtisanOrder(context, item178, item179, item180, item181);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 222:
		{
			int argsCount75 = operation.ArgsCount;
			int num75 = argsCount75;
			if (num75 == 2)
			{
				sbyte item175 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item175);
				bool item176 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item176);
				int customizePunishmentSeverityCost = GetCustomizePunishmentSeverityCost(item175, item176);
				return GameData.Serializer.Serializer.Serialize(customizePunishmentSeverityCost, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 223:
			switch (operation.ArgsCount)
			{
			case 2:
			{
				int item173 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item173);
				sbyte item174 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item174);
				ProductionPool productionPoolPreview2 = GetProductionPoolPreview(item173, item174, -1);
				return GameData.Serializer.Serializer.Serialize(productionPoolPreview2, returnDataPool);
			}
			case 3:
			{
				int item170 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item170);
				sbyte item171 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item171);
				short item172 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item172);
				ProductionPool productionPoolPreview = GetProductionPoolPreview(item170, item171, item172);
				return GameData.Serializer.Serializer.Serialize(productionPoolPreview, returnDataPool);
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 224:
		{
			int argsCount72 = operation.ArgsCount;
			int num72 = argsCount72;
			if (num72 == 2)
			{
				int item165 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item165);
				bool item166 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item166);
				ArtisanOrderDebate(context, item165, item166);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 225:
		{
			int argsCount70 = operation.ArgsCount;
			int num70 = argsCount70;
			if (num70 == 2)
			{
				BuildingBlockKey item156 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item156);
				int item157 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item157);
				bool item158 = UpgradeSlotBuilding(context, item156, item157);
				return GameData.Serializer.Serializer.Serialize(item158, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 226:
		{
			int argsCount68 = operation.ArgsCount;
			int num68 = argsCount68;
			if (num68 == 2)
			{
				ArtisanOrder item152 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item152);
				Inventory item153 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item153);
				ProductionPool artisanOrderMaterialPreview = GetArtisanOrderMaterialPreview(item152, item153);
				return GameData.Serializer.Serializer.Serialize(artisanOrderMaterialPreview, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 227:
		{
			int argsCount65 = operation.ArgsCount;
			int num65 = argsCount65;
			if (num65 == 1)
			{
				ArtisanOrder item148 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item148);
				List<short> artisanOrderCanProduceItemSubType = GetArtisanOrderCanProduceItemSubType(item148);
				return GameData.Serializer.Serializer.Serialize(artisanOrderCanProduceItemSubType, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 228:
		{
			int argsCount62 = operation.ArgsCount;
			int num62 = argsCount62;
			if (num62 == 1)
			{
				int item142 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item142);
				bool item143 = WillCustomizePunishmentBreakWithoutVillagerHead(item142);
				return GameData.Serializer.Serializer.Serialize(item143, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 229:
		{
			int argsCount60 = operation.ArgsCount;
			int num60 = argsCount60;
			if (num60 == 1)
			{
				sbyte item135 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item135);
				SetFarmerAutoCollectStorageType(context, item135);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 230:
		{
			int argsCount59 = operation.ArgsCount;
			int num59 = argsCount59;
			if (num59 == 2)
			{
				short item133 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item133);
				bool item134 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item134);
				UpdateWoodenXiangshuAvatarSelectedFeatures(context, item133, item134);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 231:
		{
			int argsCount57 = operation.ArgsCount;
			int num57 = argsCount57;
			if (num57 == 2)
			{
				BuildingBlockKey item123 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item123);
				BuildingOptionAutoGiveMemberPreset item124 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item124);
				SetBuildingArrangementSetting(context, item123, item124);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 232:
			if (operation.ArgsCount == 0)
			{
				(int, int, int) item118 = GmCmd_GetBuildingAreaEffectProgresses(context);
				return GameData.Serializer.Serializer.Serialize(item118, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 233:
		{
			int argsCount53 = operation.ArgsCount;
			int num53 = argsCount53;
			if (num53 == 3)
			{
				int item114 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item114);
				int item115 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item115);
				int item116 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item116);
				GmCmd_SetBuildingAreaEffectProgresses(context, item114, item115, item116);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 234:
			if (operation.ArgsCount == 0)
			{
				GmCmd_ReleaseAllKilledByLongYufuCharacters(context);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 235:
		{
			int argsCount50 = operation.ArgsCount;
			int num50 = argsCount50;
			if (num50 == 1)
			{
				int item110 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item110);
				GmCmd_RecordKilledByLongYufuCharacter(context, item110);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 236:
		{
			int argsCount47 = operation.ArgsCount;
			int num47 = argsCount47;
			if (num47 == 3)
			{
				int item102 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item102);
				int item103 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item103);
				int item104 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item104);
				GmCmd_VitalInfectionInOut(context, item102, item103, item104);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 237:
			if (operation.ArgsCount == 0)
			{
				bool item100 = CheckSpecialCondition_HunterSkill2(context);
				return GameData.Serializer.Serializer.Serialize(item100, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 238:
			if (operation.ArgsCount == 0)
			{
				List<CharacterDisplayData> threeVitalsCharDataList = GetThreeVitalsCharDataList(context);
				return GameData.Serializer.Serializer.Serialize(threeVitalsCharDataList, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 239:
			if (operation.ArgsCount == 0)
			{
				GmCmd_InitThreeVitals(context);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 240:
			if (operation.ArgsCount == 0)
			{
				List<CharacterDisplayDataForInfect> threeVitalsTargetCharDataList = GetThreeVitalsTargetCharDataList();
				return GameData.Serializer.Serializer.Serialize(threeVitalsTargetCharDataList, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 241:
		{
			int argsCount40 = operation.ArgsCount;
			int num40 = argsCount40;
			if (num40 == 3)
			{
				int item84 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item84);
				SectStoryThreeVitalsCharacterType item85 = SectStoryThreeVitalsCharacterType.Heaven;
				argsOffset += GameData.Serializer.Serializer.DeserializeDefault(argDataPool, argsOffset, ref item85);
				int item86 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item86);
				TransferInfectionBetweenVitalAndCharacter(context, item84, item85, item86);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 242:
		{
			int argsCount37 = operation.ArgsCount;
			int num37 = argsCount37;
			if (num37 == 2)
			{
				SectStoryThreeVitalsCharacterType item80 = SectStoryThreeVitalsCharacterType.Heaven;
				argsOffset += GameData.Serializer.Serializer.DeserializeDefault(argDataPool, argsOffset, ref item80);
				bool item81 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item81);
				SetVitalInPrison(context, item80, item81);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 243:
		{
			int argsCount34 = operation.ArgsCount;
			int num34 = argsCount34;
			if (num34 == 1)
			{
				BuildingBlockKey item76 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item76);
				ArtisanOrder buildingArtisanOrderAfterUpdate = GetBuildingArtisanOrderAfterUpdate(context, item76);
				return GameData.Serializer.Serializer.Serialize(buildingArtisanOrderAfterUpdate, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 244:
			if (operation.ArgsCount == 0)
			{
				List<CharacterDisplayData> canSelectThreeVitalsDisplayData = GetCanSelectThreeVitalsDisplayData(context);
				return GameData.Serializer.Serializer.Serialize(canSelectThreeVitalsDisplayData, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 245:
			if (operation.ArgsCount == 0)
			{
				bool item70 = AreVitalsDemon();
				return GameData.Serializer.Serializer.Serialize(item70, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 246:
			if (operation.ArgsCount == 0)
			{
				List<CharacterDisplayData> oppositeThreeVitalsCharDataList = GetOppositeThreeVitalsCharDataList(context);
				return GameData.Serializer.Serializer.Serialize(oppositeThreeVitalsCharDataList, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		case 247:
		{
			int argsCount26 = operation.ArgsCount;
			int num26 = argsCount26;
			if (num26 == 2)
			{
				SectStoryThreeVitalsCharacterType item61 = SectStoryThreeVitalsCharacterType.Heaven;
				argsOffset += GameData.Serializer.Serializer.DeserializeDefault(argDataPool, argsOffset, ref item61);
				bool item62 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item62);
				SetVitalHasPlayedComeAnim(context, item61, item62);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 248:
		{
			int argsCount24 = operation.ArgsCount;
			int num24 = argsCount24;
			if (num24 == 1)
			{
				BuildingBlockKey item59 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item59);
				int resourceBlockProducingCoreCooldown = GetResourceBlockProducingCoreCooldown(item59);
				return GameData.Serializer.Serializer.Serialize(resourceBlockProducingCoreCooldown, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 249:
		{
			int argsCount23 = operation.ArgsCount;
			int num23 = argsCount23;
			if (num23 == 4)
			{
				BuildingBlockKey item54 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item54);
				int item55 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item55);
				ItemKey item56 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item56);
				ItemSourceType item57 = ItemSourceType.Equipment;
				argsOffset += GameData.Serializer.Serializer.DeserializeDefault(argDataPool, argsOffset, ref item57);
				FeastAddDish(context, item54, item55, item56, item57);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 250:
		{
			int argsCount21 = operation.ArgsCount;
			int num21 = argsCount21;
			if (num21 == 2)
			{
				BuildingBlockKey item45 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item45);
				bool item46 = false;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item46);
				FeastSetAutoRefill(context, item45, item46);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 251:
		{
			int argsCount18 = operation.ArgsCount;
			int num18 = argsCount18;
			if (num18 == 1)
			{
				BuildingBlockKey item42 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item42);
				GameData.Domains.Building.Feast feast = GetFeast(item42);
				return GameData.Serializer.Serializer.Serialize(feast, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 252:
			switch (operation.ArgsCount)
			{
			case 2:
			{
				BuildingBlockKey item40 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item40);
				int item41 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item41);
				FeastRemoveDish(context, item40, item41);
				return -1;
			}
			case 3:
			{
				BuildingBlockKey item37 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item37);
				int item38 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item38);
				ItemSourceType item39 = ItemSourceType.Equipment;
				argsOffset += GameData.Serializer.Serializer.DeserializeDefault(argDataPool, argsOffset, ref item39);
				FeastRemoveDish(context, item37, item38, item39);
				return -1;
			}
			default:
				throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
			}
		case 253:
		{
			int argsCount16 = operation.ArgsCount;
			int num16 = argsCount16;
			if (num16 == 2)
			{
				BuildingBlockKey item30 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item30);
				int item31 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item31);
				FeastReceiveGift(context, item30, item31);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 254:
		{
			int argsCount13 = operation.ArgsCount;
			int num13 = argsCount13;
			if (num13 == 5)
			{
				ArtisanOrder item21 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item21);
				int item22 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item22);
				List<ItemKey> item23 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item23);
				List<ItemKey> item24 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item24);
				int item25 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item25);
				AddResourceItemToArtisanOrder(context, item21, item22, item23, item24, item25);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 255:
		{
			int argsCount10 = operation.ArgsCount;
			int num10 = argsCount10;
			if (num10 == 1)
			{
				BuildingBlockKey item16 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item16);
				bool item17 = IsFeastException(context, item16);
				return GameData.Serializer.Serializer.Serialize(item17, returnDataPool);
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 256:
		{
			int argsCount8 = operation.ArgsCount;
			int num8 = argsCount8;
			if (num8 == 2)
			{
				ItemKey item12 = default(ItemKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item12);
				int item13 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item13);
				UseFeastThanksLetter(context, item12, item13);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 257:
		{
			int argsCount6 = operation.ArgsCount;
			int num6 = argsCount6;
			if (num6 == 1)
			{
				BuildingBlockKey item9 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item9);
				FeastQuickRefill(context, item9);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 258:
		{
			int argsCount4 = operation.ArgsCount;
			int num4 = argsCount4;
			if (num4 == 2)
			{
				BuildingBlockKey item6 = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item6);
				short item7 = 0;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item7);
				FeastSetTargetType(context, item6, item7);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		case 259:
		{
			int argsCount = operation.ArgsCount;
			int num = argsCount;
			if (num == 2)
			{
				BuildingBlockKey item = default(BuildingBlockKey);
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item);
				BuildingOptionAutoAddSoldItemPreset item2 = null;
				argsOffset += GameData.Serializer.Serializer.Deserialize(argDataPool, argsOffset, ref item2);
				SetBuildingSoldItemSetting(context, item, item2);
				return -1;
			}
			throw new Exception($"Unsupported argsCount of methodId: {operation.MethodId}");
		}
		default:
			throw new Exception($"Unsupported methodId {operation.MethodId}");
		}
	}

	public override void OnMonitorData(ushort dataId, ulong subId0, uint subId1, bool monitoring)
	{
		switch (dataId)
		{
		case 0:
			_modificationsCharacterSecretInformationUsedCounts.ChangeRecording(monitoring);
			break;
		case 1:
			_modificationsSecretInformationOccurredLocations.ChangeRecording(monitoring);
			break;
		case 2:
			_modificationsSecretInformationBroadcastList.ChangeRecording(monitoring);
			break;
		case 3:
			break;
		case 4:
			_modificationsCaravanStayDays.ChangeRecording(monitoring);
			break;
		case 5:
			_modificationsMerchantCharToType.ChangeRecording(monitoring);
			break;
		case 6:
			_modificationsMerchantCharToExtraGoods.ChangeRecording(monitoring);
			break;
		case 7:
			break;
		case 8:
			break;
		case 9:
			break;
		case 10:
			_modificationsHideSkeletonEquipSlots.ChangeRecording(monitoring);
			break;
		case 11:
			_modificationsCombatSkillOrderPlans.ChangeRecording(monitoring);
			break;
		case 12:
			_modificationsLocationMarkHashSet.ChangeRecording(monitoring);
			break;
		case 13:
			break;
		case 14:
			break;
		case 15:
			break;
		case 16:
			break;
		case 17:
			break;
		case 18:
			break;
		case 19:
			break;
		case 20:
			break;
		case 21:
			break;
		case 22:
			break;
		case 23:
			break;
		case 24:
			break;
		case 25:
			break;
		case 26:
			_modificationsTravelingEventCollection.ChangeRecording(monitoring, _travelingEventCollection.GetSize());
			break;
		case 27:
			break;
		case 28:
			break;
		case 29:
			break;
		case 30:
			break;
		case 31:
			_modificationsLifeSkillCombatCardDict.ChangeRecording(monitoring);
			break;
		case 32:
			_modificationsLifeSkillCombatUsedCardDict.ChangeRecording(monitoring);
			break;
		case 33:
			_modificationsLifeSkillCombatReadBookPageDict.ChangeRecording(monitoring);
			break;
		case 34:
			_modificationsLifeSkillCombatNewCardDict.ChangeRecording(monitoring);
			break;
		case 35:
			break;
		case 36:
			break;
		case 37:
			break;
		case 38:
			break;
		case 39:
			_modificationsNicknameDict.ChangeRecording(monitoring);
			break;
		case 40:
			_modificationsLegendaryBookBreakPlateCounts.ChangeRecording(monitoring);
			break;
		case 41:
			break;
		case 42:
			_modificationsLegendaryBookWeaponSlot.ChangeRecording(monitoring);
			break;
		case 43:
			_modificationsLegendaryBookWeaponEffectId.ChangeRecording(monitoring);
			break;
		case 44:
			_modificationsLegendaryBookSkillSlot.ChangeRecording(monitoring);
			break;
		case 45:
			_modificationsLegendaryBookSkillEffectId.ChangeRecording(monitoring);
			break;
		case 46:
			break;
		case 47:
			break;
		case 48:
			_modificationsPrevLegendaryBookOwnerCopies.ChangeRecording(monitoring);
			break;
		case 49:
			_modificationsLegendaryBookShockedMonths.ChangeRecording(monitoring);
			break;
		case 50:
			_modificationsCombatSkillBreakPlateLastClearTimeList.ChangeRecording(monitoring);
			break;
		case 51:
			_modificationsCombatSkillCurrBreakPlateIndex.ChangeRecording(monitoring);
			break;
		case 52:
			_modificationsCombatSkillBreakPlateObsoleteList.ChangeRecording(monitoring);
			break;
		case 53:
			break;
		case 54:
			break;
		case 55:
			break;
		case 56:
			break;
		case 57:
			break;
		case 58:
			break;
		case 59:
			break;
		case 60:
			_modificationsLoveDataDict.ChangeRecording(monitoring);
			break;
		case 61:
			_modificationsPreviousLoverSet.ChangeRecording(monitoring);
			break;
		case 62:
			_modificationsConfessLoveFailedSet.ChangeRecording(monitoring);
			break;
		case 63:
			_modificationsLoveTokenDataDict.ChangeRecording(monitoring);
			break;
		case 64:
			break;
		case 65:
			break;
		case 66:
			break;
		case 67:
			break;
		case 68:
			break;
		case 69:
			break;
		case 70:
			break;
		case 71:
			break;
		case 72:
			break;
		case 73:
			break;
		case 74:
			break;
		case 75:
			break;
		case 76:
			break;
		case 77:
			break;
		case 78:
			break;
		case 79:
			break;
		case 80:
			break;
		case 81:
			break;
		case 82:
			break;
		case 83:
			break;
		case 84:
			break;
		case 85:
			break;
		case 86:
			break;
		case 87:
			break;
		case 88:
			break;
		case 89:
			break;
		case 90:
			break;
		case 91:
			_modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount.ChangeRecording(monitoring);
			break;
		case 92:
			break;
		case 93:
			break;
		case 94:
			break;
		case 95:
			_modificationsReadingEventReferenceBooks.ChangeRecording(monitoring);
			break;
		case 96:
			_modificationsMerchantTypeToDebts.ChangeRecording(monitoring);
			break;
		case 97:
			_modificationsMerchantBuyBackDict.ChangeRecording(monitoring);
			break;
		case 98:
			break;
		case 99:
			_modificationsCaravanBuyBackDict.ChangeRecording(monitoring);
			break;
		case 100:
			break;
		case 101:
			break;
		case 102:
			break;
		case 103:
			break;
		case 104:
			break;
		case 105:
			_modificationsDreamBackLifeRecords.ChangeRecording(monitoring, _dreamBackLifeRecords.GetSize());
			break;
		case 106:
			break;
		case 107:
			break;
		case 108:
			break;
		case 109:
			break;
		case 110:
			_modificationsPreviousMonthlyNotifications.ChangeRecording(monitoring);
			break;
		case 111:
			break;
		case 112:
			_modificationsVillageWorkQualificationImprove.ChangeRecording(monitoring);
			break;
		case 113:
			break;
		case 114:
			break;
		case 115:
			break;
		case 116:
			break;
		case 117:
			break;
		case 118:
			break;
		case 119:
			break;
		case 120:
			break;
		case 121:
			break;
		case 122:
			break;
		case 123:
			break;
		case 124:
			break;
		case 125:
			break;
		case 126:
			break;
		case 127:
			break;
		case 128:
			_modificationsMirrorCharacters.ChangeRecording(monitoring);
			break;
		case 129:
			break;
		case 130:
			break;
		case 131:
			break;
		case 132:
			break;
		case 133:
			break;
		case 134:
			break;
		case 135:
			break;
		case 136:
			break;
		case 137:
			break;
		case 138:
			break;
		case 139:
			break;
		case 140:
			break;
		case 141:
			break;
		case 142:
			_modificationsCharacterRevealedHobbies.ChangeRecording(monitoring);
			break;
		case 143:
			break;
		case 144:
			break;
		case 145:
			break;
		case 146:
			break;
		case 147:
			break;
		case 148:
			break;
		case 149:
			break;
		case 150:
			_modificationsTaiwuPropertyPermanentBonuses.ChangeRecording(monitoring);
			break;
		case 151:
			break;
		case 152:
			_modificationsTaiwuAddOneWayRelationCoolDown.ChangeRecording(monitoring);
			break;
		case 153:
			_modificationsCarrierTamePoint.ChangeRecording(monitoring);
			break;
		case 154:
			break;
		case 155:
			_modificationsFleeCarrierLocation.ChangeRecording(monitoring);
			break;
		case 156:
			break;
		case 157:
			break;
		case 158:
			_modificationsSettlementExtraData.ChangeRecording(monitoring);
			break;
		case 159:
			break;
		case 160:
			break;
		case 161:
			_modificationsJiaos.ChangeRecording(monitoring);
			break;
		case 162:
			_modificationsChildrenOfLoong.ChangeRecording(monitoring);
			break;
		case 163:
			_modificationsFiveLoongDict.ChangeRecording(monitoring);
			break;
		case 164:
			break;
		case 165:
			break;
		case 166:
			break;
		case 167:
			_modificationsChoosyRemainUpgradeRateDict.ChangeRecording(monitoring);
			break;
		case 168:
			_modificationsChoosyRemainUpgradeCountDict.ChangeRecording(monitoring);
			break;
		case 169:
			_modificationsBuildingMoneyPrestigeSuccessRateCompensation.ChangeRecording(monitoring);
			break;
		case 170:
			_modificationsOwnedClothingSet.ChangeRecording(monitoring);
			break;
		case 171:
			break;
		case 172:
			break;
		case 173:
			break;
		case 174:
			break;
		case 175:
			break;
		case 176:
			break;
		case 177:
			break;
		case 178:
			_modificationsLocationSupportingBlockResourceTotal.ChangeRecording(monitoring);
			break;
		case 179:
			break;
		case 180:
			break;
		case 181:
			_modificationsRecruitCharacterDataLists.ChangeRecording(monitoring);
			break;
		case 182:
			_modificationsSectJingangPossessionCharacters.ChangeRecording(monitoring);
			break;
		case 183:
			_modificationsMixedPoisonEffectTriggerDates.ChangeRecording(monitoring);
			break;
		case 184:
			break;
		case 185:
			break;
		case 186:
			break;
		case 187:
			break;
		case 188:
			break;
		case 189:
			break;
		case 190:
			break;
		case 191:
			break;
		case 192:
			break;
		case 193:
			break;
		case 194:
			_modificationsAnimals.ChangeRecording(monitoring);
			break;
		case 195:
			_modificationsSettlementTreasuries.ChangeRecording(monitoring);
			break;
		case 196:
			break;
		case 197:
			break;
		case 198:
			break;
		case 199:
			break;
		case 200:
			break;
		case 201:
			_modificationsCharacterExtraNeiliAllocationProgress.ChangeRecording(monitoring);
			break;
		case 202:
			break;
		case 203:
			break;
		case 204:
			_modificationsLegacyPointTimesDict.ChangeRecording(monitoring);
			break;
		case 205:
			break;
		case 206:
			break;
		case 207:
			_modificationsSamsaraPlatformRecordCollection.ChangeRecording(monitoring, _samsaraPlatformRecordCollection.GetSize());
			break;
		case 208:
			_modificationsAvailableReadingStrategyMap.ChangeRecording(monitoring);
			break;
		case 209:
			break;
		case 210:
			_modificationsAvailableQiArtStrategyMap.ChangeRecording(monitoring);
			break;
		case 211:
			break;
		case 212:
			_modificationsQiArtStrategyMap.ChangeRecording(monitoring);
			break;
		case 213:
			_modificationsQiArtStrategyExpireTimeMap.ChangeRecording(monitoring);
			break;
		case 214:
			break;
		case 215:
			break;
		case 216:
			_modificationsSettlementTreasuryRecordCollections.ChangeRecording(monitoring);
			break;
		case 217:
			_modificationsMonthlyNotificationSortingGroups.ChangeRecording(monitoring);
			break;
		case 218:
			break;
		case 219:
			_modificationsSectEmeiBreakBonusData.ChangeRecording(monitoring);
			break;
		case 220:
			_modificationsFollowingNickNameMap.ChangeRecording(monitoring);
			break;
		case 221:
			break;
		case 222:
			break;
		case 223:
			_modificationsSettlementPrisons.ChangeRecording(monitoring);
			break;
		case 224:
			_modificationsSectFulongOrgMemberChickens.ChangeRecording(monitoring);
			break;
		case 225:
			break;
		case 226:
			_modificationsSectFulongOutLaws.ChangeRecording(monitoring);
			break;
		case 227:
			_modificationsSettlementPrisonRecordCollections.ChangeRecording(monitoring);
			break;
		case 228:
			break;
		case 229:
			break;
		case 230:
			break;
		case 231:
			break;
		case 232:
			break;
		case 233:
			break;
		case 234:
			break;
		case 235:
			break;
		case 236:
			break;
		case 237:
			_modificationsVillagerRoleNickNameMap.ChangeRecording(monitoring);
			break;
		case 238:
			break;
		case 239:
			_modificationsBuildingResourceOutputSettings.ChangeRecording(monitoring);
			break;
		case 240:
			break;
		case 241:
			break;
		case 242:
			break;
		case 243:
			break;
		case 244:
			_modificationsAreaSpiritualDebt.ChangeRecording(monitoring);
			break;
		case 245:
			_modificationsTaiwuProfessions.ChangeRecording(monitoring);
			break;
		case 246:
			break;
		case 247:
			break;
		case 248:
			_modificationsCricketPlaceExtraData.ChangeRecording(monitoring);
			break;
		case 249:
			break;
		case 250:
			break;
		case 251:
			break;
		case 252:
			break;
		case 253:
			_modificationsFriendOrFamilyInteractionCooldownDict.ChangeRecording(monitoring);
			break;
		case 254:
			_modificationsSectZhujianGearMates.ChangeRecording(monitoring);
			break;
		case 255:
			break;
		case 256:
			break;
		case 257:
			break;
		case 258:
			break;
		case 259:
			break;
		case 260:
			break;
		case 261:
			_modificationsCaravanExtraDataDict.ChangeRecording(monitoring);
			break;
		case 262:
			break;
		case 263:
			_modificationsSectZhujianAreaMerchantTypeDict.ChangeRecording(monitoring);
			break;
		case 264:
			_modificationsMerchantExtraGoods.ChangeRecording(monitoring);
			break;
		case 265:
			break;
		case 266:
			break;
		case 267:
			break;
		case 268:
			break;
		case 269:
			break;
		case 270:
			break;
		case 271:
			break;
		case 272:
			_modificationsCharacterAvatarExtraDataDict.ChangeRecording(monitoring);
			break;
		case 273:
			break;
		case 274:
			_modificationsCityPunishmentSeverityCustomizeDict.ChangeRecording(monitoring);
			break;
		case 275:
			break;
		case 276:
			_modificationsCombatSkillProficiencies.ChangeRecording(monitoring);
			break;
		case 277:
			_modificationsSkillBreakPlates.ChangeRecording(monitoring);
			break;
		case 278:
			break;
		case 279:
			break;
		case 280:
			break;
		case 281:
			_modificationsPickupDict.ChangeRecording(monitoring);
			break;
		case 282:
			break;
		case 283:
			break;
		case 284:
			_modificationsBuildingBlockDataEx.ChangeRecording(monitoring);
			break;
		case 285:
			_modificationsVillagerRoleAutoActionStates.ChangeRecording(monitoring);
			break;
		case 286:
			break;
		case 287:
			_modificationsBuildingArtisanOrders.ChangeRecording(monitoring);
			break;
		case 288:
			_modificationsTaiwuVillagerPotentialData.ChangeRecording(monitoring);
			break;
		case 289:
			_modificationsNpcArtisanOrders.ChangeRecording(monitoring);
			break;
		case 290:
			_modificationsShopVillagerQualificationImprove.ChangeRecording(monitoring);
			break;
		case 291:
			_modificationsBigEvents.ChangeRecording(monitoring);
			break;
		case 292:
			break;
		case 293:
			break;
		case 294:
			break;
		case 295:
			break;
		case 296:
			break;
		case 297:
			_modificationsVillagerSkillLegacyPointDict.ChangeRecording(monitoring);
			break;
		case 298:
			break;
		case 299:
			_modificationsDyingCharacters.ChangeRecording(monitoring);
			break;
		case 300:
			break;
		case 301:
			break;
		case 302:
			break;
		case 303:
			_modificationsResourceBlockExtraData.ChangeRecording(monitoring);
			break;
		case 304:
			break;
		case 305:
			_modificationsFeasts.ChangeRecording(monitoring);
			break;
		case 306:
			break;
		case 307:
			_modificationsSettlementLayeredTreasuries.ChangeRecording(monitoring);
			break;
		case 308:
			break;
		case 309:
			_modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict.ChangeRecording(monitoring);
			break;
		case 310:
			break;
		case 311:
			break;
		case 312:
			_modificationsCharacterDarkAshCounterData.ChangeRecording(monitoring);
			break;
		case 313:
			break;
		default:
			throw new Exception($"Unsupported dataId {dataId}");
		}
	}

	public override int CheckModified(ushort dataId, ulong subId0, uint subId1, RawDataPool dataPool)
	{
		switch (dataId)
		{
		case 0:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 0))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 0);
			int result48 = GameData.Serializer.Serializer.SerializeModifications(_characterSecretInformationUsedCounts, dataPool, _modificationsCharacterSecretInformationUsedCounts);
			_modificationsCharacterSecretInformationUsedCounts.Reset();
			return result48;
		}
		case 1:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 1))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 1);
			int result98 = GameData.Serializer.Serializer.SerializeModifications(_secretInformationOccurredLocations, dataPool, _modificationsSecretInformationOccurredLocations);
			_modificationsSecretInformationOccurredLocations.Reset();
			return result98;
		}
		case 2:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 2))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 2);
			int result61 = GameData.Serializer.Serializer.SerializeModifications(_secretInformationBroadcastList, dataPool, _modificationsSecretInformationBroadcastList);
			_modificationsSecretInformationBroadcastList.Reset();
			return result61;
		}
		case 3:
			if (!BaseGameDataDomain.IsModified(DataStates, 3))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 3);
			return GameData.Serializer.Serializer.Serialize(_exchangedSpecialWeaponList, dataPool);
		case 4:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 4))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 4);
			int result29 = GameData.Serializer.Serializer.SerializeModifications(_caravanStayDays, dataPool, _modificationsCaravanStayDays);
			_modificationsCaravanStayDays.Reset();
			return result29;
		}
		case 5:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 5))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 5);
			int result80 = GameData.Serializer.Serializer.SerializeModifications(_merchantCharToType, dataPool, _modificationsMerchantCharToType);
			_modificationsMerchantCharToType.Reset();
			return result80;
		}
		case 6:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 6))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 6);
			int result31 = GameData.Serializer.Serializer.SerializeModifications(_merchantCharToExtraGoods, dataPool, _modificationsMerchantCharToExtraGoods);
			_modificationsMerchantCharToExtraGoods.Reset();
			return result31;
		}
		case 7:
			if (!BaseGameDataDomain.IsModified(DataStates, 7))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 7);
			return GameData.Serializer.Serializer.Serialize(_stationInited, dataPool);
		case 8:
			if (!BaseGameDataDomain.IsModified(DataStates, 8))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 8);
			return GameData.Serializer.Serializer.Serialize(_manualChangeEquipGroupCharIds, dataPool);
		case 9:
			if (!BaseGameDataDomain.IsModified(DataStates, 9))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 9);
			return GameData.Serializer.Serializer.Serialize(_stoneRoomCharList, dataPool);
		case 10:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 10))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 10);
			int result7 = GameData.Serializer.Serializer.SerializeModifications(_hideSkeletonEquipSlots, dataPool, _modificationsHideSkeletonEquipSlots);
			_modificationsHideSkeletonEquipSlots.Reset();
			return result7;
		}
		case 11:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 11))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 11);
			int result85 = GameData.Serializer.Serializer.SerializeModifications(_combatSkillOrderPlans, dataPool, _modificationsCombatSkillOrderPlans);
			_modificationsCombatSkillOrderPlans.Reset();
			return result85;
		}
		case 12:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 12))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 12);
			int result72 = GameData.Serializer.Serializer.SerializeModifications(_locationMarkHashSet, dataPool, _modificationsLocationMarkHashSet);
			_modificationsLocationMarkHashSet.Reset();
			return result72;
		}
		case 13:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 14:
			if (!BaseGameDataDomain.IsModified(DataStates, 14))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 14);
			return GameData.Serializer.Serializer.Serialize(_autoWorkBlockIndexList, dataPool);
		case 15:
			if (!BaseGameDataDomain.IsModified(DataStates, 15))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 15);
			return GameData.Serializer.Serializer.Serialize(_autoSoldBlockIndexList, dataPool);
		case 16:
			if (!BaseGameDataDomain.IsModified(DataStates, 16))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 16);
			return GameData.Serializer.Serializer.Serialize(_secretInformationBroadcastNotifyList, dataPool);
		case 17:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 18:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 19:
			if (!BaseGameDataDomain.IsModified(DataStates, 19))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 19);
			return GameData.Serializer.Serializer.Serialize(_xiangshuIdInKungfuPracticeRoom, dataPool);
		case 20:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 21:
			if (!BaseGameDataDomain.IsModified(DataStates, 21))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 21);
			return GameData.Serializer.Serializer.Serialize(_shopArrangeResultFirstList, dataPool);
		case 22:
			if (!BaseGameDataDomain.IsModified(DataStates, 22))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 22);
			return GameData.Serializer.Serializer.Serialize(_autoExpandBlockIndexList, dataPool);
		case 23:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 24:
			if (!BaseGameDataDomain.IsModified(DataStates, 24))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 24);
			return GameData.Serializer.Serializer.Serialize(_readingEventBookIdList, dataPool);
		case 25:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 26:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 26))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 26);
			int result57 = GameData.Serializer.Serializer.SerializeModifications((IBinary)(object)_travelingEventCollection, dataPool, _modificationsTravelingEventCollection);
			_modificationsTravelingEventCollection.Reset(_travelingEventCollection.GetSize());
			return result57;
		}
		case 27:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 28:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 29:
			if (!BaseGameDataDomain.IsModified(DataStates, 29))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 29);
			return GameData.Serializer.Serializer.Serialize(_gainsInTravel, dataPool);
		case 30:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 31:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 31))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 31);
			int result35 = GameData.Serializer.Serializer.SerializeModifications(_lifeSkillCombatCardDict, dataPool, _modificationsLifeSkillCombatCardDict);
			_modificationsLifeSkillCombatCardDict.Reset();
			return result35;
		}
		case 32:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 32))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 32);
			int result17 = GameData.Serializer.Serializer.SerializeModifications(_lifeSkillCombatUsedCardDict, dataPool, _modificationsLifeSkillCombatUsedCardDict);
			_modificationsLifeSkillCombatUsedCardDict.Reset();
			return result17;
		}
		case 33:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 33))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 33);
			int result13 = GameData.Serializer.Serializer.SerializeModifications(_lifeSkillCombatReadBookPageDict, dataPool, _modificationsLifeSkillCombatReadBookPageDict);
			_modificationsLifeSkillCombatReadBookPageDict.Reset();
			return result13;
		}
		case 34:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 34))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 34);
			int result = GameData.Serializer.Serializer.SerializeModifications(_lifeSkillCombatNewCardDict, dataPool, _modificationsLifeSkillCombatNewCardDict);
			_modificationsLifeSkillCombatNewCardDict.Reset();
			return result;
		}
		case 35:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 36:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 37:
			if (!BaseGameDataDomain.IsModified(DataStates, 37))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 37);
			return GameData.Serializer.Serializer.Serialize(_secretInformationBroadcastNotifyExtraList, dataPool);
		case 38:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 39:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 39))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 39);
			int result88 = GameData.Serializer.Serializer.SerializeModifications(_nicknameDict, dataPool, _modificationsNicknameDict);
			_modificationsNicknameDict.Reset();
			return result88;
		}
		case 40:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 40))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 40);
			int result83 = GameData.Serializer.Serializer.SerializeModifications(_legendaryBookBreakPlateCounts, dataPool, _modificationsLegendaryBookBreakPlateCounts);
			_modificationsLegendaryBookBreakPlateCounts.Reset();
			return result83;
		}
		case 41:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 42:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 42))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 42);
			int result77 = GameData.Serializer.Serializer.SerializeModifications(_legendaryBookWeaponSlot, dataPool, _modificationsLegendaryBookWeaponSlot);
			_modificationsLegendaryBookWeaponSlot.Reset();
			return result77;
		}
		case 43:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 43))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 43);
			int result74 = GameData.Serializer.Serializer.SerializeModifications(_legendaryBookWeaponEffectId, dataPool, _modificationsLegendaryBookWeaponEffectId);
			_modificationsLegendaryBookWeaponEffectId.Reset();
			return result74;
		}
		case 44:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 44))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 44);
			int result69 = GameData.Serializer.Serializer.SerializeModifications(_legendaryBookSkillSlot, dataPool, _modificationsLegendaryBookSkillSlot);
			_modificationsLegendaryBookSkillSlot.Reset();
			return result69;
		}
		case 45:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 45))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 45);
			int result66 = GameData.Serializer.Serializer.SerializeModifications(_legendaryBookSkillEffectId, dataPool, _modificationsLegendaryBookSkillEffectId);
			_modificationsLegendaryBookSkillEffectId.Reset();
			return result66;
		}
		case 46:
			if (!BaseGameDataDomain.IsModified(DataStates, 46))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 46);
			return GameData.Serializer.Serializer.Serialize(_legendaryBookBonusCountYin, dataPool);
		case 47:
			if (!BaseGameDataDomain.IsModified(DataStates, 47))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 47);
			return GameData.Serializer.Serializer.Serialize(_legendaryBookBonusCountYang, dataPool);
		case 48:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 48))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 48);
			int result49 = GameData.Serializer.Serializer.SerializeModifications(_prevLegendaryBookOwnerCopies, dataPool, _modificationsPrevLegendaryBookOwnerCopies);
			_modificationsPrevLegendaryBookOwnerCopies.Reset();
			return result49;
		}
		case 49:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 49))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 49);
			int result46 = GameData.Serializer.Serializer.SerializeModifications(_legendaryBookShockedMonths, dataPool, _modificationsLegendaryBookShockedMonths);
			_modificationsLegendaryBookShockedMonths.Reset();
			return result46;
		}
		case 50:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 50))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 50);
			int result39 = GameData.Serializer.Serializer.SerializeModifications(_combatSkillBreakPlateLastClearTimeList, dataPool, _modificationsCombatSkillBreakPlateLastClearTimeList);
			_modificationsCombatSkillBreakPlateLastClearTimeList.Reset();
			return result39;
		}
		case 51:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 51))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 51);
			int result33 = GameData.Serializer.Serializer.SerializeModifications(_combatSkillCurrBreakPlateIndex, dataPool, _modificationsCombatSkillCurrBreakPlateIndex);
			_modificationsCombatSkillCurrBreakPlateIndex.Reset();
			return result33;
		}
		case 52:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 52))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 52);
			int result26 = GameData.Serializer.Serializer.SerializeModifications(_combatSkillBreakPlateObsoleteList, dataPool, _modificationsCombatSkillBreakPlateObsoleteList);
			_modificationsCombatSkillBreakPlateObsoleteList.Reset();
			return result26;
		}
		case 53:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 54:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 55:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 56:
			if (!BaseGameDataDomain.IsModified(DataStates, 56))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 56);
			return GameData.Serializer.Serializer.Serialize(_extraTriggeredTasks, dataPool);
		case 57:
			if (!BaseGameDataDomain.IsModified(DataStates, 57))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 57);
			return GameData.Serializer.Serializer.Serialize(_taskSortingOrder, dataPool);
		case 58:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 59:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 60:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 60))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 60);
			int result4 = GameData.Serializer.Serializer.SerializeModifications(_loveDataDict, dataPool, _modificationsLoveDataDict);
			_modificationsLoveDataDict.Reset();
			return result4;
		}
		case 61:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 61))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 61);
			int result100 = GameData.Serializer.Serializer.SerializeModifications(_previousLoverSet, dataPool, _modificationsPreviousLoverSet);
			_modificationsPreviousLoverSet.Reset();
			return result100;
		}
		case 62:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 62))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 62);
			int result95 = GameData.Serializer.Serializer.SerializeModifications(_confessLoveFailedSet, dataPool, _modificationsConfessLoveFailedSet);
			_modificationsConfessLoveFailedSet.Reset();
			return result95;
		}
		case 63:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 63))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 63);
			int result94 = GameData.Serializer.Serializer.SerializeModifications(_loveTokenDataDict, dataPool, _modificationsLoveTokenDataDict);
			_modificationsLoveTokenDataDict.Reset();
			return result94;
		}
		case 64:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 65:
			if (!BaseGameDataDomain.IsModified(DataStates, 65))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 65);
			return GameData.Serializer.Serializer.Serialize(_taiwuCurrProfessionId, dataPool);
		case 66:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 67:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 68:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 69:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 70:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 71:
			if (!BaseGameDataDomain.IsModified(_dataStatesAnimalAreaData, (int)subId0))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(_dataStatesAnimalAreaData, (int)subId0);
			return GameData.Serializer.Serializer.Serialize(_animalAreaData[(uint)subId0], dataPool);
		case 72:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 73:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 74:
			if (!BaseGameDataDomain.IsModified(DataStates, 74))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 74);
			return GameData.Serializer.Serializer.Serialize(_worldVersionInfo, dataPool);
		case 75:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 76:
			if (!BaseGameDataDomain.IsModified(DataStates, 76))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 76);
			return GameData.Serializer.Serializer.Serialize(_changeTrickBodyPart, dataPool);
		case 77:
			if (!BaseGameDataDomain.IsModified(DataStates, 77))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 77);
			return GameData.Serializer.Serializer.Serialize(_changeTrickIndex, dataPool);
		case 78:
			if (!BaseGameDataDomain.IsModified(DataStates, 78))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 78);
			return GameData.Serializer.Serializer.Serialize(_voiceWeaponInnerRatio, dataPool);
		case 79:
			if (!BaseGameDataDomain.IsModified(DataStates, 79))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 79);
			return GameData.Serializer.Serializer.Serialize(_sectXuehouBloodLightLocations, dataPool);
		case 80:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 81:
			if (!BaseGameDataDomain.IsModified(_dataStatesBrokenAreaMaterials, (int)subId0))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(_dataStatesBrokenAreaMaterials, (int)subId0);
			return GameData.Serializer.Serializer.Serialize(_brokenAreaMaterials[(uint)subId0], dataPool);
		case 82:
			if (!BaseGameDataDomain.IsModified(DataStates, 82))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 82);
			return GameData.Serializer.Serializer.Serialize(_sectWudangFairylandData, dataPool);
		case 83:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 84:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 85:
			if (!BaseGameDataDomain.IsModified(DataStates, 85))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 85);
			return GameData.Serializer.Serializer.Serialize(_taiwuMaxNeiliAllocation, dataPool);
		case 86:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 87:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 88:
			if (!BaseGameDataDomain.IsModified(DataStates, 88))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 88);
			return GameData.Serializer.Serializer.Serialize(_breakoutDifficulty, dataPool);
		case 89:
			if (!BaseGameDataDomain.IsModified(DataStates, 89))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 89);
			return GameData.Serializer.Serializer.Serialize(_readingDifficulty, dataPool);
		case 90:
			if (!BaseGameDataDomain.IsModified(DataStates, 90))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 90);
			return GameData.Serializer.Serializer.Serialize(_loopingDifficulty, dataPool);
		case 91:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 91))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 91);
			int result50 = GameData.Serializer.Serializer.SerializeModifications(_combatSkillBreakPlateLastForceBreakoutStepsCount, dataPool, _modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount);
			_modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount.Reset();
			return result50;
		}
		case 92:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 93:
			if (!BaseGameDataDomain.IsModified(DataStates, 93))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 93);
			return GameData.Serializer.Serializer.Serialize(_autoCheckInComfortableList, dataPool);
		case 94:
			if (!BaseGameDataDomain.IsModified(DataStates, 94))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 94);
			return GameData.Serializer.Serializer.Serialize(_autoCheckInResidenceList, dataPool);
		case 95:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 95))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 95);
			int result42 = GameData.Serializer.Serializer.SerializeModifications(_readingEventReferenceBooks, dataPool, _modificationsReadingEventReferenceBooks);
			_modificationsReadingEventReferenceBooks.Reset();
			return result42;
		}
		case 96:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 96))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 96);
			int result36 = GameData.Serializer.Serializer.SerializeModifications(_merchantTypeToDebts, dataPool, _modificationsMerchantTypeToDebts);
			_modificationsMerchantTypeToDebts.Reset();
			return result36;
		}
		case 97:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 97))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 97);
			int result32 = GameData.Serializer.Serializer.SerializeModifications(_merchantBuyBackDict, dataPool, _modificationsMerchantBuyBackDict);
			_modificationsMerchantBuyBackDict.Reset();
			return result32;
		}
		case 98:
			if (!BaseGameDataDomain.IsModified(_dataStatesMerchantMaxLevelBuyBackData, (int)subId0))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(_dataStatesMerchantMaxLevelBuyBackData, (int)subId0);
			return GameData.Serializer.Serializer.Serialize(_merchantMaxLevelBuyBackData[(uint)subId0], dataPool);
		case 99:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 99))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 99);
			int result23 = GameData.Serializer.Serializer.SerializeModifications(_caravanBuyBackDict, dataPool, _modificationsCaravanBuyBackDict);
			_modificationsCaravanBuyBackDict.Reset();
			return result23;
		}
		case 100:
			if (!BaseGameDataDomain.IsModified(DataStates, 100))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 100);
			return GameData.Serializer.Serializer.Serialize(_firstLegendaryBookDelay, dataPool);
		case 101:
			if (!BaseGameDataDomain.IsModified(DataStates, 101))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 101);
			return GameData.Serializer.Serializer.Serialize(_legaciesBuildingTemplateIdList, dataPool);
		case 102:
			if (!BaseGameDataDomain.IsModified(DataStates, 102))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 102);
			return GameData.Serializer.Serializer.Serialize(_isDreamBack, dataPool);
		case 103:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 104:
			if (!BaseGameDataDomain.IsModified(DataStates, 104))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 104);
			return GameData.Serializer.Serializer.Serialize(_unlockedWorkingVillagers, dataPool);
		case 105:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 105))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 105);
			int result9 = GameData.Serializer.Serializer.SerializeModifications((IBinary)(object)_dreamBackLifeRecords, dataPool, _modificationsDreamBackLifeRecords);
			_modificationsDreamBackLifeRecords.Reset(_dreamBackLifeRecords.GetSize());
			return result9;
		}
		case 106:
			if (!BaseGameDataDomain.IsModified(DataStates, 106))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 106);
			return GameData.Serializer.Serializer.Serialize(_actionPointCurrMonth, dataPool);
		case 107:
			if (!BaseGameDataDomain.IsModified(DataStates, 107))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 107);
			return GameData.Serializer.Serializer.Serialize(_actionPointPrevMonth, dataPool);
		case 108:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 109:
			if (!BaseGameDataDomain.IsModified(DataStates, 109))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 109);
			return GameData.Serializer.Serializer.Serialize(_lastMonthNotificationsIndex, dataPool);
		case 110:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 110))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 110);
			int result96 = GameData.Serializer.Serializer.SerializeModifications(_previousMonthlyNotifications, dataPool, _modificationsPreviousMonthlyNotifications);
			_modificationsPreviousMonthlyNotifications.Reset();
			return result96;
		}
		case 111:
			if (!BaseGameDataDomain.IsModified(DataStates, 111))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 111);
			return GameData.Serializer.Serializer.Serialize(_actionPointPreserved, dataPool);
		case 112:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 112))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 112);
			int result93 = GameData.Serializer.Serializer.SerializeModifications(_villageWorkQualificationImprove, dataPool, _modificationsVillageWorkQualificationImprove);
			_modificationsVillageWorkQualificationImprove.Reset();
			return result93;
		}
		case 113:
			if (!BaseGameDataDomain.IsModified(DataStates, 113))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 113);
			return GameData.Serializer.Serializer.Serialize(_readInLifeSkillCombatCount, dataPool);
		case 114:
			if (!BaseGameDataDomain.IsModified(DataStates, 114))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 114);
			return GameData.Serializer.Serializer.Serialize(_sectWudangHeavenlyTree, dataPool);
		case 115:
			if (!BaseGameDataDomain.IsModified(DataStates, 115))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 115);
			return GameData.Serializer.Serializer.Serialize(_sectWudangHeavenlyTreeList, dataPool);
		case 116:
			if (!BaseGameDataDomain.IsModified(DataStates, 116))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 116);
			return GameData.Serializer.Serializer.Serialize(_sectWudangLingBaoDark, dataPool);
		case 117:
			if (!BaseGameDataDomain.IsModified(DataStates, 117))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 117);
			return GameData.Serializer.Serializer.Serialize(_sectWudangLingBaoLight, dataPool);
		case 118:
			if (!BaseGameDataDomain.IsModified(DataStates, 118))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 118);
			return GameData.Serializer.Serializer.Serialize(_shixiangBarbarianMasterIdList, dataPool);
		case 119:
			if (!BaseGameDataDomain.IsModified(DataStates, 119))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 119);
			return GameData.Serializer.Serializer.Serialize(_legaciesBuildingList, dataPool);
		case 120:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 121:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 122:
			if (!BaseGameDataDomain.IsModified(DataStates, 122))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 122);
			return GameData.Serializer.Serializer.Serialize(_informationSettings, dataPool);
		case 123:
			if (!BaseGameDataDomain.IsModified(DataStates, 123))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 123);
			return GameData.Serializer.Serializer.Serialize(_sectXuannvUnlockedMusicList, dataPool);
		case 124:
			if (!BaseGameDataDomain.IsModified(DataStates, 124))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 124);
			return GameData.Serializer.Serializer.Serialize(_sectXuannvPlayerPlayMode, dataPool);
		case 125:
			if (!BaseGameDataDomain.IsModified(DataStates, 125))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 125);
			return GameData.Serializer.Serializer.Serialize(_sectXuannvPlayerMusicId, dataPool);
		case 126:
			if (!BaseGameDataDomain.IsModified(DataStates, 126))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 126);
			return GameData.Serializer.Serializer.Serialize(_sectXuannvPlayerIsEnabled, dataPool);
		case 127:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 128:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 128))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 128);
			int result76 = GameData.Serializer.Serializer.SerializeModifications(_mirrorCharacters, dataPool, _modificationsMirrorCharacters);
			_modificationsMirrorCharacters.Reset();
			return result76;
		}
		case 129:
			if (!BaseGameDataDomain.IsModified(DataStates, 129))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 129);
			return GameData.Serializer.Serializer.Serialize(_sectEmeiBloodLocations, dataPool);
		case 130:
			if (!BaseGameDataDomain.IsModified(DataStates, 130))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 130);
			return GameData.Serializer.Serializer.Serialize(_sectEmeiExp, dataPool);
		case 131:
			if (!BaseGameDataDomain.IsModified(DataStates, 131))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 131);
			return GameData.Serializer.Serializer.Serialize(_enemyPracticeLevel, dataPool);
		case 132:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 133:
			if (!BaseGameDataDomain.IsModified(DataStates, 133))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 133);
			return GameData.Serializer.Serializer.Serialize(_taiwuInformationReceivedHistories, dataPool);
		case 134:
			if (!BaseGameDataDomain.IsModified(DataStates, 134))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 134);
			return GameData.Serializer.Serializer.Serialize(_sectXuannvEvaluatedMusicList, dataPool);
		case 135:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 136:
			if (!BaseGameDataDomain.IsModified(DataStates, 136))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 136);
			return GameData.Serializer.Serializer.Serialize(_dreamBackUnlockStates, dataPool);
		case 137:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 138:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 139:
			if (!BaseGameDataDomain.IsModified(DataStates, 139))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 139);
			return GameData.Serializer.Serializer.Serialize(_dreamBackLocationData, dataPool);
		case 140:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 141:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 142:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 142))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 142);
			int result64 = GameData.Serializer.Serializer.SerializeModifications(_characterRevealedHobbies, dataPool, _modificationsCharacterRevealedHobbies);
			_modificationsCharacterRevealedHobbies.Reset();
			return result64;
		}
		case 143:
			if (!BaseGameDataDomain.IsModified(DataStates, 143))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 143);
			return GameData.Serializer.Serializer.Serialize(_finalDateBeforeDreamBack, dataPool);
		case 144:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 145:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 146:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 147:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 148:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 149:
			if (!BaseGameDataDomain.IsModified(DataStates, 149))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 149);
			return GameData.Serializer.Serializer.Serialize(_dejaVuEventCharacters, dataPool);
		case 150:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 150))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 150);
			int result58 = GameData.Serializer.Serializer.SerializeModifications(_taiwuPropertyPermanentBonuses, dataPool, _modificationsTaiwuPropertyPermanentBonuses);
			_modificationsTaiwuPropertyPermanentBonuses.Reset();
			return result58;
		}
		case 151:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 152:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 152))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 152);
			int result56 = GameData.Serializer.Serializer.SerializeModifications(_taiwuAddOneWayRelationCoolDown, dataPool, _modificationsTaiwuAddOneWayRelationCoolDown);
			_modificationsTaiwuAddOneWayRelationCoolDown.Reset();
			return result56;
		}
		case 153:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 153))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 153);
			int result54 = GameData.Serializer.Serializer.SerializeModifications(_carrierTamePoint, dataPool, _modificationsCarrierTamePoint);
			_modificationsCarrierTamePoint.Reset();
			return result54;
		}
		case 154:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 155:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 155))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 155);
			int result52 = GameData.Serializer.Serializer.SerializeModifications(_fleeCarrierLocation, dataPool, _modificationsFleeCarrierLocation);
			_modificationsFleeCarrierLocation.Reset();
			return result52;
		}
		case 156:
			if (!BaseGameDataDomain.IsModified(DataStates, 156))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 156);
			return GameData.Serializer.Serializer.Serialize(_favorabilityChange, dataPool);
		case 157:
			if (!BaseGameDataDomain.IsModified(DataStates, 157))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 157);
			return GameData.Serializer.Serializer.Serialize(_canResetWorldSettings, dataPool);
		case 158:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 158))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 158);
			int result47 = GameData.Serializer.Serializer.SerializeModifications(_settlementExtraData, dataPool, _modificationsSettlementExtraData);
			_modificationsSettlementExtraData.Reset();
			return result47;
		}
		case 159:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 160:
			if (!BaseGameDataDomain.IsModified(DataStates, 160))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 160);
			return GameData.Serializer.Serializer.Serialize(_jiaoPools, dataPool);
		case 161:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 161))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 161);
			int result44 = GameData.Serializer.Serializer.SerializeModifications(_jiaos, dataPool, _modificationsJiaos);
			_modificationsJiaos.Reset();
			return result44;
		}
		case 162:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 162))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 162);
			int result40 = GameData.Serializer.Serializer.SerializeModifications(_childrenOfLoong, dataPool, _modificationsChildrenOfLoong);
			_modificationsChildrenOfLoong.Reset();
			return result40;
		}
		case 163:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 163))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 163);
			int result37 = GameData.Serializer.Serializer.SerializeModifications(_fiveLoongDict, dataPool, _modificationsFiveLoongDict);
			_modificationsFiveLoongDict.Reset();
			return result37;
		}
		case 164:
			if (!BaseGameDataDomain.IsModified(DataStates, 164))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 164);
			return GameData.Serializer.Serializer.Serialize(_jiaoPoolRecords, dataPool);
		case 165:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 166:
			if (!BaseGameDataDomain.IsModified(DataStates, 166))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 166);
			return GameData.Serializer.Serializer.Serialize(_jiaoPoolStatus, dataPool);
		case 167:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 167))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 167);
			int result28 = GameData.Serializer.Serializer.SerializeModifications(_choosyRemainUpgradeRateDict, dataPool, _modificationsChoosyRemainUpgradeRateDict);
			_modificationsChoosyRemainUpgradeRateDict.Reset();
			return result28;
		}
		case 168:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 168))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 168);
			int result25 = GameData.Serializer.Serializer.SerializeModifications(_choosyRemainUpgradeCountDict, dataPool, _modificationsChoosyRemainUpgradeCountDict);
			_modificationsChoosyRemainUpgradeCountDict.Reset();
			return result25;
		}
		case 169:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 169))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 169);
			int result22 = GameData.Serializer.Serializer.SerializeModifications(_buildingMoneyPrestigeSuccessRateCompensation, dataPool, _modificationsBuildingMoneyPrestigeSuccessRateCompensation);
			_modificationsBuildingMoneyPrestigeSuccessRateCompensation.Reset();
			return result22;
		}
		case 170:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 170))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 170);
			int result19 = GameData.Serializer.Serializer.SerializeModifications(_ownedClothingSet, dataPool, _modificationsOwnedClothingSet);
			_modificationsOwnedClothingSet.Reset();
			return result19;
		}
		case 171:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 172:
			if (!BaseGameDataDomain.IsModified(DataStates, 172))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 172);
			return GameData.Serializer.Serializer.Serialize(_disableEnemyAi, dataPool);
		case 173:
			if (!BaseGameDataDomain.IsModified(DataStates, 173))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 173);
			return GameData.Serializer.Serializer.Serialize(_enemyUnyieldingFallen, dataPool);
		case 174:
			if (!BaseGameDataDomain.IsModified(DataStates, 174))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 174);
			return GameData.Serializer.Serializer.Serialize(_lastTargetDistance, dataPool);
		case 175:
			if (!BaseGameDataDomain.IsModified(DataStates, 175))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 175);
			return GameData.Serializer.Serializer.Serialize(_weaveClothingDisplaySetting, dataPool);
		case 176:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 177:
			if (!BaseGameDataDomain.IsModified(DataStates, 177))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 177);
			return GameData.Serializer.Serializer.Serialize(_sectWuxianWugJugPoisons, dataPool);
		case 178:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 178))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 178);
			int result11 = GameData.Serializer.Serializer.SerializeModifications(_locationSupportingBlockResourceTotal, dataPool, _modificationsLocationSupportingBlockResourceTotal);
			_modificationsLocationSupportingBlockResourceTotal.Reset();
			return result11;
		}
		case 179:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 180:
			if (!BaseGameDataDomain.IsModified(DataStates, 180))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 180);
			return GameData.Serializer.Serializer.Serialize(_cricketCollectionDataList, dataPool);
		case 181:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 181))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 181);
			int result6 = GameData.Serializer.Serializer.SerializeModifications(_recruitCharacterDataLists, dataPool, _modificationsRecruitCharacterDataLists);
			_modificationsRecruitCharacterDataLists.Reset();
			return result6;
		}
		case 182:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 182))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 182);
			int result2 = GameData.Serializer.Serializer.SerializeModifications(_sectJingangPossessionCharacters, dataPool, _modificationsSectJingangPossessionCharacters);
			_modificationsSectJingangPossessionCharacters.Reset();
			return result2;
		}
		case 183:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 183))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 183);
			int result101 = GameData.Serializer.Serializer.SerializeModifications(_mixedPoisonEffectTriggerDates, dataPool, _modificationsMixedPoisonEffectTriggerDates);
			_modificationsMixedPoisonEffectTriggerDates.Reset();
			return result101;
		}
		case 184:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 185:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 186:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 187:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 188:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 189:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 190:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 191:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 192:
			if (!BaseGameDataDomain.IsModified(DataStates, 192))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 192);
			return GameData.Serializer.Serializer.Serialize(_changeTrickIsFlaw, dataPool);
		case 193:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 194:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 194))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 194);
			int result99 = GameData.Serializer.Serializer.SerializeModifications(_animals, dataPool, _modificationsAnimals);
			_modificationsAnimals.Reset();
			return result99;
		}
		case 195:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 195))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 195);
			int result97 = GameData.Serializer.Serializer.SerializeModifications(_settlementTreasuries, dataPool, _modificationsSettlementTreasuries);
			_modificationsSettlementTreasuries.Reset();
			return result97;
		}
		case 196:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 197:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 198:
			if (!BaseGameDataDomain.IsModified(DataStates, 198))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 198);
			return GameData.Serializer.Serializer.Serialize(_unlockedCombatSkillPlanCount, dataPool);
		case 199:
			if (!BaseGameDataDomain.IsModified(DataStates, 199))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 199);
			return GameData.Serializer.Serializer.Serialize(_activeLoopingProgress, dataPool);
		case 200:
			if (!BaseGameDataDomain.IsModified(DataStates, 200))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 200);
			return GameData.Serializer.Serializer.Serialize(_activeReadingProgress, dataPool);
		case 201:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 201))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 201);
			int result92 = GameData.Serializer.Serializer.SerializeModifications(_characterExtraNeiliAllocationProgress, dataPool, _modificationsCharacterExtraNeiliAllocationProgress);
			_modificationsCharacterExtraNeiliAllocationProgress.Reset();
			return result92;
		}
		case 202:
			if (!BaseGameDataDomain.IsModified(DataStates, 202))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 202);
			return GameData.Serializer.Serializer.Serialize(_qiArtStrategyList, dataPool);
		case 203:
			if (!BaseGameDataDomain.IsModified(DataStates, 203))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 203);
			return GameData.Serializer.Serializer.Serialize(_qiArtStrategyExpireTimeList, dataPool);
		case 204:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 204))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 204);
			int result91 = GameData.Serializer.Serializer.SerializeModifications(_legacyPointTimesDict, dataPool, _modificationsLegacyPointTimesDict);
			_modificationsLegacyPointTimesDict.Reset();
			return result91;
		}
		case 205:
			if (!BaseGameDataDomain.IsModified(DataStates, 205))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 205);
			return GameData.Serializer.Serializer.Serialize(_sectRanshanThreeCorpses, dataPool);
		case 206:
			if (!BaseGameDataDomain.IsModified(DataStates, 206))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 206);
			return GameData.Serializer.Serializer.Serialize(_sectBaihuaLifeLinkData, dataPool);
		case 207:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 207))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 207);
			int result90 = GameData.Serializer.Serializer.SerializeModifications((IBinary)(object)_samsaraPlatformRecordCollection, dataPool, _modificationsSamsaraPlatformRecordCollection);
			_modificationsSamsaraPlatformRecordCollection.Reset(_samsaraPlatformRecordCollection.GetSize());
			return result90;
		}
		case 208:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 208))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 208);
			int result89 = GameData.Serializer.Serializer.SerializeModifications(_availableReadingStrategyMap, dataPool, _modificationsAvailableReadingStrategyMap);
			_modificationsAvailableReadingStrategyMap.Reset();
			return result89;
		}
		case 209:
			if (!BaseGameDataDomain.IsModified(DataStates, 209))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 209);
			return GameData.Serializer.Serializer.Serialize(_referenceSkillList, dataPool);
		case 210:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 210))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 210);
			int result87 = GameData.Serializer.Serializer.SerializeModifications(_availableQiArtStrategyMap, dataPool, _modificationsAvailableQiArtStrategyMap);
			_modificationsAvailableQiArtStrategyMap.Reset();
			return result87;
		}
		case 211:
			if (!BaseGameDataDomain.IsModified(DataStates, 211))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 211);
			return GameData.Serializer.Serializer.Serialize(_loopingEventSkillIdList, dataPool);
		case 212:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 212))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 212);
			int result86 = GameData.Serializer.Serializer.SerializeModifications(_qiArtStrategyMap, dataPool, _modificationsQiArtStrategyMap);
			_modificationsQiArtStrategyMap.Reset();
			return result86;
		}
		case 213:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 213))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 213);
			int result84 = GameData.Serializer.Serializer.SerializeModifications(_qiArtStrategyExpireTimeMap, dataPool, _modificationsQiArtStrategyExpireTimeMap);
			_modificationsQiArtStrategyExpireTimeMap.Reset();
			return result84;
		}
		case 214:
			if (!BaseGameDataDomain.IsModified(DataStates, 214))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 214);
			return GameData.Serializer.Serializer.Serialize(_loopInLifeSkillCombatCount, dataPool);
		case 215:
			if (!BaseGameDataDomain.IsModified(DataStates, 215))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 215);
			return GameData.Serializer.Serializer.Serialize(_loopInCombatCount, dataPool);
		case 216:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 216))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 216);
			int result82 = GameData.Serializer.Serializer.SerializeModifications(_settlementTreasuryRecordCollections, dataPool, _modificationsSettlementTreasuryRecordCollections);
			_modificationsSettlementTreasuryRecordCollections.Reset();
			return result82;
		}
		case 217:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 217))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 217);
			int result81 = GameData.Serializer.Serializer.SerializeModifications(_monthlyNotificationSortingGroups, dataPool, _modificationsMonthlyNotificationSortingGroups);
			_modificationsMonthlyNotificationSortingGroups.Reset();
			return result81;
		}
		case 218:
			if (!BaseGameDataDomain.IsModified(DataStates, 218))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 218);
			return GameData.Serializer.Serializer.Serialize(_followingNpcList, dataPool);
		case 219:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 219))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 219);
			int result79 = GameData.Serializer.Serializer.SerializeModifications(_sectEmeiBreakBonusData, dataPool, _modificationsSectEmeiBreakBonusData);
			_modificationsSectEmeiBreakBonusData.Reset();
			return result79;
		}
		case 220:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 220))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 220);
			int result78 = GameData.Serializer.Serializer.SerializeModifications(_followingNickNameMap, dataPool, _modificationsFollowingNickNameMap);
			_modificationsFollowingNickNameMap.Reset();
			return result78;
		}
		case 221:
			if (!BaseGameDataDomain.IsModified(_dataStatesMerchantOverFavorDataArray, (int)subId0))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(_dataStatesMerchantOverFavorDataArray, (int)subId0);
			return GameData.Serializer.Serializer.Serialize(_merchantOverFavorDataArray[(uint)subId0], dataPool);
		case 222:
			if (!BaseGameDataDomain.IsModified(DataStates, 222))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 222);
			return GameData.Serializer.Serializer.Serialize(_changedTeammateCharIds, dataPool);
		case 223:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 223))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 223);
			int result75 = GameData.Serializer.Serializer.SerializeModifications(_settlementPrisons, dataPool, _modificationsSettlementPrisons);
			_modificationsSettlementPrisons.Reset();
			return result75;
		}
		case 224:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 224))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 224);
			int result73 = GameData.Serializer.Serializer.SerializeModifications(_sectFulongOrgMemberChickens, dataPool, _modificationsSectFulongOrgMemberChickens);
			_modificationsSectFulongOrgMemberChickens.Reset();
			return result73;
		}
		case 225:
			if (!BaseGameDataDomain.IsModified(DataStates, 225))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 225);
			return GameData.Serializer.Serializer.Serialize(_sectFulongInFlameAreas, dataPool);
		case 226:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 226))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 226);
			int result71 = GameData.Serializer.Serializer.SerializeModifications(_sectFulongOutLaws, dataPool, _modificationsSectFulongOutLaws);
			_modificationsSectFulongOutLaws.Reset();
			return result71;
		}
		case 227:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 227))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 227);
			int result70 = GameData.Serializer.Serializer.SerializeModifications(_settlementPrisonRecordCollections, dataPool, _modificationsSettlementPrisonRecordCollections);
			_modificationsSettlementPrisonRecordCollections.Reset();
			return result70;
		}
		case 228:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 229:
			if (!BaseGameDataDomain.IsModified(DataStates, 229))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 229);
			return GameData.Serializer.Serializer.Serialize(_sectFulongLoseFeatherChickens, dataPool);
		case 230:
			if (!BaseGameDataDomain.IsModified(DataStates, 230))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 230);
			return GameData.Serializer.Serializer.Serialize(_stockStorage, dataPool);
		case 231:
			if (!BaseGameDataDomain.IsModified(DataStates, 231))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 231);
			return GameData.Serializer.Serializer.Serialize(_craftStorage, dataPool);
		case 232:
			if (!BaseGameDataDomain.IsModified(DataStates, 232))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 232);
			return GameData.Serializer.Serializer.Serialize(_medicineStorage, dataPool);
		case 233:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 234:
			if (!BaseGameDataDomain.IsModified(DataStates, 234))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 234);
			return GameData.Serializer.Serializer.Serialize(_foodStorage, dataPool);
		case 235:
			if (!BaseGameDataDomain.IsModified(DataStates, 235))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 235);
			return GameData.Serializer.Serializer.Serialize(_taiwuVillageStoragesRecordCollection, dataPool);
		case 236:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 237:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 237))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 237);
			int result68 = GameData.Serializer.Serializer.SerializeModifications(_villagerRoleNickNameMap, dataPool, _modificationsVillagerRoleNickNameMap);
			_modificationsVillagerRoleNickNameMap.Reset();
			return result68;
		}
		case 238:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 239:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 239))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 239);
			int result67 = GameData.Serializer.Serializer.SerializeModifications(_buildingResourceOutputSettings, dataPool, _modificationsBuildingResourceOutputSettings);
			_modificationsBuildingResourceOutputSettings.Reset();
			return result67;
		}
		case 240:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 241:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 242:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 243:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 244:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 244))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 244);
			int result65 = GameData.Serializer.Serializer.SerializeModifications(_areaSpiritualDebt, dataPool, _modificationsAreaSpiritualDebt);
			_modificationsAreaSpiritualDebt.Reset();
			return result65;
		}
		case 245:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 245))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 245);
			int result63 = GameData.Serializer.Serializer.SerializeModifications(_taiwuProfessions, dataPool, _modificationsTaiwuProfessions);
			_modificationsTaiwuProfessions.Reset();
			return result63;
		}
		case 246:
			if (!BaseGameDataDomain.IsModified(DataStates, 246))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 246);
			return GameData.Serializer.Serializer.Serialize(_taiwuProfessionSkillSlots, dataPool);
		case 247:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 248:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 248))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 248);
			int result62 = GameData.Serializer.Serializer.SerializeModifications(_cricketPlaceExtraData, dataPool, _modificationsCricketPlaceExtraData);
			_modificationsCricketPlaceExtraData.Reset();
			return result62;
		}
		case 249:
			if (!BaseGameDataDomain.IsModified(_dataStatesBranchMerchantData, (int)subId0))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(_dataStatesBranchMerchantData, (int)subId0);
			return GameData.Serializer.Serializer.Serialize(_branchMerchantData[(uint)subId0], dataPool);
		case 250:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 251:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 252:
			if (!BaseGameDataDomain.IsModified(DataStates, 252))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 252);
			return GameData.Serializer.Serializer.Serialize(_interactedCharacterList, dataPool);
		case 253:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 253))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 253);
			int result60 = GameData.Serializer.Serializer.SerializeModifications(_friendOrFamilyInteractionCooldownDict, dataPool, _modificationsFriendOrFamilyInteractionCooldownDict);
			_modificationsFriendOrFamilyInteractionCooldownDict.Reset();
			return result60;
		}
		case 254:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 254))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 254);
			int result59 = GameData.Serializer.Serializer.SerializeModifications(_sectZhujianGearMates, dataPool, _modificationsSectZhujianGearMates);
			_modificationsSectZhujianGearMates.Reset();
			return result59;
		}
		case 255:
			if (!BaseGameDataDomain.IsModified(DataStates, 255))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 255);
			return GameData.Serializer.Serializer.Serialize(_professionUpgrade, dataPool);
		case 256:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 257:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 258:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 259:
			if (!BaseGameDataDomain.IsModified(DataStates, 259))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 259);
			return GameData.Serializer.Serializer.Serialize(_sectZhujianThiefList, dataPool);
		case 260:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 261:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 261))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 261);
			int result55 = GameData.Serializer.Serializer.SerializeModifications(_caravanExtraDataDict, dataPool, _modificationsCaravanExtraDataDict);
			_modificationsCaravanExtraDataDict.Reset();
			return result55;
		}
		case 262:
			if (!BaseGameDataDomain.IsModified(DataStates, 262))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 262);
			return GameData.Serializer.Serializer.Serialize(_protectCaravanTime, dataPool);
		case 263:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 263))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 263);
			int result53 = GameData.Serializer.Serializer.SerializeModifications(_sectZhujianAreaMerchantTypeDict, dataPool, _modificationsSectZhujianAreaMerchantTypeDict);
			_modificationsSectZhujianAreaMerchantTypeDict.Reset();
			return result53;
		}
		case 264:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 264))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 264);
			int result51 = GameData.Serializer.Serializer.SerializeModifications(_merchantExtraGoods, dataPool, _modificationsMerchantExtraGoods);
			_modificationsMerchantExtraGoods.Reset();
			return result51;
		}
		case 265:
			if (!BaseGameDataDomain.IsModified(DataStates, 265))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 265);
			return GameData.Serializer.Serializer.Serialize(_exorcismEnabled, dataPool);
		case 266:
			if (!BaseGameDataDomain.IsModified(DataStates, 266))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 266);
			return GameData.Serializer.Serializer.Serialize(_sectStorySpecialMerchant, dataPool);
		case 267:
			if (!BaseGameDataDomain.IsModified(DataStates, 267))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 267);
			return GameData.Serializer.Serializer.Serialize(_isExtraProfessionSkillUnlocked, dataPool);
		case 268:
			if (!BaseGameDataDomain.IsModified(DataStates, 268))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 268);
			return GameData.Serializer.Serializer.Serialize(_isDirectTraveling, dataPool);
		case 269:
			if (!BaseGameDataDomain.IsModified(DataStates, 269))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 269);
			return GameData.Serializer.Serializer.Serialize(_kidnappedTravelData, dataPool);
		case 270:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 271:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 272:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 272))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 272);
			int result45 = GameData.Serializer.Serializer.SerializeModifications(_characterAvatarExtraDataDict, dataPool, _modificationsCharacterAvatarExtraDataDict);
			_modificationsCharacterAvatarExtraDataDict.Reset();
			return result45;
		}
		case 273:
			if (!BaseGameDataDomain.IsModified(DataStates, 273))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 273);
			return GameData.Serializer.Serializer.Serialize(_lootYield, dataPool);
		case 274:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 274))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 274);
			int result43 = GameData.Serializer.Serializer.SerializeModifications(_cityPunishmentSeverityCustomizeDict, dataPool, _modificationsCityPunishmentSeverityCustomizeDict);
			_modificationsCityPunishmentSeverityCustomizeDict.Reset();
			return result43;
		}
		case 275:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 276:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 276))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 276);
			int result41 = GameData.Serializer.Serializer.SerializeModifications(_combatSkillProficiencies, dataPool, _modificationsCombatSkillProficiencies);
			_modificationsCombatSkillProficiencies.Reset();
			return result41;
		}
		case 277:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 277))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 277);
			int result38 = GameData.Serializer.Serializer.SerializeModifications(_skillBreakPlates, dataPool, _modificationsSkillBreakPlates);
			_modificationsSkillBreakPlates.Reset();
			return result38;
		}
		case 278:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 279:
			if (!BaseGameDataDomain.IsModified(DataStates, 279))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 279);
			return GameData.Serializer.Serializer.Serialize(_sectShaolinDemonSlayerData, dataPool);
		case 280:
			if (!BaseGameDataDomain.IsModified(DataStates, 280))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 280);
			return GameData.Serializer.Serializer.Serialize(KongsangCharacterFeaturePoisonedProb, dataPool);
		case 281:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 281))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 281);
			int result34 = GameData.Serializer.Serializer.SerializeModifications(_pickupDict, dataPool, _modificationsPickupDict);
			_modificationsPickupDict.Reset();
			return result34;
		}
		case 282:
			if (!BaseGameDataDomain.IsModified(DataStates, 282))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 282);
			return GameData.Serializer.Serializer.Serialize(_taiwuSelectedDebateCardType, dataPool);
		case 283:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 284:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 284))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 284);
			int result30 = GameData.Serializer.Serializer.SerializeModifications(_buildingBlockDataEx, dataPool, _modificationsBuildingBlockDataEx);
			_modificationsBuildingBlockDataEx.Reset();
			return result30;
		}
		case 285:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 285))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 285);
			int result27 = GameData.Serializer.Serializer.SerializeModifications(_villagerRoleAutoActionStates, dataPool, _modificationsVillagerRoleAutoActionStates);
			_modificationsVillagerRoleAutoActionStates.Reset();
			return result27;
		}
		case 286:
			if (!BaseGameDataDomain.IsModified(DataStates, 286))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 286);
			return GameData.Serializer.Serializer.Serialize(_buildingArrangementSettingPresetData, dataPool);
		case 287:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 287))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 287);
			int result24 = GameData.Serializer.Serializer.SerializeModifications(_buildingArtisanOrders, dataPool, _modificationsBuildingArtisanOrders);
			_modificationsBuildingArtisanOrders.Reset();
			return result24;
		}
		case 288:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 288))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 288);
			int result21 = GameData.Serializer.Serializer.SerializeModifications(_taiwuVillagerPotentialData, dataPool, _modificationsTaiwuVillagerPotentialData);
			_modificationsTaiwuVillagerPotentialData.Reset();
			return result21;
		}
		case 289:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 289))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 289);
			int result20 = GameData.Serializer.Serializer.SerializeModifications(_npcArtisanOrders, dataPool, _modificationsNpcArtisanOrders);
			_modificationsNpcArtisanOrders.Reset();
			return result20;
		}
		case 290:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 290))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 290);
			int result18 = GameData.Serializer.Serializer.SerializeModifications(_shopVillagerQualificationImprove, dataPool, _modificationsShopVillagerQualificationImprove);
			_modificationsShopVillagerQualificationImprove.Reset();
			return result18;
		}
		case 291:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 291))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 291);
			int result16 = GameData.Serializer.Serializer.SerializeModifications(_bigEvents, dataPool, _modificationsBigEvents);
			_modificationsBigEvents.Reset();
			return result16;
		}
		case 292:
			if (!BaseGameDataDomain.IsModified(DataStates, 292))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 292);
			return GameData.Serializer.Serializer.Serialize(_hasGetShuiHuoYingQiGongSkillBookByArchiveFix, dataPool);
		case 293:
			if (!BaseGameDataDomain.IsModified(DataStates, 293))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 293);
			return GameData.Serializer.Serializer.Serialize(_farmerAutoCollectStorageType, dataPool);
		case 294:
			if (!BaseGameDataDomain.IsModified(DataStates, 294))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 294);
			return GameData.Serializer.Serializer.Serialize(_woodenXiangshuAvatarSelectedFeatures, dataPool);
		case 295:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 296:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 297:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 297))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 297);
			int result15 = GameData.Serializer.Serializer.SerializeModifications(_villagerSkillLegacyPointDict, dataPool, _modificationsVillagerSkillLegacyPointDict);
			_modificationsVillagerSkillLegacyPointDict.Reset();
			return result15;
		}
		case 298:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 299:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 299))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 299);
			int result14 = GameData.Serializer.Serializer.SerializeModifications(_dyingCharacters, dataPool, _modificationsDyingCharacters);
			_modificationsDyingCharacters.Reset();
			return result14;
		}
		case 300:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 301:
			if (!BaseGameDataDomain.IsModified(DataStates, 301))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 301);
			return GameData.Serializer.Serializer.Serialize(_sectYuanshanThreeVitals, dataPool);
		case 302:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 303:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 303))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 303);
			int result12 = GameData.Serializer.Serializer.SerializeModifications(_resourceBlockExtraData, dataPool, _modificationsResourceBlockExtraData);
			_modificationsResourceBlockExtraData.Reset();
			return result12;
		}
		case 304:
			if (!BaseGameDataDomain.IsModified(DataStates, 304))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 304);
			return GameData.Serializer.Serializer.Serialize(_unlockedFeastTypes, dataPool);
		case 305:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 305))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 305);
			int result10 = GameData.Serializer.Serializer.SerializeModifications(_feasts, dataPool, _modificationsFeasts);
			_modificationsFeasts.Reset();
			return result10;
		}
		case 306:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 307:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 307))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 307);
			int result8 = GameData.Serializer.Serializer.SerializeModifications(_settlementLayeredTreasuries, dataPool, _modificationsSettlementLayeredTreasuries);
			_modificationsSettlementLayeredTreasuries.Reset();
			return result8;
		}
		case 308:
			if (!BaseGameDataDomain.IsModified(DataStates, 308))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 308);
			return GameData.Serializer.Serializer.Serialize(_buildingDefaultStoreLocation, dataPool);
		case 309:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 309))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 309);
			int result5 = GameData.Serializer.Serializer.SerializeModifications(_taiwuVillageVowOrgTemplateCrossArchiveDict, dataPool, _modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict);
			_modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict.Reset();
			return result5;
		}
		case 310:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 311:
			throw new Exception($"Not allow to check modification of dataId {dataId}");
		case 312:
		{
			if (!BaseGameDataDomain.IsModified(DataStates, 312))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 312);
			int result3 = GameData.Serializer.Serializer.SerializeModifications(_characterDarkAshCounterData, dataPool, _modificationsCharacterDarkAshCounterData);
			_modificationsCharacterDarkAshCounterData.Reset();
			return result3;
		}
		case 313:
			if (!BaseGameDataDomain.IsModified(DataStates, 313))
			{
				return -1;
			}
			BaseGameDataDomain.ResetModified(DataStates, 313);
			return GameData.Serializer.Serializer.Serialize(_fuyuFaith, dataPool);
		default:
			throw new Exception($"Unsupported dataId {dataId}");
		}
	}

	public override void ResetModifiedWrapper(ushort dataId, ulong subId0, uint subId1)
	{
		switch (dataId)
		{
		case 0:
			if (BaseGameDataDomain.IsModified(DataStates, 0))
			{
				BaseGameDataDomain.ResetModified(DataStates, 0);
				_modificationsCharacterSecretInformationUsedCounts.Reset();
			}
			break;
		case 1:
			if (BaseGameDataDomain.IsModified(DataStates, 1))
			{
				BaseGameDataDomain.ResetModified(DataStates, 1);
				_modificationsSecretInformationOccurredLocations.Reset();
			}
			break;
		case 2:
			if (BaseGameDataDomain.IsModified(DataStates, 2))
			{
				BaseGameDataDomain.ResetModified(DataStates, 2);
				_modificationsSecretInformationBroadcastList.Reset();
			}
			break;
		case 3:
			if (BaseGameDataDomain.IsModified(DataStates, 3))
			{
				BaseGameDataDomain.ResetModified(DataStates, 3);
			}
			break;
		case 4:
			if (BaseGameDataDomain.IsModified(DataStates, 4))
			{
				BaseGameDataDomain.ResetModified(DataStates, 4);
				_modificationsCaravanStayDays.Reset();
			}
			break;
		case 5:
			if (BaseGameDataDomain.IsModified(DataStates, 5))
			{
				BaseGameDataDomain.ResetModified(DataStates, 5);
				_modificationsMerchantCharToType.Reset();
			}
			break;
		case 6:
			if (BaseGameDataDomain.IsModified(DataStates, 6))
			{
				BaseGameDataDomain.ResetModified(DataStates, 6);
				_modificationsMerchantCharToExtraGoods.Reset();
			}
			break;
		case 7:
			if (BaseGameDataDomain.IsModified(DataStates, 7))
			{
				BaseGameDataDomain.ResetModified(DataStates, 7);
			}
			break;
		case 8:
			if (BaseGameDataDomain.IsModified(DataStates, 8))
			{
				BaseGameDataDomain.ResetModified(DataStates, 8);
			}
			break;
		case 9:
			if (BaseGameDataDomain.IsModified(DataStates, 9))
			{
				BaseGameDataDomain.ResetModified(DataStates, 9);
			}
			break;
		case 10:
			if (BaseGameDataDomain.IsModified(DataStates, 10))
			{
				BaseGameDataDomain.ResetModified(DataStates, 10);
				_modificationsHideSkeletonEquipSlots.Reset();
			}
			break;
		case 11:
			if (BaseGameDataDomain.IsModified(DataStates, 11))
			{
				BaseGameDataDomain.ResetModified(DataStates, 11);
				_modificationsCombatSkillOrderPlans.Reset();
			}
			break;
		case 12:
			if (BaseGameDataDomain.IsModified(DataStates, 12))
			{
				BaseGameDataDomain.ResetModified(DataStates, 12);
				_modificationsLocationMarkHashSet.Reset();
			}
			break;
		case 13:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 14:
			if (BaseGameDataDomain.IsModified(DataStates, 14))
			{
				BaseGameDataDomain.ResetModified(DataStates, 14);
			}
			break;
		case 15:
			if (BaseGameDataDomain.IsModified(DataStates, 15))
			{
				BaseGameDataDomain.ResetModified(DataStates, 15);
			}
			break;
		case 16:
			if (BaseGameDataDomain.IsModified(DataStates, 16))
			{
				BaseGameDataDomain.ResetModified(DataStates, 16);
			}
			break;
		case 17:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 18:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 19:
			if (BaseGameDataDomain.IsModified(DataStates, 19))
			{
				BaseGameDataDomain.ResetModified(DataStates, 19);
			}
			break;
		case 20:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 21:
			if (BaseGameDataDomain.IsModified(DataStates, 21))
			{
				BaseGameDataDomain.ResetModified(DataStates, 21);
			}
			break;
		case 22:
			if (BaseGameDataDomain.IsModified(DataStates, 22))
			{
				BaseGameDataDomain.ResetModified(DataStates, 22);
			}
			break;
		case 23:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 24:
			if (BaseGameDataDomain.IsModified(DataStates, 24))
			{
				BaseGameDataDomain.ResetModified(DataStates, 24);
			}
			break;
		case 25:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 26:
			if (BaseGameDataDomain.IsModified(DataStates, 26))
			{
				BaseGameDataDomain.ResetModified(DataStates, 26);
			}
			break;
		case 27:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 28:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 29:
			if (BaseGameDataDomain.IsModified(DataStates, 29))
			{
				BaseGameDataDomain.ResetModified(DataStates, 29);
			}
			break;
		case 30:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 31:
			if (BaseGameDataDomain.IsModified(DataStates, 31))
			{
				BaseGameDataDomain.ResetModified(DataStates, 31);
				_modificationsLifeSkillCombatCardDict.Reset();
			}
			break;
		case 32:
			if (BaseGameDataDomain.IsModified(DataStates, 32))
			{
				BaseGameDataDomain.ResetModified(DataStates, 32);
				_modificationsLifeSkillCombatUsedCardDict.Reset();
			}
			break;
		case 33:
			if (BaseGameDataDomain.IsModified(DataStates, 33))
			{
				BaseGameDataDomain.ResetModified(DataStates, 33);
				_modificationsLifeSkillCombatReadBookPageDict.Reset();
			}
			break;
		case 34:
			if (BaseGameDataDomain.IsModified(DataStates, 34))
			{
				BaseGameDataDomain.ResetModified(DataStates, 34);
				_modificationsLifeSkillCombatNewCardDict.Reset();
			}
			break;
		case 35:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 36:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 37:
			if (BaseGameDataDomain.IsModified(DataStates, 37))
			{
				BaseGameDataDomain.ResetModified(DataStates, 37);
			}
			break;
		case 38:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 39:
			if (BaseGameDataDomain.IsModified(DataStates, 39))
			{
				BaseGameDataDomain.ResetModified(DataStates, 39);
				_modificationsNicknameDict.Reset();
			}
			break;
		case 40:
			if (BaseGameDataDomain.IsModified(DataStates, 40))
			{
				BaseGameDataDomain.ResetModified(DataStates, 40);
				_modificationsLegendaryBookBreakPlateCounts.Reset();
			}
			break;
		case 41:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 42:
			if (BaseGameDataDomain.IsModified(DataStates, 42))
			{
				BaseGameDataDomain.ResetModified(DataStates, 42);
				_modificationsLegendaryBookWeaponSlot.Reset();
			}
			break;
		case 43:
			if (BaseGameDataDomain.IsModified(DataStates, 43))
			{
				BaseGameDataDomain.ResetModified(DataStates, 43);
				_modificationsLegendaryBookWeaponEffectId.Reset();
			}
			break;
		case 44:
			if (BaseGameDataDomain.IsModified(DataStates, 44))
			{
				BaseGameDataDomain.ResetModified(DataStates, 44);
				_modificationsLegendaryBookSkillSlot.Reset();
			}
			break;
		case 45:
			if (BaseGameDataDomain.IsModified(DataStates, 45))
			{
				BaseGameDataDomain.ResetModified(DataStates, 45);
				_modificationsLegendaryBookSkillEffectId.Reset();
			}
			break;
		case 46:
			if (BaseGameDataDomain.IsModified(DataStates, 46))
			{
				BaseGameDataDomain.ResetModified(DataStates, 46);
			}
			break;
		case 47:
			if (BaseGameDataDomain.IsModified(DataStates, 47))
			{
				BaseGameDataDomain.ResetModified(DataStates, 47);
			}
			break;
		case 48:
			if (BaseGameDataDomain.IsModified(DataStates, 48))
			{
				BaseGameDataDomain.ResetModified(DataStates, 48);
				_modificationsPrevLegendaryBookOwnerCopies.Reset();
			}
			break;
		case 49:
			if (BaseGameDataDomain.IsModified(DataStates, 49))
			{
				BaseGameDataDomain.ResetModified(DataStates, 49);
				_modificationsLegendaryBookShockedMonths.Reset();
			}
			break;
		case 50:
			if (BaseGameDataDomain.IsModified(DataStates, 50))
			{
				BaseGameDataDomain.ResetModified(DataStates, 50);
				_modificationsCombatSkillBreakPlateLastClearTimeList.Reset();
			}
			break;
		case 51:
			if (BaseGameDataDomain.IsModified(DataStates, 51))
			{
				BaseGameDataDomain.ResetModified(DataStates, 51);
				_modificationsCombatSkillCurrBreakPlateIndex.Reset();
			}
			break;
		case 52:
			if (BaseGameDataDomain.IsModified(DataStates, 52))
			{
				BaseGameDataDomain.ResetModified(DataStates, 52);
				_modificationsCombatSkillBreakPlateObsoleteList.Reset();
			}
			break;
		case 53:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 54:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 55:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 56:
			if (BaseGameDataDomain.IsModified(DataStates, 56))
			{
				BaseGameDataDomain.ResetModified(DataStates, 56);
			}
			break;
		case 57:
			if (BaseGameDataDomain.IsModified(DataStates, 57))
			{
				BaseGameDataDomain.ResetModified(DataStates, 57);
			}
			break;
		case 58:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 59:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 60:
			if (BaseGameDataDomain.IsModified(DataStates, 60))
			{
				BaseGameDataDomain.ResetModified(DataStates, 60);
				_modificationsLoveDataDict.Reset();
			}
			break;
		case 61:
			if (BaseGameDataDomain.IsModified(DataStates, 61))
			{
				BaseGameDataDomain.ResetModified(DataStates, 61);
				_modificationsPreviousLoverSet.Reset();
			}
			break;
		case 62:
			if (BaseGameDataDomain.IsModified(DataStates, 62))
			{
				BaseGameDataDomain.ResetModified(DataStates, 62);
				_modificationsConfessLoveFailedSet.Reset();
			}
			break;
		case 63:
			if (BaseGameDataDomain.IsModified(DataStates, 63))
			{
				BaseGameDataDomain.ResetModified(DataStates, 63);
				_modificationsLoveTokenDataDict.Reset();
			}
			break;
		case 64:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 65:
			if (BaseGameDataDomain.IsModified(DataStates, 65))
			{
				BaseGameDataDomain.ResetModified(DataStates, 65);
			}
			break;
		case 66:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 67:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 68:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 69:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 70:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 71:
			if (BaseGameDataDomain.IsModified(_dataStatesAnimalAreaData, (int)subId0))
			{
				BaseGameDataDomain.ResetModified(_dataStatesAnimalAreaData, (int)subId0);
			}
			break;
		case 72:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 73:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 74:
			if (BaseGameDataDomain.IsModified(DataStates, 74))
			{
				BaseGameDataDomain.ResetModified(DataStates, 74);
			}
			break;
		case 75:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 76:
			if (BaseGameDataDomain.IsModified(DataStates, 76))
			{
				BaseGameDataDomain.ResetModified(DataStates, 76);
			}
			break;
		case 77:
			if (BaseGameDataDomain.IsModified(DataStates, 77))
			{
				BaseGameDataDomain.ResetModified(DataStates, 77);
			}
			break;
		case 78:
			if (BaseGameDataDomain.IsModified(DataStates, 78))
			{
				BaseGameDataDomain.ResetModified(DataStates, 78);
			}
			break;
		case 79:
			if (BaseGameDataDomain.IsModified(DataStates, 79))
			{
				BaseGameDataDomain.ResetModified(DataStates, 79);
			}
			break;
		case 80:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 81:
			if (BaseGameDataDomain.IsModified(_dataStatesBrokenAreaMaterials, (int)subId0))
			{
				BaseGameDataDomain.ResetModified(_dataStatesBrokenAreaMaterials, (int)subId0);
			}
			break;
		case 82:
			if (BaseGameDataDomain.IsModified(DataStates, 82))
			{
				BaseGameDataDomain.ResetModified(DataStates, 82);
			}
			break;
		case 83:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 84:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 85:
			if (BaseGameDataDomain.IsModified(DataStates, 85))
			{
				BaseGameDataDomain.ResetModified(DataStates, 85);
			}
			break;
		case 86:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 87:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 88:
			if (BaseGameDataDomain.IsModified(DataStates, 88))
			{
				BaseGameDataDomain.ResetModified(DataStates, 88);
			}
			break;
		case 89:
			if (BaseGameDataDomain.IsModified(DataStates, 89))
			{
				BaseGameDataDomain.ResetModified(DataStates, 89);
			}
			break;
		case 90:
			if (BaseGameDataDomain.IsModified(DataStates, 90))
			{
				BaseGameDataDomain.ResetModified(DataStates, 90);
			}
			break;
		case 91:
			if (BaseGameDataDomain.IsModified(DataStates, 91))
			{
				BaseGameDataDomain.ResetModified(DataStates, 91);
				_modificationsCombatSkillBreakPlateLastForceBreakoutStepsCount.Reset();
			}
			break;
		case 92:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 93:
			if (BaseGameDataDomain.IsModified(DataStates, 93))
			{
				BaseGameDataDomain.ResetModified(DataStates, 93);
			}
			break;
		case 94:
			if (BaseGameDataDomain.IsModified(DataStates, 94))
			{
				BaseGameDataDomain.ResetModified(DataStates, 94);
			}
			break;
		case 95:
			if (BaseGameDataDomain.IsModified(DataStates, 95))
			{
				BaseGameDataDomain.ResetModified(DataStates, 95);
				_modificationsReadingEventReferenceBooks.Reset();
			}
			break;
		case 96:
			if (BaseGameDataDomain.IsModified(DataStates, 96))
			{
				BaseGameDataDomain.ResetModified(DataStates, 96);
				_modificationsMerchantTypeToDebts.Reset();
			}
			break;
		case 97:
			if (BaseGameDataDomain.IsModified(DataStates, 97))
			{
				BaseGameDataDomain.ResetModified(DataStates, 97);
				_modificationsMerchantBuyBackDict.Reset();
			}
			break;
		case 98:
			if (BaseGameDataDomain.IsModified(_dataStatesMerchantMaxLevelBuyBackData, (int)subId0))
			{
				BaseGameDataDomain.ResetModified(_dataStatesMerchantMaxLevelBuyBackData, (int)subId0);
			}
			break;
		case 99:
			if (BaseGameDataDomain.IsModified(DataStates, 99))
			{
				BaseGameDataDomain.ResetModified(DataStates, 99);
				_modificationsCaravanBuyBackDict.Reset();
			}
			break;
		case 100:
			if (BaseGameDataDomain.IsModified(DataStates, 100))
			{
				BaseGameDataDomain.ResetModified(DataStates, 100);
			}
			break;
		case 101:
			if (BaseGameDataDomain.IsModified(DataStates, 101))
			{
				BaseGameDataDomain.ResetModified(DataStates, 101);
			}
			break;
		case 102:
			if (BaseGameDataDomain.IsModified(DataStates, 102))
			{
				BaseGameDataDomain.ResetModified(DataStates, 102);
			}
			break;
		case 103:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 104:
			if (BaseGameDataDomain.IsModified(DataStates, 104))
			{
				BaseGameDataDomain.ResetModified(DataStates, 104);
			}
			break;
		case 105:
			if (BaseGameDataDomain.IsModified(DataStates, 105))
			{
				BaseGameDataDomain.ResetModified(DataStates, 105);
			}
			break;
		case 106:
			if (BaseGameDataDomain.IsModified(DataStates, 106))
			{
				BaseGameDataDomain.ResetModified(DataStates, 106);
			}
			break;
		case 107:
			if (BaseGameDataDomain.IsModified(DataStates, 107))
			{
				BaseGameDataDomain.ResetModified(DataStates, 107);
			}
			break;
		case 108:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 109:
			if (BaseGameDataDomain.IsModified(DataStates, 109))
			{
				BaseGameDataDomain.ResetModified(DataStates, 109);
			}
			break;
		case 110:
			if (BaseGameDataDomain.IsModified(DataStates, 110))
			{
				BaseGameDataDomain.ResetModified(DataStates, 110);
				_modificationsPreviousMonthlyNotifications.Reset();
			}
			break;
		case 111:
			if (BaseGameDataDomain.IsModified(DataStates, 111))
			{
				BaseGameDataDomain.ResetModified(DataStates, 111);
			}
			break;
		case 112:
			if (BaseGameDataDomain.IsModified(DataStates, 112))
			{
				BaseGameDataDomain.ResetModified(DataStates, 112);
				_modificationsVillageWorkQualificationImprove.Reset();
			}
			break;
		case 113:
			if (BaseGameDataDomain.IsModified(DataStates, 113))
			{
				BaseGameDataDomain.ResetModified(DataStates, 113);
			}
			break;
		case 114:
			if (BaseGameDataDomain.IsModified(DataStates, 114))
			{
				BaseGameDataDomain.ResetModified(DataStates, 114);
			}
			break;
		case 115:
			if (BaseGameDataDomain.IsModified(DataStates, 115))
			{
				BaseGameDataDomain.ResetModified(DataStates, 115);
			}
			break;
		case 116:
			if (BaseGameDataDomain.IsModified(DataStates, 116))
			{
				BaseGameDataDomain.ResetModified(DataStates, 116);
			}
			break;
		case 117:
			if (BaseGameDataDomain.IsModified(DataStates, 117))
			{
				BaseGameDataDomain.ResetModified(DataStates, 117);
			}
			break;
		case 118:
			if (BaseGameDataDomain.IsModified(DataStates, 118))
			{
				BaseGameDataDomain.ResetModified(DataStates, 118);
			}
			break;
		case 119:
			if (BaseGameDataDomain.IsModified(DataStates, 119))
			{
				BaseGameDataDomain.ResetModified(DataStates, 119);
			}
			break;
		case 120:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 121:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 122:
			if (BaseGameDataDomain.IsModified(DataStates, 122))
			{
				BaseGameDataDomain.ResetModified(DataStates, 122);
			}
			break;
		case 123:
			if (BaseGameDataDomain.IsModified(DataStates, 123))
			{
				BaseGameDataDomain.ResetModified(DataStates, 123);
			}
			break;
		case 124:
			if (BaseGameDataDomain.IsModified(DataStates, 124))
			{
				BaseGameDataDomain.ResetModified(DataStates, 124);
			}
			break;
		case 125:
			if (BaseGameDataDomain.IsModified(DataStates, 125))
			{
				BaseGameDataDomain.ResetModified(DataStates, 125);
			}
			break;
		case 126:
			if (BaseGameDataDomain.IsModified(DataStates, 126))
			{
				BaseGameDataDomain.ResetModified(DataStates, 126);
			}
			break;
		case 127:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 128:
			if (BaseGameDataDomain.IsModified(DataStates, 128))
			{
				BaseGameDataDomain.ResetModified(DataStates, 128);
				_modificationsMirrorCharacters.Reset();
			}
			break;
		case 129:
			if (BaseGameDataDomain.IsModified(DataStates, 129))
			{
				BaseGameDataDomain.ResetModified(DataStates, 129);
			}
			break;
		case 130:
			if (BaseGameDataDomain.IsModified(DataStates, 130))
			{
				BaseGameDataDomain.ResetModified(DataStates, 130);
			}
			break;
		case 131:
			if (BaseGameDataDomain.IsModified(DataStates, 131))
			{
				BaseGameDataDomain.ResetModified(DataStates, 131);
			}
			break;
		case 132:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 133:
			if (BaseGameDataDomain.IsModified(DataStates, 133))
			{
				BaseGameDataDomain.ResetModified(DataStates, 133);
			}
			break;
		case 134:
			if (BaseGameDataDomain.IsModified(DataStates, 134))
			{
				BaseGameDataDomain.ResetModified(DataStates, 134);
			}
			break;
		case 135:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 136:
			if (BaseGameDataDomain.IsModified(DataStates, 136))
			{
				BaseGameDataDomain.ResetModified(DataStates, 136);
			}
			break;
		case 137:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 138:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 139:
			if (BaseGameDataDomain.IsModified(DataStates, 139))
			{
				BaseGameDataDomain.ResetModified(DataStates, 139);
			}
			break;
		case 140:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 141:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 142:
			if (BaseGameDataDomain.IsModified(DataStates, 142))
			{
				BaseGameDataDomain.ResetModified(DataStates, 142);
				_modificationsCharacterRevealedHobbies.Reset();
			}
			break;
		case 143:
			if (BaseGameDataDomain.IsModified(DataStates, 143))
			{
				BaseGameDataDomain.ResetModified(DataStates, 143);
			}
			break;
		case 144:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 145:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 146:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 147:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 148:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 149:
			if (BaseGameDataDomain.IsModified(DataStates, 149))
			{
				BaseGameDataDomain.ResetModified(DataStates, 149);
			}
			break;
		case 150:
			if (BaseGameDataDomain.IsModified(DataStates, 150))
			{
				BaseGameDataDomain.ResetModified(DataStates, 150);
				_modificationsTaiwuPropertyPermanentBonuses.Reset();
			}
			break;
		case 151:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 152:
			if (BaseGameDataDomain.IsModified(DataStates, 152))
			{
				BaseGameDataDomain.ResetModified(DataStates, 152);
				_modificationsTaiwuAddOneWayRelationCoolDown.Reset();
			}
			break;
		case 153:
			if (BaseGameDataDomain.IsModified(DataStates, 153))
			{
				BaseGameDataDomain.ResetModified(DataStates, 153);
				_modificationsCarrierTamePoint.Reset();
			}
			break;
		case 154:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 155:
			if (BaseGameDataDomain.IsModified(DataStates, 155))
			{
				BaseGameDataDomain.ResetModified(DataStates, 155);
				_modificationsFleeCarrierLocation.Reset();
			}
			break;
		case 156:
			if (BaseGameDataDomain.IsModified(DataStates, 156))
			{
				BaseGameDataDomain.ResetModified(DataStates, 156);
			}
			break;
		case 157:
			if (BaseGameDataDomain.IsModified(DataStates, 157))
			{
				BaseGameDataDomain.ResetModified(DataStates, 157);
			}
			break;
		case 158:
			if (BaseGameDataDomain.IsModified(DataStates, 158))
			{
				BaseGameDataDomain.ResetModified(DataStates, 158);
				_modificationsSettlementExtraData.Reset();
			}
			break;
		case 159:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 160:
			if (BaseGameDataDomain.IsModified(DataStates, 160))
			{
				BaseGameDataDomain.ResetModified(DataStates, 160);
			}
			break;
		case 161:
			if (BaseGameDataDomain.IsModified(DataStates, 161))
			{
				BaseGameDataDomain.ResetModified(DataStates, 161);
				_modificationsJiaos.Reset();
			}
			break;
		case 162:
			if (BaseGameDataDomain.IsModified(DataStates, 162))
			{
				BaseGameDataDomain.ResetModified(DataStates, 162);
				_modificationsChildrenOfLoong.Reset();
			}
			break;
		case 163:
			if (BaseGameDataDomain.IsModified(DataStates, 163))
			{
				BaseGameDataDomain.ResetModified(DataStates, 163);
				_modificationsFiveLoongDict.Reset();
			}
			break;
		case 164:
			if (BaseGameDataDomain.IsModified(DataStates, 164))
			{
				BaseGameDataDomain.ResetModified(DataStates, 164);
			}
			break;
		case 165:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 166:
			if (BaseGameDataDomain.IsModified(DataStates, 166))
			{
				BaseGameDataDomain.ResetModified(DataStates, 166);
			}
			break;
		case 167:
			if (BaseGameDataDomain.IsModified(DataStates, 167))
			{
				BaseGameDataDomain.ResetModified(DataStates, 167);
				_modificationsChoosyRemainUpgradeRateDict.Reset();
			}
			break;
		case 168:
			if (BaseGameDataDomain.IsModified(DataStates, 168))
			{
				BaseGameDataDomain.ResetModified(DataStates, 168);
				_modificationsChoosyRemainUpgradeCountDict.Reset();
			}
			break;
		case 169:
			if (BaseGameDataDomain.IsModified(DataStates, 169))
			{
				BaseGameDataDomain.ResetModified(DataStates, 169);
				_modificationsBuildingMoneyPrestigeSuccessRateCompensation.Reset();
			}
			break;
		case 170:
			if (BaseGameDataDomain.IsModified(DataStates, 170))
			{
				BaseGameDataDomain.ResetModified(DataStates, 170);
				_modificationsOwnedClothingSet.Reset();
			}
			break;
		case 171:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 172:
			if (BaseGameDataDomain.IsModified(DataStates, 172))
			{
				BaseGameDataDomain.ResetModified(DataStates, 172);
			}
			break;
		case 173:
			if (BaseGameDataDomain.IsModified(DataStates, 173))
			{
				BaseGameDataDomain.ResetModified(DataStates, 173);
			}
			break;
		case 174:
			if (BaseGameDataDomain.IsModified(DataStates, 174))
			{
				BaseGameDataDomain.ResetModified(DataStates, 174);
			}
			break;
		case 175:
			if (BaseGameDataDomain.IsModified(DataStates, 175))
			{
				BaseGameDataDomain.ResetModified(DataStates, 175);
			}
			break;
		case 176:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 177:
			if (BaseGameDataDomain.IsModified(DataStates, 177))
			{
				BaseGameDataDomain.ResetModified(DataStates, 177);
			}
			break;
		case 178:
			if (BaseGameDataDomain.IsModified(DataStates, 178))
			{
				BaseGameDataDomain.ResetModified(DataStates, 178);
				_modificationsLocationSupportingBlockResourceTotal.Reset();
			}
			break;
		case 179:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 180:
			if (BaseGameDataDomain.IsModified(DataStates, 180))
			{
				BaseGameDataDomain.ResetModified(DataStates, 180);
			}
			break;
		case 181:
			if (BaseGameDataDomain.IsModified(DataStates, 181))
			{
				BaseGameDataDomain.ResetModified(DataStates, 181);
				_modificationsRecruitCharacterDataLists.Reset();
			}
			break;
		case 182:
			if (BaseGameDataDomain.IsModified(DataStates, 182))
			{
				BaseGameDataDomain.ResetModified(DataStates, 182);
				_modificationsSectJingangPossessionCharacters.Reset();
			}
			break;
		case 183:
			if (BaseGameDataDomain.IsModified(DataStates, 183))
			{
				BaseGameDataDomain.ResetModified(DataStates, 183);
				_modificationsMixedPoisonEffectTriggerDates.Reset();
			}
			break;
		case 184:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 185:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 186:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 187:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 188:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 189:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 190:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 191:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 192:
			if (BaseGameDataDomain.IsModified(DataStates, 192))
			{
				BaseGameDataDomain.ResetModified(DataStates, 192);
			}
			break;
		case 193:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 194:
			if (BaseGameDataDomain.IsModified(DataStates, 194))
			{
				BaseGameDataDomain.ResetModified(DataStates, 194);
				_modificationsAnimals.Reset();
			}
			break;
		case 195:
			if (BaseGameDataDomain.IsModified(DataStates, 195))
			{
				BaseGameDataDomain.ResetModified(DataStates, 195);
				_modificationsSettlementTreasuries.Reset();
			}
			break;
		case 196:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 197:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 198:
			if (BaseGameDataDomain.IsModified(DataStates, 198))
			{
				BaseGameDataDomain.ResetModified(DataStates, 198);
			}
			break;
		case 199:
			if (BaseGameDataDomain.IsModified(DataStates, 199))
			{
				BaseGameDataDomain.ResetModified(DataStates, 199);
			}
			break;
		case 200:
			if (BaseGameDataDomain.IsModified(DataStates, 200))
			{
				BaseGameDataDomain.ResetModified(DataStates, 200);
			}
			break;
		case 201:
			if (BaseGameDataDomain.IsModified(DataStates, 201))
			{
				BaseGameDataDomain.ResetModified(DataStates, 201);
				_modificationsCharacterExtraNeiliAllocationProgress.Reset();
			}
			break;
		case 202:
			if (BaseGameDataDomain.IsModified(DataStates, 202))
			{
				BaseGameDataDomain.ResetModified(DataStates, 202);
			}
			break;
		case 203:
			if (BaseGameDataDomain.IsModified(DataStates, 203))
			{
				BaseGameDataDomain.ResetModified(DataStates, 203);
			}
			break;
		case 204:
			if (BaseGameDataDomain.IsModified(DataStates, 204))
			{
				BaseGameDataDomain.ResetModified(DataStates, 204);
				_modificationsLegacyPointTimesDict.Reset();
			}
			break;
		case 205:
			if (BaseGameDataDomain.IsModified(DataStates, 205))
			{
				BaseGameDataDomain.ResetModified(DataStates, 205);
			}
			break;
		case 206:
			if (BaseGameDataDomain.IsModified(DataStates, 206))
			{
				BaseGameDataDomain.ResetModified(DataStates, 206);
			}
			break;
		case 207:
			if (BaseGameDataDomain.IsModified(DataStates, 207))
			{
				BaseGameDataDomain.ResetModified(DataStates, 207);
			}
			break;
		case 208:
			if (BaseGameDataDomain.IsModified(DataStates, 208))
			{
				BaseGameDataDomain.ResetModified(DataStates, 208);
				_modificationsAvailableReadingStrategyMap.Reset();
			}
			break;
		case 209:
			if (BaseGameDataDomain.IsModified(DataStates, 209))
			{
				BaseGameDataDomain.ResetModified(DataStates, 209);
			}
			break;
		case 210:
			if (BaseGameDataDomain.IsModified(DataStates, 210))
			{
				BaseGameDataDomain.ResetModified(DataStates, 210);
				_modificationsAvailableQiArtStrategyMap.Reset();
			}
			break;
		case 211:
			if (BaseGameDataDomain.IsModified(DataStates, 211))
			{
				BaseGameDataDomain.ResetModified(DataStates, 211);
			}
			break;
		case 212:
			if (BaseGameDataDomain.IsModified(DataStates, 212))
			{
				BaseGameDataDomain.ResetModified(DataStates, 212);
				_modificationsQiArtStrategyMap.Reset();
			}
			break;
		case 213:
			if (BaseGameDataDomain.IsModified(DataStates, 213))
			{
				BaseGameDataDomain.ResetModified(DataStates, 213);
				_modificationsQiArtStrategyExpireTimeMap.Reset();
			}
			break;
		case 214:
			if (BaseGameDataDomain.IsModified(DataStates, 214))
			{
				BaseGameDataDomain.ResetModified(DataStates, 214);
			}
			break;
		case 215:
			if (BaseGameDataDomain.IsModified(DataStates, 215))
			{
				BaseGameDataDomain.ResetModified(DataStates, 215);
			}
			break;
		case 216:
			if (BaseGameDataDomain.IsModified(DataStates, 216))
			{
				BaseGameDataDomain.ResetModified(DataStates, 216);
				_modificationsSettlementTreasuryRecordCollections.Reset();
			}
			break;
		case 217:
			if (BaseGameDataDomain.IsModified(DataStates, 217))
			{
				BaseGameDataDomain.ResetModified(DataStates, 217);
				_modificationsMonthlyNotificationSortingGroups.Reset();
			}
			break;
		case 218:
			if (BaseGameDataDomain.IsModified(DataStates, 218))
			{
				BaseGameDataDomain.ResetModified(DataStates, 218);
			}
			break;
		case 219:
			if (BaseGameDataDomain.IsModified(DataStates, 219))
			{
				BaseGameDataDomain.ResetModified(DataStates, 219);
				_modificationsSectEmeiBreakBonusData.Reset();
			}
			break;
		case 220:
			if (BaseGameDataDomain.IsModified(DataStates, 220))
			{
				BaseGameDataDomain.ResetModified(DataStates, 220);
				_modificationsFollowingNickNameMap.Reset();
			}
			break;
		case 221:
			if (BaseGameDataDomain.IsModified(_dataStatesMerchantOverFavorDataArray, (int)subId0))
			{
				BaseGameDataDomain.ResetModified(_dataStatesMerchantOverFavorDataArray, (int)subId0);
			}
			break;
		case 222:
			if (BaseGameDataDomain.IsModified(DataStates, 222))
			{
				BaseGameDataDomain.ResetModified(DataStates, 222);
			}
			break;
		case 223:
			if (BaseGameDataDomain.IsModified(DataStates, 223))
			{
				BaseGameDataDomain.ResetModified(DataStates, 223);
				_modificationsSettlementPrisons.Reset();
			}
			break;
		case 224:
			if (BaseGameDataDomain.IsModified(DataStates, 224))
			{
				BaseGameDataDomain.ResetModified(DataStates, 224);
				_modificationsSectFulongOrgMemberChickens.Reset();
			}
			break;
		case 225:
			if (BaseGameDataDomain.IsModified(DataStates, 225))
			{
				BaseGameDataDomain.ResetModified(DataStates, 225);
			}
			break;
		case 226:
			if (BaseGameDataDomain.IsModified(DataStates, 226))
			{
				BaseGameDataDomain.ResetModified(DataStates, 226);
				_modificationsSectFulongOutLaws.Reset();
			}
			break;
		case 227:
			if (BaseGameDataDomain.IsModified(DataStates, 227))
			{
				BaseGameDataDomain.ResetModified(DataStates, 227);
				_modificationsSettlementPrisonRecordCollections.Reset();
			}
			break;
		case 228:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 229:
			if (BaseGameDataDomain.IsModified(DataStates, 229))
			{
				BaseGameDataDomain.ResetModified(DataStates, 229);
			}
			break;
		case 230:
			if (BaseGameDataDomain.IsModified(DataStates, 230))
			{
				BaseGameDataDomain.ResetModified(DataStates, 230);
			}
			break;
		case 231:
			if (BaseGameDataDomain.IsModified(DataStates, 231))
			{
				BaseGameDataDomain.ResetModified(DataStates, 231);
			}
			break;
		case 232:
			if (BaseGameDataDomain.IsModified(DataStates, 232))
			{
				BaseGameDataDomain.ResetModified(DataStates, 232);
			}
			break;
		case 233:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 234:
			if (BaseGameDataDomain.IsModified(DataStates, 234))
			{
				BaseGameDataDomain.ResetModified(DataStates, 234);
			}
			break;
		case 235:
			if (BaseGameDataDomain.IsModified(DataStates, 235))
			{
				BaseGameDataDomain.ResetModified(DataStates, 235);
			}
			break;
		case 236:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 237:
			if (BaseGameDataDomain.IsModified(DataStates, 237))
			{
				BaseGameDataDomain.ResetModified(DataStates, 237);
				_modificationsVillagerRoleNickNameMap.Reset();
			}
			break;
		case 238:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 239:
			if (BaseGameDataDomain.IsModified(DataStates, 239))
			{
				BaseGameDataDomain.ResetModified(DataStates, 239);
				_modificationsBuildingResourceOutputSettings.Reset();
			}
			break;
		case 240:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 241:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 242:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 243:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 244:
			if (BaseGameDataDomain.IsModified(DataStates, 244))
			{
				BaseGameDataDomain.ResetModified(DataStates, 244);
				_modificationsAreaSpiritualDebt.Reset();
			}
			break;
		case 245:
			if (BaseGameDataDomain.IsModified(DataStates, 245))
			{
				BaseGameDataDomain.ResetModified(DataStates, 245);
				_modificationsTaiwuProfessions.Reset();
			}
			break;
		case 246:
			if (BaseGameDataDomain.IsModified(DataStates, 246))
			{
				BaseGameDataDomain.ResetModified(DataStates, 246);
			}
			break;
		case 247:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 248:
			if (BaseGameDataDomain.IsModified(DataStates, 248))
			{
				BaseGameDataDomain.ResetModified(DataStates, 248);
				_modificationsCricketPlaceExtraData.Reset();
			}
			break;
		case 249:
			if (BaseGameDataDomain.IsModified(_dataStatesBranchMerchantData, (int)subId0))
			{
				BaseGameDataDomain.ResetModified(_dataStatesBranchMerchantData, (int)subId0);
			}
			break;
		case 250:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 251:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 252:
			if (BaseGameDataDomain.IsModified(DataStates, 252))
			{
				BaseGameDataDomain.ResetModified(DataStates, 252);
			}
			break;
		case 253:
			if (BaseGameDataDomain.IsModified(DataStates, 253))
			{
				BaseGameDataDomain.ResetModified(DataStates, 253);
				_modificationsFriendOrFamilyInteractionCooldownDict.Reset();
			}
			break;
		case 254:
			if (BaseGameDataDomain.IsModified(DataStates, 254))
			{
				BaseGameDataDomain.ResetModified(DataStates, 254);
				_modificationsSectZhujianGearMates.Reset();
			}
			break;
		case 255:
			if (BaseGameDataDomain.IsModified(DataStates, 255))
			{
				BaseGameDataDomain.ResetModified(DataStates, 255);
			}
			break;
		case 256:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 257:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 258:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 259:
			if (BaseGameDataDomain.IsModified(DataStates, 259))
			{
				BaseGameDataDomain.ResetModified(DataStates, 259);
			}
			break;
		case 260:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 261:
			if (BaseGameDataDomain.IsModified(DataStates, 261))
			{
				BaseGameDataDomain.ResetModified(DataStates, 261);
				_modificationsCaravanExtraDataDict.Reset();
			}
			break;
		case 262:
			if (BaseGameDataDomain.IsModified(DataStates, 262))
			{
				BaseGameDataDomain.ResetModified(DataStates, 262);
			}
			break;
		case 263:
			if (BaseGameDataDomain.IsModified(DataStates, 263))
			{
				BaseGameDataDomain.ResetModified(DataStates, 263);
				_modificationsSectZhujianAreaMerchantTypeDict.Reset();
			}
			break;
		case 264:
			if (BaseGameDataDomain.IsModified(DataStates, 264))
			{
				BaseGameDataDomain.ResetModified(DataStates, 264);
				_modificationsMerchantExtraGoods.Reset();
			}
			break;
		case 265:
			if (BaseGameDataDomain.IsModified(DataStates, 265))
			{
				BaseGameDataDomain.ResetModified(DataStates, 265);
			}
			break;
		case 266:
			if (BaseGameDataDomain.IsModified(DataStates, 266))
			{
				BaseGameDataDomain.ResetModified(DataStates, 266);
			}
			break;
		case 267:
			if (BaseGameDataDomain.IsModified(DataStates, 267))
			{
				BaseGameDataDomain.ResetModified(DataStates, 267);
			}
			break;
		case 268:
			if (BaseGameDataDomain.IsModified(DataStates, 268))
			{
				BaseGameDataDomain.ResetModified(DataStates, 268);
			}
			break;
		case 269:
			if (BaseGameDataDomain.IsModified(DataStates, 269))
			{
				BaseGameDataDomain.ResetModified(DataStates, 269);
			}
			break;
		case 270:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 271:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 272:
			if (BaseGameDataDomain.IsModified(DataStates, 272))
			{
				BaseGameDataDomain.ResetModified(DataStates, 272);
				_modificationsCharacterAvatarExtraDataDict.Reset();
			}
			break;
		case 273:
			if (BaseGameDataDomain.IsModified(DataStates, 273))
			{
				BaseGameDataDomain.ResetModified(DataStates, 273);
			}
			break;
		case 274:
			if (BaseGameDataDomain.IsModified(DataStates, 274))
			{
				BaseGameDataDomain.ResetModified(DataStates, 274);
				_modificationsCityPunishmentSeverityCustomizeDict.Reset();
			}
			break;
		case 275:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 276:
			if (BaseGameDataDomain.IsModified(DataStates, 276))
			{
				BaseGameDataDomain.ResetModified(DataStates, 276);
				_modificationsCombatSkillProficiencies.Reset();
			}
			break;
		case 277:
			if (BaseGameDataDomain.IsModified(DataStates, 277))
			{
				BaseGameDataDomain.ResetModified(DataStates, 277);
				_modificationsSkillBreakPlates.Reset();
			}
			break;
		case 278:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 279:
			if (BaseGameDataDomain.IsModified(DataStates, 279))
			{
				BaseGameDataDomain.ResetModified(DataStates, 279);
			}
			break;
		case 280:
			if (BaseGameDataDomain.IsModified(DataStates, 280))
			{
				BaseGameDataDomain.ResetModified(DataStates, 280);
			}
			break;
		case 281:
			if (BaseGameDataDomain.IsModified(DataStates, 281))
			{
				BaseGameDataDomain.ResetModified(DataStates, 281);
				_modificationsPickupDict.Reset();
			}
			break;
		case 282:
			if (BaseGameDataDomain.IsModified(DataStates, 282))
			{
				BaseGameDataDomain.ResetModified(DataStates, 282);
			}
			break;
		case 283:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 284:
			if (BaseGameDataDomain.IsModified(DataStates, 284))
			{
				BaseGameDataDomain.ResetModified(DataStates, 284);
				_modificationsBuildingBlockDataEx.Reset();
			}
			break;
		case 285:
			if (BaseGameDataDomain.IsModified(DataStates, 285))
			{
				BaseGameDataDomain.ResetModified(DataStates, 285);
				_modificationsVillagerRoleAutoActionStates.Reset();
			}
			break;
		case 286:
			if (BaseGameDataDomain.IsModified(DataStates, 286))
			{
				BaseGameDataDomain.ResetModified(DataStates, 286);
			}
			break;
		case 287:
			if (BaseGameDataDomain.IsModified(DataStates, 287))
			{
				BaseGameDataDomain.ResetModified(DataStates, 287);
				_modificationsBuildingArtisanOrders.Reset();
			}
			break;
		case 288:
			if (BaseGameDataDomain.IsModified(DataStates, 288))
			{
				BaseGameDataDomain.ResetModified(DataStates, 288);
				_modificationsTaiwuVillagerPotentialData.Reset();
			}
			break;
		case 289:
			if (BaseGameDataDomain.IsModified(DataStates, 289))
			{
				BaseGameDataDomain.ResetModified(DataStates, 289);
				_modificationsNpcArtisanOrders.Reset();
			}
			break;
		case 290:
			if (BaseGameDataDomain.IsModified(DataStates, 290))
			{
				BaseGameDataDomain.ResetModified(DataStates, 290);
				_modificationsShopVillagerQualificationImprove.Reset();
			}
			break;
		case 291:
			if (BaseGameDataDomain.IsModified(DataStates, 291))
			{
				BaseGameDataDomain.ResetModified(DataStates, 291);
				_modificationsBigEvents.Reset();
			}
			break;
		case 292:
			if (BaseGameDataDomain.IsModified(DataStates, 292))
			{
				BaseGameDataDomain.ResetModified(DataStates, 292);
			}
			break;
		case 293:
			if (BaseGameDataDomain.IsModified(DataStates, 293))
			{
				BaseGameDataDomain.ResetModified(DataStates, 293);
			}
			break;
		case 294:
			if (BaseGameDataDomain.IsModified(DataStates, 294))
			{
				BaseGameDataDomain.ResetModified(DataStates, 294);
			}
			break;
		case 295:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 296:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 297:
			if (BaseGameDataDomain.IsModified(DataStates, 297))
			{
				BaseGameDataDomain.ResetModified(DataStates, 297);
				_modificationsVillagerSkillLegacyPointDict.Reset();
			}
			break;
		case 298:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 299:
			if (BaseGameDataDomain.IsModified(DataStates, 299))
			{
				BaseGameDataDomain.ResetModified(DataStates, 299);
				_modificationsDyingCharacters.Reset();
			}
			break;
		case 300:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 301:
			if (BaseGameDataDomain.IsModified(DataStates, 301))
			{
				BaseGameDataDomain.ResetModified(DataStates, 301);
			}
			break;
		case 302:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 303:
			if (BaseGameDataDomain.IsModified(DataStates, 303))
			{
				BaseGameDataDomain.ResetModified(DataStates, 303);
				_modificationsResourceBlockExtraData.Reset();
			}
			break;
		case 304:
			if (BaseGameDataDomain.IsModified(DataStates, 304))
			{
				BaseGameDataDomain.ResetModified(DataStates, 304);
			}
			break;
		case 305:
			if (BaseGameDataDomain.IsModified(DataStates, 305))
			{
				BaseGameDataDomain.ResetModified(DataStates, 305);
				_modificationsFeasts.Reset();
			}
			break;
		case 306:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 307:
			if (BaseGameDataDomain.IsModified(DataStates, 307))
			{
				BaseGameDataDomain.ResetModified(DataStates, 307);
				_modificationsSettlementLayeredTreasuries.Reset();
			}
			break;
		case 308:
			if (BaseGameDataDomain.IsModified(DataStates, 308))
			{
				BaseGameDataDomain.ResetModified(DataStates, 308);
			}
			break;
		case 309:
			if (BaseGameDataDomain.IsModified(DataStates, 309))
			{
				BaseGameDataDomain.ResetModified(DataStates, 309);
				_modificationsTaiwuVillageVowOrgTemplateCrossArchiveDict.Reset();
			}
			break;
		case 310:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 311:
			throw new Exception($"Not allow to reset modification state of dataId {dataId}");
		case 312:
			if (BaseGameDataDomain.IsModified(DataStates, 312))
			{
				BaseGameDataDomain.ResetModified(DataStates, 312);
				_modificationsCharacterDarkAshCounterData.Reset();
			}
			break;
		case 313:
			if (BaseGameDataDomain.IsModified(DataStates, 313))
			{
				BaseGameDataDomain.ResetModified(DataStates, 313);
			}
			break;
		default:
			throw new Exception($"Unsupported dataId {dataId}");
		}
	}

	public override bool IsModifiedWrapper(ushort dataId, ulong subId0, uint subId1)
	{
		return dataId switch
		{
			0 => BaseGameDataDomain.IsModified(DataStates, 0), 
			1 => BaseGameDataDomain.IsModified(DataStates, 1), 
			2 => BaseGameDataDomain.IsModified(DataStates, 2), 
			3 => BaseGameDataDomain.IsModified(DataStates, 3), 
			4 => BaseGameDataDomain.IsModified(DataStates, 4), 
			5 => BaseGameDataDomain.IsModified(DataStates, 5), 
			6 => BaseGameDataDomain.IsModified(DataStates, 6), 
			7 => BaseGameDataDomain.IsModified(DataStates, 7), 
			8 => BaseGameDataDomain.IsModified(DataStates, 8), 
			9 => BaseGameDataDomain.IsModified(DataStates, 9), 
			10 => BaseGameDataDomain.IsModified(DataStates, 10), 
			11 => BaseGameDataDomain.IsModified(DataStates, 11), 
			12 => BaseGameDataDomain.IsModified(DataStates, 12), 
			13 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			14 => BaseGameDataDomain.IsModified(DataStates, 14), 
			15 => BaseGameDataDomain.IsModified(DataStates, 15), 
			16 => BaseGameDataDomain.IsModified(DataStates, 16), 
			17 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			18 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			19 => BaseGameDataDomain.IsModified(DataStates, 19), 
			20 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			21 => BaseGameDataDomain.IsModified(DataStates, 21), 
			22 => BaseGameDataDomain.IsModified(DataStates, 22), 
			23 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			24 => BaseGameDataDomain.IsModified(DataStates, 24), 
			25 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			26 => BaseGameDataDomain.IsModified(DataStates, 26), 
			27 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			28 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			29 => BaseGameDataDomain.IsModified(DataStates, 29), 
			30 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			31 => BaseGameDataDomain.IsModified(DataStates, 31), 
			32 => BaseGameDataDomain.IsModified(DataStates, 32), 
			33 => BaseGameDataDomain.IsModified(DataStates, 33), 
			34 => BaseGameDataDomain.IsModified(DataStates, 34), 
			35 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			36 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			37 => BaseGameDataDomain.IsModified(DataStates, 37), 
			38 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			39 => BaseGameDataDomain.IsModified(DataStates, 39), 
			40 => BaseGameDataDomain.IsModified(DataStates, 40), 
			41 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			42 => BaseGameDataDomain.IsModified(DataStates, 42), 
			43 => BaseGameDataDomain.IsModified(DataStates, 43), 
			44 => BaseGameDataDomain.IsModified(DataStates, 44), 
			45 => BaseGameDataDomain.IsModified(DataStates, 45), 
			46 => BaseGameDataDomain.IsModified(DataStates, 46), 
			47 => BaseGameDataDomain.IsModified(DataStates, 47), 
			48 => BaseGameDataDomain.IsModified(DataStates, 48), 
			49 => BaseGameDataDomain.IsModified(DataStates, 49), 
			50 => BaseGameDataDomain.IsModified(DataStates, 50), 
			51 => BaseGameDataDomain.IsModified(DataStates, 51), 
			52 => BaseGameDataDomain.IsModified(DataStates, 52), 
			53 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			54 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			55 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			56 => BaseGameDataDomain.IsModified(DataStates, 56), 
			57 => BaseGameDataDomain.IsModified(DataStates, 57), 
			58 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			59 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			60 => BaseGameDataDomain.IsModified(DataStates, 60), 
			61 => BaseGameDataDomain.IsModified(DataStates, 61), 
			62 => BaseGameDataDomain.IsModified(DataStates, 62), 
			63 => BaseGameDataDomain.IsModified(DataStates, 63), 
			64 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			65 => BaseGameDataDomain.IsModified(DataStates, 65), 
			66 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			67 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			68 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			69 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			70 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			71 => BaseGameDataDomain.IsModified(_dataStatesAnimalAreaData, (int)subId0), 
			72 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			73 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			74 => BaseGameDataDomain.IsModified(DataStates, 74), 
			75 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			76 => BaseGameDataDomain.IsModified(DataStates, 76), 
			77 => BaseGameDataDomain.IsModified(DataStates, 77), 
			78 => BaseGameDataDomain.IsModified(DataStates, 78), 
			79 => BaseGameDataDomain.IsModified(DataStates, 79), 
			80 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			81 => BaseGameDataDomain.IsModified(_dataStatesBrokenAreaMaterials, (int)subId0), 
			82 => BaseGameDataDomain.IsModified(DataStates, 82), 
			83 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			84 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			85 => BaseGameDataDomain.IsModified(DataStates, 85), 
			86 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			87 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			88 => BaseGameDataDomain.IsModified(DataStates, 88), 
			89 => BaseGameDataDomain.IsModified(DataStates, 89), 
			90 => BaseGameDataDomain.IsModified(DataStates, 90), 
			91 => BaseGameDataDomain.IsModified(DataStates, 91), 
			92 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			93 => BaseGameDataDomain.IsModified(DataStates, 93), 
			94 => BaseGameDataDomain.IsModified(DataStates, 94), 
			95 => BaseGameDataDomain.IsModified(DataStates, 95), 
			96 => BaseGameDataDomain.IsModified(DataStates, 96), 
			97 => BaseGameDataDomain.IsModified(DataStates, 97), 
			98 => BaseGameDataDomain.IsModified(_dataStatesMerchantMaxLevelBuyBackData, (int)subId0), 
			99 => BaseGameDataDomain.IsModified(DataStates, 99), 
			100 => BaseGameDataDomain.IsModified(DataStates, 100), 
			101 => BaseGameDataDomain.IsModified(DataStates, 101), 
			102 => BaseGameDataDomain.IsModified(DataStates, 102), 
			103 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			104 => BaseGameDataDomain.IsModified(DataStates, 104), 
			105 => BaseGameDataDomain.IsModified(DataStates, 105), 
			106 => BaseGameDataDomain.IsModified(DataStates, 106), 
			107 => BaseGameDataDomain.IsModified(DataStates, 107), 
			108 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			109 => BaseGameDataDomain.IsModified(DataStates, 109), 
			110 => BaseGameDataDomain.IsModified(DataStates, 110), 
			111 => BaseGameDataDomain.IsModified(DataStates, 111), 
			112 => BaseGameDataDomain.IsModified(DataStates, 112), 
			113 => BaseGameDataDomain.IsModified(DataStates, 113), 
			114 => BaseGameDataDomain.IsModified(DataStates, 114), 
			115 => BaseGameDataDomain.IsModified(DataStates, 115), 
			116 => BaseGameDataDomain.IsModified(DataStates, 116), 
			117 => BaseGameDataDomain.IsModified(DataStates, 117), 
			118 => BaseGameDataDomain.IsModified(DataStates, 118), 
			119 => BaseGameDataDomain.IsModified(DataStates, 119), 
			120 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			121 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			122 => BaseGameDataDomain.IsModified(DataStates, 122), 
			123 => BaseGameDataDomain.IsModified(DataStates, 123), 
			124 => BaseGameDataDomain.IsModified(DataStates, 124), 
			125 => BaseGameDataDomain.IsModified(DataStates, 125), 
			126 => BaseGameDataDomain.IsModified(DataStates, 126), 
			127 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			128 => BaseGameDataDomain.IsModified(DataStates, 128), 
			129 => BaseGameDataDomain.IsModified(DataStates, 129), 
			130 => BaseGameDataDomain.IsModified(DataStates, 130), 
			131 => BaseGameDataDomain.IsModified(DataStates, 131), 
			132 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			133 => BaseGameDataDomain.IsModified(DataStates, 133), 
			134 => BaseGameDataDomain.IsModified(DataStates, 134), 
			135 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			136 => BaseGameDataDomain.IsModified(DataStates, 136), 
			137 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			138 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			139 => BaseGameDataDomain.IsModified(DataStates, 139), 
			140 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			141 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			142 => BaseGameDataDomain.IsModified(DataStates, 142), 
			143 => BaseGameDataDomain.IsModified(DataStates, 143), 
			144 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			145 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			146 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			147 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			148 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			149 => BaseGameDataDomain.IsModified(DataStates, 149), 
			150 => BaseGameDataDomain.IsModified(DataStates, 150), 
			151 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			152 => BaseGameDataDomain.IsModified(DataStates, 152), 
			153 => BaseGameDataDomain.IsModified(DataStates, 153), 
			154 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			155 => BaseGameDataDomain.IsModified(DataStates, 155), 
			156 => BaseGameDataDomain.IsModified(DataStates, 156), 
			157 => BaseGameDataDomain.IsModified(DataStates, 157), 
			158 => BaseGameDataDomain.IsModified(DataStates, 158), 
			159 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			160 => BaseGameDataDomain.IsModified(DataStates, 160), 
			161 => BaseGameDataDomain.IsModified(DataStates, 161), 
			162 => BaseGameDataDomain.IsModified(DataStates, 162), 
			163 => BaseGameDataDomain.IsModified(DataStates, 163), 
			164 => BaseGameDataDomain.IsModified(DataStates, 164), 
			165 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			166 => BaseGameDataDomain.IsModified(DataStates, 166), 
			167 => BaseGameDataDomain.IsModified(DataStates, 167), 
			168 => BaseGameDataDomain.IsModified(DataStates, 168), 
			169 => BaseGameDataDomain.IsModified(DataStates, 169), 
			170 => BaseGameDataDomain.IsModified(DataStates, 170), 
			171 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			172 => BaseGameDataDomain.IsModified(DataStates, 172), 
			173 => BaseGameDataDomain.IsModified(DataStates, 173), 
			174 => BaseGameDataDomain.IsModified(DataStates, 174), 
			175 => BaseGameDataDomain.IsModified(DataStates, 175), 
			176 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			177 => BaseGameDataDomain.IsModified(DataStates, 177), 
			178 => BaseGameDataDomain.IsModified(DataStates, 178), 
			179 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			180 => BaseGameDataDomain.IsModified(DataStates, 180), 
			181 => BaseGameDataDomain.IsModified(DataStates, 181), 
			182 => BaseGameDataDomain.IsModified(DataStates, 182), 
			183 => BaseGameDataDomain.IsModified(DataStates, 183), 
			184 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			185 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			186 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			187 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			188 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			189 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			190 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			191 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			192 => BaseGameDataDomain.IsModified(DataStates, 192), 
			193 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			194 => BaseGameDataDomain.IsModified(DataStates, 194), 
			195 => BaseGameDataDomain.IsModified(DataStates, 195), 
			196 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			197 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			198 => BaseGameDataDomain.IsModified(DataStates, 198), 
			199 => BaseGameDataDomain.IsModified(DataStates, 199), 
			200 => BaseGameDataDomain.IsModified(DataStates, 200), 
			201 => BaseGameDataDomain.IsModified(DataStates, 201), 
			202 => BaseGameDataDomain.IsModified(DataStates, 202), 
			203 => BaseGameDataDomain.IsModified(DataStates, 203), 
			204 => BaseGameDataDomain.IsModified(DataStates, 204), 
			205 => BaseGameDataDomain.IsModified(DataStates, 205), 
			206 => BaseGameDataDomain.IsModified(DataStates, 206), 
			207 => BaseGameDataDomain.IsModified(DataStates, 207), 
			208 => BaseGameDataDomain.IsModified(DataStates, 208), 
			209 => BaseGameDataDomain.IsModified(DataStates, 209), 
			210 => BaseGameDataDomain.IsModified(DataStates, 210), 
			211 => BaseGameDataDomain.IsModified(DataStates, 211), 
			212 => BaseGameDataDomain.IsModified(DataStates, 212), 
			213 => BaseGameDataDomain.IsModified(DataStates, 213), 
			214 => BaseGameDataDomain.IsModified(DataStates, 214), 
			215 => BaseGameDataDomain.IsModified(DataStates, 215), 
			216 => BaseGameDataDomain.IsModified(DataStates, 216), 
			217 => BaseGameDataDomain.IsModified(DataStates, 217), 
			218 => BaseGameDataDomain.IsModified(DataStates, 218), 
			219 => BaseGameDataDomain.IsModified(DataStates, 219), 
			220 => BaseGameDataDomain.IsModified(DataStates, 220), 
			221 => BaseGameDataDomain.IsModified(_dataStatesMerchantOverFavorDataArray, (int)subId0), 
			222 => BaseGameDataDomain.IsModified(DataStates, 222), 
			223 => BaseGameDataDomain.IsModified(DataStates, 223), 
			224 => BaseGameDataDomain.IsModified(DataStates, 224), 
			225 => BaseGameDataDomain.IsModified(DataStates, 225), 
			226 => BaseGameDataDomain.IsModified(DataStates, 226), 
			227 => BaseGameDataDomain.IsModified(DataStates, 227), 
			228 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			229 => BaseGameDataDomain.IsModified(DataStates, 229), 
			230 => BaseGameDataDomain.IsModified(DataStates, 230), 
			231 => BaseGameDataDomain.IsModified(DataStates, 231), 
			232 => BaseGameDataDomain.IsModified(DataStates, 232), 
			233 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			234 => BaseGameDataDomain.IsModified(DataStates, 234), 
			235 => BaseGameDataDomain.IsModified(DataStates, 235), 
			236 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			237 => BaseGameDataDomain.IsModified(DataStates, 237), 
			238 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			239 => BaseGameDataDomain.IsModified(DataStates, 239), 
			240 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			241 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			242 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			243 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			244 => BaseGameDataDomain.IsModified(DataStates, 244), 
			245 => BaseGameDataDomain.IsModified(DataStates, 245), 
			246 => BaseGameDataDomain.IsModified(DataStates, 246), 
			247 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			248 => BaseGameDataDomain.IsModified(DataStates, 248), 
			249 => BaseGameDataDomain.IsModified(_dataStatesBranchMerchantData, (int)subId0), 
			250 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			251 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			252 => BaseGameDataDomain.IsModified(DataStates, 252), 
			253 => BaseGameDataDomain.IsModified(DataStates, 253), 
			254 => BaseGameDataDomain.IsModified(DataStates, 254), 
			255 => BaseGameDataDomain.IsModified(DataStates, 255), 
			256 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			257 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			258 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			259 => BaseGameDataDomain.IsModified(DataStates, 259), 
			260 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			261 => BaseGameDataDomain.IsModified(DataStates, 261), 
			262 => BaseGameDataDomain.IsModified(DataStates, 262), 
			263 => BaseGameDataDomain.IsModified(DataStates, 263), 
			264 => BaseGameDataDomain.IsModified(DataStates, 264), 
			265 => BaseGameDataDomain.IsModified(DataStates, 265), 
			266 => BaseGameDataDomain.IsModified(DataStates, 266), 
			267 => BaseGameDataDomain.IsModified(DataStates, 267), 
			268 => BaseGameDataDomain.IsModified(DataStates, 268), 
			269 => BaseGameDataDomain.IsModified(DataStates, 269), 
			270 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			271 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			272 => BaseGameDataDomain.IsModified(DataStates, 272), 
			273 => BaseGameDataDomain.IsModified(DataStates, 273), 
			274 => BaseGameDataDomain.IsModified(DataStates, 274), 
			275 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			276 => BaseGameDataDomain.IsModified(DataStates, 276), 
			277 => BaseGameDataDomain.IsModified(DataStates, 277), 
			278 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			279 => BaseGameDataDomain.IsModified(DataStates, 279), 
			280 => BaseGameDataDomain.IsModified(DataStates, 280), 
			281 => BaseGameDataDomain.IsModified(DataStates, 281), 
			282 => BaseGameDataDomain.IsModified(DataStates, 282), 
			283 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			284 => BaseGameDataDomain.IsModified(DataStates, 284), 
			285 => BaseGameDataDomain.IsModified(DataStates, 285), 
			286 => BaseGameDataDomain.IsModified(DataStates, 286), 
			287 => BaseGameDataDomain.IsModified(DataStates, 287), 
			288 => BaseGameDataDomain.IsModified(DataStates, 288), 
			289 => BaseGameDataDomain.IsModified(DataStates, 289), 
			290 => BaseGameDataDomain.IsModified(DataStates, 290), 
			291 => BaseGameDataDomain.IsModified(DataStates, 291), 
			292 => BaseGameDataDomain.IsModified(DataStates, 292), 
			293 => BaseGameDataDomain.IsModified(DataStates, 293), 
			294 => BaseGameDataDomain.IsModified(DataStates, 294), 
			295 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			296 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			297 => BaseGameDataDomain.IsModified(DataStates, 297), 
			298 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			299 => BaseGameDataDomain.IsModified(DataStates, 299), 
			300 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			301 => BaseGameDataDomain.IsModified(DataStates, 301), 
			302 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			303 => BaseGameDataDomain.IsModified(DataStates, 303), 
			304 => BaseGameDataDomain.IsModified(DataStates, 304), 
			305 => BaseGameDataDomain.IsModified(DataStates, 305), 
			306 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			307 => BaseGameDataDomain.IsModified(DataStates, 307), 
			308 => BaseGameDataDomain.IsModified(DataStates, 308), 
			309 => BaseGameDataDomain.IsModified(DataStates, 309), 
			310 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			311 => throw new Exception($"Not allow to verify modification state of dataId {dataId}"), 
			312 => BaseGameDataDomain.IsModified(DataStates, 312), 
			313 => BaseGameDataDomain.IsModified(DataStates, 313), 
			_ => throw new Exception($"Unsupported dataId {dataId}"), 
		};
	}

	public override void InvalidateCache(BaseGameDataObject sourceObject, DataInfluence influence, DataContext context, bool unconditionallyInfluenceAll)
	{
		switch (influence.TargetIndicator.DataId)
		{
		default:
			throw new Exception($"Unsupported dataId {influence.TargetIndicator.DataId}");
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
		case 16:
		case 17:
		case 18:
		case 19:
		case 20:
		case 21:
		case 22:
		case 23:
		case 24:
		case 25:
		case 26:
		case 27:
		case 28:
		case 29:
		case 30:
		case 31:
		case 32:
		case 33:
		case 34:
		case 35:
		case 36:
		case 37:
		case 38:
		case 39:
		case 40:
		case 41:
		case 42:
		case 43:
		case 44:
		case 45:
		case 46:
		case 47:
		case 48:
		case 49:
		case 50:
		case 51:
		case 52:
		case 53:
		case 54:
		case 55:
		case 56:
		case 57:
		case 58:
		case 59:
		case 60:
		case 61:
		case 62:
		case 63:
		case 64:
		case 65:
		case 66:
		case 67:
		case 68:
		case 69:
		case 70:
		case 71:
		case 72:
		case 73:
		case 74:
		case 75:
		case 76:
		case 77:
		case 78:
		case 79:
		case 80:
		case 81:
		case 82:
		case 83:
		case 84:
		case 85:
		case 86:
		case 87:
		case 88:
		case 89:
		case 90:
		case 91:
		case 92:
		case 93:
		case 94:
		case 95:
		case 96:
		case 97:
		case 98:
		case 99:
		case 100:
		case 101:
		case 102:
		case 103:
		case 104:
		case 105:
		case 106:
		case 107:
		case 108:
		case 109:
		case 110:
		case 111:
		case 112:
		case 113:
		case 114:
		case 115:
		case 116:
		case 117:
		case 118:
		case 119:
		case 120:
		case 121:
		case 122:
		case 123:
		case 124:
		case 125:
		case 126:
		case 127:
		case 128:
		case 129:
		case 130:
		case 131:
		case 132:
		case 133:
		case 134:
		case 135:
		case 136:
		case 137:
		case 138:
		case 139:
		case 140:
		case 141:
		case 142:
		case 143:
		case 144:
		case 145:
		case 146:
		case 147:
		case 148:
		case 149:
		case 150:
		case 151:
		case 152:
		case 153:
		case 154:
		case 155:
		case 156:
		case 157:
		case 158:
		case 159:
		case 160:
		case 161:
		case 162:
		case 163:
		case 164:
		case 165:
		case 166:
		case 167:
		case 168:
		case 169:
		case 170:
		case 171:
		case 172:
		case 173:
		case 174:
		case 175:
		case 176:
		case 177:
		case 178:
		case 179:
		case 180:
		case 181:
		case 182:
		case 183:
		case 184:
		case 185:
		case 186:
		case 187:
		case 188:
		case 189:
		case 190:
		case 191:
		case 192:
		case 193:
		case 194:
		case 195:
		case 196:
		case 197:
		case 198:
		case 199:
		case 200:
		case 201:
		case 202:
		case 203:
		case 204:
		case 205:
		case 206:
		case 207:
		case 208:
		case 209:
		case 210:
		case 211:
		case 212:
		case 213:
		case 214:
		case 215:
		case 216:
		case 217:
		case 218:
		case 219:
		case 220:
		case 221:
		case 222:
		case 223:
		case 224:
		case 225:
		case 226:
		case 227:
		case 228:
		case 229:
		case 230:
		case 231:
		case 232:
		case 233:
		case 234:
		case 235:
		case 236:
		case 237:
		case 238:
		case 239:
		case 240:
		case 241:
		case 242:
		case 243:
		case 244:
		case 245:
		case 246:
		case 247:
		case 248:
		case 249:
		case 250:
		case 251:
		case 252:
		case 253:
		case 254:
		case 255:
		case 256:
		case 257:
		case 258:
		case 259:
		case 260:
		case 261:
		case 262:
		case 263:
		case 264:
		case 265:
		case 266:
		case 267:
		case 268:
		case 269:
		case 270:
		case 271:
		case 272:
		case 273:
		case 274:
		case 275:
		case 276:
		case 277:
		case 278:
		case 279:
		case 280:
		case 281:
		case 282:
		case 283:
		case 284:
		case 285:
		case 286:
		case 287:
		case 288:
		case 289:
		case 290:
		case 291:
		case 292:
		case 293:
		case 294:
		case 295:
		case 296:
		case 297:
		case 298:
		case 299:
		case 300:
		case 301:
		case 302:
		case 303:
		case 304:
		case 305:
		case 306:
		case 307:
		case 308:
		case 309:
		case 310:
		case 311:
		case 312:
		case 313:
			throw new Exception($"Cannot invalidate cache state of non-cache data {influence.TargetIndicator.DataId}");
		}
	}

	public unsafe override void ProcessArchiveResponse(OperationWrapper operation, byte* pResult)
	{
		uint num;
		switch (operation.DataId)
		{
		case 0:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _characterSecretInformationUsedCounts);
			goto IL_1c90;
		case 1:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, Location>(operation, pResult, (IDictionary<int, Location>)_secretInformationOccurredLocations, 4);
			goto IL_1c90;
		case 2:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, VoidValue>(operation, pResult, (IDictionary<int, VoidValue>)_secretInformationBroadcastList, 0);
			goto IL_1c90;
		case 3:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _exchangedSpecialWeaponList);
			goto IL_1c90;
		case 4:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _caravanStayDays);
			goto IL_1c90;
		case 5:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _merchantCharToType);
			goto IL_1c90;
		case 6:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _merchantCharToExtraGoods);
			goto IL_1c90;
		case 7:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _stationInited);
			goto IL_1c90;
		case 8:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Value_Single<CharacterSet>(operation, pResult, ref _manualChangeEquipGroupCharIds);
			goto IL_1c90;
		case 9:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _stoneRoomCharList);
			goto IL_1c90;
		case 10:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, SByteList>(operation, pResult, (IDictionary<int, SByteList>)_hideSkeletonEquipSlots);
			goto IL_1c90;
		case 11:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, GameData.Utilities.ShortList>(operation, pResult, (IDictionary<int, GameData.Utilities.ShortList>)_combatSkillOrderPlans);
			goto IL_1c90;
		case 12:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<Location, VoidValue>(operation, pResult, (IDictionary<Location, VoidValue>)_locationMarkHashSet, 0);
			goto IL_1c90;
		case 13:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _taiwuExtraBonuses);
			goto IL_1c90;
		case 14:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _autoWorkBlockIndexList);
			goto IL_1c90;
		case 15:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _autoSoldBlockIndexList);
			goto IL_1c90;
		case 16:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _secretInformationBroadcastNotifyList);
			goto IL_1c90;
		case 17:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _treasuryItems);
			goto IL_1c90;
		case 18:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _troughItems);
			goto IL_1c90;
		case 19:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _xiangshuIdInKungfuPracticeRoom);
			goto IL_1c90;
		case 20:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _removedSpecialRelations);
			goto IL_1c90;
		case 21:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _shopArrangeResultFirstList);
			goto IL_1c90;
		case 22:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _autoExpandBlockIndexList);
			goto IL_1c90;
		case 23:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _worldCharacterExtraTitles);
			goto IL_1c90;
		case 24:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _readingEventBookIdList);
			goto IL_1c90;
		case 25:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<short, IntPair>(operation, pResult, (IDictionary<short, IntPair>)_clearedSkillPlateStepInfo, 8);
			goto IL_1c90;
		case 26:
			ResponseProcessor.ProcessBinary(operation, pResult, (IBinary)(object)_travelingEventCollection);
			goto IL_1c90;
		case 27:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _dlcArgBox);
			goto IL_1c90;
		case 28:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _prevTriggeredTravelingEvents);
			goto IL_1c90;
		case 29:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<ItemKey>(operation, pResult, _gainsInTravel, 8);
			goto IL_1c90;
		case 30:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<MaxApprovingRateTempBonus>(operation, pResult, _maxApprovingRateTemporaryBonus, 8);
			goto IL_1c90;
		case 31:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<sbyte, LifeSkillCombatCardCollection>(operation, pResult, (IDictionary<sbyte, LifeSkillCombatCardCollection>)_lifeSkillCombatCardDict);
			goto IL_1c90;
		case 32:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<sbyte, LifeSkillCombatCardCollection>(operation, pResult, (IDictionary<sbyte, LifeSkillCombatCardCollection>)_lifeSkillCombatUsedCardDict);
			goto IL_1c90;
		case 33:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, LifeSkillCombatReadBookPageData>(operation, pResult, (IDictionary<short, LifeSkillCombatReadBookPageData>)_lifeSkillCombatReadBookPageDict);
			goto IL_1c90;
		case 34:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<sbyte, LifeSkillCombatCardCollection>(operation, pResult, (IDictionary<sbyte, LifeSkillCombatCardCollection>)_lifeSkillCombatNewCardDict);
			goto IL_1c90;
		case 35:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _characterAiActionRestrictions);
			goto IL_1c90;
		case 36:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _extraExternalRelationStates);
			goto IL_1c90;
		case 37:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _secretInformationBroadcastNotifyExtraList);
			goto IL_1c90;
		case 38:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, SByteList>(operation, pResult, (IDictionary<int, SByteList>)_charTeammateCommandDict);
			goto IL_1c90;
		case 39:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _nicknameDict);
			goto IL_1c90;
		case 40:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _legendaryBookBreakPlateCounts);
			goto IL_1c90;
		case 41:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<sbyte, CharacterSet>(operation, pResult, (IDictionary<sbyte, CharacterSet>)_contestForLegendaryBookChars);
			goto IL_1c90;
		case 42:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<sbyte, ItemKey>(operation, pResult, (IDictionary<sbyte, ItemKey>)_legendaryBookWeaponSlot, 8);
			goto IL_1c90;
		case 43:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _legendaryBookWeaponEffectId);
			goto IL_1c90;
		case 44:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<sbyte, GameData.Utilities.ShortList>(operation, pResult, (IDictionary<sbyte, GameData.Utilities.ShortList>)_legendaryBookSkillSlot);
			goto IL_1c90;
		case 45:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<sbyte, LongList>(operation, pResult, (IDictionary<sbyte, LongList>)_legendaryBookSkillEffectId);
			goto IL_1c90;
		case 46:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Value_Single<SByteList>(operation, pResult, ref _legendaryBookBonusCountYin);
			goto IL_1c90;
		case 47:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Value_Single<SByteList>(operation, pResult, ref _legendaryBookBonusCountYang);
			goto IL_1c90;
		case 48:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<sbyte, IntPair>(operation, pResult, (IDictionary<sbyte, IntPair>)_prevLegendaryBookOwnerCopies, 8);
			goto IL_1c90;
		case 49:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _legendaryBookShockedMonths);
			goto IL_1c90;
		case 50:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, IntList>(operation, pResult, (IDictionary<short, IntList>)_combatSkillBreakPlateLastClearTimeList);
			goto IL_1c90;
		case 51:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _combatSkillCurrBreakPlateIndex);
			goto IL_1c90;
		case 52:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, SkillBreakPlateObsoleteList>(operation, pResult, (IDictionary<short, SkillBreakPlateObsoleteList>)_combatSkillBreakPlateObsoleteList);
			goto IL_1c90;
		case 53:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Value_Single<CharacterSet>(operation, pResult, ref _legendaryBookConsumedCharIds);
			goto IL_1c90;
		case 54:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _characterAiActionCooldowns);
			goto IL_1c90;
		case 55:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _characterTemporaryFeatures);
			goto IL_1c90;
		case 56:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<TaskData>(operation, pResult, _extraTriggeredTasks, 12);
			goto IL_1c90;
		case 57:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _taskSortingOrder);
			goto IL_1c90;
		case 58:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Value_Single<CharacterSet>(operation, pResult, ref _legendaryBookHiddenCharIds);
			goto IL_1c90;
		case 59:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _characterAiActionSuccessRateAdjusts);
			goto IL_1c90;
		case 60:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _loveDataDict);
			goto IL_1c90;
		case 61:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, VoidValue>(operation, pResult, (IDictionary<int, VoidValue>)_previousLoverSet, 0);
			goto IL_1c90;
		case 62:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, VoidValue>(operation, pResult, (IDictionary<int, VoidValue>)_confessLoveFailedSet, 0);
			goto IL_1c90;
		case 63:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Ref(operation, pResult, _loveTokenDataDict, 20);
			goto IL_1c90;
		case 64:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _obsoleteTaiwuProfessions);
			goto IL_1c90;
		case 65:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _taiwuCurrProfessionId);
			goto IL_1c90;
		case 66:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, VoidValue>(operation, pResult, (IDictionary<int, VoidValue>)_savedSouls, 0);
			goto IL_1c90;
		case 67:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _cricketIsSmart);
			goto IL_1c90;
		case 68:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _cricketIsIdentified);
			goto IL_1c90;
		case 69:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _taiwuInteractionCooldowns);
			goto IL_1c90;
		case 70:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _characterCustomDisplayNames);
			goto IL_1c90;
		case 71:
			ResponseProcessor.ProcessElementList_CustomType_Dynamic_Ref(operation, pResult, _animalAreaData, 139);
			goto IL_1c90;
		case 72:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, VoidValue>(operation, pResult, (IDictionary<int, VoidValue>)_handledOneShotEvents, 0);
			goto IL_1c90;
		case 73:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<HunterAnimalKeyBroken>(operation, pResult, _hunterAnimals, 0);
			goto IL_1c90;
		case 74:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _worldVersionInfo);
			goto IL_1c90;
		case 75:
			ResponseProcessor.ProcessElementList_CustomType_Dynamic_Ref(operation, pResult, _sectMainStoryEventArgBoxes, 15);
			goto IL_1c90;
		case 76:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _changeTrickBodyPart);
			goto IL_1c90;
		case 77:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _changeTrickIndex);
			goto IL_1c90;
		case 78:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _voiceWeaponInnerRatio);
			goto IL_1c90;
		case 79:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<Location>(operation, pResult, _sectXuehouBloodLightLocations, 4);
			goto IL_1c90;
		case 80:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Ref(operation, pResult, _characterAvatarSnapshot, 76);
			goto IL_1c90;
		case 81:
			ResponseProcessor.ProcessElementList_CustomType_Dynamic_Ref(operation, pResult, _brokenAreaMaterials, 90);
			goto IL_1c90;
		case 82:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<SectStoryFairyland>(operation, pResult, _sectWudangFairylandData, 12);
			goto IL_1c90;
		case 83:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _treasureMaterialFailedTimes);
			goto IL_1c90;
		case 84:
			ResponseProcessor.ProcessElementList_BasicType_Fixed_Value(operation, pResult, _sectYuanshanDemonEffectIds, 3, 8);
			goto IL_1c90;
		case 85:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_Single<NeiliAllocation>(operation, pResult, ref _taiwuMaxNeiliAllocation);
			goto IL_1c90;
		case 86:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, GameData.Utilities.ShortList>(operation, pResult, (IDictionary<int, GameData.Utilities.ShortList>)_characterMasteredCombatSkills);
			goto IL_1c90;
		case 87:
			ResponseProcessor.ProcessElementList_CustomType_Dynamic_Value<GameData.Utilities.ShortList>(operation, pResult, _masteredCombatSkillPlans, 9);
			goto IL_1c90;
		case 88:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _breakoutDifficulty);
			goto IL_1c90;
		case 89:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _readingDifficulty);
			goto IL_1c90;
		case 90:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _loopingDifficulty);
			goto IL_1c90;
		case 91:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, IntList>(operation, pResult, (IDictionary<short, IntList>)_combatSkillBreakPlateLastForceBreakoutStepsCount);
			goto IL_1c90;
		case 92:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _pregeneratedFixedEnemies);
			goto IL_1c90;
		case 93:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _autoCheckInComfortableList);
			goto IL_1c90;
		case 94:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _autoCheckInResidenceList);
			goto IL_1c90;
		case 95:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, GameData.Utilities.ShortList>(operation, pResult, (IDictionary<int, GameData.Utilities.ShortList>)_readingEventReferenceBooks);
			goto IL_1c90;
		case 96:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _merchantTypeToDebts);
			goto IL_1c90;
		case 97:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _merchantBuyBackDict);
			goto IL_1c90;
		case 98:
			ResponseProcessor.ProcessElementList_CustomType_Dynamic_Ref(operation, pResult, _merchantMaxLevelBuyBackData, 7);
			goto IL_1c90;
		case 99:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _caravanBuyBackDict);
			goto IL_1c90;
		case 100:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _firstLegendaryBookDelay);
			goto IL_1c90;
		case 101:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _legaciesBuildingTemplateIdList);
			goto IL_1c90;
		case 102:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _isDreamBack);
			goto IL_1c90;
		case 103:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _abridgedDreamBackCharacters);
			goto IL_1c90;
		case 104:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _unlockedWorkingVillagers);
			goto IL_1c90;
		case 105:
			ResponseProcessor.ProcessBinary(operation, pResult, (IBinary)(object)_dreamBackLifeRecords);
			goto IL_1c90;
		case 106:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _actionPointCurrMonth);
			goto IL_1c90;
		case 107:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _actionPointPrevMonth);
			goto IL_1c90;
		case 108:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, SByteList>(operation, pResult, (IDictionary<int, SByteList>)_advancedTeammateCommandDict);
			goto IL_1c90;
		case 109:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _lastMonthNotificationsIndex);
			goto IL_1c90;
		case 110:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _previousMonthlyNotifications);
			goto IL_1c90;
		case 111:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _actionPointPreserved);
			goto IL_1c90;
		case 112:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, GameData.Utilities.ShortList>(operation, pResult, (IDictionary<int, GameData.Utilities.ShortList>)_villageWorkQualificationImprove);
			goto IL_1c90;
		case 113:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _readInLifeSkillCombatCount);
			goto IL_1c90;
		case 114:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_Single<SectStoryHeavenlyTree>(operation, pResult, ref _sectWudangHeavenlyTree);
			goto IL_1c90;
		case 115:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Ref_List(operation, pResult, _sectWudangHeavenlyTreeList, 24);
			goto IL_1c90;
		case 116:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<Location>(operation, pResult, _sectWudangLingBaoDark, 4);
			goto IL_1c90;
		case 117:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<Location>(operation, pResult, _sectWudangLingBaoLight, 4);
			goto IL_1c90;
		case 118:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _shixiangBarbarianMasterIdList);
			goto IL_1c90;
		case 119:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<BuildingBlockKey>(operation, pResult, _legaciesBuildingList, 8);
			goto IL_1c90;
		case 120:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Ref(operation, pResult, _groupCharacterEquipmentRecord, 99);
			goto IL_1c90;
		case 121:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _sectEmeiSkillBreakBonus);
			goto IL_1c90;
		case 122:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _informationSettings);
			goto IL_1c90;
		case 123:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _sectXuannvUnlockedMusicList);
			goto IL_1c90;
		case 124:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _sectXuannvPlayerPlayMode);
			goto IL_1c90;
		case 125:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _sectXuannvPlayerMusicId);
			goto IL_1c90;
		case 126:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _sectXuannvPlayerIsEnabled);
			goto IL_1c90;
		case 127:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, GameData.Utilities.ShortList>(operation, pResult, (IDictionary<short, GameData.Utilities.ShortList>)_sectEmeiBreakBonusTemplateIds);
			goto IL_1c90;
		case 128:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _mirrorCharacters);
			goto IL_1c90;
		case 129:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_List<Location>(operation, pResult, _sectEmeiBloodLocations, 4);
			goto IL_1c90;
		case 130:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _sectEmeiExp);
			goto IL_1c90;
		case 131:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _enemyPracticeLevel);
			goto IL_1c90;
		case 132:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _characterPoisonImmunities);
			goto IL_1c90;
		case 133:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _taiwuInformationReceivedHistories);
			goto IL_1c90;
		case 134:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _sectXuannvEvaluatedMusicList);
			goto IL_1c90;
		case 135:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _combatSkillJumpThreshold);
			goto IL_1c90;
		case 136:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _dreamBackUnlockStates);
			goto IL_1c90;
		case 137:
			ResponseProcessor.ProcessBinary(operation, pResult, (IBinary)(object)_dreamBackArchiveBackup);
			goto IL_1c90;
		case 138:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _overwrittenTaiwu);
			goto IL_1c90;
		case 139:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Value_List<DreamBackLocationData>(operation, pResult, _dreamBackLocationData, -1);
			goto IL_1c90;
		case 140:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _dreamBackGenealogyObsoleted);
			goto IL_1c90;
		case 141:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _conflictCombatSkills);
			goto IL_1c90;
		case 142:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, ShortPair>(operation, pResult, (IDictionary<int, ShortPair>)_characterRevealedHobbies, 4);
			goto IL_1c90;
		case 143:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _finalDateBeforeDreamBack);
			goto IL_1c90;
		case 144:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _dreamBackTaiwu);
			goto IL_1c90;
		case 145:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _conflictEffectWrappers);
			goto IL_1c90;
		case 146:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _dreamBackGlobalEventArgBox);
			goto IL_1c90;
		case 147:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _dreamBackDlcEventArgBox);
			goto IL_1c90;
		case 148:
			ResponseProcessor.ProcessElementList_CustomType_Dynamic_Ref(operation, pResult, _dreamBackSectMainStoryEventArgBox, 15);
			goto IL_1c90;
		case 149:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Value_Single<CharacterSet>(operation, pResult, ref _dejaVuEventCharacters);
			goto IL_1c90;
		case 150:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, CharacterPropertyBonus>(operation, pResult, (IDictionary<short, CharacterPropertyBonus>)_taiwuPropertyPermanentBonuses);
			goto IL_1c90;
		case 151:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _selectedUniqueLegacies);
			goto IL_1c90;
		case 152:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, IntPair>(operation, pResult, (IDictionary<int, IntPair>)_taiwuAddOneWayRelationCoolDown, 8);
			goto IL_1c90;
		case 153:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _carrierTamePoint);
			goto IL_1c90;
		case 154:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _dreamBackPreviousTaiwuCharIds);
			goto IL_1c90;
		case 155:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, Location>(operation, pResult, (IDictionary<int, Location>)_fleeCarrierLocation, 4);
			goto IL_1c90;
		case 156:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _favorabilityChange);
			goto IL_1c90;
		case 157:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _canResetWorldSettings);
			goto IL_1c90;
		case 158:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _settlementExtraData);
			goto IL_1c90;
		case 159:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _dlcArgBoxes);
			goto IL_1c90;
		case 160:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _jiaoPools);
			goto IL_1c90;
		case 161:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _jiaos);
			goto IL_1c90;
		case 162:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _childrenOfLoong);
			goto IL_1c90;
		case 163:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _fiveLoongDict);
			goto IL_1c90;
		case 164:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _jiaoPoolRecords);
			goto IL_1c90;
		case 165:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _dlcEntries);
			goto IL_1c90;
		case 167:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _choosyRemainUpgradeRateDict);
			goto IL_1c90;
		case 168:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _choosyRemainUpgradeCountDict);
			goto IL_1c90;
		case 169:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _buildingMoneyPrestigeSuccessRateCompensation);
			goto IL_1c90;
		case 170:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<short, VoidValue>(operation, pResult, (IDictionary<short, VoidValue>)_ownedClothingSet, 0);
			goto IL_1c90;
		case 171:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _clothingDisplayModifications);
			goto IL_1c90;
		case 172:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _disableEnemyAi);
			goto IL_1c90;
		case 173:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _enemyUnyieldingFallen);
			goto IL_1c90;
		case 174:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _lastTargetDistance);
			goto IL_1c90;
		case 175:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_Single<WeaveClothingDisplaySetting>(operation, pResult, ref _weaveClothingDisplaySetting);
			goto IL_1c90;
		case 176:
			ResponseProcessor.ProcessSingleValue_CustomType_Fixed_Value_Single<ItemKey>(operation, pResult, ref _emptyToolKey);
			goto IL_1c90;
		case 177:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _sectWuxianWugJugPoisons);
			goto IL_1c90;
		case 179:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _characterPrioritizedActionCooldowns);
			goto IL_1c90;
		case 180:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _cricketCollectionDataList);
			goto IL_1c90;
		case 181:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _recruitCharacterDataLists);
			goto IL_1c90;
		case 182:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _sectJingangPossessionCharacters);
			goto IL_1c90;
		case 183:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _mixedPoisonEffectTriggerDates);
			goto IL_1c90;
		case 184:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _cricketExtraAge);
			goto IL_1c90;
		case 185:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Value_List<IntList>(operation, pResult, _enemyNestInitializationDates, -1);
			goto IL_1c90;
		case 186:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _secretInformationOccurrence);
			goto IL_1c90;
		case 187:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _secretInformationHandleMap);
			goto IL_1c90;
		case 188:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, IntList>(operation, pResult, (IDictionary<int, IntList>)_secretInformationCharacterOwn);
			goto IL_1c90;
		case 189:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _secretInformationSecretInformationCharacterExtraInfoCollectionMap);
			goto IL_1c90;
		case 190:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _secretInformationCharacterRelationshipSnapshotCollectionMap);
			goto IL_1c90;
		case 191:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _secretInformationShopCharacterData);
			goto IL_1c90;
		case 192:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _changeTrickIsFlaw);
			goto IL_1c90;
		case 193:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _nextAnimalId);
			goto IL_1c90;
		case 194:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _animals);
			goto IL_1c90;
		case 195:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _settlementTreasuries);
			goto IL_1c90;
		case 196:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _prevMartialArtTournamentWinners);
			goto IL_1c90;
		case 197:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<ItemKey, IntList>(operation, pResult, (IDictionary<ItemKey, IntList>)_bookStrategiesExpireTime);
			goto IL_1c90;
		case 198:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _unlockedCombatSkillPlanCount);
			goto IL_1c90;
		case 199:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _activeLoopingProgress);
			goto IL_1c90;
		case 200:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _activeReadingProgress);
			goto IL_1c90;
		case 201:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, IntList>(operation, pResult, (IDictionary<int, IntList>)_characterExtraNeiliAllocationProgress);
			goto IL_1c90;
		case 202:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _qiArtStrategyList);
			goto IL_1c90;
		case 203:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _qiArtStrategyExpireTimeList);
			goto IL_1c90;
		case 204:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _legacyPointTimesDict);
			goto IL_1c90;
		case 205:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _sectRanshanThreeCorpses);
			goto IL_1c90;
		case 206:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _sectBaihuaLifeLinkData);
			goto IL_1c90;
		case 207:
			ResponseProcessor.ProcessBinary(operation, pResult, (IBinary)(object)_samsaraPlatformRecordCollection);
			goto IL_1c90;
		case 208:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, SByteList>(operation, pResult, (IDictionary<int, SByteList>)_availableReadingStrategyMap);
			goto IL_1c90;
		case 209:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _referenceSkillList);
			goto IL_1c90;
		case 210:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, SByteList>(operation, pResult, (IDictionary<short, SByteList>)_availableQiArtStrategyMap);
			goto IL_1c90;
		case 211:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _loopingEventSkillIdList);
			goto IL_1c90;
		case 212:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, SByteList>(operation, pResult, (IDictionary<short, SByteList>)_qiArtStrategyMap);
			goto IL_1c90;
		case 213:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, IntList>(operation, pResult, (IDictionary<short, IntList>)_qiArtStrategyExpireTimeMap);
			goto IL_1c90;
		case 214:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _loopInLifeSkillCombatCount);
			goto IL_1c90;
		case 215:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _loopInCombatCount);
			goto IL_1c90;
		case 216:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _settlementTreasuryRecordCollections);
			goto IL_1c90;
		case 217:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _monthlyNotificationSortingGroups);
			goto IL_1c90;
		case 218:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _followingNpcList);
			goto IL_1c90;
		case 219:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, SectEmeiBreakBonusData>(operation, pResult, (IDictionary<short, SectEmeiBreakBonusData>)_sectEmeiBreakBonusData);
			goto IL_1c90;
		case 220:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _followingNickNameMap);
			goto IL_1c90;
		case 221:
			ResponseProcessor.ProcessElementList_CustomType_Dynamic_Ref(operation, pResult, _merchantOverFavorDataArray, 7);
			goto IL_1c90;
		case 222:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _changedTeammateCharIds);
			goto IL_1c90;
		case 223:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _settlementPrisons);
			goto IL_1c90;
		case 224:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, IntList>(operation, pResult, (IDictionary<short, IntList>)_sectFulongOrgMemberChickens);
			goto IL_1c90;
		case 225:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _sectFulongInFlameAreas);
			goto IL_1c90;
		case 226:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<int, IntPair>(operation, pResult, (IDictionary<int, IntPair>)_sectFulongOutLaws, 8);
			goto IL_1c90;
		case 227:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _settlementPrisonRecordCollections);
			goto IL_1c90;
		case 228:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _villagerRoles);
			goto IL_1c90;
		case 229:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _sectFulongLoseFeatherChickens);
			goto IL_1c90;
		case 230:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _stockStorage);
			goto IL_1c90;
		case 231:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _craftStorage);
			goto IL_1c90;
		case 232:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _medicineStorage);
			goto IL_1c90;
		case 233:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _fullPoisonEffects);
			goto IL_1c90;
		case 234:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _foodStorage);
			goto IL_1c90;
		case 235:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _taiwuVillageStoragesRecordCollection);
			goto IL_1c90;
		case 236:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _itemPriceFluctuation);
			goto IL_1c90;
		case 237:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _villagerRoleNickNameMap);
			goto IL_1c90;
		case 238:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _villagerRoleMaxUnlockCounts);
			goto IL_1c90;
		case 239:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _buildingResourceOutputSettings);
			goto IL_1c90;
		case 240:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _blockRecoveryUnlockDates);
			goto IL_1c90;
		case 241:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _taiwuVillageStorageSettingDict);
			goto IL_1c90;
		case 242:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _characterConsummateLevelProgresses);
			goto IL_1c90;
		case 243:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, IntList>(operation, pResult, (IDictionary<short, IntList>)_taiwuWantedFirstInteractOrganizationMember);
			goto IL_1c90;
		case 244:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _areaSpiritualDebt);
			goto IL_1c90;
		case 245:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _taiwuProfessions);
			goto IL_1c90;
		case 246:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _taiwuProfessionSkillSlots);
			goto IL_1c90;
		case 247:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, CharacterSet>(operation, pResult, (IDictionary<int, CharacterSet>)_characterSpecialGroup);
			goto IL_1c90;
		case 248:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _cricketPlaceExtraData);
			goto IL_1c90;
		case 249:
			ResponseProcessor.ProcessElementList_CustomType_Dynamic_Ref(operation, pResult, _branchMerchantData, 7);
			goto IL_1c90;
		case 250:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _characterCombatSkillConfigurations);
			goto IL_1c90;
		case 251:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _characterEquippedCombatSkills);
			goto IL_1c90;
		case 252:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _interactedCharacterList);
			goto IL_1c90;
		case 253:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _friendOrFamilyInteractionCooldownDict);
			goto IL_1c90;
		case 254:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _sectZhujianGearMates);
			goto IL_1c90;
		case 255:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _professionUpgrade);
			goto IL_1c90;
		case 256:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _followMovementCharacters);
			goto IL_1c90;
		case 257:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<IntPair, VoidValue>(operation, pResult, (IDictionary<IntPair, VoidValue>)_triggeredAddSeniorityPoints, 0);
			goto IL_1c90;
		case 258:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _taiwuGiftItems);
			goto IL_1c90;
		case 259:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _sectZhujianThiefList);
			goto IL_1c90;
		case 260:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _characterProfessions);
			goto IL_1c90;
		case 261:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _caravanExtraDataDict);
			goto IL_1c90;
		case 262:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _protectCaravanTime);
			goto IL_1c90;
		case 263:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _sectZhujianAreaMerchantTypeDict);
			goto IL_1c90;
		case 264:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _merchantExtraGoods);
			goto IL_1c90;
		case 265:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _exorcismEnabled);
			goto IL_1c90;
		case 266:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _sectStorySpecialMerchant);
			goto IL_1c90;
		case 267:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _isExtraProfessionSkillUnlocked);
			goto IL_1c90;
		case 268:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _isDirectTraveling);
			goto IL_1c90;
		case 269:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _kidnappedTravelData);
			goto IL_1c90;
		case 270:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _villagerLastInfluencePowerGrade);
			goto IL_1c90;
		case 271:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _villagerTreasuryNeeds);
			goto IL_1c90;
		case 272:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Ref(operation, pResult, _characterAvatarExtraDataDict, 2);
			goto IL_1c90;
		case 273:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _lootYield);
			goto IL_1c90;
		case 274:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, SerializableList<PunishmentSeverityCustomizeData>>(operation, pResult, (IDictionary<short, SerializableList<PunishmentSeverityCustomizeData>>)_cityPunishmentSeverityCustomizeDict);
			goto IL_1c90;
		case 275:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<CombatSkillKey, SerializableList<SkillBreakPlateBonus>>(operation, pResult, (IDictionary<CombatSkillKey, SerializableList<SkillBreakPlateBonus>>)_characterSkillBreakBonuses);
			goto IL_1c90;
		case 276:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _combatSkillProficiencies);
			goto IL_1c90;
		case 277:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _skillBreakPlates);
			goto IL_1c90;
		case 278:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _combatSkillBreakPlateList);
			goto IL_1c90;
		case 279:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _sectShaolinDemonSlayerData);
			goto IL_1c90;
		case 280:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref KongsangCharacterFeaturePoisonedProb);
			goto IL_1c90;
		case 281:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _pickupDict);
			goto IL_1c90;
		case 282:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _taiwuSelectedDebateCardType);
			goto IL_1c90;
		case 283:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _villagerRoleRecords);
			goto IL_1c90;
		case 284:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _buildingBlockDataEx);
			goto IL_1c90;
		case 285:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _villagerRoleAutoActionStates);
			goto IL_1c90;
		case 286:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Array(operation, pResult, _buildingArrangementSettingPresetData, 9);
			goto IL_1c90;
		case 287:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _buildingArtisanOrders);
			goto IL_1c90;
		case 288:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _taiwuVillagerPotentialData);
			goto IL_1c90;
		case 289:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _npcArtisanOrders);
			goto IL_1c90;
		case 290:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, GameData.Utilities.ShortList>(operation, pResult, (IDictionary<int, GameData.Utilities.ShortList>)_shopVillagerQualificationImprove);
			goto IL_1c90;
		case 291:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _bigEvents);
			goto IL_1c90;
		case 292:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _hasGetShuiHuoYingQiGongSkillBookByArchiveFix);
			goto IL_1c90;
		case 293:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _farmerAutoCollectStorageType);
			goto IL_1c90;
		case 294:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _woodenXiangshuAvatarSelectedFeatures);
			goto IL_1c90;
		case 295:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<Location, SerializableList<BuildingAreaEffectProgress>>(operation, pResult, (IDictionary<Location, SerializableList<BuildingAreaEffectProgress>>)_buildingAreaEffectProgresses);
			goto IL_1c90;
		case 296:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<sbyte, CharacterSet>(operation, pResult, (IDictionary<sbyte, CharacterSet>)_previousLegendaryBookOwners);
			goto IL_1c90;
		case 297:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _villagerSkillLegacyPointDict);
			goto IL_1c90;
		case 298:
			ResponseProcessor.ProcessBinary(operation, pResult, (IBinary)(object)_killedByYufuCharactersBinary);
			goto IL_1c90;
		case 299:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _dyingCharacters);
			goto IL_1c90;
		case 300:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Fixed_Value<short, VoidValue>(operation, pResult, (IDictionary<short, VoidValue>)_proficiencyEnoughSkills, 0);
			goto IL_1c90;
		case 301:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _sectYuanshanThreeVitals);
			goto IL_1c90;
		case 302:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _dreamBackGenealogy);
			goto IL_1c90;
		case 303:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _resourceBlockExtraData);
			goto IL_1c90;
		case 304:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_List(operation, pResult, _unlockedFeastTypes);
			goto IL_1c90;
		case 305:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _feasts);
			goto IL_1c90;
		case 306:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<short, SerializableList<SettlementMemberFeature>>(operation, pResult, (IDictionary<short, SerializableList<SettlementMemberFeature>>)_settlementMemberFeatures);
			goto IL_1c90;
		case 307:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Ref(operation, pResult, _settlementLayeredTreasuries);
			goto IL_1c90;
		case 308:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_Single(operation, pResult, _buildingDefaultStoreLocation);
			goto IL_1c90;
		case 309:
			ResponseProcessor.ProcessSingleValueCollection_BasicType_Fixed_Value(operation, pResult, _taiwuVillageVowOrgTemplateCrossArchiveDict);
			goto IL_1c90;
		case 310:
			ResponseProcessor.ProcessSingleValue_CustomType_Dynamic_Ref_List(operation, pResult, _cricketCombatPlans);
			goto IL_1c90;
		case 311:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _lastCricketPlanIndex);
			goto IL_1c90;
		case 312:
			ResponseProcessor.ProcessSingleValueCollection_CustomType_Dynamic_Value<int, DarkAshCounterData>(operation, pResult, (IDictionary<int, DarkAshCounterData>)_characterDarkAshCounterData);
			goto IL_1c90;
		case 313:
			ResponseProcessor.ProcessSingleValue_BasicType_Fixed_Value_Single(operation, pResult, ref _fuyuFaith);
			goto IL_1c90;
		default:
			throw new Exception($"Unsupported dataId {operation.DataId}");
		case 166:
		case 178:
			{
				throw new Exception($"Cannot process archive response of non-archive data {operation.DataId}");
			}
			IL_1c90:
			if (_pendingLoadingOperationIds == null)
			{
				break;
			}
			num = _pendingLoadingOperationIds.Peek();
			if (num == operation.Id)
			{
				_pendingLoadingOperationIds.Dequeue();
				if (_pendingLoadingOperationIds.Count <= 0)
				{
					_pendingLoadingOperationIds = null;
					InitializeInternalDataOfCollections();
					OnLoadedArchiveData();
					DomainManager.Global.CompleteLoading(19);
				}
			}
			break;
		}
	}

	private void InitializeInternalDataOfCollections()
	{
	}
}
